/*! For license information please see main-es2015.77741ac10cd929829d1e.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+i+Z":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n("lEC+");class r{}},"/6Yf":function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var a=n("qOnz");n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return l}));var s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),l=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new a.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var o=r(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var s=i(a.value,2),l=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});l.resolve(c)}catch(h){}}}catch(d){e={error:d}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(o(o([],i(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),i(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{s(n.next(t))}catch(e){i(e)}}function a(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,a)}s((n=n.apply(t,[])).next())}));var t,e,n},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var u=r(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var h=i(c.value,2),d=h[1];s===this.normalizeInstanceIdentifier(h[0])&&d.resolve(l)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return l},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=r(o),s=a.next();!s.done;s=a.next()){var l=s.value;try{l(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new l(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},1:function(t,e){},"1uat":function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("MlIO"),function(){var t=r,e=t.lib.Hasher,n=t.x64,i=n.Word,o=n.WordArray,a=t.algo;function s(){return i.create.apply(i,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var t=0;t<80;t++)u[t]=s()}();var c=a.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],h=n[6],d=n[7],f=r.high,p=r.low,g=i.high,m=i.low,v=o.high,b=o.low,y=a.high,w=a.low,_=s.high,C=s.low,k=c.high,E=c.low,I=h.high,S=h.low,T=d.high,x=d.low,A=f,O=p,N=g,P=m,R=v,D=b,M=y,j=w,L=_,B=C,F=k,V=E,U=I,q=S,z=T,H=x,G=0;G<80;G++){var W,K,$=u[G];if(G<16)K=$.high=0|t[e+2*G],W=$.low=0|t[e+2*G+1];else{var J=u[G-15],Q=J.high,Y=J.low,X=(Y>>>1|Q<<31)^(Y>>>8|Q<<24)^(Y>>>7|Q<<25),Z=u[G-2],tt=Z.high,et=Z.low,nt=(et>>>19|tt<<13)^(et<<3|tt>>>29)^(et>>>6|tt<<26),rt=u[G-7],it=u[G-16],ot=it.low;$.high=K=(K=(K=((Q>>>1|Y<<31)^(Q>>>8|Y<<24)^Q>>>7)+rt.high+((W=X+rt.low)>>>0<X>>>0?1:0))+((tt>>>19|et<<13)^(tt<<3|et>>>29)^tt>>>6)+((W+=nt)>>>0<nt>>>0?1:0))+it.high+((W+=ot)>>>0<ot>>>0?1:0),$.low=W}var at,st=L&F^~L&U,lt=B&V^~B&q,ut=A&N^A&R^N&R,ct=(O>>>28|A<<4)^(O<<30|A>>>2)^(O<<25|A>>>7),ht=l[G],dt=ht.low,ft=z+((L>>>14|B<<18)^(L>>>18|B<<14)^(L<<23|B>>>9))+((at=H+((B>>>14|L<<18)^(B>>>18|L<<14)^(B<<23|L>>>9)))>>>0<H>>>0?1:0),pt=ct+(O&P^O&D^P&D);z=U,H=q,U=F,q=V,F=L,V=B,L=M+(ft=(ft=(ft=ft+st+((at+=lt)>>>0<lt>>>0?1:0))+ht.high+((at+=dt)>>>0<dt>>>0?1:0))+K+((at+=W)>>>0<W>>>0?1:0))+((B=j+at|0)>>>0<j>>>0?1:0)|0,M=R,j=D,R=N,D=P,N=A,P=O,A=ft+(((A>>>28|O<<4)^(A<<30|O>>>2)^(A<<25|O>>>7))+ut+(pt>>>0<ct>>>0?1:0))+((O=at+pt|0)>>>0<at>>>0?1:0)|0}p=r.low=p+O,r.high=f+A+(p>>>0<O>>>0?1:0),m=i.low=m+P,i.high=g+N+(m>>>0<P>>>0?1:0),b=o.low=b+D,o.high=v+R+(b>>>0<D>>>0?1:0),w=a.low=w+j,a.high=y+M+(w>>>0<j>>>0?1:0),C=s.low=C+B,s.high=_+L+(C>>>0<B>>>0?1:0),E=c.low=E+V,c.high=k+F+(E>>>0<V>>>0?1:0),S=h.low=S+q,h.high=I+U+(S>>>0<q>>>0?1:0),x=d.low=x+H,d.high=T+z+(x>>>0<H>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(c),t.HmacSHA512=e._createHmacHelper(c)}(),r.SHA512)},"2+LC":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(){this.nombre="",this.url="",this.tipo=""}}},"24uk":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n("lAvF"),n("eqlp");class r{}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp");class o extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"2zau":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{}},"35Wc":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("AOe3"),i=n("SHVS"),o=n("PSD3"),a=n.n(o);class s{constructor(t,e,n){this.usuariosService=t,this.loginService=e,this.router=n,this.usuarios=[],this.usuario=new i.a,this.roles=r.a.tipoUsuario}ngOnInit(){this.getUsuarios(),document.querySelector("#registrarse").addEventListener("submit",t=>{t.preventDefault();const e=document.querySelector("#email-registro").value,n=document.querySelector("#password-registro").value,r=document.querySelector("#password-registro2").value,i=document.querySelector("#rol-registro").value;n==r?(this.loginService.registrarUsuario(e,n,i),this.getUsuarios()):a.a.fire({title:"Error",text:"Los password no coinciden",icon:"error"})})}getUsuarios(){this.usuariosService.getUsuarios().subscribe(t=>{console.log("Respuesta del service",t),this.usuarios=this.usuariosService.mapearUsuarios(t),console.log(this.usuarios)})}}},"3IDC":function(t,e,n){"use strict";var r=n("8Y7J"),i=n("7GFr"),o=n("aoek"),a=n("L2hg"),s=n("SVse"),l=n("s7LF"),u=n("QxgN"),c=n("lEC+"),h=n("ONxg");class d{constructor(){this.deleteFileEvent=new r.m}ngOnInit(){console.log(this.archivo)}eliminarArchivo(){this.deleteFileEvent.emit(this.archivo)}}var f=r.nb({encapsulation:2,styles:[],data:{}});function p(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,5,"div",[["style","width: max-content;"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(t()(),r.Hb(2,null,["",""])),(t()(),r.pb(3,0,null,null,2,"button",[["class","mx-4"],["style","background-color: red;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.eliminarArchivo()&&r),r}),null,null)),(t()(),r.pb(4,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Quitar"]))],null,(function(t,e){var n=e.component;t(e,1,0,r.tb(1,"",n.archivo.url,"")),t(e,2,0,n.archivo.nombre)}))}var g=n("Zdl6"),m=n("DfyZ"),v=r.nb({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{background-color:transparent}"]],data:{}});function b(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","col-2 mx-1 my-1"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"app-archivo",[],null,[[null,"deleteFileEvent"]],(function(t,e,n){var r=!0;return"deleteFileEvent"===e&&(r=!1!==t.component.deseleccionarArchivo(n)&&r),r}),p,f)),r.ob(2,114688,null,0,d,[],{archivo:[0,"archivo"]},{deleteFileEvent:"deleteFileEvent"})],(function(t,e){t(e,2,0,e.context.$implicit)}),null)}function y(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,8,"body",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Cargar archivos"])),(t()(),r.pb(4,0,null,null,1,"form",[["action",""],["class","my-2"],["id","uploader"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,0,"input",[["id","file"],["multiple","true"],["name","archivos[]"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.seleccionarArchivos(n)&&r),r}),null,null)),(t()(),r.pb(6,0,null,null,2,"div",[["class","container-fluid"],["id","archivosSeleccionados"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,b)),r.ob(8,278528,null,0,s.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,8,0,e.component.previewArchivosSeleccionados)}),null)}var w=n("iInd"),_=n("hqm0"),C=n("z58d"),k=n("LYig");class E extends k.a{constructor(){super(...arguments),this.controlType="checkBoxes"}}class I extends k.a{constructor(){super(...arguments),this.controlType="dropdown"}}class S extends k.a{constructor(){super(...arguments),this.controlType="textarea"}}class T extends k.a{constructor(){super(...arguments),this.controlType="textbox"}}var x=n("AOe3");let A=(()=>{class t{getArrayArtefacto(){return[new I({key:"tipoArtefacto",label:"Tipo de artefacto",order:1,options:x.a.tipoArtefacto}),new I({key:"propositoArtefacto",label:"Prop\xf3sito",options:[{key:"proposito",value:"proposito"}],order:2}),new T({key:"nombre",label:"Nombre Artefacto",value:"Artefacto",required:!0,order:3}),new S({key:"descripcion",label:"Descripci\xf3n",value:"Informaci\xf3n sobre el artefacto",order:4}),new S({key:"funcionamiento",label:"Funcionamiento",value:"Funcionamiento combinado del artefacto",order:5}),new I({key:"fabricacion",label:"Fabricado en",order:6,options:x.a.fabricadoEn}),new I({key:"color",label:"Color",order:7,options:x.a.colores}),new I({key:"forma",label:"Forma",order:8,options:x.a.formas})].sort((t,e)=>t.order-e.order)}getArrayForma(t){let e=[];return e="cilindro"==t?this.getArrayFormaCilindro():"esfera"==t?this.getArrayFormaEsfera():this.getArrayFormaCubo(),e.sort((t,e)=>t.order-e.order)}getArrayFormaEsfera(){return[new T({key:"diametroCalibre",label:"Diametro/Calibre (mm)",type:"number",order:5})]}getArrayFormaCilindro(){return[new T({key:"diametroCalibre",label:"Diametro/Calibre (mm)",type:"number",order:5}),new T({key:"altura",label:"Altura (mm)",type:"number",order:5})]}getArrayFormaCubo(){return[new T({key:"longitud",label:"Longitud (mm)",type:"number",order:5}),new T({key:"altura",label:"Altura (mm)",type:"number",order:5}),new T({key:"fondo",label:"Fondo (mm)",type:"number",order:5})]}getArrayEspoleta(){return[new I({key:"sistemaIniciacion",label:"Sistema de Iniciacion",order:1,options:x.a.sistemaIniciacion})].sort((t,e)=>t.order-e.order)}getArrayMina(){return[new I({key:"materialEnvuelta",label:"Material de la Envuelta",order:1,options:x.a.materialEnvuelta}),new I({key:"situacionEspoleta",label:"Situacion de la Espoleta",order:2,options:x.a.situacionEspoleta})].sort((t,e)=>t.order-e.order)}getArrayMunicion(){return[new T({key:"longitudEspoletado",label:"Longitud con espoleta (mm)",type:"number",order:1}),new E({key:"bandasPintura",label:"Bandas de Pintura",type:"text",order:2,options:x.a.colores})].sort((t,e)=>t.order-e.order)}getArrayProyectil(){return[new I({key:"tipoCulote",label:"Tipo de culote",order:1,options:x.a.tipoCulote})].sort((t,e)=>t.order-e.order)}getArrayCohete(){return[new I({key:"colorBandaMotor",label:"Color Banda Motor",order:1,options:x.a.colores})].sort((t,e)=>t.order-e.order)}getArrayMisil(){return[new I({key:"sistemaGuia",label:"Sistema de Guia",order:1,options:x.a.sistemaGuia})].sort((t,e)=>t.order-e.order)}getArrayBomba(){return[new T({key:"distanciaAnillas",label:"Distancia entre anillas (mm)",type:"number",order:1}),new I({key:"bandasPintura",label:"Bandas de Pintura",order:2,options:x.a.colores}),new T({key:"tipoEstabilizador",label:"Tipo de estabilizador",value:"Tipo estabilizador",order:3}),new T({key:"venterolEnEstabilizador",label:"Venterol en el estabilizador",type:"checkbox",order:4,options:x.a.colores})].sort((t,e)=>t.order-e.order)}getArrayGranada(){return[new I({key:"medioLanzamiento",label:"Medio de Lanzamiento",order:1,options:x.a.mediosLanzamiento})].sort((t,e)=>t.order-e.order)}}return t.ngInjectableDef=r.Nb({factory:function(){return new t},token:t,providedIn:"root"}),t})();n.d(e,"a",(function(){return W}));var O=r.nb({encapsulation:2,styles:[],data:{}});function N(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h])],(function(t,e){var n=e.component;t(e,1,0,r.Ib(e,1,0,r.Bb(e,2).transform(n.elementosFormaEsfera$)))}),null)}function P(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h])],(function(t,e){var n=e.component;t(e,1,0,r.Ib(e,1,0,r.Bb(e,2).transform(n.elementosFormaCilindro$)))}),null)}function R(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h])],(function(t,e){var n=e.component;t(e,1,0,r.Ib(e,1,0,r.Bb(e,2).transform(n.elementosFormaCubo$)))}),null)}function D(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,8,"div",[["class","shadow p-3 mb-5 bg-secondary bg-gradient rounded"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"h4",[["class","text-center rounded-pill bg-light mb-4 p-2"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Dimensiones"])),(t()(),r.eb(16777216,null,null,1,null,N)),r.ob(4,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,P)),r.ob(6,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,R)),r.ob(8,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,4,0,n.flagForma.esfera),t(e,6,0,n.flagForma.cilindro),t(e,8,0,n.flagForma.cubo)}),null)}function M(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h])],(function(t,e){var n=e.component;t(e,1,0,r.Ib(e,1,0,r.Bb(e,2).transform(n.elementosFormaEspoleta$)))}),null)}function j(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h])],(function(t,e){var n=e.component;t(e,1,0,r.Ib(e,1,0,r.Bb(e,2).transform(n.elementosFormaMina$)))}),null)}function L(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h])],(function(t,e){var n=e.component;t(e,1,0,r.Ib(e,1,0,r.Bb(e,2).transform(n.elementosFormaMunicion$)))}),null)}function B(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h])],(function(t,e){var n=e.component;t(e,1,0,r.Ib(e,1,0,r.Bb(e,2).transform(n.elementosFormaProyectil$)))}),null)}function F(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h])],(function(t,e){var n=e.component;t(e,1,0,r.Ib(e,1,0,r.Bb(e,2).transform(n.elementosFormaCohete$)))}),null)}function V(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h])],(function(t,e){var n=e.component;t(e,1,0,r.Ib(e,1,0,r.Bb(e,2).transform(n.elementosFormaMisil$)))}),null)}function U(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h])],(function(t,e){var n=e.component;t(e,1,0,r.Ib(e,1,0,r.Bb(e,2).transform(n.elementosFormaBomba$)))}),null)}function q(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h])],(function(t,e){var n=e.component;t(e,1,0,r.Ib(e,1,0,r.Bb(e,2).transform(n.elementosFormaGranada$)))}),null)}function z(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,21,"div",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,D)),r.ob(2,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(3,0,null,null,18,"div",[["class","shadow p-3 mb-5 bg-secondary bg-gradient rounded"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,1,"h4",[["class","text-center rounded-pill bg-light mb-4 p-2"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,[" Par\xe1metros Espec\xedficos "])),(t()(),r.eb(16777216,null,null,1,null,M)),r.ob(7,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,j)),r.ob(9,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,L)),r.ob(11,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,B)),r.ob(13,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,F)),r.ob(15,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,V)),r.ob(17,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,U)),r.ob(19,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,q)),r.ob(21,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.artefacto.forma),t(e,7,0,n.flagTipo.espoleta),t(e,9,0,n.flagTipo.mina),t(e,11,0,n.flagTipo.municion),t(e,13,0,n.flagTipo.proyectil),t(e,15,0,n.flagTipo.cohete),t(e,17,0,n.flagTipo.misil),t(e,19,0,n.flagTipo.bomba),t(e,21,0,n.flagTipo.granada)}),null)}function H(t){return r.Jb(0,[r.Fb(402653184,1,{hijo:0}),r.Fb(402653184,2,{hijoArchivo:0}),(t()(),r.pb(2,0,null,null,29,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Proponer un nuevo artefacto"])),(t()(),r.pb(5,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["En esta secci\xf3n puede proponerse una nueva ficha. Al guardarla, por motivos de INFOSEC, quedar\xe1 pendiente de aprobaci\xf3n por parte del administrador. Cuando sea aprobada aparecer\xe1 en el buscador."])),(t()(),r.pb(7,0,null,null,5,"div",[["class","shadow p-3 mb-5 bg-secondary bg-gradient rounded"]],null,null,null,null,null)),(t()(),r.pb(8,0,null,null,1,"h4",[["class","text-center rounded-pill bg-light mb-4 p-2"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,[" Par\xe1metros Comunes "])),(t()(),r.pb(10,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(11,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h]),(t()(),r.eb(16777216,null,null,1,null,z)),r.ob(14,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(15,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(16,0,null,null,15,"div",[["class","row fluid shadow p-3 mb-5 bg-secondary bg-gradient rounded"]],null,null,null,null,null)),(t()(),r.pb(17,0,null,null,1,"h4",[["class","text-center rounded-pill bg-light mb-4 p-2"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,[" Im\xe1genes y archivos "])),(t()(),r.pb(19,0,null,null,12,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Bb(t,21).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Bb(t,21).onReset()&&i),i}),null,null)),r.ob(20,16384,null,0,l.A,[],null,null),r.ob(21,4210688,null,0,l.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,l.c,null,[l.o]),r.ob(23,16384,null,0,l.n,[[4,l.c]],null,null),(t()(),r.pb(24,0,null,null,1,"app-fotografias",[["id","fotografias"]],[[8,"id",0]],null,null,u.c,u.b)),r.ob(25,114688,[[1,4]],0,c.a,[h.a],null,null),(t()(),r.pb(26,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(27,0,null,null,1,"app-archivos",[],null,null,null,y,v)),r.ob(28,114688,[[2,4]],0,g.a,[m.a],null,null),(t()(),r.pb(29,0,null,null,2,"div",[["class","d-flex justify-content-center"],["routerLink","../"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Bb(t,30).onClick()&&i),i}),null,null)),r.ob(30,16384,null,0,w.l,[w.k,w.a,[8,null],r.B,r.k],{routerLink:[0,"routerLink"]},null),(t()(),r.pb(31,0,null,null,0,"input",[["class","btn btn-success"],["type","submit"],["value","GUARDAR"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.salvarArtefacto()&&r),r}),null,null))],(function(t,e){var n=e.component;t(e,11,0,r.Ib(e,11,0,r.Bb(e,12).transform(n.elementosArtefacto$))),t(e,14,0,n.artefacto),t(e,25,0),t(e,28,0),t(e,30,0,"../")}),(function(t,e){var n=e.component;t(e,19,0,r.Bb(e,23).ngClassUntouched,r.Bb(e,23).ngClassTouched,r.Bb(e,23).ngClassPristine,r.Bb(e,23).ngClassDirty,r.Bb(e,23).ngClassValid,r.Bb(e,23).ngClassInvalid,r.Bb(e,23).ngClassPending),t(e,24,0,n.id)}))}function G(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-formulario-ficha",[],null,null,null,H,O)),r.ob(1,114688,null,0,_.a,[C.a,A,w.a],null,null)],(function(t,e){t(e,1,0)}),null)}var W=r.lb("app-formulario-ficha",_.a,G,{},{},[])},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"3mVj":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(t){this.fichaVIPService=t,this.fichasVIP=[]}ngOnInit(){this.getFichasVIP()}getFichasVIP(){this.fichaVIPService.getFichasVIP().subscribe(t=>{this.fichasVIP=this.fichaVIPService.extraerFichasVIP(t)})}eliminarFichaVIP(t){console.log("eliminando "+t),this.fichaVIPService.deleteFichaVIP(t).subscribe();let e=[];this.fichasVIP.forEach(n=>{n.id!=t&&e.push(n)}),this.fichasVIP=e}}},"3mnW":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("LRne"),i=n("LYig"),o=n("AOe3");const a=[{key:"nombre",controlType:"textbox"},{key:"descripcion",controlType:"textarea"},{key:"funcionamiento",controlType:"textarea"},{key:"forma",controlType:"dropdown",options:o.a.formas},{key:"diametroCalibre",controlType:"textbox",type:"number"},{key:"longitud",controlType:"textbox",type:"number"},{key:"altura",controlType:"textbox",type:"number"},{key:"fondo",controlType:"textbox",type:"number"},{key:"color",controlType:"dropdown",options:o.a.colores},{key:"fabricacion",controlType:"dropdown",options:o.a.fabricadoEn},{key:"tipoArtefacto",controlType:"dropdown",options:o.a.tipoArtefacto},{key:"propositoArtefacto",controlType:"dropdown"},{key:"sistemaIniciacion",controlType:"dropdown",options:o.a.sistemaIniciacion},{key:"materialEnvuelta",controlType:"dropdown",options:o.a.materialEnvuelta},{key:"situacionEspoleta",controlType:"dropdown",options:o.a.situacionEspoleta},{key:"longitudEspoletado",controlType:"textbox",type:"number"},{key:"bandasPintura",controlType:"checkBoxes",options:o.a.colores},{key:"tipoCulote",controlType:"dropdown",options:o.a.tipoCulote},{key:"sistemaGuia",controlType:"dropdown",options:o.a.sistemaGuia},{key:"colorBandaMotor",controlType:"dropdown",options:o.a.colores},{key:"medioLanzamiento",controlType:"dropdown",options:o.a.mediosLanzamiento},{key:"sistemaGuia",controlType:"dropdown",options:o.a.sistemaGuia},{key:"pinturaProteccionTermica",controlType:"textbox",type:"checkbox"},{key:"materialEnvuelta",controlType:"dropdown",options:o.a.materialEnvuelta},{key:"venterolEnEstabilizador",controlType:"textbox",type:"checkbox"},{key:"tipoEstabilizador",controlType:"textbox"},{key:"sistemaIniciacion",controlType:"dropdown",options:o.a.sistemaIniciacion}];class s{constructor(t,e,n){this.fichaService=t,this.activatedRoute=e,this.fichasVipService=n,this.id=this.activatedRoute.snapshot.params.id,this.fichaVipFlag=!1}ngOnInit(){console.log(this.id),this.id&&this.fichaService.getFicha(this.id).subscribe(t=>{let e=this.fichaService.getIdFicha(t);this.artefacto=this.fichaService.mapearFicha(t,e),this.elementosForm$=Object(r.a)(this.creaFormularioDeObjeto(this.artefacto))}),this.fichaVipFlag=Boolean(this.fichasVipService.esVip(this.id).subscribe())}creaFormularioDeObjeto(t){let e=[];return Object.keys(t).forEach(n=>{let r;a.forEach(e=>{e.key==n&&0!=t[n]&&(r={value:t[n],key:n,label:n.toLocaleUpperCase()},"propositoArtefacto"==n&&(e.options="minas"==t.tipoArtefacto?o.a.propositoArtefacto.minas:"municiones"==t.tipoArtefacto?o.a.propositoArtefacto.municiones:"espoletas"==t.tipoArtefacto?o.a.propositoArtefacto.espoletas:o.a.propositoArtefacto.municiones.concat(o.a.propositoArtefacto.minas).concat(o.a.propositoArtefacto.espoletas)),Object.assign(r,e))}),r&&e.push(new i.a(r))}),console.log(e),e}asignarArtefacto(t){this.artefacto=Object.assign(this.artefacto,t)}validarFicha(){this.artefacto.validada=!0,this.fichaService.updateFicha(this.artefacto,this.id).subscribe()}}},"3y9D":function(t,e,n){var r,i,o,a,s,l,u;t.exports=(u=n("Ib8C"),o=(i=(r=u).lib).WordArray,s=[],l=r.algo.SHA1=(a=i.Hasher).extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],l=n[4],u=0;u<80;u++){if(u<16)s[u]=0|t[e+u];else{var c=s[u-3]^s[u-8]^s[u-14]^s[u-16];s[u]=c<<1|c>>>31}var h=(r<<5|r>>>27)+l+s[u];h+=u<20?1518500249+(i&o|~i&a):u<40?1859775393+(i^o^a):u<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,l=a,a=o,o=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),r.SHA1=a._createHelper(l),r.HmacSHA1=a._createHmacHelper(l),u.SHA1)},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function l(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(l((n,r)=>Object(s.a)(t(n,r)).pipe(Object(a.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,t,e,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"5hvy":function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("MlIO"),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.x64.Word,s=e.algo,l=[],u=[],c=[];!function(){for(var t=1,e=0,n=0;n<24;n++){l[t+5*e]=(n+1)*(n+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;t<5;t++)for(e=0;e<5;e++)u[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,h=0,d=0;d<7;d++){if(1&i){var f=(1<<d)-1;f<32?h^=1<<f:s^=1<<f-32}128&i?i=i<<1^113:i<<=1}c[o]=a.create(s,h)}}();var h=[];!function(){for(var t=0;t<25;t++)h[t]=a.create()}();var d=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=t[e+2*i],a=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(N=n[i]).high^=a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),N.low^=o}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var f=0,p=0,g=0;g<5;g++)f^=(N=n[d+5*g]).high,p^=N.low;var m=h[d];m.high=f,m.low=p}for(d=0;d<5;d++){var v=h[(d+4)%5],b=h[(d+1)%5],y=b.high,w=b.low;for(f=v.high^(y<<1|w>>>31),p=v.low^(w<<1|y>>>31),g=0;g<5;g++)(N=n[d+5*g]).high^=f,N.low^=p}for(var _=1;_<25;_++){var C=(N=n[_]).high,k=N.low,E=l[_];E<32?(f=C<<E|k>>>32-E,p=k<<E|C>>>32-E):(f=k<<E-32|C>>>64-E,p=C<<E-32|k>>>64-E);var I=h[u[_]];I.high=f,I.low=p}var S=h[0],T=n[0];for(S.high=T.high,S.low=T.low,d=0;d<5;d++)for(g=0;g<5;g++){var x=h[_=d+5*g],A=h[(d+1)%5+5*g],O=h[(d+2)%5+5*g];(N=n[_]).high=x.high^~A.high&O.high,N.low=x.low^~A.low&O.low}var N,P=c[s];(N=n[0]).high^=P.high,N.low^=P.low}},_doFinalize:function(){var e=this._data,n=e.words,r=8*e.sigBytes,o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,l=s/8,u=[],c=0;c<l;c++){var h=a[c],d=h.high,f=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),u.push(f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)),u.push(d)}return new i.init(u,s)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});e.SHA3=o._createHelper(d),e.HmacSHA3=o._createHmacHelper(d)}(Math),r.SHA3)},"5x/H":function(t,e,n){"use strict";var r=n("zIRd"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(Cf){o(Cf)}}function s(t){try{l(r.throw(t))}catch(Cf){o(Cf)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(Cf){o=[6,Cf],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var u=n("qOnz"),c=n("q/0M"),h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var f,p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},g=g||{},m=p||self;function v(){}function b(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var w="closure_uid_"+(1e9*Math.random()>>>0),_=0;function C(t,e,n){return t.call.apply(t.bind,arguments)}function k(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C:k).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function S(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function T(){this.s=this.s,this.o=this.o}var x={};T.prototype.s=!1,T.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,w)&&t[w]||(t[w]=++_)}(this);delete x[t]}},T.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var A=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},O=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function N(t){return Array.prototype.concat.apply([],arguments)}function P(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function R(t){return/^[\s\xa0]*$/.test(t)}var D,M=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function j(t,e){return-1!=t.indexOf(e)}function L(t,e){return t<e?-1:t>e?1:0}t:{var B=m.navigator;if(B){var F=B.userAgent;if(F){D=F;break t}}D=""}function V(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function U(t){var e={};for(var n in t)e[n]=t[n];return e}var q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<q.length;o++)n=q[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function H(t){return H[" "](t),t}H[" "]=v;var G,W,K=j(D,"Opera"),$=j(D,"Trident")||j(D,"MSIE"),J=j(D,"Edge"),Q=J||$,Y=j(D,"Gecko")&&!(j(D.toLowerCase(),"webkit")&&!j(D,"Edge"))&&!(j(D,"Trident")||j(D,"MSIE"))&&!j(D,"Edge"),X=j(D.toLowerCase(),"webkit")&&!j(D,"Edge");function Z(){var t=m.document;return t?t.documentMode:void 0}t:{var tt="",et=(W=D,Y?/rv:([^\);]+)(\)|;)/.exec(W):J?/Edge\/([\d\.]+)/.exec(W):$?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(W):X?/WebKit\/(\S+)/.exec(W):K?/(?:Version)[ \/]?(\S+)/.exec(W):void 0);if(et&&(tt=et?et[1]:""),$){var nt=Z();if(null!=nt&&nt>parseFloat(tt)){G=String(nt);break t}}G=tt}var rt={};var it=m.document&&$&&(Z()||parseInt(G,10))||void 0,ot=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{m.addEventListener("test",v,e),m.removeEventListener("test",v,e)}catch(n){}return t}();function at(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function st(t,e){if(at.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Y){t:{try{H(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:lt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&st.Z.h.call(this)}}at.prototype.h=function(){this.defaultPrevented=!0},S(st,at);var lt={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),ct=0;function ht(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ct,this.ca=this.fa=!1}function dt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ft(t){this.src=t,this.g={},this.h=0}function pt(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=A(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(dt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function gt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ft.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=gt(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new ht(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),vt={};function bt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=It(r),e&&e[ut]?e.O(n,r,y(i)?!!i.capture:!!i,o):yt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)bt(t,e[o],n,r,i);return null}return n=It(n),t&&t[ut]?t.N(e,n,y(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,s=kt(t);if(s||(t[mt]=s=new ft(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Ct;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ot||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wt(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ut])pt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kt(e))?(pt(n,t),0==n.h&&(n.src=null,e[mt]=null)):dt(t)}}}function _t(t){return t in vt?vt[t]:vt[t]="on"+t}function Ct(t,e){if(t.ca)t=!0;else{e=new st(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&wt(t),t=n.call(r,e)}return t}function kt(t){return(t=t[mt])instanceof ft?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(t){return"function"==typeof t?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function St(){T.call(this),this.i=new ft(this),this.P=this,this.I=null}function Tt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new at(e,t);else if(e instanceof at)e.target=e.target||t;else{var i=e;z(e=new at(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=xt(a,r,!0,e)&&i}if(i=xt(a=e.g=t,r,!0,e)&&i,i=xt(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=xt(a=e.g=n[o],r,!1,e)&&i}function xt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,l=a.ia||a.src;a.fa&&pt(t.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}S(St,T),St.prototype[ut]=!0,St.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=y(i)?!!i.capture:!!i,r=It(r),e&&e[ut]?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=gt(a=e.g[n],r,i,o))&&(dt(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.g[n],e.h--))):e&&(e=kt(e))&&(n=e.g[n.toString()],e=-1,n&&(e=gt(n,r,i,o)),(r=-1<e?n[e]:null)&&wt(r))}(this,t,e,n,r)},St.prototype.M=function(){if(St.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)dt(n[r]);delete e.g[t],e.h--}}this.I=null},St.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var At=m.JSON.stringify;function Ot(){var t=Bt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Nt,Pt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Rt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Rt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())((function(){return new Dt}),(function(t){return t.reset()})),Dt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Mt(t){m.setTimeout((function(){throw t}),0)}function jt(t,e){Nt||function(){var t=m.Promise.resolve(void 0);Nt=function(){t.then(Ft)}}(),Lt||(Nt(),Lt=!0),Bt.add(t,e)}var Lt=!1,Bt=new Pt;function Ft(){for(var t;t=Ot();){try{t.h.call(t.g)}catch(n){Mt(n)}var e=Rt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Lt=!1}function Vt(t,e){St.call(this),this.h=t||1,this.g=e||m,this.j=E(this.kb,this),this.l=Date.now()}function Ut(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function qt(t,e,n){if("function"==typeof t)n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:m.setTimeout(t,e||0)}function zt(t){t.g=qt((function(){t.g=null,t.i&&(t.i=!1,zt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}S(Vt,St),(f=Vt.prototype).da=!1,f.S=null,f.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tt(this,"tick"),this.da&&(Ut(this),this.start()))}},f.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},f.M=function(){Vt.Z.M.call(this),Ut(this),delete this.g};var Ht=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:zt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(T);function Gt(t){T.call(this),this.h=t,this.g={}}S(Gt,T);var Wt=[];function Kt(t,e,n,r){Array.isArray(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var i=0;i<n.length;i++){var o=bt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function $t(t){V(t.g,(function(t,e){this.g.hasOwnProperty(e)&&wt(t)}),t),t.g={}}function Jt(){this.g=!0}function Qt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return At(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Gt.prototype.M=function(){Gt.Z.M.call(this),$t(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jt.prototype.Aa=function(){this.g=!1},Jt.prototype.info=function(){};var Yt={},Xt=null;function Zt(){return Xt=Xt||new St}function te(t){at.call(this,Yt.Ma,t)}function ee(t){var e=Zt();Tt(e,new te(e,t))}function ne(t,e){at.call(this,Yt.STAT_EVENT,t),this.stat=e}function re(t){var e=Zt();Tt(e,new ne(e,t))}function ie(t,e){at.call(this,Yt.Na,t),this.size=e}function oe(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return m.setTimeout((function(){t()}),e)}Yt.Ma="serverreachability",S(te,at),Yt.STAT_EVENT="statevent",S(ne,at),Yt.Na="timingevent",S(ie,at);var ae={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},se={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function le(){}function ue(){}le.prototype.h=null;var ce,he={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function de(){at.call(this,"d")}function fe(){at.call(this,"c")}function pe(){}function ge(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Gt(this),this.P=ve,this.W=new Vt(t=Q?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}S(de,at),S(fe,at),S(pe,le),pe.prototype.g=function(){return new XMLHttpRequest},pe.prototype.i=function(){return{}},ce=new pe;var ve=45e3,be={},ye={};function we(t,e,n){t.K=1,t.v=ze(Le(e)),t.s=n,t.U=!0,_e(t,null)}function _e(t,e){t.F=Date.now(),Ie(t),t.A=Le(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),nn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new me,t.g=ir(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Ht(E(t.Ia,t,t.g),t.O)),Kt(t.V,t.g,"readystatechange",t.gb),e=t.H?U(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ee(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var u=s[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Ce(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function ke(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Ee(t,n))==ye){4==e&&(t.o=4,re(14),i=!1),Qt(t.j,t.m,null,"[Incomplete Response]");break}if(r==be){t.o=4,re(15),Qt(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Qt(t.j,t.m,r,null),Oe(t,r)}Ce(t)&&r!=ye&&r!=be&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,re(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qn(e),e.L=!0,re(11))):(Qt(t.j,t.m,n,"[Invalid Chunked Response]"),Ae(t),xe(t))}function Ee(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ye:(n=Number(e.substring(n,r)),isNaN(n)?be:(r+=1)+n>e.length?ye:(e=e.substr(r,n),t.C=r+n,e))}function Ie(t){t.Y=Date.now()+t.P,Se(t,t.P)}function Se(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=oe(E(t.eb,t),e)}function Te(t){t.B&&(m.clearTimeout(t.B),t.B=null)}function xe(t){0==t.l.G||t.I||Zn(t.l,t)}function Ae(t){Te(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Ut(t.W),$t(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Oe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||cn(n.i,t)))if(n.I=t.N,!t.J&&cn(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Xn(n),Un(n)}Jn(n),re(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=oe(E(n.ab,n),6e3));if(1>=un(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else er(n,11)}else if((t.J||n.g==t)&&Xn(n),!R(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var l=o[5];null!=l&&"number"==typeof l&&0<l&&(n.K=r=1.5*l,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=t.g;if(u){var c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(j(c,"spdy")||j(c,"quic")||j(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(hn(h,h.h),h.h=null))}if(r.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,qe(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=rr(r,r.H?r.la:null,r.W),f.J){dn(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(Te(p),Ie(p)),r.g=f}else $n(r);0<n.l.length&&Hn(n)}else"stop"!=o[0]&&"close"!=o[0]||er(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?er(n,7):Vn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ee(4)}catch(o){}}function Ne(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(b(t)||"string"==typeof t)O(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(b(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(b(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Pe(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pe)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Re(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];De(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)De(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function De(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(f=ge.prototype).setTimeout=function(t){this.P=t},f.gb=function(t){t=t.target;var e=this.L;e&&3==Mn(t)?e.l():this.Ia(t)},f.Ia=function(t){try{if(t==this.g)t:{var e=Mn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Q||this.g&&(this.h.h||this.g.ga()||jn(this.g)))){this.I||4!=e||7==n||ee(8==n||0>=r?3:2),Te(this);var i=this.g.ba();this.N=i;e:if(Ce(this)){var o=jn(this.g);t="";var a=o.length,s=4==Mn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ae(this),xe(this);var l="";break e}this.h.i=new m.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(u)){var h=u;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,re(12),Ae(this),xe(this);break t}Qt(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oe(this,i)}this.U?(ke(this,e,l),Q&&this.i&&3==e&&(Kt(this.V,this.W,"tick",this.fb),this.W.start())):(Qt(this.j,this.m,l,null),Oe(this,l)),4==e&&Ae(this),this.i&&!this.I&&(4==e?Zn(this.l,this):(this.i=!1,Ie(this)))}else 400==i&&0<l.indexOf("Unknown SID")?(this.o=3,re(12)):(this.o=0,re(13)),Ae(this),xe(this)}}}catch(e){}},f.fb=function(){if(this.g){var t=Mn(this.g),e=this.g.ga();this.C<e.length&&(Te(this),ke(this,t,e),this.i&&4!=t&&Ie(this))}},f.cancel=function(){this.I=!0,Ae(this)},f.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(ee(3),re(17)),Ae(this),this.o=2,xe(this)):Se(this,this.Y-t)},(f=Pe.prototype).R=function(){Re(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},f.T=function(){return Re(this),this.g.concat()},f.get=function(t,e){return De(this.h,t)?this.h[t]:e},f.set=function(t,e){De(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},f.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function je(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof je){this.g=void 0!==e?e:t.g,Be(this,t.j),this.s=t.s,Fe(this,t.i),Ve(this,t.m),this.l=t.l,e=t.h;var n=new Xe;n.i=e.i,e.g&&(n.g=new Pe(e.g),n.h=e.h),Ue(this,n),this.o=t.o}else t&&(n=String(t).match(Me))?(this.g=!!e,Be(this,n[1]||"",!0),this.s=He(n[2]||""),Fe(this,n[3]||"",!0),Ve(this,n[4]),this.l=He(n[5]||"",!0),Ue(this,n[6]||"",!0),this.o=He(n[7]||"")):(this.g=!!e,this.h=new Xe(null,this.g))}function Le(t){return new je(t)}function Be(t,e,n){t.j=n?He(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fe(t,e,n){t.i=n?He(e,!0):e}function Ve(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ue(t,e,n){e instanceof Xe?(t.h=e,function(t,e){e&&!t.j&&(Ze(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tn(this,e),nn(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Ge(e,Qe)),t.h=new Xe(e,t.g))}function qe(t,e,n){t.h.set(e,n)}function ze(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function He(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ge(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,We),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function We(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}je.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ge(e,Ke,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ge(e,Ke,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ge(n,"/"==n.charAt(0)?Je:$e,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ge(n,Ye)),t.join("")};var Ke=/[#\/\?@]/g,$e=/[#\?:]/g,Je=/[#\?]/g,Qe=/[#\?@]/g,Ye=/#/g;function Xe(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ze(t){t.g||(t.g=new Pe,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function tn(t,e){Ze(t),e=rn(t,e),De(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,De((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Re(t)))}function en(t,e){return Ze(t),e=rn(t,e),De(t.g.h,e)}function nn(t,e,n){tn(t,e),0<n.length&&(t.i=null,t.g.set(rn(t,e),P(n)),t.h+=n.length)}function rn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(f=Xe.prototype).add=function(t,e){Ze(this),this.i=null,t=rn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},f.forEach=function(t,e){Ze(this),this.g.forEach((function(n,r){O(n,(function(n){t.call(e,n,r,this)}),this)}),this)},f.T=function(){Ze(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},f.R=function(t){Ze(this);var e=[];if("string"==typeof t)en(this,t)&&(e=N(e,this.g.get(rn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=N(e,t[n])}return e},f.set=function(t,e){return Ze(this),this.i=null,en(this,t=rn(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},f.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},f.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var on=function(){return function(t,e){this.h=t,this.g=e}}();function an(t){this.l=t||sn,t=m.PerformanceNavigationTiming?0<(t=m.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(m.g&&m.g.Ea&&m.g.Ea()&&m.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sn=10;function ln(t){return!!t.h||!!t.g&&t.g.size>=t.j}function un(t){return t.h?1:t.g?t.g.size:0}function cn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function hn(t,e){t.g?t.g.add(e):t.h=e}function dn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function fn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=d(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return P(t.i)}function pn(){}function gn(){this.g=new pn}function mn(t,e,n){var r=n||"";try{Ne(t,(function(t,n){var i=t;y(t)&&(i=At(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Cf){throw e.push(r+"type="+encodeURIComponent("_badmap")),Cf}}function vn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function bn(t){this.l=t.$b||null,this.j=t.ib||!1}function yn(t,e){St.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=wn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}an.prototype.cancel=function(){var t,e;if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=d(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},pn.prototype.stringify=function(t){return m.JSON.stringify(t,void 0)},pn.prototype.parse=function(t){return m.JSON.parse(t,void 0)},S(bn,le),bn.prototype.g=function(){return new yn(this.l,this.j)},bn.prototype.i=function(t){return function(){return t}}({}),S(yn,St);var wn=0;function _n(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Cn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kn(t)}function kn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(f=yn.prototype).open=function(t,e){if(this.readyState!=wn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kn(this)},f.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||m).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},f.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cn(this)),this.readyState=wn},f.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==m.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_n(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},f.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cn(this):kn(this),3==this.readyState&&_n(this)}},f.Ua=function(t){this.g&&(this.response=this.responseText=t,Cn(this))},f.Ta=function(t){this.g&&(this.response=t,Cn(this))},f.ha=function(){this.g&&Cn(this)},f.setRequestHeader=function(t,e){this.v.append(t,e)},f.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},f.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var En=m.JSON.parse;function In(t){St.call(this),this.headers=new Pe,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Sn,this.K=this.L=!1}S(In,St);var Sn="",Tn=/^https?$/i,xn=["POST","PUT"];function An(t){return"content-type"==t.toLowerCase()}function On(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Nn(t),Rn(t)}function Nn(t){t.D||(t.D=!0,Tt(t,"complete"),Tt(t,"error"))}function Pn(t){if(t.h&&void 0!==g&&(!t.C[1]||4!=Mn(t)||2!=t.ba()))if(t.v&&4==Mn(t))qt(t.Fa,0,t);else if(Tt(t,"readystatechange"),4==Mn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Me)[1]||null;if(!o&&m.self&&m.self.location){var a=m.self.location.protocol;o=a.substr(0,a.length-1)}i=!Tn.test(o?o.toLowerCase():"")}e=i}if(e)Tt(t,"complete"),Tt(t,"success");else{t.m=6;try{var s=2<Mn(t)?t.g.statusText:""}catch(l){s=""}t.j=s+" ["+t.ba()+"]",Nn(t)}}finally{Rn(t)}}}function Rn(t,e){if(t.g){Dn(t);var n=t.g,r=t.C[0]?v:null;t.g=null,t.C=null,e||Tt(t,"ready");try{n.onreadystatechange=r}catch(Cf){}}}function Dn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(m.clearTimeout(t.A),t.A=null)}function Mn(t){return t.g?t.g.readyState:0}function jn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Sn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ln(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return V(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function Bn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Fn(t){this.za=0,this.l=[],this.h=new Jt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bn("baseRetryDelayMs",5e3,t),this.$a=Bn("retryDelaySeedMs",1e4,t),this.Ya=Bn("forwardChannelMaxRetries",2,t),this.ra=Bn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new an(t&&t.concurrentRequestLimit),this.Ca=new gn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Vn(t){if(qn(t),3==t.G){var e=t.V++,n=Le(t.F);qe(n,"SID",t.J),qe(n,"RID",e),qe(n,"TYPE","terminate"),Wn(t,n),(e=new ge(t,t.h,e,void 0)).K=2,e.v=ze(Le(n)),n=!1,m.navigator&&m.navigator.sendBeacon&&(n=m.navigator.sendBeacon(e.v.toString(),"")),!n&&m.Image&&((new Image).src=e.v,n=!0),n||(e.g=ir(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ie(e)}nr(t)}function Un(t){t.g&&(Qn(t),t.g.cancel(),t.g=null)}function qn(t){Un(t),t.u&&(m.clearTimeout(t.u),t.u=null),Xn(t),t.i.cancel(),t.m&&("number"==typeof t.m&&m.clearTimeout(t.m),t.m=null)}function zn(t,e){t.l.push(new on(t.Za++,e)),3==t.G&&Hn(t)}function Hn(t){ln(t.i)||t.m||(t.m=!0,jt(t.Ha,t),t.C=0)}function Gn(t,e){var n;n=e?e.m:t.V++;var r=Le(t.F);qe(r,"SID",t.J),qe(r,"RID",n),qe(r,"AID",t.U),Wn(t,r),t.o&&t.s&&Ln(r,t.o,t.s),n=new ge(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Kn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),hn(t.i,n),we(n,r,e)}function Wn(t,e){t.j&&Ne({},(function(t,n){qe(e,n,t)}))}function Kn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?E(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].h)):o=0:a.push("ofs="+o);for(var s=!0,l=0;l<n;l++){var u=i[l].h,c=i[l].g;if(0>(u-=o))o=Math.max(0,i[l].h-100),s=!1;else try{mn(c,a,"req"+u+"_")}catch(Lr){r&&r(c)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function $n(t){t.g||t.u||(t.Y=1,jt(t.Ga,t),t.A=0)}function Jn(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=oe(E(t.Ga,t),tr(t,t.A)),t.A++,0))}function Qn(t){null!=t.B&&(m.clearTimeout(t.B),t.B=null)}function Yn(t){t.g=new ge(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Le(t.oa);qe(e,"RID","rpc"),qe(e,"SID",t.J),qe(e,"CI",t.N?"0":"1"),qe(e,"AID",t.U),Wn(t,e),qe(e,"TYPE","xmlhttp"),t.o&&t.s&&Ln(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ze(Le(e)),n.s=null,n.U=!0,_e(n,t)}function Xn(t){null!=t.v&&(m.clearTimeout(t.v),t.v=null)}function Zn(t,e){var n=null;if(t.g==e){Xn(t),Qn(t),t.g=null;var r=2}else{if(!cn(t.i,e))return;n=e.D,dn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Tt(r=Zt(),new ie(r,n,e,i)),Hn(t)}else $n(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(un(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=oe(E(t.Ha,t,e),tr(t,t.C)),t.C++,0)))}(t,e)||2==r&&Jn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:er(t,5);break;case 4:er(t,10);break;case 3:er(t,6);break;default:er(t,2)}}function tr(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function er(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=E(t.jb,t);n||(n=new je("//www.google.com/images/cleardot.gif"),m.location&&"http"==m.location.protocol||Be(n,"https"),ze(n)),function(t,e){var n=new Jt;if(m.Image){var r=new Image;r.onload=I(vn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=I(vn,n,r,"TestLoadImage: error",!1,e),r.onabort=I(vn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=I(vn,n,r,"TestLoadImage: timeout",!1,e),m.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else re(2);t.G=0,t.j&&t.j.va(e),nr(t),qn(t)}function nr(t){t.G=0,t.I=-1,t.j&&(0==fn(t.i).length&&0==t.l.length||(t.i.i.length=0,P(t.l),t.l.length=0),t.j.ua())}function rr(t,e,n){var r=function(t){return t instanceof je?Le(t):new je(t,void 0)}(n);if(""!=r.i)e&&Fe(r,e+"."+r.i),Ve(r,r.m);else{var i=m.location;r=function(t,e,n,r){var i=new je(null,void 0);return t&&Be(i,t),e&&Fe(i,e),n&&Ve(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&V(t.aa,(function(t,e){qe(r,e,t)})),n=t.sa,(e=t.D)&&n&&qe(r,e,n),qe(r,"VER",t.ma),Wn(t,r),r}function ir(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new In(n&&t.Ba&&!t.qa?new bn({ib:!0}):t.qa)).L=t.H,e}function or(){}function ar(){if($&&!(10<=Number(it)))throw Error("Environmental error: no available transport.")}function sr(t,e){St.call(this),this.g=new Fn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!R(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!R(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new cr(this)}function lr(t){de.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ur(){fe.call(this),this.status=1}function cr(t){this.g=t}(f=In.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ce.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:ce),this.g.onreadystatechange=E(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void On(this,o)}t=n||"";var i=new Pe(this.headers);r&&Ne(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=An,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=m.FormData&&t instanceof m.FormData,!(0<=A(xn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dn(this),0<this.B&&((this.K=function(t){return $&&function(){return t=rt,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=M(String(G)).split("."),n=M("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=L(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||L(0==o[2].length,0==a[2].length)||L(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=E(this.pa,this)):this.A=qt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){On(this,o)}},f.pa=function(){void 0!==g&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))},f.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tt(this,"complete"),Tt(this,"abort"),Rn(this))},f.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rn(this,!0)),In.Z.M.call(this)},f.Fa=function(){this.s||(this.F||this.v||this.l?Pn(this):this.cb())},f.cb=function(){Pn(this)},f.ba=function(){try{return 2<Mn(this)?this.g.status:-1}catch(W){return-1}},f.ga=function(){try{return this.g?this.g.responseText:""}catch(W){return""}},f.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),En(e)}},f.Da=function(){return this.m},f.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(f=Fn.prototype).ma=8,f.G=1,f.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},f.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ge(this,this.h,t,void 0),n=this.s;if(this.P&&(n?z(n=U(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Kn(this,e,r),qe(i=Le(this.F),"RID",t),qe(i,"CVER",22),this.D&&qe(i,"X-HTTP-Session-Id",this.D),Wn(this,i),this.o&&n&&Ln(i,this.o,n),hn(this.i,e),this.Ra&&qe(i,"TYPE","init"),this.ja?(qe(i,"$req",r),qe(i,"SID","null"),e.$=!0,we(e,i,null)):we(e,i,r),this.G=2}}else 3==this.G&&(t?Gn(this,t):0==this.l.length||ln(this.i)||Gn(this))},f.Ga=function(){if(this.u=null,Yn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=oe(E(this.bb,this),t)}},f.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,re(10),Un(this),Yn(this))},f.ab=function(){null!=this.v&&(this.v=null,Un(this),Jn(this),re(19))},f.jb=function(t){t?(this.h.info("Successfully pinged google.com"),re(2)):(this.h.info("Failed to ping google.com"),re(1))},(f=or.prototype).xa=function(){},f.wa=function(){},f.va=function(){},f.ua=function(){},f.Oa=function(){},ar.prototype.g=function(t,e){return new sr(t,e)},S(sr,St),sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),jt(E(t.hb,t,e))),re(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=rr(t,null,t.W),Hn(t)},sr.prototype.close=function(){Vn(this.g)},sr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,zn(this.g,e)}else this.v?((e={}).__data__=At(t),zn(this.g,e)):zn(this.g,t)},sr.prototype.M=function(){this.g.j=null,delete this.j,Vn(this.g),delete this.g,sr.Z.M.call(this)},S(lr,de),S(ur,fe),S(cr,or),cr.prototype.xa=function(){Tt(this.g,"a")},cr.prototype.wa=function(t){Tt(this.g,new lr(t))},cr.prototype.va=function(t){Tt(this.g,new ur(t))},cr.prototype.ua=function(){Tt(this.g,"b")},ar.prototype.createWebChannel=ar.prototype.g,sr.prototype.send=sr.prototype.u,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,se.COMPLETE="complete",ue.EventType=he,he.OPEN="a",he.CLOSE="b",he.ERROR="c",he.MESSAGE="d",St.prototype.listen=St.prototype.N,In.prototype.listenOnce=In.prototype.O,In.prototype.getLastError=In.prototype.La,In.prototype.getLastErrorCode=In.prototype.Da,In.prototype.getStatus=In.prototype.ba,In.prototype.getResponseJson=In.prototype.Qa,In.prototype.getResponseText=In.prototype.ga,In.prototype.send=In.prototype.ea;var hr=ae,dr=se,fr=Yt,pr=bn,gr=ue,mr=In,vr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();vr.o=-1;var br={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o(e,t),e}(Error),wr=new c.b("@firebase/firestore");function _r(){return wr.logLevel}function Cr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wr.logLevel<=c.a.DEBUG){var r=e.map(Ir);wr.debug.apply(wr,l(["Firestore (8.8.0): "+t],r))}}function kr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wr.logLevel<=c.a.ERROR){var r=e.map(Ir);wr.error.apply(wr,l(["Firestore (8.8.0): "+t],r))}}function Er(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wr.logLevel<=c.a.WARN){var r=e.map(Ir);wr.warn.apply(wr,l(["Firestore (8.8.0): "+t],r))}}function Ir(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Cf){return t}}function Sr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.0) INTERNAL ASSERTION FAILED: "+t;throw kr(e),new Error(e)}function Tr(t,e){t||Sr()}function xr(t,e){return t}function Ar(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Or=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ar(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Nr(t,e){return t<e?-1:t>e?1:0}function Pr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Rr(t){return t+"\0"}var Dr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yr(br.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yr(br.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new yr(br.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yr(br.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Nr(this.nanoseconds,t.nanoseconds):Nr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Mr=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Dr(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function jr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Br(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Fr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Sr(),void 0===n?n=t.length-e:n>t.length-e&&Sr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new yr(br.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Fr),Ur=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ur.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new yr(br.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new yr(br.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new yr(br.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new yr(br.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Fr),zr=function(){function t(t){this.fields=t,t.sort(qr.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Pr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Hr=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Nr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Hr.EMPTY_BYTE_STRING=new Hr("");var Gr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(t){if(Tr(!!t),"string"==typeof t){var e=0,n=Gr.exec(t);if(Tr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kr(t.seconds),nanos:Kr(t.nanos)}}function Kr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function $r(t){return"string"==typeof t?Hr.fromBase64String(t):Hr.fromUint8Array(t)}function Jr(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qr(t){var e=Wr(t.mapValue.fields.__local_write_time__.timestampValue);return new Dr(e.seconds,e.nanos)}function Yr(t){return null==t}function Xr(t){return 0===t&&1/t==-1/0}function Zr(t){return"number"==typeof t&&Number.isInteger(t)&&!Xr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ti=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Vr.fromString(e))},t.fromName=function(e){return new t(Vr.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Vr.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Vr.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Vr(e.slice()))},t}();function ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jr(t)?4:10:Sr()}function ni(t,e){var n=ei(t);if(n!==ei(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qr(t).isEqual(Qr(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Wr(t.timestampValue),r=Wr(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return $r(t.bytesValue).isEqual($r(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Kr(t.geoPointValue.latitude)===Kr(e.geoPointValue.latitude)&&Kr(t.geoPointValue.longitude)===Kr(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Kr(t.integerValue)===Kr(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Kr(t.doubleValue),r=Kr(e.doubleValue);return n===r?Xr(n)===Xr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Pr(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(jr(n)!==jr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ni(n[i],r[i])))return!1;return!0}(t,e);default:return Sr()}}function ri(t,e){return void 0!==(t.values||[]).find((function(t){return ni(t,e)}))}function ii(t,e){var n=ei(t),r=ei(e);if(n!==r)return Nr(n,r);switch(n){case 0:return 0;case 1:return Nr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Kr(t.integerValue||t.doubleValue),r=Kr(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return oi(t.timestampValue,e.timestampValue);case 4:return oi(Qr(t),Qr(e));case 5:return Nr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=$r(t),r=$r(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Nr(n[i],r[i]);if(0!==o)return o}return Nr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Nr(Kr(t.latitude),Kr(e.latitude));return 0!==n?n:Nr(Kr(t.longitude),Kr(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ii(n[i],r[i]);if(o)return o}return Nr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Nr(r[a],o[a]);if(0!==s)return s;var l=ii(n[r[a]],i[o[a]]);if(0!==l)return l}return Nr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Sr()}}function oi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Nr(t,e);var n=Wr(t),r=Wr(e),i=Nr(n.seconds,r.seconds);return 0!==i?i:Nr(n.nanos,r.nanos)}function ai(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Wr(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?$r(e.bytesValue).toBase64():"referenceValue"in e?ti.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Sr();var n}(t)}function si(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function li(t){return!!t&&"integerValue"in t}function ui(t){return!!t&&"arrayValue"in t}function ci(t){return!!t&&"nullValue"in t}function hi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function di(t){return!!t&&"mapValue"in t}function fi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Lr(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=fi(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=fi(t.arrayValue.values[r]);return n}return Object.assign({},t)}var pi=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!di(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=fi(e)},t.prototype.setAll=function(t){var e=this,n=qr.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=fi(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());di(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return ni(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];di(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Lr(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(fi(this.value))},t}();function gi(t){var e=[];return Lr(t.fields,(function(t,n){var r=new qr([t]);if(di(n)){var i=gi(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new zr(e)}var mi=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Mr.min(),pi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,pi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,pi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=pi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=pi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),vi=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function bi(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new vi(t,e,n,r,i,o,a)}function yi(t){var e=xr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+ai(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Yr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Pi(e.startAt)),e.endAt&&(n+="|ub:",n+=Pi(e.endAt)),e.h=n}return e.h}function wi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Di(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ni(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ji(t.startAt,e.startAt)&&ji(t.endAt,e.endAt)}function _i(t){return ti.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ci=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return o(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ki(t,n,r):"array-contains"===n?new Ti(t,r):"in"===n?new xi(t,r):"not-in"===n?new Ai(t,r):"array-contains-any"===n?new Oi(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ei(t,n):new Ii(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ii(e,this.value)):null!==e&&ei(this.value)===ei(e)&&this.m(ii(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Sr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),ki=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ti.fromName(r.referenceValue),i}return o(e,t),e.prototype.matches=function(t){var e=ti.comparator(t.key,this.key);return this.m(e)},e}(Ci),Ei=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Si(0,n),r}return o(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ci),Ii=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Si(0,n),r}return o(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ci);function Si(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ti.fromName(t.referenceValue)}))}var Ti=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return ui(e)&&ri(e.arrayValue,this.value)},e}(Ci),xi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ri(this.value.arrayValue,e)},e}(Ci),Ai=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return o(e,t),e.prototype.matches=function(t){if(ri(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ri(this.value.arrayValue,e)},e}(Ci),Oi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return o(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!ui(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ri(e.value.arrayValue,t)}))},e}(Ci),Ni=function(t,e){this.position=t,this.before=e};function Pi(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ai(t)})).join(",")}var Ri=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Di(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Mi(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?ti.comparator(ti.fromName(a.referenceValue),n.key):ii(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ji(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}var Li=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function Bi(t,e,n,r,i,o,a,s){return new Li(t,e,n,r,i,o,a,s)}function Fi(t){return new Li(t)}function Vi(t){return!Yr(t.limit)&&"F"===t.limitType}function Ui(t){return!Yr(t.limit)&&"L"===t.limitType}function qi(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function zi(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Hi(t){return null!==t.collectionGroup}function Gi(t){var e=xr(t);if(null===e.p){e.p=[];var n=zi(e),r=qi(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Ri(n)),e.p.push(new Ri(qr.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ri(qr.keyField(),l))}}}return e.p}function Wi(t){var e=xr(t);if(!e.T)if("F"===e.limitType)e.T=bi(e.path,e.collectionGroup,Gi(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Gi(e);r<i.length;r++){var o=i[r];n.push(new Ri(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Ni(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Ni(e.startAt.position,!e.startAt.before):null;e.T=bi(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function Ki(t,e,n){return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $i(t,e){return wi(Wi(t),Wi(e))&&t.limitType===e.limitType}function Ji(t){return yi(Wi(t))+"|lt:"+t.limitType}function Qi(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+ai(e.value);var e})).join(", ")+"]"),Yr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Pi(t.startAt)),t.endAt&&(e+=", endAt: "+Pi(t.endAt)),"Target("+e+")"}(Wi(t))+"; limitType="+t.limitType+")"}function Yi(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ti.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Mi(t.startAt,Gi(t),e)||t.endAt&&Mi(t.endAt,Gi(t),e))}(t,e)}function Xi(t){return function(e,n){for(var r=!1,i=0,o=Gi(t);i<o.length;i++){var a=o[i],s=Zi(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Zi(t,e,n){var r=t.field.isKeyField()?ti.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ii(r,i):Sr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Sr()}}function to(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xr(e)?"-0":e}}function eo(t){return{integerValue:""+t}}function no(t,e){return Zr(e)?eo(e):to(t,e)}var ro=function(){this._=void 0};function io(t,e,n){return t instanceof so?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof lo?uo(t,e):t instanceof co?ho(t,e):function(t,e){var n=ao(t,e),r=po(n)+po(t.A);return li(n)&&li(t.A)?eo(r):to(t.R,r)}(t,e)}function oo(t,e,n){return t instanceof lo?uo(t,e):t instanceof co?ho(t,e):n}function ao(t,e){return t instanceof fo?li(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var so=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(ro),lo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o(e,t),e}(ro);function uo(t,e){for(var n=go(e),r=function(t){n.some((function(e){return ni(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var co=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o(e,t),e}(ro);function ho(t,e){for(var n=go(e),r=function(t){n=n.filter((function(e){return!ni(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return o(e,t),e}(ro);function po(t){return Kr(t.integerValue||t.doubleValue)}function go(t){return ui(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var mo=function(t,e){this.field=t,this.transform=e},vo=function(t,e){this.version=t,this.transformResults=e},bo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function yo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var wo=function(){};function _o(t,e,n){t instanceof So?function(t,e,n){var r=t.value.clone(),i=Ao(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof To?function(t,e,n){if(yo(t.precondition,e)){var r=Ao(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(xo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Co(t,e,n){t instanceof So?function(t,e,n){if(yo(t.precondition,e)){var r=t.value.clone(),i=Oo(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Io(e),r).setHasLocalMutations()}}(t,e,n):t instanceof To?function(t,e,n){if(yo(t.precondition,e)){var r=Oo(t.fieldTransforms,n,e),i=e.data;i.setAll(xo(t)),i.setAll(r),e.convertToFoundDocument(Io(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){yo(t.precondition,e)&&e.convertToNoDocument(Mr.min())}(t,e)}function ko(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=ao(o.transform,a||null);null!=s&&(null==n&&(n=pi.empty()),n.set(o.field,s))}return n||null}function Eo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Pr(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof lo&&e instanceof lo||t instanceof co&&e instanceof co?Pr(t.elements,e.elements,ni):t instanceof fo&&e instanceof fo?ni(t.A,e.A):t instanceof so&&e instanceof so}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Io(t){return t.isFoundDocument()?t.version:Mr.min()}var So=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return o(e,t),e}(wo),To=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return o(e,t),e}(wo);function xo(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Ao(t,e,n){var r=new Map;Tr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,oo(a,s,n[i]))}return r}function Oo(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,l=n.data.field(a.field);r.set(a.field,io(s,l,e))}return r}var No,Po,Ro=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return o(e,t),e}(wo),Do=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return o(e,t),e}(wo),Mo=function(t){this.count=t};function jo(t){switch(t){case br.OK:return Sr();case br.CANCELLED:case br.UNKNOWN:case br.DEADLINE_EXCEEDED:case br.RESOURCE_EXHAUSTED:case br.INTERNAL:case br.UNAVAILABLE:case br.UNAUTHENTICATED:return!1;case br.INVALID_ARGUMENT:case br.NOT_FOUND:case br.ALREADY_EXISTS:case br.PERMISSION_DENIED:case br.FAILED_PRECONDITION:case br.ABORTED:case br.OUT_OF_RANGE:case br.UNIMPLEMENTED:case br.DATA_LOSS:return!0;default:return Sr()}}function Lo(t){if(void 0===t)return kr("GRPC error has no .code"),br.UNKNOWN;switch(t){case No.OK:return br.OK;case No.CANCELLED:return br.CANCELLED;case No.UNKNOWN:return br.UNKNOWN;case No.DEADLINE_EXCEEDED:return br.DEADLINE_EXCEEDED;case No.RESOURCE_EXHAUSTED:return br.RESOURCE_EXHAUSTED;case No.INTERNAL:return br.INTERNAL;case No.UNAVAILABLE:return br.UNAVAILABLE;case No.UNAUTHENTICATED:return br.UNAUTHENTICATED;case No.INVALID_ARGUMENT:return br.INVALID_ARGUMENT;case No.NOT_FOUND:return br.NOT_FOUND;case No.ALREADY_EXISTS:return br.ALREADY_EXISTS;case No.PERMISSION_DENIED:return br.PERMISSION_DENIED;case No.FAILED_PRECONDITION:return br.FAILED_PRECONDITION;case No.ABORTED:return br.ABORTED;case No.OUT_OF_RANGE:return br.OUT_OF_RANGE;case No.UNIMPLEMENTED:return br.UNIMPLEMENTED;case No.DATA_LOSS:return br.DATA_LOSS;default:return Sr()}}(Po=No||(No={}))[Po.OK=0]="OK",Po[Po.CANCELLED=1]="CANCELLED",Po[Po.UNKNOWN=2]="UNKNOWN",Po[Po.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Po[Po.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Po[Po.NOT_FOUND=5]="NOT_FOUND",Po[Po.ALREADY_EXISTS=6]="ALREADY_EXISTS",Po[Po.PERMISSION_DENIED=7]="PERMISSION_DENIED",Po[Po.UNAUTHENTICATED=16]="UNAUTHENTICATED",Po[Po.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Po[Po.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Po[Po.ABORTED=10]="ABORTED",Po[Po.OUT_OF_RANGE=11]="OUT_OF_RANGE",Po[Po.UNIMPLEMENTED=12]="UNIMPLEMENTED",Po[Po.INTERNAL=13]="INTERNAL",Po[Po.UNAVAILABLE=14]="UNAVAILABLE",Po[Po.DATA_LOSS=15]="DATA_LOSS";var Bo=function(){function t(t,e){this.comparator=t,this.root=e||Vo.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vo.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vo.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Fo(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Fo(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Fo(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Fo(this.root,t,this.comparator,!0)},t}(),Fo=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Vo=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Sr();if(this.right.isRed())throw Sr();var t=this.left.check();if(t!==this.right.check())throw Sr();return t+(this.isRed()?0:1)},t}();Vo.EMPTY=null,Vo.RED=!0,Vo.BLACK=!1,Vo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Vo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Uo=function(){function t(t){this.comparator=t,this.data=new Bo(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new qo(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new qo(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),qo=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),zo=new Bo(ti.comparator);function Ho(){return zo}var Go=new Bo(ti.comparator);function Wo(){return Go}var Ko=new Bo(ti.comparator);function $o(){return Ko}var Jo=new Uo(ti.comparator);function Qo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Jo,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Yo=new Uo(Nr);function Xo(){return Yo}var Zo=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ta.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Mr.min(),r,Xo(),Ho(),Qo())},t}(),ta=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Hr.EMPTY_BYTE_STRING,n,Qo(),Qo(),Qo())},t}(),ea=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},na=function(t,e){this.targetId=t,this.V=e},ra=function(t,e,n,r){void 0===n&&(n=Hr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ia=function(){function t(){this.S=0,this.D=sa(),this.C=Hr.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Qo(),e=Qo(),n=Qo();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Sr()}})),new ta(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=sa()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),oa=function(){function t(t){this.W=t,this.G=new Map,this.H=Ho(),this.J=aa(),this.Y=new Uo(Nr)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Sr()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(_i(i))if(0===n){var o=new ti(i.path);this.tt(e,o,mi.newNoDocument(o,Mr.min()))}else Tr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&_i(o.target)){var a=new ti(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,mi.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Qo();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Zo(t,n,this.Y,this.H,r);return this.H=Ho(),this.J=aa(),this.Y=new Uo(Nr),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ia,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Uo(Nr),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Cr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ia),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function aa(){return new Bo(ti.comparator)}function sa(){return new Bo(ti.comparator)}var la={asc:"ASCENDING",desc:"DESCENDING"},ua={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ca=function(t,e){this.databaseId=t,this.I=e};function ha(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function da(t,e){return t.I?e.toBase64():e.toUint8Array()}function fa(t,e){return ha(t,e.toTimestamp())}function pa(t){return Tr(!!t),Mr.fromTimestamp(function(t){var e=Wr(t);return new Dr(e.seconds,e.nanos)}(t))}function ga(t,e){return function(t){return new Vr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function ma(t){var e=Vr.fromString(t);return Tr(Fa(e)),e}function va(t,e){return ga(t.databaseId,e.path)}function ba(t,e){var n=ma(e);if(n.get(1)!==t.databaseId.projectId)throw new yr(br.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new yr(br.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ti(Ca(n))}function ya(t,e){return ga(t.databaseId,e)}function wa(t){var e=ma(t);return 4===e.length?Vr.emptyPath():Ca(e)}function _a(t){return new Vr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ca(t){return Tr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ka(t,e,n){return{name:va(t,e),fields:n.value.mapValue.fields}}function Ea(t,e,n){var r=ba(t,e.name),i=pa(e.updateTime),o=new pi({mapValue:{fields:e.fields}}),a=mi.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ia(t,e){var n;if(e instanceof So)n={update:ka(t,e.key,e.value)};else if(e instanceof Ro)n={delete:va(t,e.key)};else if(e instanceof To)n={update:ka(t,e.key,e.data),updateMask:Ba(e.fieldMask)};else{if(!(e instanceof Do))return Sr();n={verify:va(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof so)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof co)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Sr()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:fa(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Sr()}(t,e.precondition)),n}function Sa(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?bo.updateTime(pa(t.updateTime)):void 0!==t.exists?bo.exists(t.exists):bo.none()}(e.currentDocument):bo.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Tr("REQUEST_TIME"===e.setToServerValue),n=new so):"appendMissingElements"in e?n=new lo(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new co(e.removeAllFromArray.values||[]):"increment"in e?n=new fo(t,e.increment):Sr();var r=qr.fromServerFormat(e.fieldPath);return new mo(r,n)}(t,e)})):[];if(e.update){var i=ba(t,e.update.name),o=new pi({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new zr((t.fieldPaths||[]).map((function(t){return qr.fromServerFormat(t)})))}(e.updateMask);return new To(i,o,a,n,r)}return new So(i,o,n,r)}if(e.delete){var s=ba(t,e.delete);return new Ro(s,n)}if(e.verify){var l=ba(t,e.verify);return new Do(l,n)}return Sr()}function Ta(t,e){return{documents:[ya(t,e.path)]}}function xa(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ya(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ya(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(hi(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NAN"}};if(ci(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hi(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NOT_NAN"}};if(ci(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(t.field),op:Ra(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Da(t.field),direction:Pa(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||Yr(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Oa(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Oa(e.endAt)),n}function Aa(t){var e=wa(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Tr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[La(e)]:void 0!==e.fieldFilter?[ja(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Sr():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Ri(Ma(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var l=null;n.limit&&(l=function(t){var e;return Yr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Na(n.startAt));var c=null;return n.endAt&&(c=Na(n.endAt)),Bi(e,i,s,a,l,"F",u,c)}function Oa(t){return{before:t.before,values:t.position}}function Na(t){return new Ni(t.values||[],!!t.before)}function Pa(t){return la[t]}function Ra(t){return ua[t]}function Da(t){return{fieldPath:t.canonicalString()}}function Ma(t){return qr.fromServerFormat(t.fieldPath)}function ja(t){return Ci.create(Ma(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Sr()}}(t.fieldFilter.op),t.fieldFilter.value)}function La(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ma(t.unaryFilter.field);return Ci.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ma(t.unaryFilter.field);return Ci.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ma(t.unaryFilter.field);return Ci.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ma(t.unaryFilter.field);return Ci.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Sr()}}function Ba(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Fa(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Va(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=qa(e)),e=Ua(t.get(n),e);return qa(e)}function Ua(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function qa(t){return t+"\x01\x01"}function za(t){var e=t.length;if(Tr(e>=2),2===e)return Tr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Vr.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Sr(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),l=void 0;0===i.length?l=s:(l=i+=s,i=""),r.push(l);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Sr()}o=a+2}return new Vr(r)}var Ha=function(t,e){this.seconds=t,this.nanoseconds=e},Ga=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ga.store="owner",Ga.key="owner";var Wa=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Wa.store="mutationQueues",Wa.keyPath="userId";var Ka=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ka.store="mutations",Ka.keyPath="batchId",Ka.userMutationsIndex="userMutationsIndex",Ka.userMutationsKeyPath=["userId","batchId"];var $a=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Va(e)]},t.key=function(t,e,n){return[t,Va(e),n]},t}();$a.store="documentMutations",$a.PLACEHOLDER=new $a;var Ja=function(t,e){this.path=t,this.readTime=e},Qa=function(t,e){this.path=t,this.version=e},Ya=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ya.store="remoteDocuments",Ya.readTimeIndex="readTimeIndex",Ya.readTimeIndexPath="readTime",Ya.collectionReadTimeIndex="collectionReadTimeIndex",Ya.collectionReadTimeIndexPath=["parentPath","readTime"];var Xa=function(t){this.byteSize=t};Xa.store="remoteDocumentGlobal",Xa.key="remoteDocumentGlobalKey";var Za=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Za.store="targets",Za.keyPath="targetId",Za.queryTargetsIndexName="queryTargetsIndex",Za.queryTargetsKeyPath=["canonicalId","targetId"];var ts=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ts.store="targetDocuments",ts.keyPath=["targetId","path"],ts.documentTargetsIndex="documentTargetsIndex",ts.documentTargetsKeyPath=["path","targetId"];var es=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};es.key="targetGlobalKey",es.store="targetGlobal";var ns=function(t,e){this.collectionId=t,this.parent=e};ns.store="collectionParents",ns.keyPath=["collectionId","parent"];var rs=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};rs.store="clientMetadata",rs.keyPath="clientId";var is=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};is.store="bundles",is.keyPath="bundleId";var os=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};os.store="namedQueries",os.keyPath="name";var as=l(l([],l(l([],l(l([],l(l([],[Wa.store,Ka.store,$a.store,Ya.store,Za.store,Ga.store,es.store,ts.store]),[rs.store])),[Xa.store])),[ns.store])),[is.store,os.store]),ss="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ls=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),us=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},cs=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Sr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),hs=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new us,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ps(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=ys(e.target.error);n.ft.reject(new ps(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ps(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Cr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ms(e)},t}(),ds=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(u.r)())&&kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Cr("SimpleDb","Removing database:",t),vs(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(u.r)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return s(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Cr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ps(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new yr(br.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ps(t,n))},i.onupgradeneeded=function(t){Cr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Cr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,a,l,u;return s(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,h;return s(this,(function(s){switch(s.label){case 0:++o,s.label=1;case 1:return s.trys.push([1,4,,5]),[4,l.At(t)];case 2:return l.db=s.sent(),e=hs.open(l.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),cs.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(s.sent(),a),u)];case 4:return Cr("SimpleDb","Transaction failed with error:",(c=s.sent()).message,"Retrying:",h="FirebaseError"!==c.name&&o<3),l.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},l=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),fs=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return vs(this.Pt.delete())},t}(),ps=function(t){function e(e,n){var r=this;return(r=t.call(this,br.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return o(e,t),e}(yr);function gs(t){return"IndexedDbTransactionError"===t.name}var ms=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Cr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Cr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),vs(n)},t.prototype.add=function(t){return Cr("SimpleDb","ADD",this.store.name,t,t),vs(this.store.add(t))},t.prototype.get=function(t){var e=this;return vs(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Cr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Cr("SimpleDb","DELETE",this.store.name,t),vs(this.store.delete(t))},t.prototype.count=function(){return Cr("SimpleDb","COUNT",this.store.name),vs(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Cr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new cs((function(n,r){e.onerror=function(t){var e=ys(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new cs((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new fs(i),a=e(i.primaryKey,i.value,o);if(a instanceof cs){var s=a.catch((function(t){return o.done(),cs.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return cs.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function vs(t){return new cs((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ys(t.target.error);n(e)}}))}var bs=!1;function ys(t){var e=ds._t(Object(u.r)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new yr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return bs||(bs=!0,setTimeout((function(){throw r}),0)),r}}return t}var ws=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return o(e,t),e}(ls);function _s(t,e){var n=xr(t);return ds.It(n.Mt,e)}var Cs=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&_o(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Co(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Co(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Mr.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Qo())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Pr(this.mutations,t.mutations,(function(t,e){return Eo(t,e)}))&&Pr(this.baseMutations,t.baseMutations,(function(t,e){return Eo(t,e)}))},t}(),ks=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Tr(e.mutations.length===r.length);for(var i=$o(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Es=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Mr.min()),void 0===o&&(o=Mr.min()),void 0===a&&(a=Hr.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Is=function(t){this.Lt=t};function Ss(t,e){if(e.document)return Ea(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ti.fromSegments(e.noDocument.path),r=Ns(e.noDocument.readTime),i=mi.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ti.fromSegments(e.unknownDocument.path);return r=Ns(e.unknownDocument.version),mi.newUnknownDocument(o,r)}return Sr()}function Ts(t,e,n){var r=xs(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:va(t,e.key),fields:e.data.value.mapValue.fields,updateTime:ha(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Ya(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),l=Os(e.version);return a=e.hasCommittedMutations,new Ya(null,new Ja(s,l),null,a,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),c=Os(e.version);return new Ya(new Qa(u,c),null,null,!0,r,i)}return Sr()}function xs(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function As(t){var e=new Dr(t[0],t[1]);return Mr.fromTimestamp(e)}function Os(t){var e=t.toTimestamp();return new Ha(e.seconds,e.nanoseconds)}function Ns(t){var e=new Dr(t.seconds,t.nanoseconds);return Mr.fromTimestamp(e)}function Ps(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Sa(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Sa(t.Lt,e)})),o=Dr.fromMillis(e.localWriteTimeMs);return new Cs(e.batchId,o,n,i)}function Rs(t){var e,n,r=Ns(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ns(t.lastLimboFreeSnapshotVersion):Mr.min();return void 0!==t.query.documents?(Tr(1===(n=t.query).documents.length),e=Wi(Fi(wa(n.documents[0])))):e=function(t){return Wi(Aa(t))}(t.query),new Es(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Hr.fromBase64String(t.resumeToken))}function Ds(t,e){var n,r=Os(e.snapshotVersion),i=Os(e.lastLimboFreeSnapshotVersion);n=_i(e.target)?Ta(t.Lt,e.target):xa(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Za(e.targetId,yi(e.target),r,o,e.sequenceNumber,i,n)}function Ms(t){var e=Aa({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ki(e,e.limit,"L"):e}var js=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ls(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ns(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Ls(t).put({bundleId:(n=e).id,createTime:Os(pa(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Bs(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ms(e.bundledQuery),readTime:Ns(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Bs(t).put(function(t){return{name:t.name,readTime:Os(pa(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ls(t){return _s(t,is.store)}function Bs(t){return _s(t,os.store)}var Fs=function(){function t(){this.Bt=new Vs}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),cs.resolve()},t.prototype.getCollectionParents=function(t,e){return cs.resolve(this.Bt.getEntries(e))},t}(),Vs=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Uo(Vr.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Uo(Vr.comparator)).toArray()},t}(),Us=function(){function t(){this.qt=new Vs}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Va(i)};return qs(t).put(o)}return cs.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Rr(e),""],!1,!0);return qs(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(za(o.parent))}return n}))},t}();function qs(t){return _s(t,ns.store)}var zs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hs=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Gs(t,e,n){var r=t.store(Ka.store),i=t.store($a.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,l=r.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(l.next((function(){Tr(1===s)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=$a.key(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return cs.waitFor(o).next((function(){return u}))}function Ws(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Sr();e=t.noDocument}return JSON.stringify(e).length}Hs.DEFAULT_COLLECTION_PERCENTILE=10,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hs.DEFAULT=new Hs(41943040,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hs.DISABLED=new Hs(-1,0,0);var Ks=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Tr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Js(t).$t({index:Ka.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Qs(t),a=Js(t);return a.add({}).next((function(s){Tr("number"==typeof s);for(var l=new Cs(s,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return Ia(t.Lt,e)})),i=n.mutations.map((function(e){return Ia(t.Lt,e)}));return new Ka(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,l),c=[],h=new Uo((function(t,e){return Nr(t.canonicalString(),e.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],g=$a.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),c.push(a.put(u)),c.push(o.put(g,$a.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[s]=l.keys()})),cs.waitFor(c).next((function(){return l}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Js(t).get(e).next((function(t){return t?(Tr(t.userId===n.userId),Ps(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?cs.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Js(t).$t({index:Ka.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Tr(e.batchId>=r),o=Ps(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Js(t).$t({index:Ka.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Js(t).Nt(Ka.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ps(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=$a.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Qs(t).$t({range:i},(function(r,i,a){var s=r[0],l=r[2],u=za(r[1]);if(s===n.userId&&e.path.isEqual(u))return Js(t).get(l).next((function(t){if(!t)throw Sr();Tr(t.userId===n.userId),o.push(Ps(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Uo(Nr),i=[];return e.forEach((function(e){var o=$a.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Qs(t).$t({range:a},(function(t,i,o){var a=t[0],s=t[2],l=za(t[1]);a===n.userId&&e.path.isEqual(l)?r=r.add(s):o.done()}));i.push(s)})),cs.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=$a.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Uo(Nr);return Qs(t).$t({range:a},(function(t,e,o){var a=t[0],l=t[2],u=za(t[1]);a===n.userId&&r.isPrefixOf(u)?u.length===i&&(s=s.add(l)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Js(t).get(e).next((function(t){if(null===t)throw Sr();Tr(t.userId===n.userId),r.push(Ps(n.R,t))})))})),cs.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Gs(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),cs.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return cs.resolve();var r=IDBKeyRange.lowerBound($a.prefixForUser(e.userId)),i=[];return Qs(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=za(t[1]);i.push(o)}else r.done()})).next((function(){Tr(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return $s(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Ys(t).get(this.userId).next((function(t){return t||new Wa(e.userId,-1,"")}))},t}();function $s(t,e,n){var r=$a.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Qs(t).$t({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function Js(t){return _s(t,Ka.store)}function Qs(t){return _s(t,$a.store)}function Ys(t){return _s(t,Wa.store)}var Xs=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Zs=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Xs(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Mr.fromTimestamp(new Dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return tl(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Tr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return tl(t).$t((function(a,s){var l=Rs(s);l.sequenceNumber<=e&&null===n.get(l.targetId)&&(i++,o.push(r.removeTargetData(t,l)))})).next((function(){return cs.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return tl(t).$t((function(t,n){var r=Rs(n);e(r)}))},t.prototype.Xt=function(t){return el(t).get(es.key).next((function(t){return Tr(null!==t),t}))},t.prototype.Zt=function(t,e){return el(t).put(es.key,e)},t.prototype.te=function(t,e){return tl(t).put(Ds(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=yi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return tl(t).$t({range:r,index:Za.queryTargetsIndexName},(function(t,n,r){var o=Rs(n);wi(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=nl(t);return e.forEach((function(e){var a=Va(e.path);i.push(o.put(new ts(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),cs.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=nl(t);return cs.forEach(e,(function(e){var o=Va(e.path);return cs.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=nl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=nl(t),i=Qo();return r.$t({range:n,kt:!0},(function(t,e,n){var r=za(t[1]),o=new ti(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Va(e.path),r=IDBKeyRange.bound([n],[Rr(n)],!1,!0),i=0;return nl(t).$t({index:ts.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return tl(t).get(e).next((function(t){return t?Rs(t):null}))},t}();function tl(t){return _s(t,Za.store)}function el(t){return _s(t,es.store)}function nl(t){return _s(t,ts.store)}function rl(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){if(t.code!==br.FAILED_PRECONDITION||t.message!==ss)throw t;return Cr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function il(t,e){var n=t[1],r=e[1],i=Nr(t[0],e[0]);return 0===i?Nr(n,r):i}var ol=function(){function t(t){this.ne=t,this.buffer=new Uo(il),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();il(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),al=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Cr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return gs(e=n.sent())?(Cr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,rl(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),sl=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return cs.resolve(vr.o);var r=new ol(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Cr("LruGarbageCollector","Garbage collection skipped; disabled"),cs.resolve(zs)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Cr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),zs):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,l,u=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>u.params.maximumSequenceNumbersToCollect?(Cr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),u.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),u.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),u.removeOrphanedDocuments(t,n)})).next((function(t){return l=Date.now(),_r()<=c.a.DEBUG&&Cr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(l-s)+"ms\nTotal Duration: "+(l-h)+"ms"),cs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),ll=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new sl(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return ul(t,n)},t.prototype.removeReference=function(t,e,n){return ul(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return ul(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Ys(t).Ot((function(r){return $s(t,r,e).next((function(t){return t&&(n=!0),cs.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var l=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),nl(t).delete([0,Va(a.path)])}))}));i.push(l)}})).next((function(){return cs.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return ul(t,e)},t.prototype.we=function(t,e){var n,r=nl(t),i=vr.o;return r.$t({index:ts.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==vr.o&&e(new ti(za(n)),i),i=a,n=o):i=vr.o})).next((function(){i!==vr.o&&e(new ti(za(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function ul(t,e){return nl(t).put(function(t,e){return new ts(0,Va(t.path),e)}(e,t.currentSequenceNumber))}var cl=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Lr(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Br(this.inner)},t}(),hl=function(){function t(){this.changes=new cl((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Mr.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:mi.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?cs.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),dl=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return gl(t).put(ml(e),n)},t.prototype.removeEntry=function(t,e){var n=gl(t),r=ml(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return gl(t).get(ml(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return gl(t).get(ml(e)).next((function(t){return{document:n.ye(e,t),size:Ws(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Ho();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Ho(),i=new Bo(ti.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Ws(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return cs.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return gl(t).$t({range:r},(function(t,e,r){for(var a=ti.fromSegments(t);o&&ti.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ho(),o=e.path.length+1,a={};if(n.isEqual(Mr.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var l=e.path.toArray(),u=xs(n);a.range=IDBKeyRange.lowerBound([l,u],!0),a.index=Ya.collectionReadTimeIndex}return gl(t).$t(a,(function(t,n,a){if(t.length===o){var s=Ss(r.R,n);e.path.isPrefixOf(s.key.path)?Yi(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new fl(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return pl(t).get(Xa.key).next((function(t){return Tr(!!t),t}))},t.prototype.me=function(t,e){return pl(t).put(Xa.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ss(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Mr.min()))return n}return mi.newInvalidDocument(t)},t}(),fl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new cl((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return o(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Uo((function(t,e){return Nr(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var l=Ts(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var u=Ws(l);r+=u-s,n.push(e.Ie.addEntry(t,o,l))}else if(r-=s,e.trackRemovals){var c=Ts(e.Ie.R,mi.newNoDocument(o,Mr.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,c))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),cs.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(hl);function pl(t){return _s(t,Xa.store)}function gl(t){return _s(t,Ya.store)}function ml(t){return t.path.toArray()}var vl=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Tr(n<r&&n>=0&&r<=11);var o=new hs("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ga.store)}(t),function(t){t.createObjectStore(Wa.store,{keyPath:Wa.keyPath}),t.createObjectStore(Ka.store,{keyPath:Ka.keyPath,autoIncrement:!0}).createIndex(Ka.userMutationsIndex,Ka.userMutationsKeyPath,{unique:!0}),t.createObjectStore($a.store)}(t),bl(t),function(t){t.createObjectStore(Ya.store)}(t));var a=cs.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ts.store),t.deleteObjectStore(Za.store),t.deleteObjectStore(es.store)}(t),bl(t)),a=a.next((function(){return function(t){var e=t.store(es.store),n=new es(0,0,Mr.min().toTimestamp(),0);return e.put(es.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Ka.store).Nt().next((function(n){t.deleteObjectStore(Ka.store),t.createObjectStore(Ka.store,{keyPath:Ka.keyPath,autoIncrement:!0}).createIndex(Ka.userMutationsIndex,Ka.userMutationsKeyPath,{unique:!0});var r=e.store(Ka.store),i=n.map((function(t){return r.put(t)}));return cs.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(rs.store,{keyPath:rs.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Xa.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ya.store);e.createIndex(Ya.readTimeIndex,Ya.readTimeIndexPath,{unique:!1}),e.createIndex(Ya.collectionReadTimeIndex,Ya.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(is.store,{keyPath:is.keyPath})}(t),function(t){t.createObjectStore(os.store,{keyPath:os.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(Ya.store).$t((function(t,n){e+=Ws(n)})).next((function(){var n=new Xa(e);return t.store(Xa.store).put(Xa.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Wa.store),r=t.store(Ka.store);return n.Nt().next((function(n){return cs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ka.userMutationsIndex,i).next((function(r){return cs.forEach(r,(function(r){Tr(r.userId===n.userId);var i=Ps(e.R,r);return Gs(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(ts.store),n=t.store(Ya.store);return t.store(es.store).get(es.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Vr(n),a=function(t){return[0,Va(t)]}(o);r.push(e.get(a).next((function(n){return n?cs.resolve():function(n){return e.put(new ts(0,Va(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return cs.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(ns.store,{keyPath:ns.keyPath});var n=e.store(ns.store),r=new Vs,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Va(i)})}};return e.store(Ya.store).$t({kt:!0},(function(t,e){var n=new Vr(t);return i(n.popLast())})).next((function(){return e.store($a.store).$t({kt:!0},(function(t,e){var n=za(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Za.store);return n.$t((function(t,r){var i=Rs(r),o=Ds(e.R,i);return n.put(o)}))},t}();function bl(t){t.createObjectStore(ts.store,{keyPath:ts.keyPath}).createIndex(ts.documentTargetsIndex,ts.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Za.store,{keyPath:Za.keyPath}).createIndex(Za.queryTargetsIndexName,Za.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(es.store)}var yl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wl=function(){function t(e,n,r,i,o,a,s,l,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new yr(br.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ll(this,i),this.Le=n+"main",this.R=new Is(l),this.Be=new ds(this.Le,11,new vl(this.R)),this.qe=new Zs(this.referenceDelegate,this.R),this.Ut=new Us,this.Ue=function(t,e){return new dl(t,e)}(this.R,this.Ut),this.Ke=new js,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===c&&kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new yr(br.FAILED_PRECONDITION,yl);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new vr(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return a(e,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Cl(e).put(new rs(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(gs(e))return Cr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Cr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return _l(t).get(Ga.key).next((function(t){return cs.resolve(e.tn(t))}))},t.prototype.en=function(t){return Cl(t).delete(this.clientId)},t.prototype.nn=function(){return a(this,void 0,void 0,(function(){var t,e,n,r=this;return s(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=_s(t,rs.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return cs.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?cs.resolve(!0):_l(t).get(Ga.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new yr(br.FAILED_PRECONDITION,yl);return!1}}return!(!e.networkEnabled||!e.inForeground)||Cl(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Cr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ga.store,rs.store],(function(e){var n=new ws(e,vr.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Cl(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Ks.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Cr("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",as,(function(o){return r=new ws(o,i.Ne?i.Ne.next():vr.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw kr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new yr(br.FAILED_PRECONDITION,ss);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return _l(t).get(Ga.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new yr(br.FAILED_PRECONDITION,yl)}))},t.prototype.Ze=function(t){var e=new Ga(this.clientId,this.allowTabSynchronization,Date.now());return _l(t).put(Ga.key,e)},t.yt=function(){return ds.yt()},t.prototype.Xe=function(t){var e=this,n=_l(t);return n.get(Ga.key).next((function(t){return e.tn(t)?(Cr("IndexedDbPersistence","Releasing primary lease."),n.delete(Ga.key)):cs.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(kr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),Object(u.D)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Cr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return kr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){kr("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function _l(t){return _s(t,Ga.store)}function Cl(t){return _s(t,rs.store)}function kl(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var El=function(t,e){this.progress=t,this.wn=e},Il=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ti.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Hi(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ti(e)).next((function(t){var e=Wo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Wo();return this.Ut.getCollectionParents(t,i).next((function(a){return cs.forEach(a,(function(a){var s=function(t,e){return new Li(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var l=s[a],u=l.key,c=r.get(u);null==c&&(c=mi.newInvalidDocument(u),r=r.insert(u,c)),Co(l,c,o.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}))})).next((function(){return r.forEach((function(t,n){Yi(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Qo(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var l=s[a];l instanceof To&&null===n.get(l.key)&&(r=r.add(l.key))}var u=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))})),u}))},t}(),Sl=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Qo(),i=Qo(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Tl=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Mr.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(Vi(e)||Ui(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(_r()<=c.a.DEBUG&&Cr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Qi(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Uo(Xi(t));return e.forEach((function(e,r){Yi(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return _r()<=c.a.DEBUG&&Cr("QueryEngine","Using full collection scan to execute query:",Qi(e)),this.Sn.getDocumentsMatchingQuery(t,e,Mr.min())},t}(),xl=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Bo(Nr),this.kn=new cl((function(t){return yi(t)}),wi),this.$n=Mr.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Il(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function Al(t,e,n,r){return new xl(t,e,n,r)}function Ol(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(a){switch(a.label){case 0:return n=xr(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Il(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=Qo(),s=0,l=o;s<l.length;s++){var u=l[s];n.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++)a=a.add(h[c].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)a=a.add(m[g].key)}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Nl(t,e){var n=xr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=cs.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Tr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Pl(t){var e=xr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Rl(t,e){var n=xr(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var l=e.resumeToken;if(l.approximateByteSize()>0){var u=s.withResumeToken(l,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,u),function(t,e,n){return Tr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,u,e)&&a.push(n.qe.updateTargetData(t,u))}}}));var s=Ho();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Dl(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Mr.min())){var l=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(l)}return cs.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function Dl(t,e,n,r,i){var o=Qo();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Ho();return n.forEach((function(n,a){var s=t.get(n),l=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Mr.min())?(e.removeEntry(n,l),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,l),o=o.insert(n,a)):Cr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Ml(t,e){var n=xr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function jl(t,e){var n=xr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?cs.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new Es(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Ll(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,a;return s(this,(function(s){switch(s.label){case 0:r=xr(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!gs(a=s.sent()))throw a;return Cr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Bl(t,e,n){var r=xr(t),i=Mr.min(),o=Qo();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=xr(t),i=r.kn.get(n);return void 0!==i?cs.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Wi(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Mr.min(),n?o:Qo())})).next((function(t){return{documents:t,Bn:o}}))}))}function Fl(t,e){var n=xr(t),r=xr(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Vl(t){var e=xr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=xr(t),i=Ho(),o=xs(n),a=gl(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Ya.readTimeIndex,range:s},(function(t,e){var n=Ss(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:As(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn;return e.$n=t.readTime,n}))}function Ul(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){return[2,(e=xr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=gl(t),n=Mr.min();return e.$t({index:Ya.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=As(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function ql(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,a,l,u,c,h,d,f,p;return s(this,(function(s){switch(s.label){case 0:for(i=xr(t),o=Qo(),a=Ho(),l=$o(),u=0,c=n;u<c.length;u++)d=e.qn((h=c[u]).metadata.name),h.document&&(o=o.add(d)),a=a.insert(d,e.Un(h)),l=l.insert(d,e.Kn(h.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,jl(i,function(t){return Wi(Fi(Vr.fromString("__bundle__/docs/"+t)))}(r))];case 1:return p=s.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Dl(t,f,a,Mr.min(),l).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,p.targetId).next((function(){return i.qe.addMatchingKeys(t,o,p.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function zl(t,e,n){return void 0===n&&(n=Qo()),a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:return[4,jl(t,Wi(Ms(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=xr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=pa(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var a=r.withResumeToken(Hr.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var Hl=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return cs.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:pa(n.createTime)}),cs.resolve()},t.prototype.getNamedQuery=function(t,e){return cs.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Ms(t.bundledQuery),readTime:pa(t.readTime)}}(e)),cs.resolve()},t}(),Gl=function(){function t(){this.Wn=new Uo(Wl.Gn),this.zn=new Uo(Wl.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Wl(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Wl(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new ti(new Vr([])),r=new Wl(n,t),i=new Wl(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ti(new Vr([])),n=new Wl(e,t),r=new Wl(e,t+1),i=Qo();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Wl(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Wl=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ti.comparator(t.key,e.key)||Nr(t.ns,e.ns)},t.Hn=function(t,e){return Nr(t.ns,e.ns)||ti.comparator(t.key,e.key)},t}(),Kl=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Uo(Wl.Gn)}return t.prototype.checkEmpty=function(t){return cs.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Cs(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var l=s[a];this.rs=this.rs.add(new Wl(l.key,i)),this.Ut.addToCollectionParentIndex(t,l.key.path.popLast())}return cs.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return cs.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return cs.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return cs.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return cs.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Wl(e,0),i=new Wl(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),cs.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Uo(Nr);return e.forEach((function(t){var e=new Wl(t,0),i=new Wl(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),cs.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ti.isDocumentKey(i)||(i=i.child(""));var o=new Wl(new ti(i),0),a=new Uo(Nr);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),cs.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Tr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return cs.forEach(e.mutations,(function(i){var o=new Wl(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Wl(e,0),r=this.rs.firstAfterOrEqual(n);return cs.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return cs.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),$l=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Bo(ti.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return cs.resolve(n?n.document.clone():mi.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ho();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():mi.newInvalidDocument(t))})),cs.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ho(),i=new ti(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,l=s.document,u=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;u.compareTo(n)<=0||Yi(e,l)&&(r=r.insert(l.key,l.clone()))}return cs.resolve(r)},t.prototype.fs=function(t,e){return cs.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Jl(this)},t.prototype.getSize=function(t){return cs.resolve(this.size)},t}(),Jl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return o(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),cs.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(hl),Ql=function(){function t(t){this.persistence=t,this.ds=new cl((function(t){return yi(t)}),wi),this.lastRemoteSnapshotVersion=Mr.min(),this.highestTargetId=0,this.ws=0,this._s=new Gl,this.targetCount=0,this.ys=Xs.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),cs.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return cs.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return cs.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),cs.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),cs.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Xs(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,cs.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),cs.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,cs.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),cs.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return cs.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return cs.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),cs.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),cs.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),cs.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return cs.resolve(n)},t.prototype.containsKey=function(t,e){return cs.resolve(this._s.containsKey(e))},t}(),Yl=function(){function t(t,e){var n=this;this.gs={},this.Ne=new vr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Ql(this),this.Ut=new Fs,this.Ue=function(t,e){return new $l(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Is(e),this.Ke=new Hl(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Kl(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Cr("MemoryPersistence","Starting transaction:",t);var i=new Xl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return cs.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Xl=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return o(e,t),e}(ls),Zl=function(){function t(t){this.persistence=t,this.As=new Gl,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Sr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),cs.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),cs.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),cs.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cs.forEach(this.vs,(function(r){var i=ti.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return cs.or([function(){return cs.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),tu=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function eu(t,e){return"firestore_clients_"+t+"_"+e}function nu(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function ru(t,e){return"firestore_targets_"+t+"_"+e}tu.UNAUTHENTICATED=new tu(null),tu.GOOGLE_CREDENTIALS=new tu("google-credentials-uid"),tu.FIRST_PARTY=new tu("first-party-uid");var iu=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new yr(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(kr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ou=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new yr(i.error.code,i.error.message)),o?new t(e,i.state,r):(kr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),au=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Xo(),a=0;i&&a<r.activeTargetIds.length;++a)i=Zr(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(kr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),su=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(kr("SharedClientState","Failed to parse online state: "+e),null)},t}(),lu=function(){function t(){this.activeTargetIds=Xo()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),uu=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Bo(Nr),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=eu(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new lu),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l,u,c,h=this;return s(this,(function(s){switch(s.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(eu(this.persistenceKey,r)))&&(o=au.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(l=this.js(a))&&this.Ws(l),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(ru(this.persistenceKey,t));if(n){var r=ou.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(ru(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Cr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Cr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Cr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Cr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return a(e,void 0,void 0,(function(){var t,e,r,i,o,a;return s(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=vr.o;if(null!=t)try{var n=JSON.parse(t);Tr("number"==typeof n),e=n}catch(t){kr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==vr.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new iu(this.currentUser,t,e,n),i=nu(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=nu(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=ru(this.persistenceKey,t),i=new ou(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return au.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return iu.Vs(new tu(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return ou.Vs(r,e)},t.prototype.js=function(t){return su.Vs(t)},t.prototype.ii=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Cr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Xo();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),cu=function(){function t(){this.li=new lu,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new lu,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),hu=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),du=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Cr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Cr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),fu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},pu=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),gu=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return o(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new mr;a.listenOnce(dr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case hr.NO_ERROR:var e=a.getResponseJson();Cr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case hr.TIMEOUT:Cr("Connection",'RPC "'+t+'" timed out'),o(new yr(br.DEADLINE_EXCEEDED,"Request time out"));break;case hr.HTTP_ERROR:var n=a.getStatus();if(Cr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(br).indexOf(e)>=0?e:br.UNKNOWN}(r.status);o(new yr(s,r.message))}else o(new yr(br.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new yr(br.UNAVAILABLE,"Connection failed."));break;default:Sr()}}finally{Cr("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ar,i=Zt(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new pr({})),this.Fi(o.initMessageHeaders,e),Object(u.z)()||Object(u.C)()||Object(u.v)()||Object(u.x)()||Object(u.E)()||Object(u.u)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Cr("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),l=!1,c=!1,h=new pu({Ei:function(t){c?Cr("Connection","Not sending because WebChannel is closed:",t):(l||(Cr("Connection","Opening WebChannel transport."),s.open(),l=!0),Cr("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),d=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(s,gr.EventType.OPEN,(function(){c||Cr("Connection","WebChannel transport opened.")})),d(s,gr.EventType.CLOSE,(function(){c||(c=!0,Cr("Connection","WebChannel transport closed"),h.Vi())})),d(s,gr.EventType.ERROR,(function(t){c||(c=!0,Er("Connection","WebChannel transport errored:",t),h.Vi(new yr(br.UNAVAILABLE,"The operation could not be completed")))})),d(s,gr.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Tr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Cr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=No[t];if(void 0!==e)return Lo(e)}(i),a=r.message;void 0===o&&(o=br.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,h.Vi(new yr(o,a)),s.close()}else Cr("Connection","WebChannel received:",n),h.Si(n)}})),d(i,fr.STAT_EVENT,(function(t){10===t.stat?Cr("Connection","Detected buffering proxy"):11===t.stat&&Cr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Cr("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Cr("RestConnection","Received: ",t),t}),(function(e){throw Er("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+fu[t]},t}());function mu(){return"undefined"!=typeof window?window:null}function vu(){return"undefined"!=typeof document?document:null}function bu(t){return new ca(t,!0)}var yu=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Cr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),wu=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new yu(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===br.RESOURCE_EXHAUSTED?(kr(e.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===br.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new yr(br.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return a(t,void 0,void 0,(function(){return s(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Cr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Cr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),_u=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return o(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Sr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Tr(void 0===e||"string"==typeof e),Hr.fromBase64String(e||"")):(Tr(void 0===e||e instanceof Uint8Array),Hr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?br.UNKNOWN:Lo(t.code);return new yr(e,t.message||"")}(s);n=new ra(r,i,o,a||null)}else if("documentChange"in e){i=ba(t,(r=e.documentChange).document.name),o=pa(r.document.updateTime);var s=new pi({mapValue:{fields:r.document.fields}}),l=(a=mi.newFoundDocument(i,o,s),r.targetIds||[]);n=new ea(l,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=ba(t,(r=e.documentDelete).document),o=r.readTime?pa(r.readTime):Mr.min(),s=mi.newNoDocument(i,o),n=new ea([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=ba(t,(r=e.documentRemove).document),n=new ea([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Sr();var u=e.filter;i=new Mo(r=u.count||0),n=new na(o=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Mr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Mr.min():e.readTime?pa(e.readTime):Mr.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=_a(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=_i(r)?{documents:Ta(t,r)}:{query:xa(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=da(t,e.resumeToken):e.snapshotVersion.compareTo(Mr.min())>0&&(n.readTime=ha(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=_a(this.R),e.removeTarget=t,this.cr(e)},e}(wu),Cu=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return o(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Tr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Tr(void 0!==e),t.map((function(t){return function(t,e){var n=pa(t.updateTime?t.updateTime:e);return n.isEqual(Mr.min())&&(n=pa(e)),new vo(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=pa(t.commitTime);return this.listener.Tr(n,e)}return Tr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=_a(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ia(e.R,t)}))};this.cr(n)},e}(wu),ku=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return o(e,t),e.prototype.br=function(){if(this.Rr)throw new yr(br.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===br.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new yr(br.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===br.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new yr(br.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Eu=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(kr(e),this.Vr=!1):Cr("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Iu=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return a(o,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return Du(this)?(Cr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return(e=xr(t)).Or.add(4),[4,Tu(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Su(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Eu(n,r)};function Su(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:if(!Du(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Tu(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function xu(t,e){var n=xr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Ru(n)?Pu(n):Ju(n).er()&&Ou(n,e))}function Au(t,e){var n=xr(t),r=Ju(n);n.$r.delete(e),r.er()&&Nu(n,e),0===n.$r.size&&(r.er()?r.ir():Du(n)&&n.Br.set("Unknown"))}function Ou(t,e){t.qr.U(e.targetId),Ju(t).mr(e)}function Nu(t,e){t.qr.U(e),Ju(t).yr(e)}function Pu(t){t.qr=new oa({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Ju(t).start(),t.Br.Sr()}function Ru(t){return Du(t)&&!Ju(t).tr()&&t.$r.size>0}function Du(t){return 0===xr(t).Or.size}function Mu(t){t.qr=void 0}function ju(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return t.$r.forEach((function(e,n){Ou(t,e)})),[2]}))}))}function Lu(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){return Mu(t),Ru(t)?(t.Br.Nr(e),Pu(t)):t.Br.set("Unknown"),[2]}))}))}function Bu(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o;return s(this,(function(l){switch(l.label){case 0:if(t.Br.set("Online"),!(e instanceof ra&&2===e.state&&e.cause))return[3,6];l.label=1;case 1:return l.trys.push([1,3,,5]),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return l.sent(),[3,5];case 3:return r=l.sent(),Cr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Fu(t,r)];case 4:return l.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ea?t.qr.X(e):e instanceof na?t.qr.rt(e):t.qr.et(e),n.isEqual(Mr.min()))return[3,13];l.label=7;case 7:return l.trys.push([7,11,,13]),[4,Pl(t.localStore)];case 8:return i=l.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Hr.EMPTY_BYTE_STRING,n.snapshotVersion)),Nu(t,e);var r=new Es(n.target,e,1,n.sequenceNumber);Ou(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:l.sent(),l.label=10;case 10:return[3,13];case 11:return Cr("RemoteStore","Failed to raise snapshot:",o=l.sent()),[4,Fu(t,o)];case 12:return l.sent(),[3,13];case 13:return[2]}}))}))}function Fu(t,e,n){return a(this,void 0,void 0,(function(){var r=this;return s(this,(function(i){switch(i.label){case 0:if(!gs(e))throw e;return t.Or.add(1),[4,Tu(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Pl(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return a(r,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return Cr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Su(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Vu(t,e){return e().catch((function(n){return Fu(t,n,e)}))}function Uu(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o;return s(this,(function(a){switch(a.label){case 0:e=xr(t),n=Qu(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Du(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Ml(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Qu(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Fu(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return qu(e)&&zu(e),[2]}}))}))}function qu(t){return Du(t)&&!Qu(t).tr()&&t.kr.length>0}function zu(t){Qu(t).start()}function Hu(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return Qu(t).Ar(),[2]}))}))}function Gu(t){return a(this,void 0,void 0,(function(){var e,n,r;return s(this,(function(i){for(e=Qu(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function Wu(t,e,n){return a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=ks.from(r,e,n),[4,Vu(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Uu(t)];case 2:return o.sent(),[2]}}))}))}function Ku(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return e&&Qu(t).pr?[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return jo(r=e.code)&&r!==br.ABORTED?(n=t.kr.shift(),Qu(t).sr(),[4,Vu(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Uu(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return qu(t)&&zu(t),[2]}}))}))}function $u(t,e){return a(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return n=xr(t),e?(n.Or.delete(2),[4,Su(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Tu(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ju(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=xr(t);return r.br(),new _u(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:ju.bind(null,t),Ri:Lu.bind(null,t),_r:Bu.bind(null,t)}),t.Mr.push((function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Ru(t)?Pu(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Mu(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Qu(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=xr(t);return r.br(),new Cu(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Hu.bind(null,t),Ri:Ku.bind(null,t),Ir:Gu.bind(null,t),Tr:Wu.bind(null,t)}),t.Mr.push((function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Uu(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(Cr("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var Yu=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yr(br.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Xu(t,e){if(kr("AsyncQueue",e+": "+t),gs(t))return new yr(br.UNAVAILABLE,e+": "+t);throw t}var Zu=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ti.comparator(e.key,n.key)}:function(t,e){return ti.comparator(t.key,e.key)},this.keyedMap=Wo(),this.sortedSet=new Bo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),tc=function(){function t(){this.Qr=new Bo(ti.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Sr():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),ec=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Zu.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$i(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),nc=function(){this.Wr=void 0,this.listeners=[]},rc=function(){this.queries=new cl((function(t){return Ji(t)}),$i),this.onlineState="Unknown",this.Gr=new Set};function ic(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a,l,u;return s(this,(function(s){switch(s.label){case 0:if(n=xr(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new nc),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=s.sent(),[3,4];case 3:return l=s.sent(),u=Xu(l,"Initialization of query '"+Qi(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&lc(n),[2]}}))}))}function oc(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a;return s(this,(function(s){return n=xr(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function ac(t,e){for(var n=xr(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var l=0,u=s.listeners;l<u.length;l++)u[l].Hr(a)&&(r=!0);s.Wr=a}}r&&lc(n)}function sc(t,e,n){var r=xr(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function lc(t){t.Gr.forEach((function(t){t.next()}))}var uc=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ec(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=ec.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),cc=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),hc=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return ba(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ea(this.R,t.document,!1):mi.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return pa(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new hc(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,l=o.metadata.queries;s<l.length;s++){var u=l[s],c=(e.get(u)||Qo()).add(a);e.set(u,c)}}return e},t.prototype.complete=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i;return s(this,(function(o){switch(o.label){case 0:return[4,ql(this.localStore,new hc(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,zl(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new El(Object.assign({},this.progress),t))]}}))}))}}();var dc=function(t){this.key=t},fc=function(t){this.key=t},pc=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Qo(),this.mutatedKeys=Qo(),this.lo=Xi(t),this.fo=new Zu(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new tc,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,l=Vi(this.query)&&i.size===this.query.limit?i.last():null,u=Ui(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var c=i.get(t),h=Yi(n.query,e)?e:null,d=!!c&&n.mutatedKeys.has(c.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(c,h)||(r.track({type:2,doc:h}),p=!0,(l&&n.lo(h,l)>0||u&&n.lo(h,u)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(l||u)&&(s=!0)),p&&(h?(a=a.add(h),o=f?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Vi(this.query)||Ui(this.query))for(;a.size>this.query.limit;){var c=Vi(this.query)?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,l=s!==this.ao;return this.ao=s,0!==o.length||l?{snapshot:new ec(this.query,t.fo,i,o,t.mutatedKeys,0===s,l,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new tc,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Qo(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new fc(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new dc(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Qo();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return ec.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),gc=function(t,e,n){this.query=t,this.targetId=e,this.view=n},mc=function(t){this.key=t,this.bo=!1},vc=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new cl((function(t){return Ji(t)}),$i),this.Vo=new Map,this.So=new Set,this.Do=new Bo(ti.comparator),this.Co=new Map,this.No=new Gl,this.xo={},this.Fo=new Map,this.ko=Xs.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function bc(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a;return s(this,(function(s){switch(s.label){case 0:return n=Kc(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,jl(n.localStore,Wi(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,yc(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&xu(n.remoteStore,o),s.label=4;case 4:return[2,r]}}))}))}function yc(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,l,u,c,h;return s(this,(function(d){switch(d.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,a;return s(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,Bl(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Pc(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,Bl(t.localStore,e,!0)];case 1:return i=d.sent(),o=new pc(e,i.Bn),l=o._o(i.documents),u=ta.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=o.applyChanges(l,t.isPrimaryClient,u),Pc(t,n,c.To),h=new gc(e,n,o),[2,(t.Po.set(e,h),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}}))}))}function wc(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return n=xr(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!$i(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ll(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Au(n.remoteStore,r.targetId),Oc(n,r.targetId)})).catch(rl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Oc(n,r.targetId),[4,Ll(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function _c(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,a;return s(this,(function(s){switch(s.label){case 0:r=$c(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=xr(t),i=Dr.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Qo());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,l=e;s<l.length;s++){var u=l[s],c=ko(u,n.get(u.key));null!=c&&a.push(new To(u.key,c,gi(c.value.mapValue),bo.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Bo(Nr)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Mc(r,i.changes)];case 3:return s.sent(),[4,Uu(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Xu(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Cc(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:n=xr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Rl(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Tr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Tr(r.bo):t.removedDocuments.size>0&&(Tr(r.bo),r.bo=!1))})),[4,Mc(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,rl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function kc(t,e,n){var r=xr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=xr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&lc(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ec(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,a,l,u;return s(this,(function(s){switch(s.label){case 0:return(r=xr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Bo(ti.comparator)).insert(o,mi.newNoDocument(o,Mr.min())),l=Qo().add(o),u=new Zo(Mr.min(),new Map,new Uo(Nr),a,l),[4,Cc(r,u)]):[3,2];case 1:return s.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Dc(r),[3,4];case 2:return[4,Ll(r.localStore,e,!1).then((function(){return Oc(r,e,n)})).catch(rl)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}function Ic(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:n=xr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Nl(n.localStore,e)];case 2:return i=o.sent(),Ac(n,r,null),xc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Mc(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,rl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Sc(t,e,n){return a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:r=xr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=xr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Tr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Ac(r,e,n),xc(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Mc(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,rl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Tc(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a;return s(this,(function(s){switch(s.label){case 0:Du((n=xr(t)).remoteStore)||Cr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=xr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Xu(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function xc(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Ac(t,e,n){var r=xr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Oc(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Nc(t,e)}))}function Nc(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Au(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Dc(t))}function Pc(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof dc?(t.No.addReference(o.key,e),Rc(t,o)):o instanceof fc?(Cr("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Nc(t,o.key)):Sr()}}function Rc(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Cr("SyncEngine","New document in limbo: "+n),t.So.add(r),Dc(t))}function Dc(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ti(Vr.fromString(e)),r=t.ko.next();t.Co.set(r,new mc(n)),t.Do=t.Do.insert(n,r),xu(t.remoteStore,new Es(Wi(Fi(n.path)),r,2,vr.o))}}function Mc(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,l;return s(this,(function(u){switch(u.label){case 0:return r=xr(t),i=[],o=[],l=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){l.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Sl.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(l)]);case 1:return u.sent(),r.vo._r(i),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a,l,u,c;return s(this,(function(s){switch(s.label){case 0:n=xr(t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return cs.forEach(e,(function(e){return cs.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return cs.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return s.sent(),[3,4];case 3:if(!gs(r=s.sent()))throw r;return Cr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)l=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(l),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(l,c));return[2]}}))}))}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function jc(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return(n=xr(t)).currentUser.isEqual(e)?[3,3]:(Cr("SyncEngine","User change. New user:",e.toKey()),[4,Ol(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new yr(br.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Mc(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Lc(t,e){var n=xr(t),r=n.Co.get(e);if(r&&r.bo)return Qo().add(r.key);var i=Qo(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var l=n.Po.get(s[a]);i=i.unionWith(l.view.wo)}return i}function Bc(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return[4,Bl((n=xr(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Pc(n,e.targetId,i.To),i)]}}))}))}function Fc(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){return[2,Vl((e=xr(t)).localStore).then((function(t){return Mc(e,t)}))]}))}))}function Vc(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o;return s(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=xr(t),r=xr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):cs.resolve(null)}))}))}((i=xr(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Uu(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ac(i,e,r||null),xc(i,e),function(t,e){xr(xr(t)._n).Gt(e)}(i.localStore,e)):Sr(),a.label=4;case 4:return[4,Mc(i,o)];case 5:return a.sent(),[3,7];case 6:Cr("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function Uc(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a,l,u;return s(this,(function(s){switch(s.label){case 0:return Kc(n=xr(t)),$c(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,qc(n,r.toArray())]);case 1:return i=s.sent(),n.$o=!0,[4,$u(n.remoteStore,!0)];case 2:for(s.sent(),o=0,a=i;o<a.length;o++)xu(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(l=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?l.push(e):u=u.then((function(){return Oc(n,e),Ll(n.localStore,e,!0)})),Au(n.remoteStore,e)})),[4,u]);case 4:return s.sent(),[4,qc(n,l)];case 5:return s.sent(),function(t){var e=xr(t);e.Co.forEach((function(t,n){Au(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Bo(ti.comparator)}(n),n.$o=!1,[4,$u(n.remoteStore,!1)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))}function qc(t,e,n){return a(this,void 0,void 0,(function(){var n,r,i,o,a,l,u,c,h,d,f,p,g;return s(this,(function(s){switch(s.label){case 0:n=xr(t),r=[],i=[],o=0,a=e,s.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(l=a[o]))&&0!==c.length?[4,jl(n.localStore,Wi(c[0]))]:[3,7]):[3,13];case 2:u=s.sent(),h=0,d=c,s.label=3;case 3:return h<d.length?(f=n.Po.get(d[h]),[4,Bc(n,f)]):[3,6];case 4:(p=s.sent()).snapshot&&i.push(p.snapshot),s.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Fl(n.localStore,l)];case 8:return g=s.sent(),[4,jl(n.localStore,g)];case 9:return u=s.sent(),[4,yc(n,zc(g),l,!1)];case 10:s.sent(),s.label=11;case 11:r.push(u),s.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function zc(t){return Bi(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Hc(t){var e=xr(t);return xr(xr(e.localStore).persistence).fn()}function Gc(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,a;return s(this,(function(s){switch(s.label){case 0:return(i=xr(t)).$o?(Cr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Vl(i.localStore)];case 3:return o=s.sent(),a=Zo.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Mc(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Ll(i.localStore,e,!0)];case 6:return s.sent(),Oc(i,e,r),[3,8];case 7:Sr(),s.label=8;case 8:return[2]}}))}))}function Wc(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,a,l,u,c,h,d;return s(this,(function(f){switch(f.label){case 0:if(!(r=Kc(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(Cr("SyncEngine","Adding an already active target "+a),[3,5]):[4,Fl(r.localStore,a)]:[3,6];case 2:return l=f.sent(),[4,jl(r.localStore,l)];case 3:return u=f.sent(),[4,yc(r,zc(l),u.targetId,!1)];case 4:f.sent(),xu(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return s(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Ll(r.localStore,t,!1).then((function(){Au(r.remoteStore,t),Oc(r,t)})).catch(rl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,d=n,f.label=7;case 7:return h<d.length?[5,c(d[h])]:[3,10];case 8:f.sent(),f.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Kc(t){var e=xr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ec.bind(null,e),e.vo._r=ac.bind(null,e.eventManager),e.vo.Mo=sc.bind(null,e.eventManager),e}function $c(t){var e=xr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ic.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sc.bind(null,e),e}var Jc=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.R=bu(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Al(this.persistence,new Tl,t.initialUser,this.R)},t.prototype.qo=function(t){return new Yl(Zl.bs,this.R)},t.prototype.Bo=function(t){return new cu},t.prototype.terminate=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Qc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return o(e,t),e.prototype.initialize=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ul(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,$c(this.Qo.syncEngine)];case 4:return n.sent(),[4,Uu(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Al(this.persistence,new Tl,t.initialUser,this.R)},e.prototype.Uo=function(t){return new al(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=kl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Hs.withCacheSize(this.cacheSizeBytes):Hs.DEFAULT;return new wl(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,mu(),vu(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new cu},e}(Jc),Yc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return o(e,t),e.prototype.initialize=function(e){return a(this,void 0,void 0,(function(){var n,r=this;return s(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof uu?(this.sharedClientState.syncEngine={ui:Vc.bind(null,n),ai:Gc.bind(null,n),hi:Wc.bind(null,n),fn:Hc.bind(null,n),ci:Fc.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return a(r,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,Uc(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=mu();if(!uu.yt(e))throw new yr(br.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=kl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new uu(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Qc),Xc=function(){function t(){}return t.prototype.initialize=function(t,e){return a(this,void 0,void 0,(function(){var n=this;return s(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return kc(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=jc.bind(null,this.syncEngine),[4,$u(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new rc},t.prototype.createDatastore=function(t){var e=bu(t.databaseInfo.databaseId),n=new gu(t.databaseInfo);return function(t,e,n){return new ku(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return kc(a.syncEngine,t,0)},o=du.yt()?new du:new hu,new Iu(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new vc(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=xr(t),Cr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Tu(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Zc=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),th=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new us,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return a(this,void 0,void 0,(function(){var t,e,n,r;return s(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new cc(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return s(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new yr(br.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a,l;return s(this,(function(s){switch(s.label){case 0:return n=xr(t),r=_a(n.R)+"/documents",i={documents:e.map((function(t){return va(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=s.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Tr(!!e.found);var n=ba(t,e.found.name),r=pa(e.found.updateTime),i=new pi({mapValue:{fields:e.found.fields}});return mi.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Tr(!!e.missing),Tr(!!e.readTime);var n=ba(t,e.missing),r=pa(e.readTime);return mi.newNoDocument(n,r)}(t,e):Sr()}(n.R,t);a.set(e.key.toString(),e)})),l=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Tr(!!e),l.push(e)})),l)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ro(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return a(this,void 0,void 0,(function(){var t,e=this;return s(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ti.fromPath(n);e.mutations.push(new Do(r,e.precondition(r)))})),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return n=xr(t),r=_a(n.R)+"/documents",i={writes:e.map((function(t){return Ia(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Sr();e=Mr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new yr(br.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?bo.updateTime(e):bo.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Mr.min()))throw new yr(br.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bo.updateTime(e)}return bo.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),eh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new yu(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return a(t,void 0,void 0,(function(){var t,e,n=this;return s(this,(function(r){return t=new th(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Yr(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!jo(e)}return!1},t}(),nh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=tu.UNAUTHENTICATED,this.clientId=Or.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return a(r,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return Cr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new yr(br.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return a(t,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Xu(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function rh(t,e){return a(this,void 0,void 0,(function(){var n,r,i=this;return s(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Cr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return a(i,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Ol(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function ih(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,oh(t)];case 1:return n=i.sent(),Cr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return(n=xr(t)).asyncQueue.verifyOperationInProgress(),Cr("RemoteStore","RemoteStore received new credentials"),r=Du(n),n.Or.add(3),[4,Tu(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Su(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function oh(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Cr("FirestoreClient","Using default OfflineComponentProvider"),[4,rh(t,new Jc)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function ah(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Cr("FirestoreClient","Using default OnlineComponentProvider"),[4,ih(t,new Xc)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function sh(t){return oh(t).then((function(t){return t.persistence}))}function lh(t){return oh(t).then((function(t){return t.localStore}))}function uh(t){return ah(t).then((function(t){return t.remoteStore}))}function ch(t){return ah(t).then((function(t){return t.syncEngine}))}function hh(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,ah(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=bc.bind(null,e.syncEngine),n.onUnlisten=wc.bind(null,e.syncEngine),n)]}}))}))}function dh(t,e,n){var r=this;void 0===n&&(n={});var i=new us;return t.asyncQueue.enqueueAndForget((function(){return a(r,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Zc({next:function(o){e.enqueueAndForget((function(){return oc(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new yr(br.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new yr(br.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new uc(Fi(n.path),o,{includeMetadataChanges:!0,so:!0});return ic(t,a)},[4,hh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function fh(t,e,n){var r=this;void 0===n&&(n={});var i=new us;return t.asyncQueue.enqueueAndForget((function(){return a(r,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Zc({next:function(n){e.enqueueAndForget((function(){return oc(t,a)})),n.fromCache&&"server"===r.source?i.reject(new yr(br.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new uc(n,o,{includeMetadataChanges:!0,so:!0});return ic(t,a)},[4,hh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var ph=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},gh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),mh=new Map,vh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},bh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(tu.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),yh=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),wh=function(){function t(t){var e=this;this.currentUser=tu.UNAUTHENTICATED,this.oc=new us,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Cr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Cr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Cr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Tr("string"==typeof n.accessToken),new vh(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return a(n,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Tr(null===t||"string"==typeof t),new tu(t)},t}(),_h=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=tu.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Ch=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new _h(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(tu.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function kh(t,e,n){if(!n)throw new yr(br.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Eh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new yr(br.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ih(t,e,n,r){if(!0===e&&!0===r)throw new yr(br.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Sh(t){if(!ti.isDocumentKey(t))throw new yr(br.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Th(t){if(ti.isDocumentKey(t))throw new yr(br.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function xh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Sr()}function Ah(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yr(br.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xh(t);throw new yr(br.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Oh(t,e){if(e<=0)throw new yr(br.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Nh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new yr(br.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yr(br.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ih("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Ph=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nh({}),this._settingsFrozen=!1,t instanceof gh?(this._databaseId=t,this._credentials=new bh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new yr(br.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gh(t.options.projectId)}(t),this._credentials=new wh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new yr(br.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new yr(br.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new bh;switch(t.type){case"gapi":var e=t.client;return Tr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ch(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new yr(br.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=mh.get(this))&&(Cr("ComponentProvider","Removing Datastore"),mh.delete(this),t.terminate()),Promise.resolve();var t},t}(),Rh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Mh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Dh=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Mh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Fi(r))||this)._path=r,i.type="collection",i}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Rh(this.firestore,null,new ti(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Dh);function jh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(u.q)(t),kh("collection","path",e),t instanceof Ph)return Th(n=Vr.fromString.apply(Vr,l([e],r))),new Mh(t,null,n);if(!(t instanceof Rh||t instanceof Mh))throw new yr(br.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Th(n=Vr.fromString.apply(Vr,l([t.path],r)).child(Vr.fromString(e))),new Mh(t.firestore,null,n)}function Lh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(u.q)(t),1===arguments.length&&(e=Or.u()),kh("doc","path",e),t instanceof Ph)return Sh(n=Vr.fromString.apply(Vr,l([e],r))),new Rh(t,null,new ti(n));if(!(t instanceof Rh||t instanceof Mh))throw new yr(br.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sh(n=t._path.child(Vr.fromString.apply(Vr,l([e],r)))),new Rh(t.firestore,t instanceof Mh?t.converter:null,new ti(n))}function Bh(t,e){return t=Object(u.q)(t),e=Object(u.q)(e),(t instanceof Rh||t instanceof Mh)&&(e instanceof Rh||e instanceof Mh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Fh(t,e){return t=Object(u.q)(t),e=Object(u.q)(e),t instanceof Dh&&e instanceof Dh&&t.firestore===e.firestore&&$i(t._query,e._query)&&t.converter===e.converter}var Vh=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new yu(this,"async_queue_retry"),this.Ic=function(){var e=vu();e&&Cr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=vu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=vu();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new us;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return a(this,void 0,void 0,(function(){var t,e=this;return s(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!gs(t=n.sent()))throw t;return Cr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,kr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Yu.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Sr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Uh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new us,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var qh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Vh,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return o(e,t),e.prototype._terminate=function(){return this._firestoreClient||Hh(this),this._firestoreClient.terminate()},e}(Ph);function zh(t){return t._firestoreClient||Hh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hh(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new ph(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new nh(t._credentials,t._queue,r)}function Gh(t,e,n){var r=this,i=new us;return t.asyncQueue.enqueue((function(){return a(r,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,rh(t,n)];case 1:return o.sent(),[4,ih(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===br.FAILED_PRECONDITION||t.code===br.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Wh(t){if(t._initialized||t._terminated)throw new yr(br.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Kh=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new yr(br.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qr(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),$h=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Hr.fromBase64String(e))}catch(e){throw new yr(br.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Hr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Jh=function(t){this._methodName=t},Qh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new yr(br.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yr(br.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Nr(this._lat,t._lat)||Nr(this._long,t._long)},t}(),Yh=/^__.*__$/,Xh=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new To(t,this.data,this.fieldMask,e,this.fieldTransforms):new So(t,this.data,e,this.fieldTransforms)},t}(),Zh=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new To(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function td(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sr()}}var ed=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return _d(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(td(this.Nc)&&Yh.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),nd=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||bu(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new ed({Nc:t,methodName:e,qc:n,path:qr.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function rd(t){var e=t._freezeSettings(),n=bu(t._databaseId);return new nd(t._databaseId,!!e.ignoreUndefinedProperties,n)}function id(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);vd("Data must be an object, but it was:",a,r);var s,l,u=gd(r,a);if(o.merge)s=new zr(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,d=o.mergeFields;h<d.length;h++){var f=bd(e,d[h],n);if(!a.contains(f))throw new yr(br.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Cd(c,f)||c.push(f)}s=new zr(c),l=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,l=a.fieldTransforms;return new Xh(new pi(u),s,l)}var od=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Jh);function ad(t,e,n){return new ed({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._toFieldTransform=function(t){return new mo(t.path,new so)},e.prototype.isEqual=function(t){return t instanceof e},e}(Jh),ld=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return o(e,t),e.prototype._toFieldTransform=function(t){var e=ad(this,t,!0),n=this.Kc.map((function(t){return pd(t,e)})),r=new lo(n);return new mo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Jh),ud=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return o(e,t),e.prototype._toFieldTransform=function(t){var e=ad(this,t,!0),n=this.Kc.map((function(t){return pd(t,e)})),r=new co(n);return new mo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Jh),cd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return o(e,t),e.prototype._toFieldTransform=function(t){var e=new fo(t.R,no(t.R,this.Qc));return new mo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Jh);function hd(t,e,n,r){var i=t.Uc(1,e,n);vd("Data must be an object, but it was:",i,r);var o=[],a=pi.empty();Lr(r,(function(t,r){var s=wd(e,t,n);r=Object(u.q)(r);var l=i.Oc(s);if(r instanceof od)o.push(s);else{var c=pd(r,l);null!=c&&(o.push(s),a.set(s,c))}}));var s=new zr(o);return new Zh(a,s,i.fieldTransforms)}function dd(t,e,n,r,i,o){var a=t.Uc(1,e,n),s=[bd(e,r,n)],l=[i];if(o.length%2!=0)throw new yr(br.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(bd(e,o[c])),l.push(o[c+1]);for(var h=[],d=pi.empty(),f=s.length-1;f>=0;--f)if(!Cd(h,s[f])){var p=s[f],g=l[f];g=Object(u.q)(g);var m=a.Oc(p);if(g instanceof od)h.push(p);else{var v=pd(g,m);null!=v&&(h.push(p),d.set(p,v))}}var b=new zr(h);return new Zh(d,b,a.fieldTransforms)}function fd(t,e,n,r){return void 0===r&&(r=!1),pd(n,t.Uc(r?4:3,e))}function pd(t,e){if(md(t=Object(u.q)(t)))return vd("Unsupported field value:",e,t),gd(t,e);if(t instanceof Jh)return function(t,e){if(!td(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=pd(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(u.q)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return no(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Dr.fromDate(t);return{timestampValue:ha(e.R,n)}}if(t instanceof Dr)return n=new Dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ha(e.R,n)};if(t instanceof Qh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $h)return{bytesValue:da(e.R,t._byteString)};if(t instanceof Rh){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ga(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+xh(t))}(t,e)}function gd(t,e){var n={};return Br(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lr(t,(function(t,r){var i=pd(r,e.Fc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function md(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Dr||t instanceof Qh||t instanceof $h||t instanceof Rh||t instanceof Jh)}function vd(t,e,n){if(!md(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=xh(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function bd(t,e,n){if((e=Object(u.q)(e))instanceof Kh)return e._internalPath;if("string"==typeof e)return wd(t,e);throw _d("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var yd=new RegExp("[~\\*/\\[\\]]");function wd(t,e,n){if(e.search(yd)>=0)throw _d("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Kh.bind.apply(Kh,l([void 0],e.split(".")))))._internalPath}catch(Cf){throw _d("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function _d(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var l="";return(o||a)&&(l+=" (found",o&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new yr(br.INVALID_ARGUMENT,(s+=". ")+t+l)}function Cd(t,e){return t.some((function(t){return t.isEqual(e)}))}var kd=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Rh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Ed(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Id("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(kd);function Id(t,e){return"string"==typeof e?wd(t,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}var Sd=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Td=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return o(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Id("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(kd),xd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Td),Ad=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Sd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new xd(n._firestore,n._userDataWriter,r.key,r,new Sd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yr(br.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new xd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Sd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new xd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Sd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Od(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Od(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sr()}}function Nd(t,e){return t instanceof Td&&e instanceof Td?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ad&&e instanceof Ad&&t._firestore===e._firestore&&Fh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Pd(t){if(Ui(t)&&0===t.explicitOrderBy.length)throw new yr(br.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rd=function(){};function Dd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Md=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return o(e,t),e.prototype._apply=function(t){var e=rd(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new yr(br.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){qd(a,o);for(var l=[],u=0,c=a;u<c.length;u++)l.push(Ud(r,t,c[u]));s={arrayValue:{values:l}}}else s=Ud(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||qd(a,o),s=fd(n,"where",a,"in"===o||"not-in"===o);var h=Ci.create(i,o,s);return function(t,e){if(e.g()){var n=zi(t);if(null!==n&&!n.isEqual(e.field))throw new yr(br.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=qi(t);null!==r&&zd(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new yr(br.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Dh(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Rd),jd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return o(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new yr(br.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new yr(br.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ri(e,n);return function(t,e){if(null===qi(t)){var n=zi(t);null!==n&&zd(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Dh(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Li(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Rd),Ld=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return o(e,t),e.prototype._apply=function(t){return new Dh(t.firestore,t.converter,Ki(t._query,this.Hc,this.Jc))},e}(Rd),Bd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return o(e,t),e.prototype._apply=function(t){var e=Vd(t,this.type,this.Yc,this.Xc);return new Dh(t.firestore,t.converter,function(t,e){return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Rd),Fd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return o(e,t),e.prototype._apply=function(t){var e=Vd(t,this.type,this.Yc,this.Xc);return new Dh(t.firestore,t.converter,function(t,e){return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Rd);function Vd(t,e,n,r){if(n[0]=Object(u.q)(n[0]),n[0]instanceof kd)return function(t,e,n,r,i){if(!r)throw new yr(br.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Gi(t);a<s.length;a++){var l=s[a];if(l.field.isKeyField())o.push(si(e,r.key));else{var u=r.data.field(l.field);if(Jr(u))throw new yr(br.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var c=l.field.canonicalString();throw new yr(br.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(u)}}return new Ni(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=rd(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new yr(br.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],l=0;l<i.length;l++){var u=i[l];if(a[l].field.isKeyField()){if("string"!=typeof u)throw new yr(br.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Hi(t)&&-1!==u.indexOf("/"))throw new yr(br.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var c=t.path.child(Vr.fromString(u));if(!ti.isDocumentKey(c))throw new yr(br.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new ti(c);s.push(si(e,h))}else{var d=fd(n,r,u);s.push(d)}}return new Ni(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Ud(t,e,n){if("string"==typeof(n=Object(u.q)(n))){if(""===n)throw new yr(br.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hi(e)&&-1!==n.indexOf("/"))throw new yr(br.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Vr.fromString(n));if(!ti.isDocumentKey(r))throw new yr(br.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return si(t,new ti(r))}if(n instanceof Rh)return si(t,n._key);throw new yr(br.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xh(n)+".")}function qd(t,e){if(!Array.isArray(t)||0===t.length)throw new yr(br.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new yr(br.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function zd(t,e,n){if(!n.isEqual(e))throw new yr(br.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Hd=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ei(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Sr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Lr(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Qh(Kr(t.latitude),Kr(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Jr(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Qr(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Wr(t);return new Dr(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Vr.fromString(t);Tr(Fa(n));var r=new gh(n.get(1),n.get(3)),i=new ti(n.popFirst(5));return r.isEqual(e)||kr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Gd(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Wd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.convertBytes=function(t){return new $h(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Rh(this.firestore,null,e)},e}(Hd),Kd=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=rd(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=$d(t,this._firestore),i=Gd(r.converter,e,n),o=id(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,bo.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=$d(t,this._firestore);return o="string"==typeof(e=Object(u.q)(e))||e instanceof Kh?dd(this._dataReader,"WriteBatch.update",a._key,e,n,r):hd(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,bo.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=$d(t,this._firestore);return this._mutations=this._mutations.concat(new Ro(e._key,bo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new yr(br.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function $d(t,e){if((t=Object(u.q)(t)).firestore!==e)throw new yr(br.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Jd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.convertBytes=function(t){return new $h(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Rh(this.firestore,null,e)},e}(Hd);function Qd(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ah(t,Rh);var o=Ah(t.firestore,qh),a=rd(o);return Xd(o,[("string"==typeof(e=Object(u.q)(e))||e instanceof Kh?dd(a,"updateDoc",t._key,e,n,r):hd(a,"updateDoc",t._key,e)).toMutation(t._key,bo.exists(!0))])}function Yd(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(u.q)(t);var l={includeMetadataChanges:!1},c=0;"object"!=typeof i[c]||Uh(i[c])||(l=i[c],c++);var h,d,f,p={includeMetadataChanges:l.includeMetadataChanges};if(Uh(i[c])){var g=i[c];i[c]=null===(e=g.next)||void 0===e?void 0:e.bind(g),i[c+1]=null===(n=g.error)||void 0===n?void 0:n.bind(g),i[c+2]=null===(r=g.complete)||void 0===r?void 0:r.bind(g)}if(t instanceof Rh)d=Ah(t.firestore,qh),f=Fi(t._key.path),h={next:function(e){i[c]&&i[c](Zd(d,t,e))},error:i[c+1],complete:i[c+2]};else{var m=Ah(t,Dh);d=Ah(m.firestore,qh),f=m._query;var v=new Jd(d);h={next:function(t){i[c]&&i[c](new Ad(d,v,m,t))},error:i[c+1],complete:i[c+2]},Pd(t._query)}return function(t,e,n,r){var i=this,o=new Zc(r),l=new uc(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return a(i,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=ic,[4,hh(t)];case 1:return[2,e.apply(void 0,[n.sent(),l])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return a(i,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=oc,[4,hh(t)];case 1:return[2,e.apply(void 0,[n.sent(),l])]}}))}))}))}}(zh(d),f,p,h)}function Xd(t,e){return function(t,e){var n=this,r=new us;return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=_c,[4,ch(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(zh(t),e)}function Zd(t,e,n){var r=n.docs.get(e._key),i=new Jd(t);return new Td(t,i,e._key,r,new Sd(n.hasPendingWrites,n.fromCache),e.converter)}var tf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return o(e,t),e.prototype.get=function(e){var n=this,r=$d(e,this._firestore),i=new Jd(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Td(n._firestore,i,r._key,t._document,new Sd(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=rd(t)}return t.prototype.get=function(t){var e=this,n=$d(t,this._firestore),r=new Wd(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Sr();var i=t[0];if(i.isFoundDocument())return new kd(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new kd(e._firestore,r,n._key,null,n.converter);throw Sr()}))},t.prototype.set=function(t,e,n){var r=$d(t,this._firestore),i=Gd(r.converter,e,n),o=id(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=$d(t,this._firestore);return o="string"==typeof(e=Object(u.q)(e))||e instanceof Kh?dd(this._dataReader,"Transaction.update",a._key,e,n,r):hd(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=$d(t,this._firestore);return this._transaction.delete(e._key),this},t}());function ef(){if("undefined"==typeof Uint8Array)throw new yr(br.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nf(){if("undefined"==typeof atob)throw new yr(br.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rf=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return nf(),new t($h.fromBase64String(e))},t.fromUint8Array=function(e){return ef(),new t($h.fromUint8Array(e))},t.prototype.toBase64=function(){return nf(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return ef(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),of=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Wh(t=Ah(t,qh));var n=zh(t),r=t._freezeSettings(),i=new Xc;return Gh(n,i,new Qc(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Wh(t=Ah(t,qh));var e=zh(t),n=t._freezeSettings(),r=new Xc;return Gh(e,r,new Yc(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new yr(br.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new us;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return ds.yt()?[4,ds.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(kl(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),af=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof gh||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Er("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Ah(t,Ph))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Er("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(u.l)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new yr(br.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new yh(new vh(o,new tu(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return a(e,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,sh(t)];case 1:return e=r.sent(),[4,uh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=xr(t);return e.Or.delete(0),Su(e)}(n))]}}))}))}))}(zh(Ah(this._delegate,qh)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return a(e,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,sh(t)];case 1:return e=r.sent(),[4,uh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return(e=xr(t)).Or.add(0),[4,Tu(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(zh(Ah(this._delegate,qh)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ih("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new us;return t.asyncQueue.enqueueAndForget((function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(r){switch(r.label){case 0:return e=Tc,[4,ch(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(zh(Ah(this._delegate,qh)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Zc(e);return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=function(t,e){xr(t).Gr.add(e),e.next()},[4,hh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=function(t,e){xr(t).Gr.delete(e)},[4,hh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(zh(t=Ah(t,qh)),Uh(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new yr(br.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new wf(this,jh(this._delegate,t))}catch(t){throw df(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new hf(this,Lh(this._delegate,t))}catch(t){throw df(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new vf(this,function(t,e){if(t=Ah(t,Ph),kh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new yr(br.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Dh(t,null,function(t){return new Li(Vr.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw df(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new us;return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return[4,function(t){return ah(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new eh(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(zh(t),(function(n){return e(new tf(t,n))}))}(this._delegate,(function(n){return t(new lf(e,n))}))},t.prototype.batch=function(){var t=this;return zh(this._delegate),new uf(new Kd(this._delegate,(function(e){return Xd(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new yr(br.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new yr(br.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),sf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.convertBytes=function(t){return new rf(new $h(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return hf.eu(e,this.firestore,null)},e}(Hd),lf=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new sf(t)}return t.prototype.get=function(t){var e=this,n=_f(t);return this._delegate.get(n).then((function(t){return new gf(e._firestore,new Td(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=_f(t);return n?(Eh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=_f(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,l([a,e,n],i)),this},t.prototype.delete=function(t){var e=_f(t);return this._delegate.delete(e),this},t}(),uf=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=_f(t);return n?(Eh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=_f(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,l([a,e,n],i)),this},t.prototype.delete=function(t){var e=_f(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),cf=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new xd(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new mf(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new sf(e),n),i.set(n,o)),o},t}();cf.su=new WeakMap;var hf=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new sf(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new yr(br.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Rh(n._delegate,r,new ti(e)))},t.eu=function(e,n,r){return new t(n,new Rh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new wf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new wf(this.firestore,jh(this._delegate,t))}catch(t){throw df(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(u.q)(t))instanceof Rh&&Bh(this._delegate,t)},t.prototype.set=function(t,e){e=Eh("DocumentReference.set",e);try{return function(t,e,n){t=Ah(t,Rh);var r=Ah(t.firestore,qh),i=Gd(t.converter,e,n);return Xd(r,[id(rd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,bo.none())])}(this._delegate,t,e)}catch(t){throw df(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Qd(this._delegate,t):Qd.apply(void 0,l([this._delegate,t,e],n))}catch(t){throw df(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Xd(Ah((t=this._delegate).firestore,qh),[new Ro(t._key,bo.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ff(e),i=pf(e,(function(e){return new gf(t.firestore,new Td(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Yd(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ah(t,Rh);var e=Ah(t.firestore,qh),n=zh(e),r=new Jd(e);return function(t,e){var n=this,r=new us;return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=xr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new yr(br.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Xu(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,lh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Td(e,r,t._key,n,new Sd(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ah(t,Rh);var e=Ah(t.firestore,qh);return dh(zh(e),t._key,{source:"server"}).then((function(n){return Zd(e,t,n)}))}(this._delegate):function(t){t=Ah(t,Rh);var e=Ah(t.firestore,qh);return dh(zh(e),t._key).then((function(n){return Zd(e,t,n)}))}(this._delegate)).then((function(t){return new gf(e.firestore,new Td(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?cf.nu(this.firestore,e):null))},t}();function df(t,e,n){return t.message=t.message.replace(e,n),t}function ff(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Uh(r))return r}return{}}function pf(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Uh(t[0])?t[0]:Uh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gf=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new hf(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Nd(this._delegate,t._delegate)},t}(),mf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(gf),vf=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new sf(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Dd(this._delegate,function(t,e,n){var r=e,i=Id("where",t);return new Md(i,r,n)}(e,n,r)))}catch(e){throw df(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Dd(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Id("orderBy",t);return new jd(r,n)}(e,n)))}catch(e){throw df(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Dd(this._delegate,function(t){return Oh("limit",t),new Ld("limit",t,"F")}(e)))}catch(e){throw df(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Dd(this._delegate,function(t){return Oh("limitToLast",t),new Ld("limitToLast",t,"L")}(e)))}catch(e){throw df(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Dd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bd("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw df(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Dd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bd("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw df(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Dd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fd("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw df(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Dd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fd("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw df(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Fh(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ah(t,Dh);var e=Ah(t.firestore,qh),n=zh(e),r=new Jd(e);return function(t,e){var n=this,r=new us;return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,a,l;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Bl(t,e,!0)];case 1:return l=s.sent(),r=new pc(e,l.Bn),i=r._o(l.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=s.sent(),l=Xu(a,"Failed to execute query '"+e+" against cache"),n.reject(l),[3,3];case 3:return[2]}}))}))},[4,lh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Ad(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ah(t,Dh);var e=Ah(t.firestore,qh),n=zh(e),r=new Jd(e);return fh(n,t._query,{source:"server"}).then((function(n){return new Ad(e,r,t,n)}))}(this._delegate):function(t){t=Ah(t,Dh);var e=Ah(t.firestore,qh),n=zh(e),r=new Jd(e);return Pd(t._query),fh(n,t._query).then((function(n){return new Ad(e,r,t,n)}))}(this._delegate)).then((function(t){return new yf(e.firestore,new Ad(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ff(e),i=pf(e,(function(e){return new yf(t.firestore,new Ad(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Yd(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?cf.nu(this.firestore,e):null))},t}(),bf=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new mf(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),yf=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new vf(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new mf(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new bf(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new mf(n._firestore,r))}))},t.prototype.isEqual=function(t){return Nd(this._delegate,t._delegate)},t}(),wf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new hf(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new hf(this.firestore,void 0===t?Lh(this._delegate):Lh(this._delegate,t))}catch(t){throw df(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ah(t.firestore,qh),r=Lh(t),i=Gd(t.converter,e);return Xd(n,[id(rd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,bo.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new hf(e.firestore,t)}))},e.prototype.isEqual=function(t){return Bh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?cf.nu(this.firestore,t):null))},e}(vf);function _f(t){return Ah(t,Rh)}var Cf,kf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Kh.bind.apply(Kh,l([void 0],t)))}return t.documentId=function(){return new t(qr.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(u.q)(t))instanceof Kh&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Ef=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new sd("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new od("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ld("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ud("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new cd("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),If=n("/6Yf"),Sf={Firestore:af,GeoPoint:Qh,Timestamp:Dr,Blob:rf,Transaction:lf,WriteBatch:uf,DocumentReference:hf,DocumentSnapshot:gf,Query:vf,QueryDocumentSnapshot:mf,QuerySnapshot:yf,CollectionReference:wf,FieldPath:kf,FieldValue:Ef,setLogLevel:function(t){wr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new If.a("firestore",(function(t){return function(t,e){return new af(t,new qh(t,e),new of)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Sf)))})(Cf=r.a),Cf.registerVersion("@firebase/firestore","2.3.9")},"6Uf2":function(t,e,n){"use strict";(function(t){var e=n("zIRd"),r=n("/6Yf"),i=n("qOnz"),o=n("mAIw"),a=n("q/0M"),s="";function l(t){s=t}var u,c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(i.M)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(i.G)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(i.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new h},f=d("localStorage"),p=d("sessionStorage"),g=new a.b("@firebase/database"),m=(u=1,function(){return u++}),v=function(t){var e=Object(i.L)(t),n=new i.d;n.update(e);var r=n.digest();return i.h.encodeByteArray(r)},b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var o=t[r];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?n+=b.apply(null,o):n+="object"==typeof o?Object(i.M)(o):o,n+=" "}return n},y=null,w=!0,_=function(t,e){Object(i.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=a.a.VERBOSE,y=g.log.bind(g),e&&p.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,p.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===y&&!0===p.get("logging_enabled")&&_(!0)),y){var n=b.apply(null,t);y(n)}},k=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,Object(o.f)([t],Object(o.e)(e)))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,Object(o.f)([],Object(o.e)(t)));g.error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,Object(o.f)([],Object(o.e)(t)));throw g.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+b.apply(void 0,Object(o.f)([],Object(o.e)(t)));g.warn(n)},T=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",A="[MAX_NAME]",O=function(t,e){if(t===e)return 0;if(t===x||e===A)return-1;if(e===x||t===A)return 1;var n=B(t),r=B(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(i.M)(e))},R=function(t){if("object"!=typeof t||null===t)return Object(i.M)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",o=0;o<e.length;o++)0!==o&&(r+=","),r+=Object(i.M)(e[o]),r+=":",r+=R(t[e[o]]);return r+"}"},D=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j=function(t){var e,n,r,o,a;Object(i.f)(!T(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var l=s.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(l.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},L=new RegExp("^-?(0*)\\d{1,10}$"),B=function(t){if(L.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},F=function(t){try{t()}catch(e){setTimeout((function(){throw S("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},V=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},U=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){S('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),q=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';S(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),z=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function W(t,e,n){var r;if(Object(i.f)("string"==typeof e,"typeof type must == string"),Object(i.f)("object"==typeof n,"typeof params must == object"),"websocket"===e)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var o=[];return M(n,(function(t,e){o.push(t+"="+e)})),r+o.join("&")}var K=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(i.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(i.n)(this.counters_)},t}(),$={},J={};function Q(t){var e=t.toString();return $[e]||($[e]=new K),$[e]}var Y=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&F((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),X=function(){function t(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=k(t),this.stats_=Q(e),this.urlFn=function(t){return s.appCheckToken&&(t.ac=s.appCheckToken),W(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Y(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(i.B)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Z((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,5),i=r[0],a=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=a,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,2),i=r[0],a=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(i.B)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(i.M)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(i.i)(e),r=D(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(i.B)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(i.M)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Z=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.B)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){C("frame writing exception"),l.stack&&C(l.stack),C(l)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(i.B)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),tt=null;"undefined"!=typeof MozWebSocket?tt=MozWebSocket:"undefined"!=typeof WebSocket&&(tt=WebSocket);var et=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=k(this.connId),this.stats_=Q(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var o={v:"5"};return!Object(i.B)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(o.r="f"),e&&(o.s=e),n&&(o.ls=n),r&&(o.ac=r),W(t,"websocket",o)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(Object(i.B)()){var r={headers:{"User-Agent":"Firebase/5/"+s+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new tt(this.connURL,[],r)}else this.mySock=new tt(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");var l=u.message||u.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==tt&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(i.G)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(i.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(i.M)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=D(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),nt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[X,et]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=et&&et.isAvailable(),a=i&&!et.previouslyFailed();if(e.webSocketOnly&&(i||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[et];else{var s=this.transports_=[];try{for(var l=Object(o.g)(t.ALL_TRANSPORTS),u=l.next();!u.done;u=l.next()){var c=u.value;c&&c.isAvailable()&&s.push(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),rt=function(){function t(t,e,n,r,i,o,a,s,l,u){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=k("c:"+this.id+":"),this.transportManager_=new nt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),it=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ot=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(i.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(o.f)([],Object(o.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(i.f)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),at=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(i.z)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ot),st=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function lt(){return new st("")}function ut(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ct(t){return t.pieces_.length-t.pieceNum_}function ht(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new st(t.pieces_,e)}function dt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ft(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function pt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new st(e,0)}function gt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof st)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new st(n,0)}function mt(t){return t.pieceNum_>=t.pieces_.length}function vt(t,e){var n=ut(t),r=ut(e);if(null===n)return e;if(n===r)return vt(ht(t),ht(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function bt(t,e){for(var n=ft(t,0),r=ft(e,0),i=0;i<n.length&&i<r.length;i++){var o=O(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function yt(t,e){if(ct(t)!==ct(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function wt(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(ct(t)>ct(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var _t=function(){return function(t,e){this.errorPrefix_=e,this.parts_=ft(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.K)(this.parts_[n]);Ct(this)}}();function Ct(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+kt(t))}function kt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Et,It,St=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ot),Tt=function(t){function e(n,r,o,a,s,l,u,c){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=o,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=l,h.appCheckTokenProvider_=u,h.authOverride_=c,h.id=e.nextPersistentConnectionId_++,h.log_=k("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,c&&!Object(i.B)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return St.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&at.getInstance().on("online",h.onOnline_,h),h}return Object(o.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r,a:t,b:e};this.log_(Object(i.M)(o)),Object(i.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new i.a,r={p:t._path.toString(),q:t._queryObject},o={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[a];void 0!==t&&o===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Object(i.f)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.f)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(o,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,l=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==l&&n.removeListen_(i,o),t.onComplete&&t.onComplete(l,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(i.k)(t,"w")){var n=Object(i.J)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(i.s)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(i.F)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.f)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(i.M)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+Object(i.M)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(i.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r,a,s,l,u,c,h,d,f,p,g,m=this;return Object(o.d)(this,(function(v){switch(v.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,l=!1,u=null,this.realtime_={close:c=function(){u?u.close():(l=!0,r())},sendRequest:function(t){Object(i.f)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=o.e.apply(void 0,[v.sent(),2]),f=d[0],p=d[1],l?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,u=new rt(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){S(t+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),s)),[3,4];case 3:return g=v.sent(),this.log_("Failed to get token: "+g),l||(this.repoInfo_.nodeAdmin&&S(g),c()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(i.w)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return R(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new st(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){C("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.g)(this.listens.values()),a=i.next();!a.done;a=i.next()){var s=a.value;try{for(var l=(n=void 0,Object(o.g)(s.values())),u=l.next();!u.done;u=l.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(i.B)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+s.replace(/\./g,"-")]=1,Object(i.z)()?t["framework.cordova"]=1:Object(i.C)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=at.getInstance().currentlyOnline();return Object(i.w)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(it),xt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),At=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new xt(x,t),r=new xt(x,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return xt.MIN},t}(),Ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Et},set:function(t){Et=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return O(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(i.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return xt.MIN},e.prototype.maxPost=function(){return new xt(A,Et)},e.prototype.makePost=function(t,e){return Object(i.f)("string"==typeof t,"KeyIndex indexValue must always be a string."),new xt(t,Et)},e.prototype.toString=function(){return".key"},e}(At),Nt=new Ot,Pt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Rt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Mt.EMPTY_NODE,this.right=null!=o?o:Mt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Mt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Mt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Dt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Rt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Mt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Pt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Pt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Dt,t}();function jt(t,e){return O(t.name,e.name)}function Lt(t,e){return O(t,e)}var Bt,Ft,Vt,Ut,qt,zt=function(t){return"number"==typeof t?"number:"+j(t):"string:"+t},Ht=function(t){if(t.isLeafNode()){var e=t.val();Object(i.f)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(i.k)(e,".sv"),"Priority must be a string or number.")}else Object(i.f)(t===It||t.isEmpty(),"priority of unexpected type.");Object(i.f)(t===It||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Gt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(i.f)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ht(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Bt},set:function(t){Bt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return mt(e)?this:".priority"===ut(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=ut(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.f)(".priority"!==r||1===ct(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ht(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+zt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?j(this.value_):this.value_,this.lazyHash_=v(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(i.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return Object(i.f)(o>=0,"Unknown leaf type: "+n),Object(i.f)(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Wt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?O(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return xt.MIN},e.prototype.maxPost=function(){return new xt(A,new Gt("[PRIORITY-POST]",Vt))},e.prototype.makePost=function(t,e){var n=Ft(t);return new xt(e,new Gt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(At)),Kt=Math.log(2),$t=function(){function t(t){this.count=parseInt(Math.log(t+1)/Kt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Jt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new Rt(a,o.node,Rt.BLACK,null,null);var l=parseInt(s/2,10)+e,u=i(e,l),c=i(l+1,r);return o=t[l],a=n?n(o):o,new Rt(a,o.node,Rt.BLACK,u,c)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var u=i(o+1,s),c=t[o],h=n?n(c):c;l(new Rt(h,c.node,r,null,u))},l=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));c?s(h,Rt.BLACK):(s(h,Rt.BLACK),s(h,Rt.RED))}return o}(new $t(t.length));return new Mt(r||e,o)},Qt={},Yt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(i.f)(Qt&&Wt,"ChildrenNode.ts has not been loaded"),Ut=Ut||new t({".priority":Qt},{".priority":Wt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(i.J)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Mt?e:null},t.prototype.hasIndex=function(t){return Object(i.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(i.f)(e!==Nt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,l=n.getIterator(xt.Wrap),u=l.getNext();u;)s=s||e.isDefinedOn(u.node),a.push(u),u=l.getNext();r=s?Jt(a,e.getCompare()):Qt;var c=e.toString(),h=Object(o.a)({},this.indexSet_);h[c]=e;var d=Object(o.a)({},this.indexes_);return d[c]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(i.H)(this.indexes_,(function(t,o){var a=Object(i.J)(r.indexSet_,o);if(Object(i.f)(a,"Missing index implementation for "+o),t===Qt){if(a.isDefinedOn(e.node)){for(var s=[],l=n.getIterator(xt.Wrap),u=l.getNext();u;)u.name!==e.name&&s.push(u),u=l.getNext();return s.push(e),Jt(s,a.getCompare())}return Qt}var c=n.get(e.name),h=t;return c&&(h=h.remove(new xt(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(i.H)(this.indexes_,(function(t){if(t===Qt)return t;var r=n.get(e.name);return r?t.remove(new xt(e.name,r)):t})),this.indexSet_)},t}(),Xt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ht(this.priorityNode_),this.children_.isEmpty()&&Object(i.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return qt||(qt=new t(new Mt(Lt),null,Yt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||qt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?qt:e},t.prototype.getChild=function(t){var e=ut(t);return null===e?this:this.getImmediateChild(e).getChild(ht(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(i.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new xt(e,n),o=void 0,a=void 0;n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=o.isEmpty()?qt:this.priorityNode_;return new t(o,s,a)},t.prototype.updateChild=function(t,e){var n=ut(t);if(null===n)return e;Object(i.f)(".priority"!==ut(t)||1===ct(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ht(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Wt,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+zt(this.getPriority().val())+":"),this.forEachChild(Wt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":v(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new xt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new xt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new xt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,xt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,xt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Zt?-1:0},t.prototype.withIndex=function(e){if(e===Nt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Nt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Wt),r=e.getIterator(Wt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Nt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Zt=new(function(t){function e(){return t.call(this,new Mt(Lt),Xt.EMPTY_NODE,Yt.Default)||this}return Object(o.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Xt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Xt));function te(t,e){if(void 0===e&&(e=null),null===t)return Xt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(i.f)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Gt(t,te(e));if(t instanceof Array){var n=Xt.EMPTY_NODE;return M(t,(function(e,r){if(Object(i.k)(t,e)&&"."!==e.substring(0,1)){var o=te(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}})),n.updatePriority(te(e))}var r=[],o=!1;if(M(t,(function(t,e){if("."!==t.substring(0,1)){var n=te(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new xt(t,n)))}})),0===r.length)return Xt.EMPTY_NODE;var a=Jt(r,jt,(function(t){return t.name}),Lt);if(o){var s=Jt(r,Wt.getCompare());return new Xt(a,te(e),new Yt({".priority":s},{".priority":Wt}))}return new Xt(a,te(e),Yt.Default)}Object.defineProperties(xt,{MIN:{value:new xt(x,Xt.EMPTY_NODE)},MAX:{value:new xt(A,Zt)}}),Ot.__EMPTY_NODE=Xt.EMPTY_NODE,Gt.__childrenNodeConstructor=Xt,It=Zt,function(t){Vt=t}(Zt),function(t){Ft=t}(te);var ee,ne,re=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(i.f)(!mt(e)&&".priority"!==ut(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?O(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=te(t),r=Xt.EMPTY_NODE.updateChild(this.indexPath_,n);return new xt(e,r)},e.prototype.maxPost=function(){var t=Xt.EMPTY_NODE.updateChild(this.indexPath_,Zt);return new xt(A,t)},e.prototype.toString=function(){return ft(this.indexPath_,0).join("/")},e}(At),ie=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?O(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return xt.MIN},e.prototype.maxPost=function(){return xt.MAX},e.prototype.makePost=function(t,e){var n=te(t);return new xt(e,n)},e.prototype.toString=function(){return".value"},e}(At)),oe="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ae=(ee=0,ne=[],function(t){var e,n=t===ee;ee=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=oe.charAt(t%64),t=Math.floor(t/64);Object(i.f)(0===t,"Cannot push at time == 0");var o=r.join("");if(n){for(e=11;e>=0&&63===ne[e];e--)ne[e]=0;ne[e]++}else for(e=0;e<12;e++)ne[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=oe.charAt(ne[e]);return Object(i.f)(20===o.length,"nextPushId: Length should be 20."),o}),se=function(t){if("2147483647"===t)return"-";var e=B(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return A;var o=oe.charAt(oe.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},le=function(t){if("-2147483648"===t)return x;var e=B(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=oe.charAt(oe.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ue(t){return{type:"value",snapshotNode:t}}function ce(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function he(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function de(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var fe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,a){Object(i.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(he(e,s)):Object(i.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(ce(e,n)):a.trackChildChange(de(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Wt,(function(t,r){e.hasChild(t)||n.trackChildChange(he(t,r))})),e.isLeafNode()||e.forEachChild(Wt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(de(e,r,i))}else n.trackChildChange(ce(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Xt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),pe=function(){function t(e){this.indexedFilter_=new fe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new xt(e,n))||(n=Xt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Xt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Xt.EMPTY_NODE);var i=this;return e.forEachChild(Wt,(function(t,e){i.matches(new xt(t,e))||(r=r.updateImmediateChild(t,Xt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),ge=function(){function t(t){this.rangedFilter_=new pe(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new xt(e,n))||(n=Xt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Xt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Xt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Xt.EMPTY_NODE);var s=void 0,l=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&u(s,a)<=0&&(h=!0),h&&o<this.limit_&&u(a,l)<=0?o++:r=r.updateImmediateChild(a.name,Xt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var l=t;Object(i.f)(l.numChildren()===this.limit_,"");var u=new xt(e,n),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(e)){for(var d=l.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||l.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:a(f,u);if(h&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(de(e,n,d)),l.updateImmediateChild(e,n);null!=o&&o.trackChildChange(he(e,d));var g=l.updateImmediateChild(e,Xt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=o&&o.trackChildChange(ce(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return n.isEmpty()?t:h&&a(c,u)>=0?(null!=o&&(o.trackChildChange(he(c.name,c.node)),o.trackChildChange(ce(e,n))),l.updateImmediateChild(e,n).updateImmediateChild(c.name,Xt.EMPTY_NODE)):t},t}(),me=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(i.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(i.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(i.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(i.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(i.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Wt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function ve(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function be(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function ye(t,e){var n=t.copy();return n.index_=e,n}function we(t){var e,n={};return t.isDefault()||(t.index_===Wt?e="$priority":t.index_===ie?e="$value":t.index_===Nt?e="$key":(Object(i.f)(t.index_ instanceof re,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(i.M)(e),t.startSet_&&(n.startAt=Object(i.M)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(i.M)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(i.M)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(i.M)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function _e(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Wt&&(e.i=t.index_.toString()),e}var Ce=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=k("p:rest:"),o.listens_={},o}return Object(o.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(i.f)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,o){var a=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var l=e.getListenId_(t,r),u={};this.listens_[l]=u;var c=we(t._queryParams);this.restRequest_(s+".json",c,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),Object(i.J)(a.listens_,l)===u&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=we(t._queryParams),r=t._path.toString(),o=new i.a;return this.restRequest_(r+".json",n,(function(t,n){var i=n;404===t&&(i=null,t=null),null===t?(e.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))})),o.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(a){var s=Object(o.e)(a,2),l=s[0],u=s[1];l&&l.accessToken&&(e.auth=l.accessToken),u&&u.token&&(e.ac=u.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(i.I)(e);r.log_("Sending REST request for "+c);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=Object(i.G)(h.responseText)}catch(e){S("Failed to parse JSON response for "+c+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&S("Got unsuccessful REST response for "+c+" Status: "+h.status),n(h.status);n=null}},h.open("GET",c,!0),h.send()}))},e}(it),ke=function(){function t(){this.rootNode_=Xt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Ee(){return{value:null,children:new Map}}function Ie(t,e,n){if(mt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=ut(e);t.children.has(r)||t.children.set(r,Ee()),Ie(t.children.get(r),e=ht(e),n)}}function Se(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}(t,(function(t,r){Se(r,new st(e.toString()+"/"+t),n)}))}var Te=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(o.a)({},t);return this.last_&&M(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),xe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Te(t);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;M(e,(function(e,o){o>0&&Object(i.k)(t.statsToReport_,e)&&(n[e]=o,r=!0)})),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ae=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Oe(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Ne,Pe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Ae.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(mt(this.path)){if(null!=this.affectedTree.value)return Object(i.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new st(e));return new t(lt(),n,this.revert)}return Object(i.f)(ut(this.path)===e,"operationForChild called for unrelated child."),new t(ht(this.path),this.affectedTree,this.revert)},t}(),Re=function(){function t(t,e){this.source=t,this.path=e,this.type=Ae.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return mt(this.path)?new t(this.source,lt()):new t(this.source,ht(this.path))},t}(),De=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Ae.OVERWRITE}return t.prototype.operationForChild=function(e){return mt(this.path)?new t(this.source,lt(),this.snap.getImmediateChild(e)):new t(this.source,ht(this.path),this.snap)},t}(),Me=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Ae.MERGE}return t.prototype.operationForChild=function(e){if(mt(this.path)){var n=this.children.subtree(new st(e));return n.isEmpty()?null:n.value?new De(this.source,lt(),n.value):new t(this.source,lt(),n)}return Object(i.f)(ut(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ht(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),je=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(mt(t))return this.isFullyInitialized()&&!this.filtered_;var e=ut(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Le=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function Be(t,e,n,r,o,a){var s=r.filter((function(t){return t.type===n}));s.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(i.g)("Should only compare child_ events.");var r=new xt(e.childName,e.snapshotNode),o=new xt(n.childName,n.snapshotNode);return t.index_.compare(r,o)}(t,e,n)})),s.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,a);o.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function Fe(t,e){return{eventCache:t,serverCache:e}}function Ve(t,e,n,r){return Fe(new je(e,n,r),t.serverCache)}function Ue(t,e,n,r){return Fe(t.eventCache,new je(e,n,r))}function qe(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ze(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var He=function(){function t(t,e){void 0===e&&(Ne||(Ne=new Mt(N)),e=Ne),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return M(e,(function(t,e){n=n.set(new st(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:lt(),value:this.value};if(mt(t))return null;var n=ut(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ht(t),e);return null!=i?{path:gt(new st(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(mt(e))return this;var n=ut(e),r=this.children.get(n);return null!==r?r.subtree(ht(e)):new t(null)},t.prototype.set=function(e,n){if(mt(e))return new t(n,this.children);var r=ut(e),i=(this.children.get(r)||new t(null)).set(ht(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(mt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ut(e),r=this.children.get(n);if(r){var i=r.remove(ht(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(mt(t))return this.value;var e=ut(t),n=this.children.get(e);return n?n.get(ht(t)):null},t.prototype.setTree=function(e,n){if(mt(e))return n;var r,i=ut(e),o=(this.children.get(i)||new t(null)).setTree(ht(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(lt(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(gt(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,lt(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(mt(t))return null;var i=ut(t),o=this.children.get(i);return o?o.findOnPath_(ht(t),gt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,lt(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(mt(e))return this;this.value&&r(n,this.value);var i=ut(e),o=this.children.get(i);return o?o.foreachOnPath_(ht(e),gt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(lt(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(gt(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),Ge=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new He(null))},t}();function We(t,e,n){if(mt(e))return new Ge(new He(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=vt(i,e);return o=o.updateChild(a,n),new Ge(t.writeTree_.set(i,o))}var s=new He(n),l=t.writeTree_.setTree(e,s);return new Ge(l)}function Ke(t,e,n){var r=t;return M(n,(function(t,n){r=We(r,gt(e,t),n)})),r}function $e(t,e){if(mt(e))return Ge.empty();var n=t.writeTree_.setTree(e,new He(null));return new Ge(n)}function Je(t,e){return null!=Qe(t,e)}function Qe(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(vt(n.path,e)):null}function Ye(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Wt,(function(t,n){e.push(new xt(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new xt(t,n.value))})),e}function Xe(t,e){if(mt(e))return t;var n=Qe(t,e);return new Ge(null!=n?new He(n):t.writeTree_.subtree(e))}function Ze(t){return t.writeTree_.isEmpty()}function tn(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal((function(n,a){".priority"===n?(Object(i.f)(null!==a.value,"Priority writes must always be leaf nodes"),o=a.value):r=t(gt(e,n),a,r)})),r.getChild(e).isEmpty()||null===o||(r=r.updateChild(gt(e,".priority"),o)),r}(lt(),t.writeTree_,e)}function en(t,e){return fn(e,t)}function nn(t,e){if(t.snap)return wt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&wt(gt(t.path,n),e))return!0;return!1}function rn(t){return t.visible}function on(t,e,n){for(var r=Ge.empty(),o=0;o<t.length;++o){var a=t[o];if(e(a)){var s=a.path,l=void 0;if(a.snap)wt(n,s)?r=We(r,l=vt(n,s),a.snap):wt(s,n)&&(l=vt(s,n),r=We(r,lt(),a.snap.getChild(l)));else{if(!a.children)throw Object(i.g)("WriteRecord should have .snap or .children");if(wt(n,s))r=Ke(r,l=vt(n,s),a.children);else if(wt(s,n))if(mt(l=vt(s,n)))r=Ke(r,lt(),a.children);else{var u=Object(i.J)(a.children,ut(l));if(u){var c=u.getChild(ht(l));r=We(r,lt(),c)}}}}}return r}function an(t,e,n,r,i){if(r||i){var o=Xe(t.visibleWrites,e);return!i&&Ze(o)?n:i||null!=n||Je(o,lt())?tn(on(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(wt(t.path,e)||wt(e,t.path))}),e),n||Xt.EMPTY_NODE):null}var a=Qe(t.visibleWrites,e);if(null!=a)return a;var s=Xe(t.visibleWrites,e);return Ze(s)?n:null!=n||Je(s,lt())?tn(s,n||Xt.EMPTY_NODE):null}function sn(t,e,n,r){return an(t.writeTree,t.treePath,e,n,r)}function ln(t,e){return function(t,e,n){var r=Xt.EMPTY_NODE,i=Qe(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Wt,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=Xe(t.visibleWrites,e);return n.forEachChild(Wt,(function(t,e){var n=tn(Xe(o,new st(t)),e);r=r.updateImmediateChild(t,n)})),Ye(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return Ye(Xe(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function un(t,e,n,r){return function(t,e,n,r,o){Object(i.f)(r||o,"Either existingEventSnap or existingServerSnap must exist");var a=gt(e,n);if(Je(t.visibleWrites,a))return null;var s=Xe(t.visibleWrites,a);return Ze(s)?o.getChild(n):tn(s,o.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function cn(t,e){return function(t,e){return Qe(t.visibleWrites,e)}(t.writeTree,gt(t.treePath,e))}function hn(t,e,n){return function(t,e,n,r){var i=gt(e,n),o=Qe(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?tn(Xe(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function dn(t,e){return fn(gt(t.treePath,e),t.writeTree)}function fn(t,e){return{treePath:t,writeTree:e}}var pn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(i.f)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(i.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,de(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,he(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,ce(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw Object(i.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,de(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),gn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),mn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new je(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ze(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,l=Xe(t.visibleWrites,e),u=Qe(l,lt());if(null!=u)s=u;else{if(null==n)return[];s=tn(l,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var c=[],h=a.getCompare(),d=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),f=d.getNext();f&&c.length<1;)0!==h(f,r)&&c.push(f),f=d.getNext();return c}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function vn(t,e,n,r,o,a){var s=e.eventCache;if(null!=cn(r,n))return e;var l=void 0,u=void 0;if(mt(n))if(Object(i.f)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var c=ze(e),h=ln(r,c instanceof Xt?c:Xt.EMPTY_NODE);l=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{var d=sn(r,ze(e));l=t.filter.updateFullNode(e.eventCache.getNode(),d,a)}else{var f=ut(n);if(".priority"===f){Object(i.f)(1===ct(n),"Can't have a priority with additional path components");var p=s.getNode(),g=un(r,n,p,u=e.serverCache.getNode());l=null!=g?t.filter.updatePriority(p,g):s.getNode()}else{var m=ht(n),v=void 0;if(s.isCompleteForChild(f)){u=e.serverCache.getNode();var b=un(r,n,s.getNode(),u);v=null!=b?s.getNode().getImmediateChild(f).updateChild(m,b):s.getNode().getImmediateChild(f)}else v=hn(r,f,e.serverCache);l=null!=v?t.filter.updateChild(s.getNode(),f,v,m,o,a):s.getNode()}}return Ve(e,l,s.isFullyInitialized()||mt(n),t.filter.filtersNodes())}function bn(t,e,n,r,i,o,a,s){var l,u=e.serverCache,c=a?t.filter:t.filter.getIndexedFilter();if(mt(n))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,r);l=c.updateFullNode(u.getNode(),h,null)}else{var d=ut(n);if(!u.isCompleteForPath(n)&&ct(n)>1)return e;var f=ht(n),p=u.getNode().getImmediateChild(d).updateChild(f,r);l=".priority"===d?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),d,p,f,gn,null)}var g=Ue(e,l,u.isFullyInitialized()||mt(n),c.filtersNodes());return vn(t,g,n,i,new mn(i,g,o),s)}function yn(t,e,n,r,i,o,a){var s,l,u=e.eventCache,c=new mn(i,e,o);if(mt(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=Ve(e,l,!0,t.filter.filtersNodes());else{var h=ut(n);if(".priority"===h)l=t.filter.updatePriority(e.eventCache.getNode(),r),s=Ve(e,l,u.isFullyInitialized(),u.isFiltered());else{var d=ht(n),f=u.getNode().getImmediateChild(h),p=void 0;if(mt(d))p=r;else{var g=c.getCompleteChild(h);p=null!=g?".priority"===dt(d)&&g.getChild(pt(d)).isEmpty()?g:g.updateChild(d,r):Xt.EMPTY_NODE}s=f.equals(p)?e:Ve(e,t.filter.updateChild(u.getNode(),h,p,d,c,a),u.isFullyInitialized(),t.filter.filtersNodes())}}return s}function wn(t,e){return t.eventCache.isCompleteForChild(e)}function _n(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function Cn(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var l,u=e;l=mt(n)?r:new He(null).setTree(n,r);var c=e.serverCache.getNode();return l.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var l=_n(0,e.serverCache.getNode().getImmediateChild(n),r);u=bn(t,u,new st(n),l,i,o,a,s)}})),l.children.inorderTraversal((function(n,r){var l=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!l){var h=_n(0,e.serverCache.getNode().getImmediateChild(n),r);u=bn(t,u,new st(n),h,i,o,a,s)}})),u}var kn,En=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new fe(r.getIndex()),o=(n=r).loadsAllData()?new fe(n.getIndex()):n.hasLimit()?new ge(n):new pe(n);this.processor_=function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,l=i.updateFullNode(Xt.EMPTY_NODE,a.getNode(),null),u=o.updateFullNode(Xt.EMPTY_NODE,s.getNode(),null),c=new je(l,a.isFullyInitialized(),i.filtersNodes()),h=new je(u,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Fe(h,c),this.eventGenerator_=new Le(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function In(t,e){var n=ze(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!mt(e)&&!n.getImmediateChild(ut(e)).isEmpty())?n.getChild(e):null}function Sn(t){return 0===t.eventRegistrations_.length}function Tn(t,e,n){var r=[];if(n){Object(i.f)(null==e,"A cancel should cancel all event registrations.");var o=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,o);e&&r.push(e)}))}if(e){for(var a=[],s=0;s<t.eventRegistrations_.length;++s){var l=t.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(s+1));break}}else a.push(l)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return r}function xn(t,e,n,r){e.type===Ae.MERGE&&null!==e.source.queryId&&(Object(i.f)(ze(t.viewCache_),"We should always have a full cache before handling merges"),Object(i.f)(qe(t.viewCache_),"Missing event cache, even though we have a server cache"));var o,a,s=t.viewCache_,l=function(t,e,n,r,o){var a,s,l=new pn;if(n.type===Ae.OVERWRITE){var u=n;u.source.fromUser?a=yn(t,e,u.path,u.snap,r,o,l):(Object(i.f)(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.serverCache.isFiltered()&&!mt(u.path),a=bn(t,e,u.path,u.snap,r,o,s,l))}else if(n.type===Ae.MERGE){var c=n;c.source.fromUser?a=function(t,e,n,r,i,o,a){var s=e;return r.foreach((function(r,l){var u=gt(n,r);wn(e,ut(u))&&(s=yn(t,s,u,l,i,o,a))})),r.foreach((function(r,l){var u=gt(n,r);wn(e,ut(u))||(s=yn(t,s,u,l,i,o,a))})),s}(t,e,c.path,c.children,r,o,l):(Object(i.f)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered(),a=Cn(t,e,c.path,c.children,r,o,s,l))}else if(n.type===Ae.ACK_USER_WRITE){var h=n;a=h.revert?function(t,e,n,r,o,a){var s;if(null!=cn(r,n))return e;var l=new mn(r,e,o),u=e.eventCache.getNode(),c=void 0;if(mt(n)||".priority"===ut(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=sn(r,ze(e));else{var d=e.serverCache.getNode();Object(i.f)(d instanceof Xt,"serverChildren would be complete if leaf node"),h=ln(r,d)}c=t.filter.updateFullNode(u,h=h,a)}else{var f=ut(n),p=hn(r,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(c=null!=p?t.filter.updateChild(u,f,p,ht(n),l,a):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(u,f,Xt.EMPTY_NODE,ht(n),l,a):u).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=sn(r,ze(e))).isLeafNode()&&(c=t.filter.updateFullNode(c,s,a))}return s=e.serverCache.isFullyInitialized()||null!=cn(r,lt()),Ve(e,c,s,t.filter.filtersNodes())}(t,e,h.path,r,o,l):function(t,e,n,r,i,o,a){if(null!=cn(i,n))return e;var s=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(mt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return bn(t,e,n,l.getNode().getChild(n),i,o,s,a);if(mt(n)){var u=new He(null);return l.getNode().forEachChild(Nt,(function(t,e){u=u.set(new st(t),e)})),Cn(t,e,n,u,i,o,s,a)}return e}var c=new He(null);return r.foreach((function(t,e){var r=gt(n,t);l.isCompleteForPath(r)&&(c=c.set(t,l.getNode().getChild(r)))})),Cn(t,e,n,c,i,o,s,a)}(t,e,h.path,h.affectedTree,r,o,l)}else{if(n.type!==Ae.LISTEN_COMPLETE)throw Object(i.g)("Unknown operation type: "+n.type);a=function(t,e,n,r,i){var o=e.serverCache;return vn(t,Ue(e,o.getNode(),o.isFullyInitialized()||mt(n),o.isFiltered()),n,r,gn,i)}(t,e,n.path,r,l)}var d=l.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=qe(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ue(qe(e)))}}(e,a,d),{viewCache:a,changes:d}}(t.processor_,s,e,n,r);return o=t.processor_,a=l.viewCache,Object(i.f)(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.f)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.f)(l.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,An(t,l.changes,l.viewCache.eventCache.getNode(),null)}function An(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})})),Be(t,i,"child_removed",e,r,n),Be(t,i,"child_added",e,r,n),Be(t,i,"child_moved",o,r,n),Be(t,i,"child_changed",e,r,n),Be(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var On,Nn=function(){return function(){this.views=new Map}}();function Pn(t,e,n,r){var a,s,l=e.source.queryId;if(null!==l){var u=t.views.get(l);return Object(i.f)(null!=u,"SyncTree gave us an op for an invalid query."),xn(u,e,n,r)}var c=[];try{for(var h=Object(o.g)(t.views.values()),d=h.next();!d.done;d=h.next())c=c.concat(xn(u=d.value,e,n,r))}catch(f){a={error:f}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return c}function Rn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var a=sn(n,i?r:null),s=!1;a?s=!0:r instanceof Xt?(a=ln(n,r),s=!1):(a=Xt.EMPTY_NODE,s=!1);var l=Fe(new je(a,s,!1),new je(r,i,!1));return new En(e,l)}return o}function Dn(t){var e,n,r=[];try{for(var i=Object(o.g)(t.views.values()),a=i.next();!a.done;a=i.next()){var s=a.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Mn(t,e){var n,r,i=null;try{for(var a=Object(o.g)(t.views.values()),s=a.next();!s.done;s=a.next())i=i||In(s.value,e)}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}function jn(t,e){return e._queryParams.loadsAllData()?Fn(t):t.views.get(e._queryIdentifier)}function Ln(t,e){return null!=jn(t,e)}function Bn(t){return null!=Fn(t)}function Fn(t){var e,n;try{for(var r=Object(o.g)(t.views.values()),i=r.next();!i.done;i=r.next()){var a=i.value;if(a.query._queryParams.loadsAllData())return a}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Vn=1,Un=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new He(null),this.pendingWriteTree_={visibleWrites:Ge.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function qn(t,e,n,r,o){return function(t,e,n,r,o){Object(i.f)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=We(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,o),o?$n(t,new De({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function zn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));Object(i.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var o=r.visible,a=!1,s=t.allWrites.length-1;o&&s>=0;){var l=t.allWrites[s];l.visible&&(s>=n&&nn(l,r.path)?o=!1:wt(r.path,l.path)&&(a=!0)),s--}return!!o&&(a?(function(t){t.visibleWrites=on(t.allWrites,rn,lt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=$e(t.visibleWrites,r.path):M(r.children,(function(e){t.visibleWrites=$e(t.visibleWrites,gt(r.path,e))})),!0))}(t.pendingWriteTree_,e)){var o=new He(null);return null!=r.snap?o=o.set(lt(),!0):M(r.children,(function(t){o=o.set(new st(t),!0)})),$n(t,new Pe(r.path,o,n))}return[]}function Hn(t,e,n){return $n(t,new De({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Gn(t,e,n,r){var a=e._path,s=t.syncPointTree_.get(a),l=[];if(s&&("default"===e._queryIdentifier||Ln(s,e))){var u=function(t,e,n,r){var a,s,l=e._queryIdentifier,u=[],c=[],h=Bn(t);if("default"===l)try{for(var d=Object(o.g)(t.views.entries()),f=d.next();!f.done;f=d.next()){var p,g=Object(o.e)(f.value,2),m=g[0];c=c.concat(Tn(p=g[1],n,r)),Sn(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query))}}catch(v){a={error:v}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}else(p=t.views.get(l))&&(c=c.concat(Tn(p,n,r)),Sn(p)&&(t.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)));return h&&!Bn(t)&&u.push(new(Object(i.f)(kn,"Reference.ts has not been loaded"),kn)(e._repo,e._path)),{removed:u,events:c}}(s,e,n,r);0===s.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(a));var c=u.removed;l=u.events;var h=-1!==c.findIndex((function(t){return t._queryParams.loadsAllData()})),d=t.syncPointTree_.findOnPath(a,(function(t,e){return Bn(e)}));if(h&&!d){var f=t.syncPointTree_.subtree(a);if(!f.isEmpty())for(var p=function(t){return t.fold((function(t,e,n){if(e&&Bn(e))return[Fn(e)];var r=[];return e&&(r=Dn(e)),M(n,(function(t,e){r=r.concat(e)})),r}))}(f),g=0;g<p.length;++g){var m=p[g],v=m.query,b=Jn(t,m);t.listenProvider_.startListening(er(v),Qn(t,v),b.hashFn,b.onComplete)}}!d&&c.length>0&&!r&&(h?t.listenProvider_.stopListening(er(e),null):c.forEach((function(e){var n=t.queryToTagMap.get(Yn(e));t.listenProvider_.stopListening(er(e),n)}))),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=Yn(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,c)}return l}function Wn(t,e,n){var r=e._path,o=null,a=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=vt(t,r);o=o||Mn(e,n),a=a||Bn(e)}));var s,l=t.syncPointTree_.get(r);l?(a=a||Bn(l),o=o||Mn(l,lt())):(l=new Nn,t.syncPointTree_=t.syncPointTree_.set(r,l)),null!=o?s=!0:(s=!1,o=Xt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=Mn(e,lt());n&&(o=o.updateImmediateChild(t,n))})));var u=Ln(l,e);if(!u&&!e._queryParams.loadsAllData()){var c=Yn(e);Object(i.f)(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=Vn++;t.queryToTagMap.set(c,h),t.tagToQueryMap.set(h,c)}var d=function(t,e,n,r,i,o){var a=Rn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Wt,(function(t,e){r.push(ce(t,e))})),n.isFullyInitialized()&&r.push(ue(n.getNode())),An(t,r,n.getNode(),e)}(a,n)}(l,e,n,en(t.pendingWriteTree_,r),o,s);if(!u&&!a){var f=jn(l,e);d=d.concat(function(t,e,n){var r=e._path,o=Qn(t,e),a=Jn(t,n),s=t.listenProvider_.startListening(er(e),o,a.hashFn,a.onComplete),l=t.syncPointTree_.subtree(r);if(o)Object(i.f)(!Bn(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=l.fold((function(t,e,n){if(!mt(t)&&e&&Bn(e))return[Fn(e).query];var r=[];return e&&(r=r.concat(Dn(e).map((function(t){return t.query})))),M(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var h=u[c];t.listenProvider_.stopListening(er(h),Qn(t,h))}return s}(t,e,f))}return d}function Kn(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=Mn(n,vt(t,e));if(r)return r}));return an(r,e,i,n,!0)}function $n(t,e){return function t(e,n,r,i){if(mt(e.path))return function t(e,n,r,i){var o=n.get(lt());null==r&&null!=o&&(r=Mn(o,lt()));var a=[];return n.children.inorderTraversal((function(n,o){var s=r?r.getImmediateChild(n):null,l=dn(i,n),u=e.operationForChild(n);u&&(a=a.concat(t(u,o,s,l)))})),o&&(a=a.concat(Pn(o,e,i,r))),a}(e,n,r,i);var o=n.get(lt());null==r&&null!=o&&(r=Mn(o,lt()));var a=[],s=ut(e.path),l=e.operationForChild(s),u=n.children.get(s);if(u&&l){var c=r?r.getImmediateChild(s):null,h=dn(i,s);a=a.concat(t(l,u,c,h))}return o&&(a=a.concat(Pn(o,e,i,r))),a}(e,t.syncPointTree_,null,en(t.pendingWriteTree_,lt()))}function Jn(t,e){var n=e.query,r=Qn(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Xt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=Xn(t,n);if(r){var i=Zn(r),o=i.path,a=i.queryId,s=vt(o,e);return tr(t,o,new Re(Oe(a),s))}return[]}(t,n._path,r):function(t,e){return $n(t,new Re({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Gn(t,n,null,i)}}}function Qn(t,e){var n=Yn(e);return t.queryToTagMap.get(n)}function Yn(t){return t._path.toString()+"$"+t._queryIdentifier}function Xn(t,e){return t.tagToQueryMap.get(e)}function Zn(t){var e=t.indexOf("$");return Object(i.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new st(t.substr(0,e))}}function tr(t,e,n){var r=t.syncPointTree_.get(e);return Object(i.f)(r,"Missing sync point for query tag that we're tracking"),Pn(r,n,en(t.pendingWriteTree_,e),null)}function er(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(i.f)(On,"Reference.ts has not been loaded"),On)(t._repo,t._path):t}var nr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),rr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=gt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Kn(this.syncTree_,this.path_)},t}(),ir=function(t,e,n){return t&&"object"==typeof t?(Object(i.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?or(t[".sv"],e,n):"object"==typeof t[".sv"]?ar(t[".sv"],e):void Object(i.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},or=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(i.f)(!1,"Unexpected server value: "+t)}},ar=function(t,e,n){t.hasOwnProperty("increment")||Object(i.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(i.f)(!1,"Unexpected increment value: "+r);var o=e.node();if(Object(i.f)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var a=o.getValue();return"number"!=typeof a?r:a+r},sr=function(t,e,n,r){return ur(e,new rr(n,t),r)},lr=function(t,e,n){return ur(t,new nr(e),n)};function ur(t,e,n){var r,i=t.getPriority().val(),o=ir(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=ir(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Gt(s,te(o)):t}var l=t;return r=l,o!==l.getPriority().val()&&(r=r.updatePriority(new Gt(o))),l.forEachChild(Wt,(function(t,i){var o=ur(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var cr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function hr(t,e){for(var n=e instanceof st?e:new st(e),r=t,o=ut(n);null!==o;){var a=Object(i.J)(r.node.children,o)||{children:{},childCount:0};r=new cr(o,r,a),o=ut(n=ht(n))}return r}function dr(t){return t.node.value}function fr(t,e){t.node.value=e,function t(e){null!==e.parent&&function(e,n,r){var o=function(t){return void 0===dr(t)&&!pr(t)}(r),a=Object(i.k)(e.node.children,n);o&&a?(delete e.node.children[n],e.node.childCount--,t(e)):o||a||(e.node.children[n]=r.node,e.node.childCount++,t(e))}(e.parent,e.name,e)}(t)}function pr(t){return t.node.childCount>0}function gr(t,e){M(t.node.children,(function(n,r){e(new cr(n,t,r))}))}function mr(t){return new st(null===t.parent?t.name:mr(t.parent)+"/"+t.name)}var vr=/[\[\].#$\/\u0000-\u001F\u007F]/,br=/[\[\].#$\u0000-\u001F\u007F]/,yr=function(t){return"string"==typeof t&&0!==t.length&&!vr.test(t)},wr=function(t){return"string"==typeof t&&0!==t.length&&!br.test(t)},_r=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!T(t)||t&&"object"==typeof t&&Object(i.k)(t,".sv")},Cr=function(t,e,n,r){r&&void 0===e||kr(Object(i.p)(t,"value"),e,n)},kr=function(t,e,n){var r=n instanceof st?new _t(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+kt(r));if("function"==typeof e)throw new Error(t+"contains a function "+kt(r)+" with contents = "+e.toString());if(T(e))throw new Error(t+"contains "+e.toString()+" "+kt(r));if("string"==typeof e&&e.length>10485760/3&&Object(i.K)(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+kt(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,a=!1;if(M(e,(function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(a=!0,!yr(e)))throw new Error(t+" contains an invalid key ("+e+") "+kt(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,l;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(i.K)(e),Ct(t)}(r,e),kr(t,n,r),l=(s=r).parts_.pop(),s.byteLength_-=Object(i.K)(l),s.parts_.length>0&&(s.byteLength_-=1)})),o&&a)throw new Error(t+' contains ".value" child '+kt(r)+" in addition to actual children.")}},Er=function(t,e,n,r){if(!r||void 0!==e){var o=Object(i.p)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");var a=[];M(e,(function(t,e){var r=new st(t);if(kr(o,e,gt(n,r)),".priority"===dt(r)&&!_r(e))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=ft(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!yr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(bt);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&wt(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},Ir=function(t,e,n){if(!n||void 0!==e){if(T(e))throw new Error(Object(i.p)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_r(e))throw new Error(Object(i.p)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Sr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.p)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Tr=function(t,e,n,r){if(!(r&&void 0===n||yr(n)))throw new Error(Object(i.p)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},xr=function(t,e,n,r){if(!(r&&void 0===n||wr(n)))throw new Error(Object(i.p)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ar=function(t,e){if(".info"===ut(e))throw new Error(t+" failed = Can't modify data under /.info/")},Or=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!yr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wr(t)}(n))throw new Error(Object(i.p)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Nr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(i.p)(t,e)+"must be a boolean.")},Pr=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Rr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||yt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Dr(t,e,n){Rr(t,n),jr(t,(function(t){return yt(t,e)}))}function Mr(t,e,n){Rr(t,n),jr(t,(function(t){return wt(t,e)||wt(e,t)}))}function jr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Lr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Lr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();y&&C("event: "+n.toString()),F(r)}}}var Br=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ee(),this.transactionQueueTree_=new cr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Fr(t){var e=t.infoData_.getNode(new st(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Vr(t){return(e=(e={timestamp:Fr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Ur(t,e,n,r,o){t.dataUpdateCount++;var a=new st(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(o)if(r){var l=Object(i.H)(n,(function(t){return te(t)}));s=function(t,e,n,r){var i=Xn(t,r);if(i){var o=Zn(i),a=o.path,s=o.queryId,l=vt(a,e),u=He.fromObject(n);return tr(t,a,new Me(Oe(s),l,u))}return[]}(t.serverSyncTree_,a,l,o)}else{var u=te(n);s=function(t,e,n,r){var i=Xn(t,r);if(null!=i){var o=Zn(i),a=o.path,s=o.queryId,l=vt(a,e);return tr(t,a,new De(Oe(s),l,n))}return[]}(t.serverSyncTree_,a,u,o)}else if(r){var c=Object(i.H)(n,(function(t){return te(t)}));s=function(t,e,n){var r=He.fromObject(n);return $n(t,new Me({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,a,c)}else{var h=te(n);s=Hn(t.serverSyncTree_,a,h)}var d=a;s.length>0&&(d=Zr(t,a)),Mr(t.eventQueue_,d,s)}function qr(t,e){zr(t,"connected",e),!1===e&&function(t){Jr(t,"onDisconnectEvents");var e=Vr(t),n=Ee();Se(t.onDisconnect_,lt(),(function(r,i){var o=sr(r,i,t.serverSyncTree_,e);Ie(n,r,o)}));var r=[];Se(n,lt(),(function(e,n){r=r.concat(Hn(t.serverSyncTree_,e,n));var i=ri(t,e);Zr(t,i)})),t.onDisconnect_=Ee(),Mr(t.eventQueue_,lt(),r)}(t)}function zr(t,e,n){var r=new st("/.info/"+e),i=te(n);t.infoData_.updateSnapshot(r,i);var o=Hn(t.infoSyncTree_,r,i);Mr(t.eventQueue_,r,o)}function Hr(t){return t.nextWriteId_++}function Gr(t,e,n,r,i){Jr(t,"set",{path:e.toString(),value:n,priority:r});var o=Vr(t),a=te(n,r),s=Kn(t.serverSyncTree_,e),l=lr(a,s,o),u=Hr(t),c=qn(t.serverSyncTree_,e,l,u,!0);Rr(t.eventQueue_,c),t.server_.put(e.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||S("set at "+e+" failed: "+n);var a=zn(t.serverSyncTree_,u,!o);Mr(t.eventQueue_,e,a),Qr(0,i,n,r)}));var h=ri(t,e);Zr(t,h),Mr(t.eventQueue_,h,[])}function Wr(t,e,n,r){var i=te(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&Ie(t.onDisconnect_,e,i),Qr(0,r,n,o)}))}function Kr(t,e,n){var r;r=".info"===ut(e._path)?Gn(t.infoSyncTree_,e,n):Gn(t.serverSyncTree_,e,n),Dr(t.eventQueue_,e._path,r)}function $r(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function Jr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),C.apply(void 0,Object(o.f)([r],Object(o.e)(e)))}function Qr(t,e,n,r){e&&F((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function Yr(t,e,n){return Kn(t.serverSyncTree_,e,n)||Xt.EMPTY_NODE}function Xr(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||ni(t,e),dr(e)){var n=ei(t,e);Object(i.f)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),o=Yr(t,e,r),a=o,s=o.hash(),l=0;l<n.length;l++){var u=n[l];Object(i.f)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=vt(e,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var h=a.val(!0),d=e;t.server_.put(d.toString(),h,(function(r){Jr(t,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(zn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},s=0;s<n.length;s++)a(s);for(ni(t,hr(t.transactionQueueTree_,e)),Xr(t,t.transactionQueueTree_),Mr(t.eventQueue_,e,i),s=0;s<o.length;s++)F(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(S("transaction at "+d.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;Zr(t,e)}}),s)}(t,mr(e),n)}else pr(e)&&gr(e,(function(e){Xr(t,e)}))}function Zr(t,e){var n=ti(t,e),r=mr(n);return function(t,e,n){if(0!==e.length){for(var r=[],o=[],a=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),s=function(s){var l,u=e[s],c=vt(n,u.path),h=!1;if(Object(i.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,l=u.abortReason,o=o.concat(zn(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)h=!0,l="maxretry",o=o.concat(zn(t.serverSyncTree_,u.currentWriteId,!0));else{var d=Yr(t,u.path,a);u.currentInputSnapshot=d;var f=e[s].update(d.val());if(void 0!==f){kr("transaction failed: Data returned ",f,u.path);var p=te(f);"object"==typeof f&&null!=f&&Object(i.k)(f,".priority")||(p=p.updatePriority(d.getPriority()));var g=u.currentWriteId,m=Vr(t),v=lr(p,d,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=v,u.currentWriteId=Hr(t),a.splice(a.indexOf(g),1),o=(o=o.concat(qn(t.serverSyncTree_,u.path,v,u.currentWriteId,u.applyLocally))).concat(zn(t.serverSyncTree_,g,!0))}else h=!0,l="nodata",o=o.concat(zn(t.serverSyncTree_,u.currentWriteId,!0))}Mr(t.eventQueue_,n,o),o=[],h&&(e[s].status=2,setTimeout(e[s].unwatcher,Math.floor(0)),e[s].onComplete&&r.push("nodata"===l?function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)}:function(){return e[s].onComplete(new Error(l),!1,null)}))},l=0;l<e.length;l++)s(l);for(ni(t,t.transactionQueueTree_),l=0;l<r.length;l++)F(r[l]);Xr(t,t.transactionQueueTree_)}}(t,ei(t,n),r),r}function ti(t,e){var n,r=t.transactionQueueTree_;for(n=ut(e);null!==n&&void 0===dr(r);)r=hr(r,n),n=ut(e=ht(e));return r}function ei(t,e){var n=[];return function t(e,n,r){var i=dr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);gr(n,(function(n){t(e,n,r)}))}(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function ni(t,e){var n=dr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,fr(e,n.length>0?n:void 0)}gr(e,(function(e){ni(t,e)}))}function ri(t,e){var n=mr(ti(t,e)),r=hr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){ii(t,e)})),ii(t,r),function t(e,n,r,i){r&&!i&&n(e),gr(e,(function(e){t(e,n,!0,i)})),r&&i&&n(e)}(r,(function(e){ii(t,e)})),n}function ii(t,e){var n=dr(e);if(n){for(var r=[],o=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(i.f)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(i.f)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),o=o.concat(zn(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?fr(e,void 0):n.length=a+1,Mr(t.eventQueue_,mr(e),o),s=0;s<r.length;s++)F(r[s])}}var oi=function(t,e){var n=ai(t),r=n.namespace;return"firebase.com"===n.domain&&I(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new G(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new st(n.pathString)}},ai=function(t){var e="",n="",r="",i="",a="",s=!0,l="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(o.g)(t.split("&")),a=i.next();!a.done;a=i.next()){var s=a.value;if(0!==s.length){var l=s.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):S("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(c=e.indexOf(":"))>=0?(s="https"===l||"wss"===l,u=parseInt(e.substring(c+1),10)):c=e.length;var p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),a=r}"ns"in f&&(a=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:s,scheme:l,pathString:i,namespace:a}},si=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.M)(this.snapshot.exportVal())},t}(),li=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),ui=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(i.f)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),ci=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t,e,n,r=new i.a;return t=this._repo,e=this._path,n=r.wrapCallback((function(){})),t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&function t(e,n){if(mt(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(Wt,(function(t,n){Ie(e,new st(t),n)})),t(e,n)}if(e.children.size>0){var i=ut(n);return n=ht(n),e.children.has(i)&&t(e.children.get(i),n)&&e.children.delete(i),0===e.children.size}return!0}(t.onDisconnect_,e),Qr(0,n,r,i)})),r.promise},t.prototype.remove=function(){Ar("OnDisconnect.remove",this._path);var t=new i.a;return Wr(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){Ar("OnDisconnect.set",this._path),Cr("OnDisconnect.set",t,this._path,!1);var e=new i.a;return Wr(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){Ar("OnDisconnect.setWithPriority",this._path),Cr("OnDisconnect.setWithPriority",t,this._path,!1),Ir("OnDisconnect.setWithPriority",e,!1);var n=new i.a;return function(t,e,n,r,i){var o=te(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&Ie(t.onDisconnect_,e,o),Qr(0,i,n,r)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){Ar("OnDisconnect.update",this._path),Er("OnDisconnect.update",t,this._path,!1);var e=new i.a;return function(t,e,n,r){if(Object(i.w)(n))return C("onDisconnect().update() called with empty data.  Don't do anything."),void Qr(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&M(n,(function(n,r){var i=te(r);Ie(t.onDisconnect_,gt(e,n),i)})),Qr(0,r,i,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),hi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return mt(this._path)?null:dt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new gi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=_e(this._queryParams),e=R(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return _e(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(i.q)(e))instanceof t))return!1;var n=this._repo===e._repo,r=yt(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function di(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function fi(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Nt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==x)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==A)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Wt){if(null!=e&&!_r(e)||null!=n&&!_r(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.f)(t.getIndex()instanceof re||t.getIndex()===ie,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var gi=function(t){function e(e,n){return t.call(this,e,n,new me,!1)||this}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=pt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(hi),mi=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new st(e),r=yi(this.ref,e);return new t(this._node.getChild(n),r,Wt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return e(new t(i,yi(n.ref,r),Wt))}))},t.prototype.hasChild=function(t){var e=new st(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function vi(t,e){return(t=Object(i.q)(t))._checkNotDeleted("ref"),void 0!==e?yi(t._root,e):t._root}function bi(t,e){(t=Object(i.q)(t))._checkNotDeleted("refFromURL");var n=oi(e,t._repo.repoInfo_.nodeAdmin);Or("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||I("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),vi(t,n.path.toString())}function yi(t,e){var n;return null===ut((t=Object(i.q)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xr("child","path",n,!1)):xr("child","path",e,!1),new gi(t._repo,gt(t._path,e))}function wi(t,e){t=Object(i.q)(t),Ar("push",t._path),Cr("push",e,t._path,!0);var n,r=Fr(t._repo),o=ae(r),a=yi(t,o),s=yi(t,o);return n=null!=e?Ci(s,e).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function _i(t){return Ar("remove",t._path),Ci(t,null)}function Ci(t,e){t=Object(i.q)(t),Ar("set",t._path),Cr("set",e,t._path,!1);var n=new i.a;return Gr(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function ki(t,e){t=Object(i.q)(t),Ar("setPriority",t._path),Ir("setPriority",e,!1);var n=new i.a;return Gr(t._repo,gt(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function Ei(t,e,n){if(Ar("setWithPriority",t._path),Cr("setWithPriority",e,t._path,!1),Ir("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new i.a;return Gr(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function Ii(t,e){Er("update",e,t._path,!1);var n=new i.a;return function(t,e,n,r){Jr(t,"update",{path:e.toString(),value:n});var o=!0,a=Vr(t),s={};if(M(n,(function(n,r){o=!1,s[n]=sr(gt(e,n),te(r),t.serverSyncTree_,a)})),o)C("update() called with empty data.  Don't do anything."),Qr(0,r,"ok",void 0);else{var l=Hr(t),u=function(t,e,n,r){!function(t,e,n,r){Object(i.f)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ke(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var o=He.fromObject(n);return $n(t,new Me({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,o))}(t.serverSyncTree_,e,s,l);Rr(t.eventQueue_,u),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||S("update at "+e+" failed: "+n);var a=zn(t.serverSyncTree_,l,!o),s=a.length>0?Zr(t,e):e;Mr(t.eventQueue_,s,a),Qr(0,r,n,i)})),M(n,(function(n){var r=ri(t,gt(e,n));Zr(t,r)})),Mr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}var Si=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new si("value",this,new mi(t.snapshotNode,new gi(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new li(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Ti=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new li(this,t,e):null},t.prototype.createEvent=function(t,e){Object(i.f)(null!=t.childName,"Child events should have a childName.");var n=yi(new gi(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new si(t.type,this,new mi(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function xi(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(e,n){Kr(t._repo,t,u),a(e,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var l=new ui(n,o||void 0),u="value"===e?new Si(l):new Ti(e,l);return function(t,e,n){var r;r=".info"===ut(e._path)?Wn(t.infoSyncTree_,e,n):Wn(t.serverSyncTree_,e,n),Dr(t.eventQueue_,e._path,r)}(t._repo,t,u),function(){return Kr(t._repo,t,u)}}function Ai(t,e,n,r){return xi(t,"value",e,n,r)}function Oi(t,e,n,r){return xi(t,"child_added",e,n,r)}function Ni(t,e,n,r){return xi(t,"child_changed",e,n,r)}function Pi(t,e,n,r){return xi(t,"child_moved",e,n,r)}function Ri(t,e,n,r){return xi(t,"child_removed",e,n,r)}function Di(t,e,n){var r=null,i=n?new ui(n):null;"value"===e?r=new Si(i):e&&(r=new Ti(e,i)),Kr(t._repo,t,r)}var Mi=function(){return function(){}}(),ji=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Cr("endAt",this._value,t._path,!0);var e=be(t._queryParams,this._value,this._key);if(pi(e),fi(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(t._repo,t._path,e,t._orderByCalled)},e}(Mi);function Li(t,e){return Tr("endAt","key",e,!0),new ji(t,e)}var Bi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Cr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Nt?("string"==typeof n&&(n=le(n)),i=be(e,n,r)):i=be(e,n,null==r?x:le(r)),i.endBeforeSet_=!0,i);if(pi(o),fi(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(t._repo,t._path,o,t._orderByCalled)},e}(Mi);function Fi(t,e){return Tr("endBefore","key",e,!0),new Bi(t,e)}var Vi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Cr("startAt",this._value,t._path,!0);var e=ve(t._queryParams,this._value,this._key);if(pi(e),fi(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new hi(t._repo,t._path,e,t._orderByCalled)},e}(Mi);function Ui(t,e){return void 0===t&&(t=null),Tr("startAt","key",e,!0),new Vi(t,e)}var qi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Cr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Nt?("string"==typeof n&&(n=se(n)),i=ve(e,n,r)):i=ve(e,n,null==r?A:se(r)),i.startAfterSet_=!0,i);if(pi(o),fi(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new hi(t._repo,t._path,o,t._orderByCalled)},e}(Mi);function zi(t,e){return Tr("startAfter","key",e,!0),new qi(t,e)}var Hi=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Mi);function Gi(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Hi(t)}var Wi=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Mi);function Ki(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Wi(t)}var $i=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){di(t,"orderByChild");var e=new st(this._path);if(mt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new re(e),r=ye(t._queryParams,n);return fi(r),new hi(t._repo,t._path,r,!0)},e}(Mi);function Ji(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xr("orderByChild","path",t,!1),new $i(t)}var Qi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){di(t,"orderByKey");var e=ye(t._queryParams,Nt);return fi(e),new hi(t._repo,t._path,e,!0)},e}(Mi);function Yi(){return new Qi}var Xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){di(t,"orderByPriority");var e=ye(t._queryParams,Wt);return fi(e),new hi(t._repo,t._path,e,!0)},e}(Mi);function Zi(){return new Xi}var to=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){di(t,"orderByValue");var e=ye(t._queryParams,ie);return fi(e),new hi(t._repo,t._path,e,!0)},e}(Mi);function eo(){return new to}var no=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){if(Cr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ji(this._value,this._key)._apply(new Vi(this._value,this._key)._apply(t))},e}(Mi);function ro(t,e){return Tr("equalTo","key",e,!0),new no(t,e)}function io(t){for(var e,n,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var s=Object(i.q)(t);try{for(var l=Object(o.g)(r),u=l.next();!u.done;u=l.next()){var c=u.value;s=c._apply(s)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return s}!function(t){Object(i.f)(!kn,"__referenceConstructor has already been defined"),kn=t}(gi),function(t){Object(i.f)(!On,"__referenceConstructor has already been defined"),On=t}(gi);var oo={},ao=!1;function so(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||I("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=oi(o,i),l=s.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(a=!0,l=(s=oi(o="http://"+u+"?ns="+l.namespace,i)).repoInfo):a=!s.repoInfo.secure;var c=i&&a?new z(z.OWNER):new q(t.name,t.options,e);Or("Invalid Firebase Database URL",s),mt(s.path)||I("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=oo[e.name];i||(oo[e.name]=i={});var o=i[t.toURLString()];return o&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Br(t,ao,n,r),i[t.toURLString()]=o,o}(l,t,c,new U(t.name,n));return new lo(h,t)}var lo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=Q(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ce(t.repoInfo_,(function(e,n,r,i){Ur(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return qr(t,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.M)(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}t.persistentConnection_=new Tt(t.repoInfo_,e,(function(e,n,r,i){Ur(t,e,n,r,i)}),(function(e){qr(t,e)}),(function(e){!function(t,e){M(e,(function(e,n){zr(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,o;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=(r=function(){return new xe(t.stats_,t.server_)},o=t.repoInfo_.toString(),J[o]||(J[o]=r()),J[o]),t.infoData_=new ke,t.infoSyncTree_=new Un({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=Hn(t.infoSyncTree_,e._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),zr(t,"connected",!1),t.serverSyncTree_=new Un({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Mr(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new gi(this._repo,lt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,(n=oo[e=this.app.name])&&n[t.key]===t||I("Database "+e+"("+t.repoInfo_+") has already been deleted."),$r(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&I("Cannot call "+t+" on a deleted database.")},t}();function uo(t){(t=Object(i.q)(t))._checkNotDeleted("goOffline"),$r(t._repo)}function co(t){var e;(t=Object(i.q)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}var ho={".sv":"timestamp"},fo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function po(t,e,n){var r;if(t=Object(i.q)(t),Ar("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new i.a,s=Ai(t,(function(){}));return function(e,n,r,o,s,l){Jr(e,"transaction on "+n);var u={path:n,update:r,onComplete:function(e,n,r){var i=null;e?a.reject(e):(i=new mi(r,new gi(t._repo,t._path),Wt),a.resolve(new fo(n,i)))},status:null,order:m(),applyLocally:l,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=Yr(e,n,void 0);u.currentInputSnapshot=c;var h=u.update(c.val());if(void 0===h)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{kr("transaction failed: Data returned ",h,u.path),u.status=0;var d=hr(e.transactionQueueTree_,n),f=dr(d)||[];f.push(u),fr(d,f);var p=void 0;"object"==typeof h&&null!==h&&Object(i.k)(h,".priority")?(p=Object(i.J)(h,".priority"),Object(i.f)(_r(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Kn(e.serverSyncTree_,n)||Xt.EMPTY_NODE).getPriority().val();var g=Vr(e),v=te(h,p),b=lr(v,c,g);u.currentOutputSnapshotRaw=v,u.currentOutputSnapshotResolved=b,u.currentWriteId=Hr(e);var y=qn(e.serverSyncTree_,n,b,u.currentWriteId,u.applyLocally);Mr(e.eventQueue_,n,y),Xr(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,s,o),a.promise}var go=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(i.N)("OnDisconnect.cancel",0,1,arguments.length),Object(i.O)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){Object(i.N)("OnDisconnect.remove",0,1,arguments.length),Object(i.O)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){Object(i.N)("OnDisconnect.set",1,2,arguments.length),Object(i.O)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){Object(i.N)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.O)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(Object(i.N)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.O)("OnDisconnect.update","onComplete",e,!0);var o=this._delegate.update(t);return e&&o.then((function(){return e(null)}),(function(t){return e(t)})),o},t}(),mo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(i.N)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),vo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(i.N)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(i.N)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(i.N)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(i.N)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(i.N)("DataSnapshot.child",0,1,arguments.length),e=String(e),xr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(i.N)("DataSnapshot.hasChild",1,1,arguments.length),xr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(i.N)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(i.N)("DataSnapshot.forEach",1,1,arguments.length),Object(i.O)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return Object(i.N)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(i.N)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(i.N)("DataSnapshot.ref",0,0,arguments.length),new yo(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),bo=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,o){var a,s=this;Object(i.N)("Query.on",2,4,arguments.length),Object(i.O)("Query.on","callback",n,!1);var l=t.getCancelAndContextArgs_("Query.on",r,o),u=function(t,e){n.call(l.context,new vo(s.database,t),e)};u.userCallback=n,u.context=l.context;var c=null===(a=l.cancel)||void 0===a?void 0:a.bind(l.context);switch(e){case"value":return Ai(this._delegate,u,c),n;case"child_added":return Oi(this._delegate,u,c),n;case"child_removed":return Ri(this._delegate,u,c),n;case"child_changed":return Ni(this._delegate,u,c),n;case"child_moved":return Pi(this._delegate,u,c),n;default:throw new Error(Object(i.p)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(i.N)("Query.off",0,3,arguments.length),Sr("Query.off",t,!0),Object(i.O)("Query.off","callback",e,!0),Object(i.P)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Di(this._delegate,t,r)}else Di(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=vt(t,n);r=r||Mn(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Mn(i,lt()):(i=new Nn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new je(r,!0,!1):null;return qe(Rn(i,e,en(t.pendingWriteTree_,e._path),o?a.getNode():Xt.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=te(n).withIndex(e._queryParams.getIndex()),i=Hn(t.serverSyncTree_,e._path,r);return Dr(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return Jr(t,"get for query "+Object(i.M)(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=Object(i.q)(t))._repo,t).then((function(e){return new mi(e,new gi(t._repo,t._path),t._queryParams.getIndex())}))}(this._delegate).then((function(e){return new vo(t.database,e)}))},t.prototype.once=function(e,n,r,o){var a=this;Object(i.N)("Query.once",1,4,arguments.length),Object(i.O)("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,o),l=new i.a,u=function(t,e){var r=new vo(a.database,t);n&&n.call(s.context,r,e),l.resolve(r)};u.userCallback=n,u.context=s.context;var c=function(t){s.cancel&&s.cancel.call(s.context,t),l.reject(t)};switch(e){case"value":Ai(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":Oi(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Ri(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Ni(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Pi(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Object(i.p)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},t.prototype.limitToFirst=function(e){return Object(i.N)("Query.limitToFirst",1,1,arguments.length),new t(this.database,io(this._delegate,Gi(e)))},t.prototype.limitToLast=function(e){return Object(i.N)("Query.limitToLast",1,1,arguments.length),new t(this.database,io(this._delegate,Ki(e)))},t.prototype.orderByChild=function(e){return Object(i.N)("Query.orderByChild",1,1,arguments.length),new t(this.database,io(this._delegate,Ji(e)))},t.prototype.orderByKey=function(){return Object(i.N)("Query.orderByKey",0,0,arguments.length),new t(this.database,io(this._delegate,Yi()))},t.prototype.orderByPriority=function(){return Object(i.N)("Query.orderByPriority",0,0,arguments.length),new t(this.database,io(this._delegate,Zi()))},t.prototype.orderByValue=function(){return Object(i.N)("Query.orderByValue",0,0,arguments.length),new t(this.database,io(this._delegate,eo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(i.N)("Query.startAt",0,2,arguments.length),new t(this.database,io(this._delegate,Ui(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(i.N)("Query.startAfter",0,2,arguments.length),new t(this.database,io(this._delegate,zi(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(i.N)("Query.endAt",0,2,arguments.length),new t(this.database,io(this._delegate,Li(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(i.N)("Query.endBefore",0,2,arguments.length),new t(this.database,io(this._delegate,Fi(e,n)))},t.prototype.equalTo=function(e,n){return Object(i.N)("Query.equalTo",1,2,arguments.length),new t(this.database,io(this._delegate,ro(e,n)))},t.prototype.toString=function(){return Object(i.N)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(i.N)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(i.N)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(i.O)(t,"cancel",r.cancel,!0),r.context=n,Object(i.P)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(i.p)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new yo(this.database,new gi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),yo=function(t){function e(e,n){var r=t.call(this,e,new hi(n._repo,n._path,new me,!1))||this;return r.database=e,r._delegate=n,r}return Object(o.c)(e,t),e.prototype.getKey=function(){return Object(i.N)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(i.N)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,yi(this._delegate,t))},e.prototype.getParent=function(){Object(i.N)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(i.N)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(i.N)("Reference.set",1,2,arguments.length),Object(i.O)("Reference.set","onComplete",e,!0);var n=Ci(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(Object(i.N)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ar("Reference.update",this._delegate._path),Object(i.O)("Reference.update","onComplete",e,!0);var o=Ii(this._delegate,t);return e&&o.then((function(){return e(null)}),(function(t){return e(t)})),o},e.prototype.setWithPriority=function(t,e,n){Object(i.N)("Reference.setWithPriority",2,3,arguments.length),Object(i.O)("Reference.setWithPriority","onComplete",n,!0);var r=Ei(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){Object(i.N)("Reference.remove",0,1,arguments.length),Object(i.O)("Reference.remove","onComplete",t,!0);var e=_i(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;Object(i.N)("Reference.transaction",1,3,arguments.length),Object(i.O)("Reference.transaction","transactionUpdate",t,!1),Object(i.O)("Reference.transaction","onComplete",e,!0),Nr("Reference.transaction","applyLocally",n,!0);var o=po(this._delegate,t,{applyLocally:n}).then((function(t){return new mo(t.committed,new vo(r.database,t.snapshot))}));return e&&o.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),o},e.prototype.setPriority=function(t,e){Object(i.N)("Reference.setPriority",1,2,arguments.length),Object(i.O)("Reference.setPriority","onComplete",e,!0);var n=ki(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;Object(i.N)("Reference.push",0,2,arguments.length),Object(i.O)("Reference.push","onComplete",n,!0);var o=wi(this._delegate,t),a=o.then((function(t){return new e(r.database,t)}));n&&a.then((function(){return n(null)}),(function(t){return n(t)}));var s=new e(this.database,o);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},e.prototype.onDisconnect=function(){return Ar("Reference.onDisconnect",this._delegate._path),new go(new ci(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(bo),wo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=Object(i.q)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&I("Cannot call useEmulator() after instance has already been initialized.");var o=t._repoInternal,a=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&I('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new z(z.OWNER);else if(r.mockUserToken){var s=Object(i.l)(r.mockUserToken,t.app.options.projectId);a=new z(s)}!function(t,e,n,r){t.repoInfo_=new G(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(o,e,n,a)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(i.N)("database.ref",0,1,arguments.length),t instanceof yo){var e=bi(this._delegate,t.toString());return new yo(this,e)}return e=vi(this._delegate,t),new yo(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(i.N)(e,1,1,arguments.length);var n=bi(this._delegate,t);return new yo(this,n)},t.prototype.goOffline=function(){return Object(i.N)("database.goOffline",0,0,arguments.length),uo(this._delegate)},t.prototype.goOnline=function(){return Object(i.N)("database.goOnline",0,0,arguments.length),co(this._delegate)},t.ServerValue={TIMESTAMP:ho,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),_o=Object.freeze({__proto__:null,forceLongPolling:function(){et.forceDisallow(),X.forceAllow()},forceWebSockets:function(){X.forceDisallow()},isWebSocketsAvailable:function(){return et.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Te(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);M(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,s=void 0!==a&&a;l(t.version);var u=new r.c("auth-internal",new r.b("database-standalone"));return u.setComponent(new r.a("auth-internal",(function(){return i}),"PRIVATE")),{instance:new wo(so(e,u,void 0,n,s),e),namespace:o}}}),Co=Tt;Tt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Tt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var ko=Object.freeze({__proto__:null,DataConnection:Co,RealTimeConnection:rt,hijackHash:function(t){var e=Tt.prototype.put;return Tt.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Tt.prototype.put=e}},ConnectionTarget:G,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){ao=t}(t)}}),Eo=wo.ServerValue;!function(e){l(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new r.a("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new wo(so(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:yo,Query:bo,Database:wo,DataSnapshot:vo,enableLogging:_,INTERNAL:_o,ServerValue:Eo,TEST_ACCESS:ko}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.8"),Object(i.B)()&&(t.exports=n)}(e.a)}).call(this,n("3UD+")(t))},"6nsN":function(t,e,n){"use strict";var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Ra(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var a=a||{},s=this||self,l=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&l.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++b)}var v="closure_uid_"+(1e9*Math.random()>>>0),b=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:w).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){return t}function S(t,e,n){this.code=A+t,this.message=e||O[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new S(e.substring(A.length),t.message,t.serverResponse):null}E(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var x,A="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function j(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function B(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}x=P("__EID__")?"__EID__":void 0,E(D,Error),D.prototype.name="CustomError",E(M,D),M.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new L((function(){return new q}),(function(t){t.reset()}));function U(){var t=be,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},G=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=z(t,e)}function J(t,e){var n;return(n=0<=(e=z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function Y(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function lt(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=s.navigator;if(ct){var ht=ct.userAgent;if(ht){Z=ht;break t}}Z=""}function dt(t){return lt(Z,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===kt&&e||"",this.b=Ct}function wt(t){return t instanceof yt&&t.constructor===yt&&t.b===Ct?t.a:(j("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.ta=!0,yt.prototype.sa=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,Ct={},kt={};function Et(){if(void 0===_t){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(n){s.console&&s.console.error(n.message)}_t=t}else _t=t}return _t}function It(t,e){this.a=e===Ot?t:""}function St(t){return t instanceof It&&t.constructor===It?t.a:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=wt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Et();return new It(t=e?e.createScriptURL(t):t,Ot)}(t=n.replace(xt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?wt(t):encodeURIComponent(String(t))})))}It.prototype.ta=!0,It.prototype.sa=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ot={};function Nt(t,e){this.a=e===Bt?t:""}function Pt(t){return t instanceof Nt&&t.constructor===Nt?t.a:(j("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Nt.prototype.ta=!0,Nt.prototype.sa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jt(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Mt.test(t))t=new Nt(t,Bt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Rt.test(e[1])?new Nt(t,Bt):null}return t}function Lt(t){return t instanceof Nt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Bt))}var Bt={},Ft=new Nt("about:invalid#zClosurez",Bt);function Vt(t,e,n){this.a=n===Ut?t:""}Vt.prototype.ta=!0,Vt.prototype.sa=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function qt(t,e,n,r){return t=t instanceof Nt?t:Lt(t),e=e||s,n=n instanceof yt?wt(n):n||"",e.open(Pt(t),n,r,void 0)}function zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Gt(t){return Gt[" "](t),t}Gt[" "]=h;var Wt,Kt,$t=dt("Opera"),Jt=dt("Trident")||dt("MSIE"),Qt=dt("Edge"),Yt=Qt||Jt,Xt=dt("Gecko")&&!(lt(Z.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=lt(Z.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=s.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Kt=Z,Xt?/rv:([^\);]+)(\)|;)/.exec(Kt):Qt?/Edge\/([\d\.]+)/.exec(Kt):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kt):Zt?/WebKit\/(\S+)/.exec(Kt):$t?/(?:Version)[ \/]?(\S+)/.exec(Kt):void 0);if(ne&&(ee=ne?ne[1]:""),Jt){var re=te();if(null!=re&&re>parseFloat(ee)){Wt=String(re);break t}}Wt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=tt(String(Wt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ut(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ut(0==a[2].length,0==s[2].length)||ut(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var ae=s.document&&Jt&&(te()||parseInt(Wt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Kt){}var se=!Jt||9<=Number(ae);function le(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}H(a?X(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){s.setTimeout((function(){throw t}),0)}function me(t,e){he||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);he=function(){t.then(ye)}}else he=function(){var t=ye;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!dt("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),ve||(he(),ve=!0),be.add(t,e)}var ve=!1,be=new F;function ye(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){ge(e)}B(V,t)}ve=!1}function we(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Re(n,Ce,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Re(n,ke,t)}))}catch(r){Re(this,ke,r)}}var _e=0,Ce=2,ke=3;function Ee(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ee.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ie=new L((function(){return new Ee}),(function(t){t.reset()}));function Se(t,e,n){var r=Ie.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof we)return t;var e=new we(h);return Re(e,Ce,t),e}function xe(t){return new we((function(e,n){n(t)}))}function Ae(t,e,n){De(t,e,n,null)||me(C(e,t))}function Oe(t){return new we((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],C(i,o,!0),C(i,o,!1));else e(r)}))}function Ne(t,e){t.b||t.a!=Ce&&t.a!=ke||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Se(null,null,null);return i.a=new we((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,Ne(t,i),i.a}function Re(t,e,n){t.a==_e&&(t===n&&(e=ke,n=new TypeError("Promise cannot resolve to itself")),t.a=1,De(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=ke||n instanceof Ve||function(t,e){t.g=!0,me((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function De(t,e,n,r){if(t instanceof we)return Ne(t,Se(e||h,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Me(t){t.h||(t.h=!0,me(t.gc,t))}function je(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==ke&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Be(e,n,r);else try{e.c?e.g.call(e.f):Be(e,n,r)}catch(i){Fe.call(null,i)}B(Ie,e)}function Be(t,e,n){e==Ce?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Pe(this,p(t)?t:null,p(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Ne(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new Ve(t);me((function(){!function t(e,n){if(e.a==_e)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==_e&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):je(r),Le(r,o,ke,n)))}e.c=null}else Re(e,ke,n)}(this,e)}),this)}},t.$c=function(t){this.a=_e,Re(this,Ce,t)},t.ad=function(t){this.a=_e,Re(this,ke,t)},t.gc=function(){for(var t;t=je(this);)Le(this,t,this.a,this.i);this.h=!1};var Fe=ge;function Ve(t){D.call(this,t)}function Ue(){0!=qe&&(ze[m(this)]=this),this.ya=this.ya,this.pa=this.pa}E(Ve,D),Ve.prototype.name="cancel";var qe=0,ze={};function He(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=qe)){var e=m(t);if(0!=qe&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}Ue.prototype.ya=!1,Ue.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},We=!Jt||9<=Number(ae),Ke=Jt&&!oe("9"),$e=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function Je(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Gt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ye[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Je.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Qe,Je);var Ye=Ge({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Ze,this.wa=this.Qa=!1}function en(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&J(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=on(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new tn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),sn={};function ln(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=yn(n),t&&t[Xe]?_n(t,e,n,g(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=vn(t);if(s||(t[an]=s=new nn(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=mn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Xe]?Cn(t,e,n,g(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=yn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Xe])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(rn(n,t),0==n.b&&(n.src=null,e[an]=null)):en(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&dn(t),n.call(r,e)}function mn(t,e){if(t.wa)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Qe(e,this))}function vn(t){return(t=t[an])instanceof nn?t:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return p(t)?t:(t[bn]||(t[bn]=function(e){return t.handleEvent(e)}),t[bn])}function wn(){Ue.call(this),this.v=new nn(this),this.bc=this,this.hb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Cn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function kn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,l=a.Wa||a.src;a.Qa&&rn(t.v,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function In(t){var e=null;return new we((function(n,r){-1==(e=En((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function Sn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(wn,Ue),wn.prototype[Xe]=!0,wn.prototype.addEventListener=function(t,e,n,r){ln(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Je(t,n);else if(t instanceof Je)t.target=t.target||n;else{var i=t;vt(t=new Je(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=kn(a,r,!0,t)&&i}if(i=kn(a=t.b=n,r,!0,t)&&i,i=kn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kn(a=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=xn.prototype).X=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return On(this.b,t)?this.b[t]:e},t.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Rn(this,t.c),this.l=t.l,this.a=t.a,Dn(this,t.g),this.f=t.f,Mn(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,Rn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Dn(this,n[4]),this.f=Vn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!e,this.b=new $n(null,this.i))}function Rn(t,e,n){t.c=n?Vn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Dn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Mn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Jn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Zn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Un(e,Wn)),t.b=new $n(e,t.i))}function jn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Bn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Fn(t,e,n,r){var i=new Pn(null,void 0);return t&&Rn(i,t),e&&(i.a=e),n&&Dn(i,n),r&&(i.f=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Un(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Un(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?Gn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Un(n,Kn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?Rn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Dn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(lt(i,"./")||lt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Mn(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,Hn=/[#\?:]/g,Gn=/[#\?]/g,Wn=/[#\?@]/g,Kn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Jn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Yn(t,e){Jn(t),e=er(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Xn(t,e){return Jn(t),e=er(t,e),On(t.a.b,e)}function Zn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),X(n)),t.b+=n.length)}function tr(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),ar(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ar(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new rr,t,e),e.join("")}function rr(){}(t=$n.prototype).add=function(t,e){Jn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Jn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Jn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Jn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=Y(e,this.a.get(er(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Jn(this),this.c=null,Xn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function sr(){var t=Ir();return Jt&&!!ae&&11==ae||/Edge\/\d+/.test(t)}function lr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||s.window;var n="about:blank";t&&(n=Pt(jt(t)||Ft)),e.location.href=n}function cr(t){return!!((t=(t||Ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||s.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(e.target=r,lt(n,"crios/")&&(e.target="_blank")),Cr(Ir())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:jt(void 0!==n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:Lt(e),a.href=Pt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=qt("",r,n,a),t=Pt(e),a&&(Yt&&lt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Vt(t=(r=Et())?r.createHTML(t):t,null,Ut),r=a.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(j("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(a=qt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new we((function(e){"complete"==s.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function mr(t){return t=t||Ir(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function vr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function yr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function wr(){var t=yr();return"ReactNative"===t||"Node"===t}var _r="Firefox";function Cr(t){var e=t.toLowerCase();return lt(e,"opera/")||lt(e,"opr/")||lt(e,"opios/")?"Opera":lt(e,"iemobile")?"IEMobile":lt(e,"msie")||lt(e,"trident/")?"IE":lt(e,"edge/")?"Edge":lt(e,"firefox/")?_r:lt(e,"silk/")?"Silk":lt(e,"blackberry")?"Blackberry":lt(e,"webos")?"Webos":!lt(e,"safari/")||lt(e,"chrome/")||lt(e,"crios/")||lt(e,"android")?!lt(e,"chrome/")&&!lt(e,"crios/")||lt(e,"edge/")?lt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var kr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Er(t,e){e=e||[];var n,r=[],i={};for(n in kr)i[kr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=yr())?r=Cr(i=Ir()):"Worker"===r&&(r=Cr(i=Ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ir(){return s.navigator&&s.navigator.userAgent||""}function Sr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Tr(){try{var t=s.localStorage,e=Mr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!s.indexedDB}catch(n){return br()&&!!s.indexedDB}return!1}function xr(){return(Ar()||"chrome-extension:"===Or()||mr())&&!wr()&&Tr()&&!br()}function Ar(){return"http:"===Or()||"https:"===Or()}function Or(){return s.location&&s.location.protocol||null}function Nr(t){return!cr(t=t||Ir())&&Cr(t)!=_r}function Pr(t){return void 0===t?null:nr(t)}function Rr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Dr(t){if(null!==t)return JSON.parse(t)}function Mr(t){return t||Math.floor(1e9*Math.random()).toString()}function jr(t){return"Safari"!=Cr(t=t||Ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Lr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Br(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ir(),e=yr(),this.b=cr(t)||"ReactNative"===e}function Fr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ur(){return!(!Sr("fireauth.oauthhelper",s)&&!Sr("fireauth.iframe",s))}Br.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Ar()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var qr,zr={};function Hr(t){zr[t]||(zr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),qr=2==Gr.abcd}catch(Kt){qr=!1}function Wr(t,e,n){qr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Kr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function $r(t){var e={};return Kr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Jr(t[n]));return e}function Qr(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ti]),Wr(this,"displayName",t[Xr]||null);var n=null;t[Zr]&&(n=new Date(t[Zr]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Yr(t){try{var e=new ni(t)}catch(n){e=null}return e}Qr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Xr="displayName",Zr="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){Qr.call(this,t),Wr(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[si],r=t[ui],i=t[ci];if(t=Yr(t[li]),!i||i!=oi&&i!=ai&&!n||i==ai&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[di]=n||null,e[pi]=n||null,e[hi]=r):(e[di]=r||null,e[pi]=r||null,e[hi]=n||null),e[fi]=t||null,Wr(this,mi,i),Wr(this,gi,Jr(e))}E(ni,Qr),ni.prototype.w=function(){var t=ni.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",si="email",li="mfaInfo",ui="newEmail",ci="requestType",hi="email",di="fromEmail",fi="multiFactorInfo",pi="previousEmail",gi="data",mi="operation";function vi(t){var e=Ln(t=Bn(t),bi)||null,n=Ln(t,yi)||null,r=Ln(t,Ci)||null;if(r=r&&Ei[r]||null,!e||!n||!r)throw new S("argument-error",bi+", "+yi+"and "+Ci+" are required in a valid action code URL.");Kr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,wi)||null,languageCode:Ln(t,_i)||null,tenantId:Ln(t,ki)||null})}var bi="apiKey",yi="oobCode",wi="continueUrl",_i="languageCode",Ci="mode",ki="tenantId",Ei={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ii(t){try{return new vi(t)}catch(e){return null}}function Si(t){var e=t[Ni];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ti];if(n&&"object"==typeof n){e=n[Di];var r=n[Pi];if(n=n[Ri],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Ri+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Di+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Ti+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Mi])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Ai])&&"boolean"!=typeof e)throw new S("argument-error",Ai+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[xi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",xi+" property must be a non empty string when specified.");this.i=t||null}var Ti="android",xi="dynamicLinkDomain",Ai="handleCodeInApp",Oi="iOS",Ni="url",Pi="installApp",Ri="minimumVersion",Di="packageName",Mi="bundleId";function ji(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Li=null;function Bi(t){var e=Vi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Fi(t){try{return new Bi(t)}catch(e){return null}}function Vi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Li[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Li){Li={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Li[o]&&(Li[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(l){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var Ui="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qi=["client_id","response_type","scope","redirect_uri","state"],zi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ui},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Hi(t){for(var e in zi)if(zi[e].fa==t)return zi[e];return null}function Gi(t){var e={};e["facebook.com"]=Qi,e["google.com"]=Xi,e["github.com"]=Yi,e["twitter.com"]=Zi;var n=t&&t[Ki];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Wi])return new $i(t)}catch(r){}return null}var Wi="idToken",Ki="providerId";function $i(t){var e=t[Ki];if(!e&&t[Wi]){var n=Fi(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Ji(t){$i.call(this,t),Wr(this,"profile",Jr((t=Dr(t.rawUserInfo||"{}"))||{}))}function Qi(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function Xi(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function to(t){var e=Bn(t),n=Ln(e,"link"),r=Ln(Bn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Bn(e),"link")||e||r||n||t}function eo(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?no:ro}E(Ji,$i),E(Qi,Ji),E(Yi,Ji),E(Xi,Ji),E(Zi,Ji);var no="enroll",ro="signin";function io(){}function oo(t,e){return t.then((function(t){if(t[Ga]){var n=Fi(t[Ga]);if(!n||e!=n.i)throw new S("user-mismatch");return t}throw new S("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new S("user-mismatch"):t}))}function ao(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function so(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ao(t.providerId,t.pendingToken)}catch(e){}return null}function uo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function co(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ho(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new uo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function fo(t,e){this.Qc=e||[],Kr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Hi(t)||{}).Ja||null,this.pb=null}function po(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,t,[])}function go(t){fo.call(this,t,qi),this.a=[]}function mo(){go.call(this,"facebook.com")}function vo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function bo(){go.call(this,"github.com")}function yo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function wo(){go.call(this,"google.com"),this.Ca("profile")}function _o(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new wo).credential({idToken:n,accessToken:e})}function Co(){fo.call(this,"twitter.com",Ui)}function ko(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new uo("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===So.EMAIL_LINK_SIGN_IN_METHOD?So.EMAIL_LINK_SIGN_IN_METHOD:So.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Io(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function So(){Kr(this,{providerId:"password",isOAuthProvider:!1})}function To(t,e){if(!(e=xo(e)))throw new S("argument-error","Invalid email link!");return new Eo(t,e.code,So.EMAIL_LINK_SIGN_IN_METHOD)}function xo(t){return(t=Ii(t=to(t)))&&t.operation===oi?t:null}function Ao(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new S("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ao(e)}return null}function No(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Po(t){try{this.a=t||r.a.auth()}catch(e){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Kr(this,{providerId:"phone",isOAuthProvider:!1})}function Ro(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new Ao({fb:t,eb:e})}function Do(t){if(t.temporaryProof&&t.phoneNumber)return new Ao({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return vo(n);case"github.com":return yo(n);case"twitter.com":return ko(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new ao(e,a):new uo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Mo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function jo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Lo(t){return(t=t||{}).type?new jo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}eo.prototype.Ha=function(){return Te(this.a?this.a:this.b)},eo.prototype.w=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ka=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.w=function(){},ao.prototype.ka=function(t){return ds(t,so(this))},ao.prototype.b=function(t,e){var n=so(this);return n.idToken=e,fs(t,n)},ao.prototype.c=function(t,e){return oo(ps(t,so(this)),e)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},uo.prototype.ka=function(t){return ds(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,fs(t,n)},uo.prototype.c=function(t,e){return oo(ps(t,co(this)),e)},uo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},fo.prototype.Ka=function(t){return this.Jb=gt(t),this},E(po,fo),E(go,fo),go.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},go.prototype.Rb=function(){return X(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new uo(this.providerId,n,this.providerId)},E(mo,go),Wr(mo,"PROVIDER_ID","facebook.com"),Wr(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(bo,go),Wr(bo,"PROVIDER_ID","github.com"),Wr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),E(wo,go),Wr(wo,"PROVIDER_ID","google.com"),Wr(wo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Co,fo),Wr(Co,"PROVIDER_ID","twitter.com"),Wr(Co,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ka=function(t){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Js(t,Cs,{email:this.a,oobCode:this.f}):Js(t,Hs,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Js(t,ks,{idToken:e,email:this.a,oobCode:this.f}):Js(t,js,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return oo(this.ka(t),e)},Eo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Kr(So,{PROVIDER_ID:"password"}),Kr(So,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Kr(So,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ao.prototype.ka=function(t){return t.gb(No(this))},Ao.prototype.b=function(t,e){var n=No(this);return n.idToken=e,Js(t,Ws,n)},Ao.prototype.c=function(t,e){var n=No(this);return n.operation="REAUTH",oo(t=Js(t,Ks,n),e)},Ao.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.gb=function(t,e){var n=this.a.a;return Te(e.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==no?i.Ha().then((function(t){return function(t,e){return Js(t,Bs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ro?i.Ha().then((function(e){return function(t,e){return Js(t,Fs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Js(t,Ds,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Kr(Po,{PROVIDER_ID:"phone"}),Kr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),jo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},jo.prototype.T=function(){return this.h},jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Fo,Vo=null;function Uo(t){var e="unauthorized-domain",n=void 0,r=Bn(t);t=r.a,"chrome-extension"==(r=r.c)?n=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function qo(t,e,n){S.call(this,t,n),(t=e||{}).Kb&&Wr(this,"email",t.Kb),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.$b&&Wr(this,"tenantId",t.$b)}function zo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Do(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new qo(e,n,t.message)}return null}function Ho(){}function Go(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ko(){}function $o(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Qo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Yo(t){this.f=t,this.b=this.c=this.a=null}function Xo(t,e){this.name=t,this.value=e}E(Uo,S),E(qo,S),qo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},qo.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,E(Go,Ho),Go.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Go.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},Fo=new Go,E(Ko,Ho),Ko.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new $o;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(t=$o.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Qo.prototype.a=null,Qo.prototype.reset=function(t,e,n,r,i){r||k(),delete this.a},Xo.prototype.toString=function(){return this.name};var Zo=new Xo("SEVERE",1e3),ta=new Xo("WARNING",900),ea=new Xo("CONFIG",700),na=new Xo("FINE",500);Yo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(j("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Qo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ra={},ia=null;function oa(t){var e;if(ia||(ia=new Yo(""),ra[""]=ia,ia.c=ea),!(e=ra[t])){e=new Yo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=oa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ra[t]=e}return e}function aa(t,e){t&&t.log(na,e,void 0)}function sa(t){this.f=t}function la(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=ua,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=oa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(sa,Ho),sa.prototype.a=function(){return new la(this.f)},sa.prototype.b=function(t){return function(){return t}}({}),E(la,wn);var ua=0;function ca(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ha(t){t.readyState=4,t.g=null,t.c=null,t.m=null,da(t)}function da(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function fa(t){wn.call(this),this.headers=new xn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=pa,this.u=this.S=!1}(t=la.prototype).open=function(t,e){if(this.readyState!=ua)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,da(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ha(this)),this.readyState=ua},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,da(this)),this.a&&(this.readyState=3,da(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ca(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ha(this):da(this),3==this.readyState&&ca(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ha(this))},t.sc=function(t){this.a&&(this.response=t,ha(this))},t.Va=function(t){var e=this.i;e&&e.log(ta,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ha(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ta,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ta,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(la.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),E(fa,wn);var pa="";fa.prototype.b=oa("goog.net.XhrIo");var ga=/^https?$/i,ma=["POST","PUT"];function va(t){return"content-type"==t.toLowerCase()}function ba(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ya(t),_a(t)}function ya(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function wa(t){if(t.c&&void 0!==a)if(t.C[1]&&4==ka(t)&&2==Ea(t))aa(t.b,Ia(t,"Local request error detected and ignored"));else if(t.i&&4==ka(t))En(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==ka(t)){aa(t.b,Ia(t,"Request complete")),t.c=!1;try{var e,n=Ea(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Nn)[1]||null;if(!o&&s.self&&s.self.location){var l=s.self.location.protocol;o=l.substr(0,l.length-1)}i=!ga.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<ka(t)?t.a.statusText:""}catch(c){aa(t.b,"Can not get status: "+c.message),u=""}t.h=u+" ["+Ea(t)+"]",ya(t)}}finally{_a(t)}}}function _a(t,e){if(t.a){Ca(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Zo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ca(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function ka(t){return t.a?t.a.readyState:0}function Ea(t){try{return 2<ka(t)?t.a.status:-1}catch(e){return-1}}function Ia(t,e){return e+" ["+t.P+" "+t.l+" "+Ea(t)+"]"}function Sa(t){var e=La;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ta(t,e,n){t.a=!0,t.c=n,t.f=!e,Na(t)}function xa(t){if(t.a){if(!t.v)throw new Pa(t);t.v=!1}}function Aa(t,e,n,r){t.g.push([e,n,r]),t.a&&Na(t)}function Oa(t){return K(t.g,(function(t){return p(t[1])}))}function Na(t){if(t.h&&t.a&&Oa(t)){var e=t.h,n=Ma[e];n&&(s.clearTimeout(n.a),delete Ma[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var l=o.call(i||t.s,e);void 0!==l&&(t.f=t.f&&(l==e||l instanceof Error),t.c=e=l),(R(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,Oa(t)||(n=!0)}}t.c=e,r&&(l=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof Sa?(Aa(e,l,r),e.C=!0):e.then(l,r)),n&&(e=new Da(e),Ma[e.a]=e,t.h=e.a)}function Pa(){D.call(this)}function Ra(){D.call(this)}function Da(t){this.a=s.setTimeout(_(this.c,this),0),this.b=t}(t=fa.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",aa(this.b,Ia(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(aa(this.b,Ia(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_a(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_a(this,!0)),fa.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?wa(this):this.Jc())},t.Jc=function(){wa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case pa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return aa(this.b,"Can not get response: "+e.message),null}},Sa.prototype.cancel=function(t){if(this.a)this.c instanceof Sa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ra(this),xa(this),Ta(this,!1,t))}},Sa.prototype.m=function(t,e){this.i=!1,Ta(this,t,e)},Sa.prototype.then=function(t,e,n){var r,i,o=new we((function(t,e){r=t,i=e}));return Aa(this,r,(function(t){t instanceof Ra?o.cancel():i(t)})),o.then(t,e,n)},Sa.prototype.$goog_Thenable=!0,E(Pa,D),Pa.prototype.message="Deferred has already fired",Pa.prototype.name="AlreadyCalledError",E(Ra,D),Ra.prototype.message="Deferred was canceled",Ra.prototype.name="CanceledError",Da.prototype.c=function(){throw delete Ma[this.a],this.b};var Ma={};function ja(t){var e={},n=e.document||document,r=St(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Sa(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout((function(){Ba(i,!0);var t=new Ua(Va,"Timeout reached for loading script "+r);xa(a),Ta(a,!1,t)}),h),o.Ma=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ba(i,e.xd||!1,l),xa(a),Ta(a,!0,null))},i.onerror=function(){Ba(i,!0,l);var t=new Ua(Fa,"Error while loading script "+r);xa(a),Ta(a,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=St(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function La(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Ba(t,!0,this.Ma)}}function Ba(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Fa=0,Va=1;function Ua(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function qa(t){this.f=t}function za(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Wa,this.g=gt(t.secureTokenHeaders||Ka),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||$a,this.a=gt(t.firebaseHeaders||Ja),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==yr(),!(n=s.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!br())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=br()?new sa(self):wr()?new qa(n):new Ko,this.b=null}E(Ua,D),E(qa,Ho),qa.prototype.a=function(){return new this.f},qa.prototype.b=function(){return{}};var Ha,Ga="idToken",Wa=new Br(3e4,6e4),Ka={"Content-Type":"application/x-www-form-urlencoded"},$a=new Br(3e4,6e4),Ja={"Content-Type":"application/json"};function Qa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ya(t,e){e&&(t.l=Xa("https://securetoken.googleapis.com/v1/token",e),t.h=Xa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Xa("https://identitytoolkit.googleapis.com/v2/",e))}function Xa(t,e){return t=Bn(t),e=Bn(e.url),t.f=t.a+t.f,Rn(t,e.c),t.a=e.a,Dn(t,e.g),t.toString()}function Za(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ts(t,e,n,r,i,o,a){(function(){var t=Ir();return!((t="Chrome"!=Cr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Jt&&ae&&!(9<ae))})()||br()?t=_(t.u,t):(Ha||(Ha=new we((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[ns]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Aa(t,null,e,void 0)}(ja(Tt(es,{onload:ns})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=_(t.s,t)),t(e,n,r,i,o,a)}za.prototype.T=function(){return this.b},za.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new fa(this.f);if(o){a.g=Math.max(0,o);var l=setTimeout((function(){a.dispatchEvent("timeout")}),o)}_n(a,"complete",(function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return aa(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),Cn(a,"ready",(function(){l&&clearTimeout(l),He(this)})),Cn(a,"timeout",(function(){l&&clearTimeout(l),He(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Fo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Fo),t.a.onreadystatechange=_(t.Wb,t);try{aa(t.b,Ia(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return aa(t.b,Ia(t,"Error opening Xhr: "+a.message)),void ba(t,a)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)H(t,e,void 0);else for(var n=Tn(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=va,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!$(ma,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ca(t),0<t.g&&(t.u=function(t){return Jt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),aa(t.b,Ia(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=En(t.Ma,t.g,t)),aa(t.b,Ia(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){aa(t.b,Ia(t,"Send error: "+a.message)),ba(t,a)}}(a,t,n,r,i)};var es=new yt(kt,"https://apis.google.com/js/client.js?onload=%{onload}"),ns="__fcb"+Math.floor(1e6*Math.random()).toString();function rs(t){if("string"!=typeof(t=t.email)||!pr.test(t))throw new S("invalid-email")}function is(t){"email"in t&&rs(t)}function os(t){if(!t[Ga]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,gt(t));throw new S("internal-error")}}function as(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}za.prototype.s=function(t,e,n,r,i){var o=this;Ha.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},za.prototype.Ab=function(){return Js(this,Ls,{})},za.prototype.Cb=function(t,e){return Js(this,Ms,{idToken:t,email:e})},za.prototype.Db=function(t,e){return Js(this,js,{idToken:t,password:e})};var ss={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ls(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function us(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function cs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Xn(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function hs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=zo(t)):t.errorMessage&&(e=Qs(t.errorMessage)),e)throw e;os(t)}function ds(t,e){return e.returnIdpCredential=!0,Js(t,Vs,e)}function fs(t,e){return e.returnIdpCredential=!0,Js(t,qs,e)}function ps(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Js(t,Us,e)}function gs(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=za.prototype).Eb=function(t,e){var n={idToken:t},r=[];return ft(ss,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Js(this,Ms,n)},t.wb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),Js(this,Os,t)},t.xb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),Js(this,Ts,t)},t.vb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Js(this,xs,t)},t.Fb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Js(this,As,t)},t.gb=function(t){return Js(this,Gs,t)},t.ob=function(t,e){return Js(this,Rs,{oobCode:t,newPassword:e})},t.Sa=function(t){return Js(this,vs,{oobCode:t})},t.kb=function(t){return Js(this,ms,{oobCode:t})};var ms={endpoint:"setAccountInfo",A:gs,Z:"email",B:!0},vs={endpoint:"resetPassword",A:gs,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},B:!0},bs={endpoint:"signupNewUser",A:function(t){if(rs(t),!t.password)throw new S("weak-password")},G:os,V:!0,B:!0},ys={endpoint:"createAuthUri",B:!0},ws={endpoint:"deleteAccount",O:["idToken"]},_s={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new S("internal-error")}},Cs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:rs,G:os,V:!0,B:!0},ks={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:rs,G:os,V:!0},Es={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ls,G:os,B:!0,Na:!0},Is={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ls,G:os,B:!0,Na:!0},Ss={endpoint:"getAccountInfo"},Ts={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");rs(t)},Z:"email",B:!0},xs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},As={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Os={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");rs(t)},Z:"email",B:!0},Ns={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ps={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Rs={endpoint:"resetPassword",A:gs,Z:"email",B:!0},Ds={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ms={endpoint:"setAccountInfo",O:["idToken"],A:is,V:!0},js={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(is(t),!t.password)throw new S("weak-password")},G:os,V:!0},Ls={endpoint:"signupNewUser",G:os,V:!0,B:!0},Bs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Fs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Vs={endpoint:"verifyAssertion",A:us,Za:cs,G:hs,V:!0,B:!0},Us={endpoint:"verifyAssertion",A:us,Za:cs,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw Qs(t.errorMessage);os(t)},V:!0,B:!0},qs={endpoint:"verifyAssertion",A:function(t){if(us(t),!t.idToken)throw new S("internal-error")},Za:cs,G:hs,V:!0},zs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:os,V:!0,B:!0},Hs={endpoint:"verifyPassword",A:function(t){if(rs(t),!t.password)throw new S("wrong-password")},G:os,V:!0,B:!0},Gs={endpoint:"verifyPhoneNumber",A:as,G:os,B:!0},Ws={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");as(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);os(t)}},Ks={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:as,G:os,B:!0},$s={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ga]^!!t.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Js(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return xe(new S("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Te(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Bn(e+n);jn(s,"key",t.c),a&&jn(s,"cb",Date.now().toString());var l="GET"==r;if(l)for(var u in i)i.hasOwnProperty(u)&&jn(s,u,i[u]);return new we((function(e,n){ts(t,s.toString(),(function(t){t?t.error?n(Ys(t,o||{})):e(t):n(new S("network-request-failed"))}),r,l?void 0:nr(Rr(i)),t.a,t.v.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]}))}function Qs(t){return Ys({error:{errors:[{message:t}],code:400,message:t}})}function Ys(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Pr(t)),new S("internal-error",e)}function Xs(t){this.b=t,this.a=null,this.sb=function(t){return(nl||(nl=new we((function(t,e){function n(){Lr(),Sr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Lr(),e(Error("Network Error"))},timeout:tl.get()})}if(Sr("gapi.iframes.Iframe"))t();else if(Sr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Sr("gapi.load")?n():e(Error("Network Error"))},Te(ja(r=Tt(Zs,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw nl=null,t})))).then((function(){return new we((function(e,n){Sr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),el.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Zs=new yt(kt,"https://apis.google.com/js/api.js?onload=%{onload}"),tl=new Br(3e4,6e4),el=new Br(5e3,15e3),nl=null;function rl(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Fn((t=Bn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,jn(this.a,"apiKey",this.h),jn(this.a,"appName",this.i),this.b=null,this.c=[]}function il(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ol(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function al(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function sl(t){var e=lr();return function(t){return Js(t,Ns,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Bn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Bn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:fr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Uo(lr())}))}function ll(t){return t.m||(t.m=gr().then((function(){if(!t.u){var e=t.c,n=t.i,r=ol(t.b),i=new rl(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new Xs(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Lo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)}))}(t)}))),t.m}function ul(t){return t.l||(t.C=t.c?Er(t.c,ol(t.b)):null,t.l=new za(t.g,P(t.i),t.C),t.f&&Ya(t.l,t.f)),t.l}function cl(t,e,n,r,i,o,a,s,l,u,c,h){return(t=new il(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=gt(l||null),t.f=u,t.zb(c).toString()}function hl(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function dl(t){this.b=t,this.a={},this.f=_(this.c,this)}rl.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):Yn(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):Yn(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):Yn(this.a.b,"fw"),this.a.toString()},il.prototype.zb=function(t){return this.h=t,this},il.prototype.toString=function(){if(this.v){var t=Bn(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(jn(t,"apiKey",this.s),jn(t,"appName",this.c),jn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().la()}catch(l){n=null}for(var i in e.pb=n,jn(t,"providerId",this.a.providerId),e=Rr((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=gt(e);for(var o=0;o<i.length;o++){var a=i[o];a in e&&delete e[a]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||jn(t,"customParameters",Pr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&jn(t,"scopes",n.join(",")),this.l?jn(t,"redirectUrl",this.l):Yn(t.b,"redirectUrl"),this.g?jn(t,"eventId",this.g):Yn(t.b,"eventId"),this.i?jn(t,"v",this.i):Yn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ln(t,s)&&jn(t,s,this.b[s]);return this.h?jn(t,"tid",this.h):Yn(t.b,"tid"),this.f?jn(t,"eid",this.f):Yn(t.b,"eid"),(s=ol(this.c)).length&&jn(t,"fw",s.join(",")),t.toString()},(t=al.prototype).Pb=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return ll(t).then((function(){return function(t,e){return t.sb.then((function(){return new we((function(n){t.a.send(e.type,e,n,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&hr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new we((function(e){return function n(){In(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return In(n).then((function(){e(r)}))}))},t.Yb=function(){var t=Ir();return!Nr(t)&&!jr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return xe(new S("popup-blocked"));if(a&&!Nr())return this.ma().o((function(e){hr(t),i(e)})),r(),Te();this.a||(this.a=sl(ul(this)));var l=this;return this.a.then((function(){var e=l.ma().o((function(e){throw hr(t),i(e),e}));return r(),e})).then((function(){Mo(n),a||ur(cl(l.s,l.g,l.b,e,n,null,o,l.c,void 0,l.i,s,l.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(l.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=sl(ul(this)));var i=this;return this.a.then((function(){Mo(e),ur(cl(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return ll(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new S("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Q(this.h,(function(e){return e==t}))},(t=hl.prototype).get=function(t){return Te(this.a.getItem(t)).then((function(t){return t&&Dr(t)}))},t.set=function(t,e){return Te(this.a.setItem(t,Pr(e)))},t.U=function(t){return Te(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var fl,pl=[];function gl(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function ml(t){this.a=t}function vl(t){this.c=t,this.b=!1,this.a=[]}function bl(t,e,n,r){var i,o,a,s,l=n||{},u=null;if(t.b)return xe(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:l},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return yl(t,u),e})).o((function(e){throw yl(t,u),e}))}function yl(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,(function(t){return t==e}))}}function wl(){if(!kl())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(H(pl,(function(n){n.b==t&&(e=n)})),!e){var e=new dl(t);pl.push(e)}return e}(),gl(this.v,"keyChanged",(function(e,n){return xl(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:$(e,n.key)}}))})),gl(this.v,"ping",(function(){return Te(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Te().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Te(null)}().then((function(e){(t.h=e)&&(t.g=new vl(new ml(e)),bl(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function _l(t){return t.i||(t.i=function t(e){return new we((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new we((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.i}function Cl(t,e){var n=0;return new we((function r(i,o){_l(t).then(e).then(i).o((function(e){if(!(3<++n))return _l(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function kl(){try{return!!s.indexedDB}catch(Kt){return!1}}function El(t){return t.objectStore("firebaseLocalStorage")}function Il(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Sl(t){return new we((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Tl(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?bl(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Te()}function xl(t){return _l(t).then((function(t){var e=El(Il(t,!1));return e.getAll?Sl(e.getAll()):new we((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Al(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ol(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then((function(){if(kl()){var t=Mr(),r="__sak"+t;return fl||(fl=new wl),(n=fl).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function Nl(){this.a={},this.type="inMemory"}function Pl(){if(!function(){var t="Node"==yr();if(!(t=Rl()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==yr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Rl()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Rl(){try{var t=s.localStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Dl(){this.type="nullStorage"}function Ml(){if(!function(){var t="Node"==yr();if(!(t=jl()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==yr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=jl()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function jl(){try{var t=s.sessionStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ll(){var t={};t.Browser=Vl,t.Node=Ul,t.ReactNative=ql,t.Worker=zl,this.a=t[yr()]}dl.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(Te().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},ml.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},vl.prototype.close=function(){for(;0<this.a.length;)yl(this,this.a[0]);this.b=!0},(t=wl.prototype).set=function(t,e){var n=this,r=!1;return Cl(this,(function(e){return Sl((e=El(Il(e,!0))).get(t))})).then((function(i){return Cl(n,(function(o){if(o=El(Il(o,!0)),i)return i.value=e,Sl(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Sl(o.add(a))}))})).then((function(){return n.c[t]=e,Tl(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Cl(this,(function(e){return Sl(El(Il(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Cl(this,(function(r){return n=!0,e.b++,Sl(El(Il(r,!0)).delete(t))})).then((function(){return delete e.c[t],Tl(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Al(t),function e(){t.f=setTimeout((function(){t.l=xl(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,(function(e){return e==t})),0==this.a.length&&Al(this)},(t=Ol.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,(function(e){return e==t}))},(t=Nl.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.U=function(t){return delete this.a[t],Te()},t.ca=function(){},t.ia=function(){},(t=Pl.prototype).get=function(t){var e=this;return Te().then((function(){return Dr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&ln(s.window,"storage",t)},t.ia=function(t){s.window&&hn(s.window,"storage",t)},(t=Dl.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.U=function(){return Te()},t.ca=function(){},t.ia=function(){},(t=Ml.prototype).get=function(t){var e=this;return Te().then((function(){return Dr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Bl,Fl,Vl={F:Pl,cb:Ml},Ul={F:Pl,cb:Ml},ql={F:hl,cb:Dl},zl={F:Pl,cb:Dl},Hl={rd:"local",NONE:"none",td:"session"};function Gl(){var t=!(jr(Ir())||!vr()),e=Nr(),n=Tr();this.m=t,this.h=e,this.l=n,this.a={},Bl||(Bl=new Ll),t=Bl;try{this.g=!sr()&&Ur()||!s.indexedDB?new t.a.F:new Ol(br()?new Nl:new t.a.F)}catch(r){this.g=new Nl,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Nl}this.v=new Nl,this.f=_(this.Zb,this),this.b={}}function Wl(){return Fl||(Fl=new Gl),Fl}function Kl(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function $l(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Jl(t,e,n){return n=$l(e,n),"local"==e.F&&(t.b[n]=null),Kl(t,e.F).U(n)}function Ql(t){t.c&&(clearInterval(t.c),t.c=null)}function Yl(t){this.a=t,this.b=Wl()}(t=Gl.prototype).get=function(t,e){return Kl(this,t.F).get($l(t,e))},t.set=function(t,e,n){var r=$l(t,n),i=this,o=Kl(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=$l(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),pt(this.a)&&(Kl(this,"local").ca(this.f),this.h||(sr()||!Ur())&&s.indexedDB||!this.l||function(t){Ql(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=$l(t,e),this.a[t]&&(Q(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Kl(this,"local").ia(this.f),Ql(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Kl(this,"local").ia(this.f):Ql(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.nb(e))},Jt&&ae&&10==ae&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,_(this.nb,this))},t.nb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var Xl,Zl={name:"authEvent",F:"local"};function tu(){this.a=Wl()}function eu(t,e){this.b=nu,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===Xl&&(Xl=s.Int32Array?new Int32Array(uu):uu),this.reset()}E(eu,(function(){this.b=-1}));for(var nu=64,ru=nu-1,iu=[],ou=0;ou<ru;ou++)iu[ou]=0;var au=Y(128,iu);function su(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],l=0|t.a[3],u=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&c^~u&h)+(0|Xl[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=u,u=l+a|0,l=s,s=i,i=r,r=a+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+l|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function lu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(su(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(su(t),i=0)}}t.c=i,t.g+=n}eu.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var uu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cu(){eu.call(this,8,hu)}E(cu,eu);var hu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function du(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new tu,this.g=new Yl(this.h),this.f=null,this.b=[],this.a=this.c=null}function fu(t){return new S("invalid-cordova-configuration",t)}function pu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function gu(t){return t.f||(t.f=t.ma().then((function(){return new we((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),mu(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=to(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Dr(Ln(o=Bn(i),"firebaseError")||null))?T(o):null)?new jo(r.c,r.b,null,null,o,null,r.T()):new jo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}pu(t,i)}))}var n=new jo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=In(500).then((function(){return mu(t).then((function(){r||pu(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Sr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Vo||(Vo=new Bo),function(t){var e=Vo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Sr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function mu(t){var e=null;return function(t){return t.b.get(Zl,t.a).then((function(t){return Lo(t)}))}(t.g).then((function(n){return e=n,Jl((n=t.g).b,Zl,n.a)})).then((function(){return e}))}function vu(t){this.a=t,this.b=Wl()}(t=du.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?gr().then((function(){return new we((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):xe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Sr("universalLinks.subscribe",s))throw fu("cordova-universal-links-plugin-fix is not installed");if(void 0===Sr("BuildInfo.packageName",s))throw fu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Sr("cordova.plugins.browsertab.openUrl",s))throw fu("cordova-plugin-browsertab is not installed");if("function"!=typeof Sr("cordova.InAppBrowser.open",s))throw fu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},t.Pb=function(t,e){return e(new S("operation-not-supported-in-this-environment")),Te()},t.Nb=function(){return xe(new S("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return xe(new S("redirect-operation-pending"));var i=this,o=s.document,a=null,l=null,u=null,c=null;return this.c=Te().then((function(){return Mo(e),gu(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new jo(e,r,null,o,new S("no-auth-event"),null,i),l=Sr("BuildInfo.packageName",s);if("string"!=typeof l)throw new S("invalid-cordova-configuration");var u=Sr("BuildInfo.displayName",s),c={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=l;else{if(!Ir().toLowerCase().match(/android/))return xe(new S("operation-not-supported-in-this-environment"));c.apn=l}u&&(c.appDisplayName=u),o=function(t){var e=new cu;lu(e,t),t=[];var n=8*e.g;lu(e,au,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(su(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return W(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),c.sessionId=o;var h=cl(t.v,t.i,t.l,e,n,null,r,t.m,c,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(Zl,a.w(),e)})).then((function(){var e=Sr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Sr("cordova.plugins.browsertab.openUrl",s)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Sr("cordova.InAppBrowser.open",s)))throw new S("invalid-cordova-configuration");e=Ir(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new we((function(t,e){l=function(){var e=Sr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(l),c=function(){Fr()&&u()},o.addEventListener("resume",u=function(){a||(a=In(2e3).then((function(){e(new S("redirect-cancelled-by-user"))})))},!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return mu(i).then((function(){throw t}))}))})).oa((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),l&&i.Ta(l),i.c=null}))},t.Ea=function(t){this.b.push(t),gu(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new jo("unknown",null,null,null,new S("no-auth-event")),t(e))}))},t.Ta=function(t){Q(this.b,(function(e){return e==t}))};var bu={name:"pendingRedirect",F:"session"};function yu(t){return Jl(t.b,bu,t.a)}function wu(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Mu,this.C=new Vu,this.g=new vu(Ru(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=_u(this.D,this.v,this.m,x,this.J)}function _u(t,e,n,i,o){var a=r.a.SDK_VERSION||null;return mr()?new du(t,e,n,a,i,o):new al(t,e,n,a,i,o)}function Cu(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function ku(t){t.a.Yb()&&Cu(t).o((function(e){var n=new jo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Au(e)&&t.s(n)})),t.a.Ub()||ju(t.b)}function Eu(t,e){$(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(bu,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?yu(t.g).then((function(){Cu(t).o((function(e){var n=new jo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Au(e)&&t.s(n)}))})):ku(t)})).o((function(){ku(t)}))}function Iu(t,e){Q(t.h,(function(t){return t==e}))}wu.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=_u(this.D,this.v,this.m,null,this.J),this.i={}},wu.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return ju(this.b),e};var Su=new Br(2e3,1e4),Tu=new Br(3e4,6e4);function xu(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Au(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Ou(t,e,n,r,i){var o;return function(t){return t.b.set(bu,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Au(e))throw new S("operation-not-supported-in-this-environment");return o=e,yu(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new we((function(){})):yu(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function Nu(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Su.get())}wu.prototype.ra=function(){return this.b.ra()};var Pu={};function Ru(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Du(t,e,n,r){var i=Ru(e,n,r);return Pu[i]||(Pu[i]=new wu(t,e,n,r)),Pu[i]}function Mu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ju(t){t.g||(t.g=!0,Fu(t,!1,null,null))}function Lu(t){t.g&&!t.i&&Fu(t,!1,null,null)}function Bu(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Fu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return xe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Bu(t,n):Bu(t,{user:null}),t.f=[],t.c=[]}function Vu(){}function Uu(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function qu(t,e){this.a=e,Wr(this,"verificationId",t)}function zu(t,e,n,r){return new Po(t).gb(e,n).then((function(t){return new qu(t,r)}))}function Hu(t){var e=Vi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Kr(this,{token:t,expirationTime:Vr(1e3*e.exp),authTime:Vr(1e3*e.auth_time),issuedAtTime:Vr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Gu(t,e,n){var r=e&&e[Ku];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new eo(null,r),this.b=[];var i=this;H(e[Wu]||[],(function(t){(t=Yr(t))&&i.b.push(t)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Mu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Mu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Fu(this,!0,null,t.a),Te()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Fu(t,s,e,null)})).o((function(e){Fu(t,s,null,e)}))}(this,t,e):xe(new S("invalid-auth-event")):(Fu(this,!1,null,null),Te())}else xe(new S("invalid-auth-event"))},Mu.prototype.ra=function(){var t=this;return new we((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=In(Tu.get()).then((function(){t.b||(t.g=!0,Fu(t,!0,null,e))}))}(t))}))},Vu.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Te()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):xe(new S("invalid-auth-event"))}else xe(new S("invalid-auth-event"))},qu.prototype.confirm=function(t){return t=Ro(this.verificationId,t),this.a(t)};var Wu="mfaInfo",Ku="mfaPendingCredential";function $u(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new Gu(t,e,n),Wr(this,"resolver",this.b)}function Ju(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new $u(e,t.serverResponse,n,t.message)}catch(r){}return null}function Qu(){}function Yu(t){Wr(this,"factorId",t.fa),this.a=t}function Xu(t){if(Yu.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zu(t,e){for(var n in Je.call(this,t),e)this[n]=e[n]}function tc(t,e){this.a=t,this.b=[],this.c=_(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Xr]=t.displayName),t.enrollmentTime&&(r[Zr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),ec(this,n)}function ec(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function nc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rc(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ic(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function oc(t,e){t.b=Fi(e[Ga]||""),t.a=e.refreshToken,ic(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function ac(t,e){this.a=t||null,this.b=e||null,Kr(this,{lastSignInTime:Vr(e||null),creationTime:Vr(t||null)})}function sc(t,e,n,r,i,o){Kr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function lc(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?Er(r.a.SDK_VERSION):null;this.a=new za(this.l,P(x),i),(this.u=t.emulatorConfig||null)&&Ya(this.a,this.u),this.h=new rc(this.a),vc(this,e[Ga]),oc(this.h,e),Wr(this,"refreshToken",this.h.a),wc(this,n||{}),wn.call(this),this.P=!1,this.s&&xr()&&(this.b=Du(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new nc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=_(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){uc(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){dc(o,t.f)},this.ja=null,this.S=new tc(this,n),Wr(this,"multiFactor",this.S)}function uc(t,e){t.u=e,Ya(t.a,e),t.b&&(e=t.b,t.b=Du(t.s,t.l,t.m,t.u),t.P&&(Iu(e,t),Eu(t.b,t)))}function cc(t,e){t.qa&&hn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&ln(e,"languageCodeChanged",t.Pa)}function hc(t,e){t.$&&hn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&ln(e,"emulatorConfigChanged",t.Ba)}function dc(t,e){t.aa=e,Za(t.a,r.a.SDK_VERSION?Er(r.a.SDK_VERSION,t.aa):null)}function fc(t,e){t.ja&&hn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&ln(e,"frameworkChanged",t.Oa)}function pc(t){try{return r.a.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function gc(t){t.J||t.D.b||(t.D.start(),hn(t,"tokenChanged",t.ba),ln(t,"tokenChanged",t.ba))}function mc(t){hn(t,"tokenChanged",t.ba),t.D.stop()}function vc(t,e){t.Aa=e,Wr(t,"_lat",e)}function bc(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Oe(e).then((function(){return t}))}function yc(t){t.b&&!t.P&&(t.P=!0,Eu(t.b,t))}function wc(t,e){Kr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ac(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function _c(){}function Cc(t){return Te().then((function(){if(t.J)throw new S("app-deleted")}))}function kc(t){return W(t.providerData,(function(t){return t.providerId}))}function Ec(t,e){e&&(Ic(t,e.providerId),t.providerData.push(e))}function Ic(t,e){Q(t.providerData,(function(t){return t.providerId==e}))}function Sc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Tc(t,e){t!=e&&(Kr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Wr(t,"metadata",e.metadata?function(t){return new ac(t.a,t.b)}(e.metadata):new ac),H(e.providerData,(function(e){Ec(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Wr(t,"refreshToken",t.h.a),ec(t.S,e.S.b))}function xc(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Js(t.a,Ss,{idToken:e}).then(_(t.Kc,t))}(t,e).then((function(){return n||Sc(t,"isAnonymous",!1),e}))}))}function Ac(t,e){e[Ga]&&t.Aa!=e[Ga]&&(oc(t.h,e),t.dispatchEvent(new Zu("tokenChanged")),vc(t,e[Ga]),Sc(t,"refreshToken",t.h.a))}function Oc(t,e){return xc(t).then((function(){if($(kc(t),e))return bc(t).then((function(){throw new S("provider-already-linked")}))}))}function Nc(t,e,n){return $r({user:t,credential:Do(e),additionalUserInfo:e=Gi(e),operationType:n})}function Pc(t,e){return Ac(t,e),t.reload().then((function(){return t}))}function Rc(t,e,n,i,o){if(!xr())return xe(new S("operation-not-supported-in-this-environment"));if(t.i&&!o)return xe(t.i);var a=Hi(n.providerId),s=Mr(t.uid+":::"),l=null;(!Nr()||vr())&&t.s&&n.isOAuthProvider&&(l=cl(t.s,t.l,t.m,e,n,null,s,r.a.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=dr(l,a&&a.va,a&&a.ua);return i=i().then((function(){if(Mc(t),!o)return t.I().then((function(){}))})).then((function(){return xu(t.b,u,e,n,s,!!l,t.tenantId)})).then((function(){return new we((function(n,r){t.na(e,null,new S("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Nu(t.b,t,e,u,s)}))})).then((function(t){return u&&hr(u),t?$r(t):null})).o((function(t){throw u&&hr(u),t})),jc(t,i,o)}function Dc(t,e,n,r,i){if(!xr())return xe(new S("operation-not-supported-in-this-environment"));if(t.i&&!i)return xe(t.i);var o=null,a=Mr(t.uid+":::");return r=r().then((function(){if(Mc(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,bc(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Fc,t.w(),e.a)),e})).then((function(){return Ou(t.b,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Vc(t.ha);throw o})).then((function(){if(o)throw o})),jc(t,r,i)}function Mc(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function jc(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),xe(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new Zu("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){J(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Ju(e.w(),pc(t),_(t.jc,t))),n||e}))}function Lc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ga]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new lc(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&Ec(i,$r(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Bc(t){this.a=t,this.b=Wl()}Gu.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=gt(e.f);return delete n[Wu],delete n[Ku],vt(n,t),e.g(n)}))},E($u,S),Qu.prototype.tb=function(t,e,n){return e.type==no?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:No(t.a)}),Js(e,Es,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:No(t.a)}),Js(e,Is,n)}))}(this,t,e)},E(Yu,Qu),E(Xu,Yu),E(Zu,Je),(t=tc.prototype).yc=function(t){ec(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=Yr(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new eo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return Ac(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Js(r,$s,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=G(e.b,(function(t){return t.uid!=n}));return ec(e,r),Ac(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(t){return t.w()}))}}},nc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=In(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return Fr()||!t?Te():new we((function(n){e=function(){Fr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},nc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},rc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?xe(new S("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new we((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ts(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ys(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new S("internal-error"))}))}(t.f,e).then((function(e){return t.b=Fi(e.access_token),t.a=e.refresh_token,ic(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},ac.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(lc,wn),lc.prototype.xa=function(t){this.za=t,Qa(this.a,t)},lc.prototype.la=function(){return this.za},lc.prototype.Ga=function(){return X(this.aa)},lc.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Wr(lc.prototype,"providerId","firebase"),(t=lc.prototype).reload=function(){var t=this;return jc(this,Cc(this).then((function(){return xc(t).then((function(){return bc(t)})).then(_c)})))},t.oc=function(t){return this.I(t).then((function(t){return new Hu(t)}))},t.I=function(t){var e=this;return jc(this,Cc(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.Aa&&(vc(e,t.accessToken),e.dispatchEvent(new Zu("tokenChanged"))),Sc(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");wc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,(function(t){return new sc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ec(this,e[n]);Sc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zu("userReloaded",{hd:t}))},t.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return jc(this,t.c(this.a,this.uid).then((function(t){return Ac(e,t),n=Nc(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return jc(this,Oc(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Nc(e,t,"link"),Pc(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return jc(this,Oc(this,"phone").then((function(){return zu(pc(n),t,e,_(n.rb,n))})))},t.Mc=function(t,e){var n=this;return jc(this,Te().then((function(){return zu(pc(n),t,e,_(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return jc(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Ac(e,t),e.reload()})))},t.ed=function(t){var e=this;return jc(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Ac(e,t),e.reload()})))},t.Db=function(t){var e=this;return jc(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return Ac(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Cc(this);var e=this;return jc(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Ac(e,t),Sc(e,"displayName",t.displayName||null),Sc(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))})),bc(e)})).then(_c))},t.cd=function(t){var e=this;return jc(this,xc(this).then((function(n){return $(kc(e),t)?function(t,e,n){return Js(t,_s,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(kc(e),(function(t){n[t]||Ic(e,t)})),n[Po.PROVIDER_ID]||Wr(e,"phoneNumber",null),bc(e)})):bc(e).then((function(){throw new S("no-such-provider")}))})))},t.delete=function(){var t=this;return jc(this,this.I().then((function(e){return Js(t.a,ws,{idToken:e})})).then((function(){t.dispatchEvent(new Zu("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");cc(t,null),hc(t,null),fc(t,null),t.N=[],t.J=!0,mc(t),Wr(t,"refreshToken",null),t.b&&Iu(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Mb,this):null},t.Ec=function(t){var e=this;return Rc(this,"linkViaPopup",t,(function(){return Oc(e,t.providerId).then((function(){return bc(e)}))}),!1)},t.Nc=function(t){return Rc(this,"reauthViaPopup",t,(function(){return Te()}),!0)},t.Fc=function(t){var e=this;return Dc(this,"linkViaRedirect",t,(function(){return Oc(e,t.providerId)}),!1)},t.Oc=function(t){return Dc(this,"reauthViaRedirect",t,(function(){return Te()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return jc(this,this.I().then((function(n){return fs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Nc(i,t,"link"),Pc(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return jc(this,Te().then((function(){return oo(ps(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Nc(i,t,"reauthenticate"),Ac(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return jc(this,this.I().then((function(e){return n=e,void 0===t||pt(t)?{}:ji(new Si(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return jc(this,this.I().then((function(t){return r=t,void 0===e||pt(e)?{}:ji(new Si(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return jc(this,t=oo(Te(t),n.uid).then((function(t){return e=Nc(n,t,"reauthenticate"),Ac(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.S.w()),t};var Fc={name:"redirectUser",F:"session"};function Vc(t){return Jl(t.b,Fc,t.a)}function Uc(t){this.a=t,this.b=Wl(),this.c=null,this.f=function(t){var e=Hc("local"),n=Hc("session"),r=Hc("none");return function(t,e,n){var r=$l(e,n),i=Kl(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Dr(s.localStorage.getItem(r))}catch(l){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(zc,t.a).then((function(t){return t?Hc(t):e}))}))}))})).then((function(e){return t.c=e,qc(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Hc("local"),this.a,_(this.g,this))}function qc(t,e){var n,r=[];for(n in Hl)Hl[n]!==e&&r.push(Jl(t.b,Hc(Hl[n]),t.a));return r.push(Jl(t.b,zc,t.a)),function(t){return new we((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ae(t[s],C(o,s),a);else e(i)}))}(r)}Uc.prototype.g=function(){var t=this,e=Hc("local");$c(this,(function(){return Te().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return qc(t,"local").then((function(){t.c=e}))}))}))};var zc={name:"persistence",F:"session"};function Hc(t){return{name:"authUser",F:t}}function Gc(t,e){return $c(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Wc(t){return $c(t,(function(){return Jl(t.b,t.c,t.a)}))}function Kc(t,e,n){return $c(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Lc(t||{})}))}))}function $c(t,e){return t.f=t.f.then(e,e),t.f}function Jc(t){if(this.l=!1,Wr(this,"settings",new Uu),Wr(this,"app",t),!rh(this).options||!rh(this).options.apiKey)throw new S("invalid-api-key");t=r.a.SDK_VERSION?Er(r.a.SDK_VERSION):null,this.a=new za(rh(this).options&&rh(this).options.apiKey,P(x),t),this.P=[],this.s=[],this.N=[],this.Pa=r.a.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=r.a.INTERNAL.createSubscribe(_(this.Ac,this)),eh(this,null),this.i=new Uc(rh(this).options.apiKey+":"+rh(this).name),this.D=new Bc(rh(this).options.apiKey+":"+rh(this).name),this.$=sh(this,function(t){var e=rh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Fc,t.a).then((function(t){return t&&e&&(t.authDomain=e),Lc(t||{})}))}(t.D,rh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Vc(t.D)}));return sh(t,e)}(t).then((function(){return Kc(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Gc(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Wc(t.i)}))):null})).then((function(e){eh(t,e||null)}));return sh(t,n)}(this)),this.h=sh(this,function(t){return t.$.then((function(){return th(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Hc("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(t){var e=rh(t).options.authDomain,n=rh(t).options.apiKey;e&&xr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Du(e,n,rh(t).name,t.R),Eu(t.b,t),ih(t)&&yc(ih(t)),t.m){yc(t.m);var r=t.m;r.xa(t.la()),cc(r,t),dc(r=t.m,t.J),fc(r,t),uc(r=t.m,t.R),hc(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Bn(this.R.url);t=$r({protocol:t.c,host:t.a,port:t.g,options:$r({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function Qc(t){Je.call(this,"languageCodeChanged"),this.h=t}function Yc(t){Je.call(this,"emulatorConfigChanged"),this.c=t}function Xc(t){Je.call(this,"frameworkChanged"),this.f=t}function Zc(t){return t.Oa||xe(new S("auth-domain-config-required"))}function th(t){if(!xr())return xe(new S("operation-not-supported-in-this-environment"));var e=Zc(t).then((function(){return t.b.ra()})).then((function(t){return t?$r(t):null}));return sh(t,e)}function eh(t,e){ih(t)&&(function(t,e){Q(t.W,(function(t){return t==e}))}(ih(t),t.Ba),hn(ih(t),"tokenChanged",t.qa),hn(ih(t),"userDeleted",t.za),hn(ih(t),"userInvalidated",t.Aa),mc(ih(t))),e&&(e.W.push(t.Ba),ln(e,"tokenChanged",t.qa),ln(e,"userDeleted",t.za),ln(e,"userInvalidated",t.Aa),0<t.u&&gc(e)),Wr(t,"currentUser",e),e&&(e.xa(t.la()),cc(e,t),dc(e,t.J),fc(e,t),uc(e,t.R),hc(e,t))}function nh(t,e){var n=null,r=null;return sh(t,e.then((function(e){return n=Do(e),r=Gi(e),function(t,e){var n={};return n.apiKey=rh(t).options.apiKey,n.authDomain=rh(t).options.authDomain,n.appName=rh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new lc(t,e);return n&&(i.ha=n),r&&dc(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return ih(t)&&e.uid==ih(t).uid?(Tc(ih(t),e),t.da(e)):(eh(t,e),yc(e),t.da(e))})).then((function(){ah(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Ju(e.w(),t,_(t.kc,t))),n||e})).then((function(){return $r({user:ih(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rh(t){return t.app}function ih(t){return t.currentUser}function oh(t){return ih(t)&&ih(t)._lat||null}function ah(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](oh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](oh(t))}}function sh(t,e){return t.P.push(e),e.oa((function(){J(t.P,e)})),e}function lh(){}function uh(){this.a={},this.b=1e12}Uc.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in Hl)if(Hl[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(yr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!kl()&&"none"!==t)throw n;break;default:if(!Tr()&&"none"!==t)throw n}}(t),$c(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,qc(n,t)})).then((function(){if(n.c=Hc(t),e)return n.b.set(n.c,e,n.a)})):Te()}))},E(Jc,wn),E(Qc,Je),E(Yc,Je),E(Xc,Je),(t=Jc.prototype).yb=function(t){return sh(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,Qa(this.a,this.aa),this.dispatchEvent(new Qc(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&gr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,Ya(this.a,this.R),this.dispatchEvent(new Yc(this.R))}},t.Gc=function(t){this.J.push(t),Za(this.a,r.a.SDK_VERSION?Er(r.a.SDK_VERSION,this.J):null),this.dispatchEvent(new Xc(this.J))},t.Ga=function(){return X(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:rh(this).options.apiKey,authDomain:rh(this).options.authDomain,appName:rh(this).name,currentUser:ih(this)&&ih(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return nh(i,ds(i.a,o))}))},t.Xc=function(t){if(!xr())return xe(new S("operation-not-supported-in-this-environment"));var e=this,n=Hi(t.providerId),i=Mr(),o=null;(!Nr()||vr())&&rh(this).options.authDomain&&t.isOAuthProvider&&(o=cl(rh(this).options.authDomain,rh(this).options.apiKey,rh(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.T(),this.R));var a=dr(o,n&&n.va,n&&n.ua);return sh(this,n=Zc(this).then((function(n){return xu(n,a,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new we((function(t,n){e.na("signInViaPopup",null,new S("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Nu(e.b,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&hr(a),t?$r(t):null})).o((function(t){throw a&&hr(a),t})))},t.Yc=function(t){if(!xr())return xe(new S("operation-not-supported-in-this-environment"));var e=this;return sh(this,Zc(this).then((function(){return function(t){return $c(t,(function(){return t.b.set(zc,t.c.F,t.a)}))}(e.i)})).then((function(){return Ou(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return th(this).then((function(e){return t.b&&Lu(t.b.b),e})).o((function(e){throw t.b&&Lu(t.b.b),e}))},t.dd=function(t){if(!t)return xe(new S("null-user"));if(this.S!=t.tenantId)return xe(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=rh(this).options.apiKey,n.authDomain=rh(this).options.authDomain,n.appName=rh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Ga]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new lc(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&dc(e,r),Tc(e,t),e}(t,n,e.D,e.Ga());return sh(this,this.h.then((function(){if(rh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ih(e)&&t.uid==ih(e).uid?(Tc(ih(e),t),e.da(t)):(eh(e,r),yc(r),e.da(r))})).then((function(){ah(e)})))},t.Bb=function(){var t=this;return sh(this,this.h.then((function(){return t.b&&Lu(t.b.b),ih(t)?(eh(t,null),Wc(t.i).then((function(){ah(t)}))):Te()})))},t.Zc=function(){var t=this;return Kc(this.i,rh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ih(t)&&e){n=ih(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Tc(ih(t),e),ih(t).I();(ih(t)||e)&&(eh(t,e),e&&(yc(e),e.ha=t.D),t.b&&Eu(t.b,t),ah(t))}}))},t.da=function(t){return Gc(this.i,t)},t.mc=function(){ah(this),this.da(ih(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return nh(e,Te(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ih(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),sh(t,t.h.then((function(){!t.l&&$(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(oh(t)))})))}(this,(function(){t.next(ih(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return sh(this,this.h.then((function(){return ih(e)?ih(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return nh(e,Js(e.a,zs,{token:t}))})).then((function(t){var n=t.user;return Sc(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return nh(n,Js(n.a,Hs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return nh(n,Js(n.a,bs,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return nh(e,t.ka(e.a))}))},t.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=ih(t);if(e&&e.isAnonymous){var n=$r({providerId:null,isNewUser:!1});return $r({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nh(t,t.a.Ab()).then((function(e){var n=e.user;return Sc(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ih(this)&&ih(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ih(this)&&gc(ih(this))},t.Pc=function(t){var e=this;H(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&ih(this)&&mc(ih(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),sh(this,this.h.then((function(){e.l||$(e.s,t)&&t(oh(e))})))},t.removeAuthTokenListener=function(t){Q(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Hc("local"),t.a,this.ja),this.b&&(Iu(this.b,this),Lu(this.b.b)),Promise.resolve()},t.hc=function(t){return sh(this,function(t,e){return Js(t,ys,{identifier:e,continueUri:Ar()?lr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!xo(t)},t.xb=function(t,e){var n=this;return sh(this,Te().then((function(){var t=new Si(e);if(!t.c)throw new S("argument-error",Ai+" must be true when sending sign in link to email");return ji(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return sh(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return sh(this,this.a.Sa(t).then((function(t){return new ri(t)})))},t.kb=function(t){return sh(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return sh(this,Te().then((function(){return void 0===e||pt(e)?{}:ji(new Si(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return sh(this,zu(this,t,e,_(this.ab,this)))},t.Vc=function(t,e){var n=this;return sh(this,Te().then((function(){var r=e||lr(),i=To(t,r);if(!(r=xo(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.ab(i)})))},lh.prototype.render=function(){},lh.prototype.reset=function(){},lh.prototype.getResponse=function(){},lh.prototype.execute=function(){};var ch=null;function hh(t,e){return(e=dh(e))&&t.a[e]||null}function dh(t){return(t=void 0===t?1e12:t)?t.toString():null}function fh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function ph(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function gh(){}function mh(){}uh.prototype.render=function(t,e){return this.a[this.b.toString()]=new fh(t,e),this.b++},uh.prototype.reset=function(t){var e=hh(this,t);t=dh(t),e&&t&&(e.delete(),delete this.a[t])},uh.prototype.getResponse=function(t){return(t=hh(this,t))?t.getResponse():null},uh.prototype.execute=function(t){(t=hh(this,t))&&t.execute()},fh.prototype.getResponse=function(){return ph(this),this.b},fh.prototype.execute=function(){ph(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},fh.prototype.delete=function(){ph(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Wr(gh,"FACTOR_ID","phone"),mh.prototype.g=function(){return ch||(ch=new uh),Te(ch)},mh.prototype.c=function(){};var vh=null;function bh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yh=new yt(kt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),wh=new Br(3e4,6e4);bh.prototype.g=function(t){var e=this;return new we((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),wh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete s[e.a]},Te(ja(Tt(yh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},bh.prototype.c=function(){this.b--};var _h=null;function Ch(t,e,n,r,i,o,a){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(vh||(vh=new mh),a=vh):(_h||(_h=new bh),a=_h),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ih])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Sh],!s.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new za(t,o||null,i||null),this.u=r||function(){return null};var l=this;this.l=[];var u=this.a[kh];this.a[kh]=function(t){if(Th(l,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Sr(u,s);"function"==typeof e&&e(t)}};var c=this.a[Eh];this.a[Eh]=function(){if(Th(l,null),"function"==typeof c)c();else if("string"==typeof c){var t=Sr(c,s);"function"==typeof t&&t()}}}var kh="callback",Eh="expired-callback",Ih="sitekey",Sh="size";function Th(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function xh(t,e){return t.h.push(e),e.oa((function(){J(t.h,e)})),e}function Ah(t){if(t.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Oh(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(s){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.a.SDK_VERSION?Er(r.a.SDK_VERSION,a):null,Ch.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,P(x),i)}function Nh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Ph.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Ph[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=Ch.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=xh(this,Te().then((function(){if(Ar()&&!br())return gr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,Js(t.s,Ps,{})})).then((function(e){t.a[Ih]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Ah(this);var t=this;return xh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=le(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!se&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};vt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=pe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ue(o,a)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Ah(this);var t=this;return xh(this,this.render().then((function(e){return new we((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Q(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Ah(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ah(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Oh,Ch);var Ph="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Rh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Dh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Mh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function jh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Lh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Bh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Fh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Vh(t){return g(t)&&"string"==typeof t.uid}function Uh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function qh(t,e){for(var n in e){var r=e[n].name;t[r]=Gh(r,t[n],e[n].j)}}function zh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:C((function(t){return this[t]}),n),set:C((function(t,e,n,r){Nh(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function Hh(t,e,n,r){t[e]=Gh(e,n,r)}function Gh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Nh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}qh(Jc.prototype,{kb:{name:"applyActionCode",j:[Rh("code")]},Sa:{name:"checkActionCode",j:[Rh("code")]},ob:{name:"confirmPasswordReset",j:[Rh("code"),Rh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Rh("email"),Rh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Rh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Rh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Uh(Mh(),jh(),"nextOrObserver"),jh("opt_error",!0),jh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Uh(Mh(),jh(),"nextOrObserver"),jh("opt_error",!0),jh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Rh("email"),Uh(Mh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Rh("email"),Mh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Rh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Bh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Bh()]},Tc:{name:"signInWithCustomToken",j:[Rh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Rh("email"),Rh("password")]},Vc:{name:"signInWithEmailLink",j:[Rh("email"),Rh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Rh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Uh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof lc)}},Lh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Rh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Rh("url"),Mh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Rh("code")]}}),zh(Jc.prototype,{lc:{name:"languageCode",lb:Uh(Rh(),Lh(),"languageCode")},ti:{name:"tenantId",lb:Uh(Rh(),Lh(),"tenantId")}}),(Jc.Persistence=Hl).LOCAL="local",Jc.Persistence.SESSION="session",Jc.Persistence.NONE="none",qh(lc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Dh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Dh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Bh()]},rb:{name:"linkWithCredential",j:[Bh()]},Dc:{name:"linkWithPhoneNumber",j:[Rh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Bh()]},ub:{name:"reauthenticateWithCredential",j:[Bh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Rh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Uh(Mh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Rh(null,!0)]},cd:{name:"unlink",j:[Rh("provider")]},Cb:{name:"updateEmail",j:[Rh("email")]},Db:{name:"updatePassword",j:[Rh("password")]},ed:{name:"updatePhoneNumber",j:[Bh("phone")]},Eb:{name:"updateProfile",j:[Mh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Rh("email"),Uh(Mh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]}}),qh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(lh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(we.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),zh(Uu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Dh("appVerificationDisabledForTesting")}}),qh(qu.prototype,{confirm:{name:"confirm",j:[Rh("verificationCode")]}}),Hh(io,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ho,Io,Oo,lo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Uh(Rh(),Mh(),"json")]),Hh(So,"credential",(function(t,e){return new Eo(t,e)}),[Rh("email"),Rh("password")]),qh(Eo.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),qh(mo.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Hh(mo,"credential",vo,[Uh(Rh(),Mh(),"token")]),Hh(So,"credentialWithLink",To,[Rh("email"),Rh("emailLink")]),qh(bo.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Hh(bo,"credential",yo,[Uh(Rh(),Mh(),"token")]),qh(wo.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Hh(wo,"credential",_o,[Uh(Rh(),Uh(Mh(),Lh()),"idToken"),Uh(Rh(),Lh(),"accessToken",!0)]),qh(Co.prototype,{Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Hh(Co,"credential",ko,[Uh(Rh(),Mh(),"token"),Rh("secret",!0)]),qh(go.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},credential:{name:"credential",j:[Uh(Rh(),Uh(Mh(),Lh()),"optionsOrIdToken"),Uh(Rh(),Lh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),qh(uo.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),qh(ao.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),Hh(Po,"credential",Ro,[Rh("verificationId"),Rh("verificationCode")]),qh(Po.prototype,{gb:{name:"verifyPhoneNumber",j:[Uh(Rh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Fh(t.session,no)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Fh(t.session,ro)&&Vh(t.multiFactorHint):t.session&&t.multiFactorUid?Fh(t.session,ro)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),qh(Ao.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),qh(S.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),qh(qo.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),qh(Uo.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),qh($u.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),qh(Gu.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),qh(tc.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Rh("displayName",!0)]},bd:{name:"unenroll",j:[Uh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Vh},Rh(),"multiFactorInfoIdentifier")]}}),qh(Oh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Hh(vi,"parseLink",Ii,[Rh("link")]),Hh(gh,"assertion",(function(t){return new Xu(t)}),[Bh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jc,AuthCredential:io,Error:S};Hh(t,"EmailAuthProvider",So,[]),Hh(t,"FacebookAuthProvider",mo,[]),Hh(t,"GithubAuthProvider",bo,[]),Hh(t,"GoogleAuthProvider",wo,[]),Hh(t,"TwitterAuthProvider",Co,[]),Hh(t,"OAuthProvider",go,[Rh("providerId")]),Hh(t,"SAMLAuthProvider",po,[Rh("providerId")]),Hh(t,"PhoneAuthProvider",Po,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Jc)}}]),Hh(t,"RecaptchaVerifier",Oh,[Uh(Rh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Mh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Hh(t,"ActionCodeURL",vi,[]),Hh(t,"PhoneMultiFactorGenerator",gh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Jc(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.nc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.8"),r.a.INTERNAL.extendNamespace({User:lc})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"7GFr":function(t,e,n){"use strict";var r=n("8Y7J"),i=n("s7LF"),o=n("SVse");class a{get isValid(){return this.form.controls[this.elementoFormulario.key]?this.form.controls[this.elementoFormulario.key].valid:null}}var s=r.nb({encapsulation:2,styles:[],data:{}});function l(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,5,"input",[],[[8,"id",0],[8,"type",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r.Bb(t,1)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,1).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,1)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,1)._compositionEnd(n.target.value)&&i),i}),null,null)),r.ob(1,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.d]),r.ob(3,671744,null,0,i.g,[[3,i.c],[8,null],[8,null],[6,i.k],[2,i.y]],{name:[0,"name"]},null),r.Eb(2048,null,i.l,null,[i.g]),r.ob(5,16384,null,0,i.m,[[4,i.l]],null,null)],(function(t,e){t(e,3,0,e.component.elementoFormulario.key)}),(function(t,e){var n=e.component;t(e,0,0,n.elementoFormulario.key,n.elementoFormulario.type,r.Bb(e,5).ngClassUntouched,r.Bb(e,5).ngClassTouched,r.Bb(e,5).ngClassPristine,r.Bb(e,5).ngClassDirty,r.Bb(e,5).ngClassValid,r.Bb(e,5).ngClassInvalid,r.Bb(e,5).ngClassPending)}))}function u(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,6,"input",[["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["placeholder","Escriba la dimension en mm"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[8,"id",0],[8,"type",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r.Bb(t,1)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,1).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,1)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,1)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,2).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,2).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,2).onTouched()&&i),i}),null,null)),r.ob(1,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(2,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(4,671744,null,0,i.g,[[3,i.c],[8,null],[8,null],[6,i.k],[2,i.y]],{name:[0,"name"]},null),r.Eb(2048,null,i.l,null,[i.g]),r.ob(6,16384,null,0,i.m,[[4,i.l]],null,null)],(function(t,e){t(e,4,0,e.component.elementoFormulario.key)}),(function(t,e){var n=e.component;t(e,0,0,n.elementoFormulario.key,n.elementoFormulario.type,r.Bb(e,6).ngClassUntouched,r.Bb(e,6).ngClassTouched,r.Bb(e,6).ngClassPristine,r.Bb(e,6).ngClassDirty,r.Bb(e,6).ngClassValid,r.Bb(e,6).ngClassInvalid,r.Bb(e,6).ngClassPending)}))}function c(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,3,0,e.context.$implicit.value)}))}function h(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,7,"select",[],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==r.Bb(t,1).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,1).onTouched()&&i),i}),null,null)),r.ob(1,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(3,671744,null,0,i.g,[[3,i.c],[8,null],[8,null],[6,i.k],[2,i.y]],{name:[0,"name"]},null),r.Eb(2048,null,i.l,null,[i.g]),r.ob(5,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,c)),r.ob(7,278528,null,0,o.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.elementoFormulario.key),t(e,7,0,n.elementoFormulario.options)}),(function(t,e){t(e,0,0,e.component.elementoFormulario.key,r.Bb(e,5).ngClassUntouched,r.Bb(e,5).ngClassTouched,r.Bb(e,5).ngClassPristine,r.Bb(e,5).ngClassDirty,r.Bb(e,5).ngClassValid,r.Bb(e,5).ngClassInvalid,r.Bb(e,5).ngClassPending)}))}function d(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],[[8,"id",0]],null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[8,null]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[2,i.u]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,0,0,e.context.$implicit.key),t(e,3,0,e.context.$implicit.value)}))}function f(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,8,"div",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,7,"select",[["class","btn-group-vertical"],["data-toggle","buttons"],["multiple",""]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==r.Bb(t,2).onChange(n.target)&&i),"blur"===e&&(i=!1!==r.Bb(t,2).onTouched()&&i),i}),null,null)),r.ob(2,16384,null,0,i.u,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.u]),r.ob(4,671744,null,0,i.g,[[3,i.c],[8,null],[8,null],[6,i.k],[2,i.y]],{name:[0,"name"]},null),r.Eb(2048,null,i.l,null,[i.g]),r.ob(6,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,d)),r.ob(8,278528,null,0,o.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,4,0,n.elementoFormulario.key),t(e,8,0,n.elementoFormulario.options)}),(function(t,e){t(e,1,0,e.component.elementoFormulario.key,r.Bb(e,6).ngClassUntouched,r.Bb(e,6).ngClassTouched,r.Bb(e,6).ngClassPristine,r.Bb(e,6).ngClassDirty,r.Bb(e,6).ngClassValid,r.Bb(e,6).ngClassInvalid,r.Bb(e,6).ngClassPending)}))}function p(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,5,"textarea",[["cols","30"],["rows","10"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r.Bb(t,1)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,1).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,1)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,1)._compositionEnd(n.target.value)&&i),i}),null,null)),r.ob(1,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.d]),r.ob(3,671744,null,0,i.g,[[3,i.c],[8,null],[8,null],[6,i.k],[2,i.y]],{name:[0,"name"]},null),r.Eb(2048,null,i.l,null,[i.g]),r.ob(5,16384,null,0,i.m,[[4,i.l]],null,null)],(function(t,e){t(e,3,0,e.component.elementoFormulario.key)}),(function(t,e){t(e,0,0,e.component.elementoFormulario.key,r.Bb(e,5).ngClassUntouched,r.Bb(e,5).ngClassTouched,r.Bb(e,5).ngClassPristine,r.Bb(e,5).ngClassDirty,r.Bb(e,5).ngClassValid,r.Bb(e,5).ngClassInvalid,r.Bb(e,5).ngClassPending)}))}function g(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"div",[["class","errorMessage"]],null,null,null,null,null)),(t()(),r.Hb(1,null,[" "," is required "]))],null,(function(t,e){t(e,1,0,e.component.elementoFormulario.label)}))}function m(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,21,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Bb(t,1).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Bb(t,1).onReset()&&i),i}),null,null)),r.ob(1,540672,null,0,i.i,[[8,null],[8,null]],{form:[0,"form"]},null),r.Eb(2048,null,i.c,null,[i.i]),r.ob(3,16384,null,0,i.n,[[4,i.c]],null,null),(t()(),r.pb(4,0,null,null,1,"label",[],[[1,"for",0]],null,null,null,null)),(t()(),r.Hb(5,null,[" "," "])),(t()(),r.pb(6,0,null,null,15,"div",[],null,null,null,null,null)),r.ob(7,16384,null,0,o.m,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),r.eb(16777216,null,null,1,null,l)),r.ob(9,278528,null,0,o.n,[r.M,r.J,o.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.pb(10,0,null,null,9,"div",[],null,null,null,null,null)),r.ob(11,16384,null,0,o.m,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),r.eb(16777216,null,null,1,null,u)),r.ob(13,278528,null,0,o.n,[r.M,r.J,o.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.eb(16777216,null,null,1,null,h)),r.ob(15,278528,null,0,o.n,[r.M,r.J,o.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.eb(16777216,null,null,1,null,f)),r.ob(17,278528,null,0,o.n,[r.M,r.J,o.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.eb(16777216,null,null,1,null,p)),r.ob(19,278528,null,0,o.n,[r.M,r.J,o.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.eb(16777216,null,null,1,null,g)),r.ob(21,16384,null,0,o.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.form),t(e,7,0,n.elementoFormulario.controlType),t(e,9,0,"textbox"),t(e,11,0,n.elementoFormulario.controlType),t(e,13,0,"number"),t(e,15,0,"dropdown"),t(e,17,0,"checkBoxes"),t(e,19,0,"textarea"),t(e,21,0,!n.isValid)}),(function(t,e){var n=e.component;t(e,0,0,r.Bb(e,3).ngClassUntouched,r.Bb(e,3).ngClassTouched,r.Bb(e,3).ngClassPristine,r.Bb(e,3).ngClassDirty,r.Bb(e,3).ngClassValid,r.Bb(e,3).ngClassInvalid,r.Bb(e,3).ngClassPending),t(e,4,0,n.elementoFormulario.key),t(e,5,0,n.elementoFormulario.label)}))}n("aoek"),n("L2hg"),n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return y}));var v=r.nb({encapsulation:2,styles:[],data:{}});function b(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","form-row"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"app-elemento-formulario",[],null,null,null,m,s)),r.ob(2,49152,null,0,a,[],{elementoFormulario:[0,"elementoFormulario"],form:[1,"form"]},null)],(function(t,e){t(e,2,0,e.context.$implicit,e.component.form)}),null)}function y(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r.Bb(t,3).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Bb(t,3).onReset()&&i),"change"===e&&(i=!1!==o.emitirPayload()&&i),i}),null,null)),r.ob(2,16384,null,0,i.A,[],null,null),r.ob(3,540672,null,0,i.i,[[8,null],[8,null]],{form:[0,"form"]},null),r.Eb(2048,null,i.c,null,[i.i]),r.ob(5,16384,null,0,i.n,[[4,i.c]],null,null),(t()(),r.eb(16777216,null,null,1,null,b)),r.ob(7,278528,null,0,o.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.form),t(e,7,0,n.elementosForm)}),(function(t,e){t(e,1,0,r.Bb(e,5).ngClassUntouched,r.Bb(e,5).ngClassTouched,r.Bb(e,5).ngClassPristine,r.Bb(e,5).ngClassDirty,r.Bb(e,5).ngClassValid,r.Bb(e,5).ngClassInvalid,r.Bb(e,5).ngClassPending)}))}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),l=n("NJ4a");class u extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,t,e,n)}}[a.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class c extends u{constructor(t,e,n,o){let a;super(),this._parentSubscriber=t;let s=this;Object(r.a)(e)?a=e:e&&(a=e.next,n=e.error,o=e.complete,e!==i.a&&(s=Object.create(e),Object(r.a)(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=a,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(l.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}}__tryOrSetError(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Y7J":function(t,e,n){"use strict";var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("z+Ro"),s=n("bHdf"),l=n("yCtX"),u=n("7o/Q");function c(){return function(t){return t.lift(new h(t))}}class h{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new d(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class d extends u.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const f=class extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new g(this.getSubject(),this))),t.closed?(this._connection=null,t=i.a.EMPTY):this._connection=t),t}refCount(){return c()(this)}}.prototype,p={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:f._subscribe},_isComplete:{value:f._isComplete,writable:!0},getSubject:{value:f.getSubject},connect:{value:f.connect},refCount:{value:f.refCount}};class g extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function m(){return new r.a}function v(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}n.d(e,"hb",(function(){return aa})),n.d(e,"ib",(function(){return sa})),n.d(e,"jb",(function(){return la})),n.d(e,"kb",(function(){return ua})),n.d(e,"gb",(function(){return ro})),n.d(e,"fb",(function(){return Hi})),n.d(e,"g",(function(){return Wo})),n.d(e,"P",(function(){return qo})),n.d(e,"w",(function(){return Uo})),n.d(e,"Q",(function(){return $t})),n.d(e,"T",(function(){return Kt})),n.d(e,"c",(function(){return no})),n.d(e,"A",(function(){return oo})),n.d(e,"z",(function(){return ao})),n.d(e,"b",(function(){return so})),n.d(e,"d",(function(){return to})),n.d(e,"e",(function(){return eo})),n.d(e,"S",(function(){return ra})),n.d(e,"K",(function(){return Do})),n.d(e,"V",(function(){return Lo})),n.d(e,"s",(function(){return uo})),n.d(e,"f",(function(){return ca})),n.d(e,"m",(function(){return Yi})),n.d(e,"l",(function(){return Ht})),n.d(e,"E",(function(){return be})),n.d(e,"F",(function(){return ve})),n.d(e,"a",(function(){return Xe})),n.d(e,"N",(function(){return Y})),n.d(e,"L",(function(){return Dn})),n.d(e,"Nb",(function(){return E})),n.d(e,"R",(function(){return A})),n.d(e,"p",(function(){return He})),n.d(e,"Ob",(function(){return z})),n.d(e,"o",(function(){return j})),n.d(e,"n",(function(){return b})),n.d(e,"y",(function(){return y})),n.d(e,"G",(function(){return _})),n.d(e,"x",(function(){return To})),n.d(e,"B",(function(){return Pn})),n.d(e,"C",(function(){return On})),n.d(e,"D",(function(){return Nn})),n.d(e,"i",(function(){return mo})),n.d(e,"j",(function(){return kn})),n.d(e,"k",(function(){return Tn})),n.d(e,"t",(function(){return K})),n.d(e,"v",(function(){return W})),n.d(e,"u",(function(){return $o})),n.d(e,"H",(function(){return Yo})),n.d(e,"I",(function(){return Jo})),n.d(e,"J",(function(){return Yn})),n.d(e,"M",(function(){return Zn})),n.d(e,"h",(function(){return Ve})),n.d(e,"q",(function(){return Wn})),n.d(e,"r",(function(){return Kn})),n.d(e,"O",(function(){return on})),n.d(e,"U",(function(){return oa})),n.d(e,"ub",(function(){return an})),n.d(e,"Y",(function(){return lo})),n.d(e,"W",(function(){return qe})),n.d(e,"X",(function(){return En})),n.d(e,"bb",(function(){return ge})),n.d(e,"cb",(function(){return _e})),n.d(e,"db",(function(){return Xt})),n.d(e,"sb",(function(){return M})),n.d(e,"xb",(function(){return nn})),n.d(e,"Gb",(function(){return T})),n.d(e,"vb",(function(){return vn})),n.d(e,"wb",(function(){return mn})),n.d(e,"rb",(function(){return Ji})),n.d(e,"qb",(function(){return Qi})),n.d(e,"Z",(function(){return Gi})),n.d(e,"ab",(function(){return Wi})),n.d(e,"Mb",(function(){return st})),n.d(e,"Kb",(function(){return Ze})),n.d(e,"Qb",(function(){return ln})),n.d(e,"Pb",(function(){return un})),n.d(e,"Lb",(function(){return cn})),n.d(e,"Rb",(function(){return dn})),n.d(e,"eb",(function(){return ha})),n.d(e,"lb",(function(){return ri})),n.d(e,"mb",(function(){return Rs})),n.d(e,"nb",(function(){return mr})),n.d(e,"ob",(function(){return Ti})),n.d(e,"pb",(function(){return da})),n.d(e,"tb",(function(){return zr})),n.d(e,"yb",(function(){return Qr})),n.d(e,"zb",(function(){return Jr})),n.d(e,"Ab",(function(){return Ca})),n.d(e,"Bb",(function(){return pi})),n.d(e,"Db",(function(){return xi})),n.d(e,"Eb",(function(){return Ai})),n.d(e,"Cb",(function(){return Ea})),n.d(e,"Fb",(function(){return va})),n.d(e,"Hb",(function(){return Ia})),n.d(e,"Ib",(function(){return gr})),n.d(e,"Jb",(function(){return xa}));const b=v("Inject",t=>({token:t})),y=v("Optional"),w=v("Self"),_=v("SkipSelf");var C=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function k(t){for(let e in t)if(t[e]===k)return e;throw Error("Could not find renamed property on target object.")}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){const e=t[S];return e&&e.token===t?e:null}const S=k({ngInjectableDef:k});function T(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(T).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const x=k({__forward_ref__:k});function A(t){return t.__forward_ref__=A,t.toString=function(){return T(this())},t}function O(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(x)&&e.__forward_ref__===A?e():t}const N="undefined"!=typeof globalThis&&globalThis,P="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,D="undefined"!=typeof global&&global,M=N||D||P||R;class j{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const L=new j("INJECTOR",-1),B=new Object,F=/\n/gm,V=k({provide:String,useValue:k});let U=void 0;function q(t){const e=U;return U=t,e}function z(t,e=C.Default){return function(t,e=C.Default){if(void 0===U)throw new Error("inject() must be called from an injection context");return null===U?function(t,e,n){const r=I(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&C.Optional)return null;throw new Error(`Injector: NOT_FOUND [${T(t)}]`)}(t,0,e):U.get(t,e&C.Optional?null:void 0,e)}(t,e)}class H{get(t,e=B){if(e===B){const e=new Error(`NullInjectorError: No provider for ${T(t)}!`);throw e.name="NullInjectorError",e}return e}}function G(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=T(e);if(e instanceof Array)i=e.map(T).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):T(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(F,"\n  ")}`}class W{}class K{}function $(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function J(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Q=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Y=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),X={},Z=[],tt=k({ngComponentDef:k}),et=k({ngDirectiveDef:k}),nt=k({ngPipeDef:k});let rt=0;function it(t){return function(t){return t[tt]||null}(t)||function(t){return t[et]||null}(t)}function ot(t){return function(t){return t[nt]||null}(t)}function at(t,e){if(null==t)return X;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=function(t){const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===Q.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Y.Emulated,id:"c",styles:t.styles||Z,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=""+{toString:()=>{const n=t.directives,o=t.features,a=t.pipes;i.id+=rt++,i.inputs=at(t.inputs,r),i.outputs=at(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(it):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(ot):null,e.hasOwnProperty(S)||(e[S]=E({token:e,factory:t.factory}))}},i};let lt=null;const ut=new Map;let ct,ht=null;function dt(t,e){return ht&&t===ht||(ht=t,e&&(lt=ut.get(t)||null),lt=lt||{classesBitMask:0,classesIndex:1,stylesBitMask:0,stylesIndex:1}),lt}function ft(t,e){return function(t){for(;Array.isArray(t);)t=t[0];return t}(e[t.index])}function pt(t,e){return e[1].data[t+19]}function gt(){return ct}const mt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M))();function vt(t,e){0===e?t[2]>0&&function(t){yt(t,2|bt(t))}(t):t[2]=e}function bt(t){return t[1]}function yt(t,e){t[1]=e}function wt(t,e){return t[e+2]}function _t(t,e){return 1&t[e+0]}function Ct(t,e){return(1&_t(t,e))>0}function kt(t,e){return t[e+0]>>1}function Et(t,e,n){const r=_t(t,e);t[e+0]=r|n<<1}function It(t,e){return t[e+1]}function St(t,e,n){return t[e+3+n]}function Tt(t,e){return!(!t||e!==t[2])}function xt(t){return(1&bt(t))>0}function At(t){return(2&bt(t))>0}function Ot(t){return 6+t[4]}function Nt(t,e){let n=Array.isArray(t)?t[0]:t,r=Array.isArray(e)?e[0]:e;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),function(t,e){return!(t!=t&&e!=e)&&t!==e}(n,r)}function Pt(t){return null!=t&&""!==t}function Rt(t){return t.replace(/[a-z][A-Z]/g,t=>t.charAt(0)+"-"+t.charAt(1)).toLowerCase()}function Dt(t){return Mt(t)?t[0]:t}function Mt(t){return Array.isArray(t)&&t.length>=6&&"string"!=typeof t[1]}function jt(t,e){return t[e+0]}function Lt(t,e,n){t[e+1]=n}function Bt(t,e){return t[e+1]}const Ft=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();function Vt(t){return!!t.listen}function Ut(t){return t.ngDebugContext}function qt(t){return t.ngOriginalError}function zt(t,...e){t.error(...e)}class Ht{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||zt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Ut(t)?Ut(t):this._findContext(qt(t)):null}_findOriginalError(t){let e=qt(t);for(;e&&qt(e);)e=qt(e);return e}}let Gt=!0,Wt=!1;function Kt(){return Wt=!0,Gt}function $t(){if(Wt)throw new Error("Cannot enable prod mode after platform setup.");Gt=!1}class Jt{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Yt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xt(t){return(t=String(t)).match(Qt)||t.match(Yt)?t:(Kt()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Zt(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function te(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ee=Zt("area,br,col,hr,img,wbr"),ne=Zt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),re=Zt("rp,rt"),ie=te(re,ne),oe=te(ee,te(ne,Zt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),te(re,Zt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ie),ae=Zt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),se=Zt("srcset"),le=te(ae,se,Zt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ue=Zt("script,style,template");class ce{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!oe.hasOwnProperty(e))return this.sanitizedSomething=!0,!ue.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!le.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let a=t.value;ae[o]&&(a=Xt(a)),se[o]&&(r=a,a=(r=String(r)).split(",").map(t=>Xt(t.trim())).join(", ")),this.buf.push(" ",e,'="',fe(a),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();oe.hasOwnProperty(e)&&!ee.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(fe(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const he=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,de=/([^\#-~ |!])/g;function fe(t){return t.replace(/&/g,"&amp;").replace(he,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(de,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pe;function ge(t,e){let n=null;try{pe=pe||new Jt(t);let r=e?String(e):"";n=pe.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=pe.getInertBodyElement(r)}while(r!==o);const a=new ce,s=a.sanitizeChildren(me(n)||n);return Kt()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n){const t=me(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function me(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const ve=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class be{}const ye=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),we=/^url\(([^)]+)\)$/;function _e(t){if(!(t=String(t).trim()))return"";const e=t.match(we);return e&&Xt(e[1])===e[1]||t.match(ye)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Kt()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}const Ce=/([A-Z])/g;function ke(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Ee=[];function Ie(t,e,n,r,i,o,a,s,l){xt(t)||(a?function(t,e,n,r,i){Ee.unshift(t,e,n,r,i)}(t,n,r,i,l):(Ee.length&&Se(),Te(t,n,r,i,l)));const u=s||Nt(e[i],o);return u&&(e[i]=o),u}function Se(){let t=0;for(;t<Ee.length;)Te(Ee[t++],Ee[t++],Ee[t++],Ee[t++],Ee[t++]);Ee.length=0}function Te(t,e,n,r,i){let o=!1;if(n){let a=!1,s=Ot(t);for(;s<t.length;){const o=It(t,s),l=wt(t,s);if(a=n<=l,a){n<l&&xe(t,s,n,i),Ae(t,!1,s,r,e);break}s+=3+o}a||(xe(t,t.length,n,i),Ae(t,!1,s,r,e),o=!0)}else Ae(t,!0,3,r,e),o=!0;return o}function xe(t,e,n,r){t.splice(e,0,r?1:0,1,n,null),Et(t,e,1)}function Ae(t,e,n,r,i){const o=n+3;let a=o+It(t,n);if(e||a--,"number"==typeof r){for(let e=o;e<=a;e++)if(t[e]===r)return;t.splice(a,0,r),t[n+1]++,Et(t,n,kt(t,n)|1<<i)}else null!==r&&null==t[a]&&(t[a]=r)}function Oe(t,e,n,r,i,o,a,s){return i&&r&&(function(t){if(!xt(t)){const e=Dt(t);e&&function(t,e){for(let n=1;n<e.length;n+=2){const r=Bt(e,n);r&&Te(t,-1,jt(e,n),r,!1)}}(t,e),function(t){yt(t,1|bt(t))}(t)}}(r),function(t,e){return t&&e>0}(r,o))?(function(t,e,n,r,i,o,a){const s=!0===(l=i)?-1:!1===l?0:l;var l;const u=Ne,c=(s&kt(t,3))>0?1:0;let h=Ot(t);for(;h<t.length;){const i=It(t,h);if(s&kt(t,h)){let s=!1;const l=wt(t,h),d=i-1,f=St(t,h,d);for(let i=0;i<d;i++){const u=St(t,h,i),c=r[u];if(Pt(c)){o(e,n,l,a&&Ct(t,h)?a(l,c,2):c,u),s=!0;break}}if(u){const i=u(t,e,n,r,o,a,c|(s?4:2),l,f);s=s||i}s||o(e,n,l,f)}h+=3+i}u&&u(t,e,n,r,o,a,c)}(r,t,e,n,o,a,s),!0):i}let Ne=null;const Pe=(t,e,n,r)=>{const i=e.style;r?(r=r.toString(),t&&Vt(t)?t.setStyle(e,n,r,Ft.DashCase):i&&i.setProperty(n,r)):t&&Vt(t)?t.removeStyle(e,n,Ft.DashCase):i&&i.removeProperty(n)},Re=(t,e,n,r)=>{if(""!==n){const i=e.classList;r?t&&Vt(t)?t.addClass(e,n):i&&i.add(n):t&&Vt(t)?t.removeClass(e,n):i&&i.remove(n)}},De={},Me=(t,e,n,r,i,o,a,s,l)=>{let u=!1;if(It(t,3)){let c=!0;const h=!s;h&&-2&a&&(c=!1,u=!0),c&&(u=function t(e,n,r,i,o,a,s,l,u,c){let h=!1;if(u<It(e,3)){const d=St(e,3,u),f=i[d];let p=function(t){return t>=Be.length&&Be.push(1),Be[t]}(u);for(;p<f.length;){const g=jt(f,p),m=l&&g>l,v=!m&&g===l,b=Bt(f,p),y=Pt(b);let w=t(e,n,r,i,o,a,m?s:je(s,y,v),m?l:g,u+1,c);if(m){h||(h=w);break}if(!w&&Le(s,v)){const t=v&&!y,e=t?c:b,i=t?d:null;o(n,r,g,a?a(g,e,3):e,i),w=!0}h=w&&v,p+=2}if(Be[u]=p,1===f.length||!l)return t(e,n,r,i,o,a,s,l,u+1,c)}return h}(t,e,n,r,i,o,a,s||null,0,l||null)),h&&function(){for(let t=0;t<Be.length;t++)Be[t]=1}()}return u};function je(t,e,n){let r=t;return e||4&t||!(n||1&t)?(r|=4,r&=-3):(r|=2,r&=-5),r}function Le(t,e){let n=(1&t)>0;return n?4&t&&e&&(n=!1):2&t&&(n=e),n}const Be=[];function Fe(t,e,n,r){for(let i=1;i<t.length;i+=2){const o=jt(t,i);if(e<=o){let a=!1;if(o===e){const e=t[i];!r&&Pt(e)||(a=!0,Lt(t,i,n))}else a=!0,t.splice(i,0,e,n);return a}}return t.push(e,n),!0}let Ve=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ue(),t})();const Ue=(...t)=>{},qe=new j("The presence of this token marks an injector as being the root injector."),ze=function(t,e,n){return new Je(t,e,n)};let He=(()=>{class t{static create(t,e){return Array.isArray(t)?ze(t,e,""):ze(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=B,t.NULL=new H,t.ngInjectableDef=E({token:t,providedIn:"any",factory:()=>z(L)}),t.__NG_ELEMENT_ID__=-1,t})();const Ge=function(t){return t},We=[],Ke=Ge,$e=function(){return Array.prototype.slice.call(arguments)};class Je{constructor(t,e=He.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(He,{token:He,fn:Ge,deps:We,value:this,useNew:!1}),r.set(L,{token:L,fn:Ge,deps:We,value:this,useNew:!1}),function t(e,n){if(n)if((n=O(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Ye("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ye("Unexpected provider",n);{let t=O(n.provide);const r=function(t){const e=function(t){let e=We;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=O(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof y||n==y?r|=1:n instanceof _||n==_?r&=-3:n instanceof w||n==w?r&=-5:i=n instanceof b?n.token:O(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:O(t.useExisting),options:6}];else if(!n&&!(V in t))throw Ye("'deps' required",t);return e}(t);let n=Ge,r=We,i=!1,o=O(t.provide);if(V in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=O(t.useClass);else{if("function"!=typeof o)throw Ye("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==$e)throw Qe(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:$e,value:We});t=n,r.deps.push({token:t,options:6})}const i=e.get(t);if(i&&i.fn==$e)throw Qe(t);e.set(t,r)}}}(r,t)}get(t,e,n=C.Default){const r=this._records.get(t);try{return function t(e,n,r,i,o,a){try{return function(e,n,r,i,o,a){let s;if(!n||a&C.SkipSelf)a&C.Self||(s=i.get(e,o,C.Default));else{if(s=n.value,s==Ke)throw Error("\u0275Circular dependency");if(s===We){n.value=Ke;let e=void 0,o=n.useNew,a=n.fn,l=n.deps,u=We;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],o=n.options,a=2&o?r.get(n.token):void 0;u.push(t(n.token,a,r,a||4&o?i:He.NULL,1&o?null:He.THROW_IF_NOT_FOUND,C.Default))}}n.value=s=o?new a(...u):a.apply(e,u)}}return s}(e,n,r,i,o,a)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(e),n&&n.value==Ke&&(n.value=We),s}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=G("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(T(n))),`StaticInjector[${t.join(", ")}]`}}function Qe(t){return Ye("Cannot mix multi providers and regular providers",t)}function Ye(t,e){return new Error(G(t,e,"StaticInjectorError"))}const Xe=new j("AnalyzeForEntryComponents");function Ze(t){const e=(void 0)[1];e.firstTemplatePass&&(function(t,e,n){const r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===null.hostBindings?r[i-1]=r[i-1]+n:r.push(null.hostBindings,n)}(e,0,t),function(t,e,n){for(let r=0;r<n;r++)(void 0).push(De),t.blueprint.push(De),t.data.push(null)}(e,0,t))}let tn=null;function en(){if(!tn){const t=M.Symbol;if(t&&t.iterator)tn=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(tn=n)}}}return tn}function nn(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function rn(t,e){const n=an(t),r=an(e);if(n&&r)return function(t,e,n){const r=t[en()](),i=e[en()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,rn);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||nn(t,e)}}class on{constructor(t){this.wrapped=t}static wrap(t){return new on(t)}static unwrap(t){return on.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof on}}function an(t){return!!sn(t)&&(Array.isArray(t)||!(t instanceof Map)&&en()in t)}function sn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ln(){(void 0)[1].firstTemplatePass&&(1,vt(pn(void 0),1),vt(fn(void 0),1))}function un(t){const e=pt(-1,void 0),n=fn(e),r=(void 0)[7]++;hn(-1,n,r,t,!1,!1)}function cn(t){!function(t,e){const n=pt(-1,void 0),r=pn(n),i=(void 0)[7]++;hn(-1,r,i,e,!0,!1)}(0,t)}function hn(t,e,n,r,i,o){Ne=Me;let a=!1;if(r!==De){const s=ft(pt(t,void 0),void 0),l=(void 0)[n];a=Nt(l,r);const u=function(t,e,n){const r=Array.isArray(t)?t:[null];r[0]=e||null;for(let s=1;s<r.length;s+=2)Lt(r,s,null);let i,o=null,a=!1;if("string"==typeof e?e.length&&(o=e.split(/\s+/),a=!0):(o=e?Object.keys(e):null,i=e),o)for(let s=0;s<o.length;s++){const t=o[s];Fe(r,n?Rt(t):t,!!a||i[t],!0)}return r}(l,r,!i);i?function(t,e,n,r,i,o,a,s){const l=dt(n,At(t));!Ie(t,void 0,0,null,i,o,a,s,!1)&&!s||(l.classesBitMask|=1)}(e,0,s,0,n,u,o,a):function(t,e,n,r,i,o,a,s,l){const u=dt(n,At(t));!Ie(t,void 0,0,null,i,o,s,l,!0)&&!l||(u.stylesBitMask|=1)}(e,0,s,0,n,u,gt(),o,a)}return a}function dn(){const t=pt(-1,void 0),e=function(t,e){return 3===t.type?(void 0)[12]:null}(t),n=ft(t,void 0),r=gt();(function(t,e,n,r,i,o,a){const s=n?At(n):!!r&&At(r),l=Tt(n,o),u=Tt(r,o);Ee.length&&(l||u)&&Se();const c=dt(i,s),h=Oe(t,i,e,n,l,c.classesBitMask,Re,null),d=Oe(t,i,e,r,u,c.stylesBitMask,Pe,a);h&&d?(lt=null,ht=null,s&&function(t){ut.delete(t)}(i)):s&&function(t,e){ut.set(t,e)}(i,c)})(e,void 0,pn(t),fn(t),n,1,r),ct=null}function fn(t){return gn(t,!1)}function pn(t){return gn(t,!0)}function gn(t,e){let n=e?t.classes:t.styles;return Mt(n)||(n=[n||[""],0,0,1,0,"--MAP--"],e?t.classes=n:t.styles=n),n}function mn(t){return!!t&&"function"==typeof t.then}function vn(t){return!!t&&"function"==typeof t.subscribe}class bn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class yn{}function wn(t){const e=Error(`No component factory found for ${T(t)}. Did you add it to @NgModule.entryComponents?`);return e[_n]=t,e}const _n="ngComponent";class Cn{resolveComponentFactory(t){throw wn(t)}}let kn=(()=>{class t{}return t.NULL=new Cn,t})();class En{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw wn(t);return new In(e,this._ngModule)}}class In extends yn{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function Sn(...t){}let Tn=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>xn(t),t})();const xn=Sn;class An{}class On{}const Nn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Pn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Rn(),t})();const Rn=Sn;class Dn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Mn=new Dn("8.2.14");class jn{constructor(){}supports(t){return an(t)}create(t){return new Bn(t)}}const Ln=(t,e)=>e;class Bn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ln}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<qn(n,r,i)?e:n,a=qn(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=a-r,e=s-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}a!==s&&t(o,a,s)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!an(t))throw new Error(`Error trying to diff '${T(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&nn(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),nn(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[en()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&nn(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),nn(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(nn(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(nn(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Fn(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Un),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Un),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Fn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&nn(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Un{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Vn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class zn{constructor(){}supports(t){return t instanceof Map||sn(t)}create(){return new Hn}}class Hn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||sn(t)))throw new Error(`Error trying to diff '${T(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Gn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){nn(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Gn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Wn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=E({token:t,providedIn:"root",factory:()=>new t([new jn])}),t})(),Kn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=E({token:t,providedIn:"root",factory:()=>new t([new zn])}),t})();const $n=[new zn],Jn=new Wn([new jn]),Qn=new Kn($n);let Yn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xn(t,Tn),t})();const Xn=Sn;let Zn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>tr(t,Tn),t})();const tr=Sn;function er(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return nr(n,e),n}(i,t)}function nr(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function rr(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function ir(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function or(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function ar(t,e){return t.nodes[e]}function sr(t,e){return t.nodes[e]}function lr(t,e){return t.nodes[e]}function ur(t,e){return t.nodes[e]}function cr(t,e){return t.nodes[e]}const hr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},dr=()=>{},fr=new Map;function pr(t){let e=fr.get(t);return e||(e=T(t)+"_"+fr.size,fr.set(t,e)),e}function gr(t,e,n,r){if(on.isWrapped(r)){r=on.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=on.unwrap(t.oldValues[i]);t.oldValues[i]=new on(o)}return r}function mr(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let vr=0;function br(t,e,n,r){return!(!(2&t.state)&&nn(t.oldValues[e.bindingIndex+n],r))}function yr(t,e,n,r){return!!br(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function wr(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!rn(i,r)){const o=e.bindings[n].name;throw er(hr.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function _r(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Cr(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function kr(t,e,n,r){try{return _r(33554432&t.def.nodes[e].flags?sr(t,e).componentView:t),hr.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Er(t){return t.parent?sr(t.parent,t.parentNodeDef.nodeIndex):null}function Ir(t){return t.parent?t.parentNodeDef.parent:null}function Sr(t,e){switch(201347067&e.flags){case 1:return sr(t,e.nodeIndex).renderElement;case 2:return ar(t,e.nodeIndex).renderText}}function Tr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function xr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Ar(t){return 1<<t%32}function Or(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=Ar(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Nr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:r,token:n,tokenKey:pr(n)}})}function Pr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Y.Native?sr(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Rr=new WeakMap;function Dr(t){let e=Rr.get(t);return e||(e=t(()=>dr),e.factory=t,Rr.set(t,e)),e}function Mr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Sr(t,t.def.lastRenderRootNode))),jr(t,e,0,t.def.nodes.length-1,n,r,i)}function jr(t,e,n,r,i,o,a){for(let s=n;s<=r;s++){const n=t.def.nodes[s];11&n.flags&&Br(t,n,e,i,o,a),s+=n.childCount}}function Lr(t,e,n,r,i,o){let a=t;for(;a&&!Tr(a);)a=a.parent;const s=a.parent,l=Ir(a),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=s.def.nodes[c];t.ngContentIndex===e&&Br(s,t,n,r,i,o),c+=t.childCount}if(!s.parent){const a=t.root.projectableNodes[e];if(a)for(let e=0;e<a.length;e++)Fr(t,a[e],n,r,i,o)}}function Br(t,e,n,r,i,o){if(8&e.flags)Lr(t,e.ngContent.index,n,r,i,o);else{const a=Sr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Fr(t,a,n,r,i,o),32&e.bindingFlags&&Fr(sr(t,e.nodeIndex).componentView,a,n,r,i,o)):Fr(t,a,n,r,i,o),16777216&e.flags){const a=sr(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<a.length;t++)Mr(a[t],n,r,i,o)}1&e.flags&&!e.element.name&&jr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Fr(t,e,n,r,i,o){const a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}const Vr=/^:([^:]+):(.+)$/;function Ur(t){if(":"===t[0]){const e=t.match(Vr);return[e[1],e[2]]}return["",t]}function qr(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function zr(t,e,n,r,i,o,a,s,l,u,c,h,d,f,p,g,m,v,b,y){switch(t){case 1:return e+Hr(n)+r;case 2:return e+Hr(n)+r+Hr(i)+o;case 3:return e+Hr(n)+r+Hr(i)+o+Hr(a)+s;case 4:return e+Hr(n)+r+Hr(i)+o+Hr(a)+s+Hr(l)+u;case 5:return e+Hr(n)+r+Hr(i)+o+Hr(a)+s+Hr(l)+u+Hr(c)+h;case 6:return e+Hr(n)+r+Hr(i)+o+Hr(a)+s+Hr(l)+u+Hr(c)+h+Hr(d)+f;case 7:return e+Hr(n)+r+Hr(i)+o+Hr(a)+s+Hr(l)+u+Hr(c)+h+Hr(d)+f+Hr(p)+g;case 8:return e+Hr(n)+r+Hr(i)+o+Hr(a)+s+Hr(l)+u+Hr(c)+h+Hr(d)+f+Hr(p)+g+Hr(m)+v;case 9:return e+Hr(n)+r+Hr(i)+o+Hr(a)+s+Hr(l)+u+Hr(c)+h+Hr(d)+f+Hr(p)+g+Hr(m)+v+Hr(b)+y;default:throw new Error("Does not support more than 9 expressions")}}function Hr(t){return null!=t?t.toString():""}const Gr=new Object,Wr=pr(He),Kr=pr(L),$r=pr(W);function Jr(t,e,n,r){return n=O(n),{index:-1,deps:Nr(r,T(e)),flags:t,token:e,value:n}}function Qr(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const o=t[i];o.token===qe&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[pr(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function Yr(t,e,n=He.THROW_IF_NOT_FOUND){const r=q(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const a=e.tokenKey;switch(a){case Wr:case Kr:case $r:return t}const s=t._def.providersByKey[a];let l;if(s){let e=t._providers[s.index];return void 0===e&&(e=t._providers[s.index]=Xr(t,s)),e===Gr?void 0:e}if((l=I(e.token))&&(i=t,null!=(o=l).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:e.token},t._providers[n]=Gr,t._providers[n]=Xr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{q(r)}var i,o}function Xr(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Yr(t,n[0]));case 2:return new e(Yr(t,n[0]),Yr(t,n[1]));case 3:return new e(Yr(t,n[0]),Yr(t,n[1]),Yr(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=Yr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Yr(t,n[0]));case 2:return e(Yr(t,n[0]),Yr(t,n[1]));case 3:return e(Yr(t,n[0]),Yr(t,n[1]),Yr(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=Yr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Yr(t,e.deps[0]);break;case 256:n=e.value}return n===Gr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Gr:n}function Zr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,J(n,e),hr.dirtyParentQueries(r),ei(r),r}function ti(t,e,n){const r=e?Sr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Mr(n,2,i,o,void 0)}function ei(t){Mr(t,3,null,null,void 0)}const ni=new Object;function ri(t,e,n,r,i,o){return new ii(t,e,n,r,i,o)}class ii extends yn{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Dr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=hr.createRootView(t,e||[],n,i,r,ni),s=lr(a,o).instance;return n&&a.renderer.setAttribute(sr(a,0).renderElement,"ng-version",Mn.full),new oi(a,new ui(a),s)}}class oi extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Tn(sr(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new fi(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function ai(t,e,n){return new si(t,e,n)}class si{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Tn(this._data.renderElement)}get injector(){return new fi(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Ir(t),t=t.parent;return t?new fi(t,e):new fi(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Zr(this._data,t);hr.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new ui(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof In||(i=o.get(W));const a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,$(i,n,r),function(t,e){const n=Er(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),hr.dirtyParentQueries(r),ti(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];J(r,e),null==n&&(n=r.length),$(r,n,i),hr.dirtyParentQueries(i),ei(i),ti(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Zr(this._data,t);e&&hr.destroyView(e)}detach(t){const e=Zr(this._data,t);return e?new ui(e):null}}function li(t){return new ui(t)}class ui{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Mr(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){_r(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{hr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){hr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),hr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,ei(this._view),hr.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function ci(t,e){return new hi(t,e)}class hi extends Yn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new ui(hr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Tn(sr(this._parentView,this._def.nodeIndex).renderElement)}}function di(t,e){return new fi(t,e)}class fi{constructor(t,e){this.view=t,this.elDef=e}get(t,e=He.THROW_IF_NOT_FOUND){return hr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:pr(t)},e)}}function pi(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=sr(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return ar(t,n.nodeIndex).renderText;if(20240&n.flags)return lr(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function gi(t){return new mi(t.renderer)}class mi{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=Ur(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=Ur(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function vi(t,e,n,r){return new bi(t,e,n,r)}class bi{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Xr(t,i))}}(this)}get(t,e=He.THROW_IF_NOT_FOUND,n=C.Default){let r=0;return n&C.SkipSelf?r|=1:n&C.Self&&(r|=4),Yr(this,{token:t,tokenKey:pr(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(kn)}destroy(){if(this._destroyed)throw new Error(`The ng module ${T(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Gr){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const yi=pr(An),wi=pr(Pn),_i=pr(Tn),Ci=pr(Zn),ki=pr(Yn),Ei=pr(Ve),Ii=pr(He),Si=pr(L);function Ti(t,e,n,r,i,o,a,s){const l=[];if(a)for(let c in a){const[t,e]=a[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(s)for(let c in s)u.push({type:1,propName:c,target:null,eventName:s[c]});return Oi(t,e|=16384,n,r,i,i,o,l,u)}function xi(t,e,n){return Oi(-1,t|=16,null,0,e,e,n)}function Ai(t,e,n,r,i){return Oi(-1,t,e,0,n,r,i)}function Oi(t,e,n,r,i,o,a,s,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=Or(n);l||(l=[]),s||(s=[]),o=O(o);const d=Nr(a,T(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:qr(s),outputs:l,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Ni(t,e){return Mi(t,e)}function Pi(t,e){let n=t;for(;n.parent&&!Tr(n);)n=n.parent;return ji(n.parent,Ir(n),!0,e.provider.value,e.provider.deps)}function Ri(t,e){const n=ji(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!vn(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(Di(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Di(t,e,n){return r=>kr(t,e,n,r)}function Mi(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return ji(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Bi(t,e,n,i[0]));case 2:return r(Bi(t,e,n,i[0]),Bi(t,e,n,i[1]));case 3:return r(Bi(t,e,n,i[0]),Bi(t,e,n,i[1]),Bi(t,e,n,i[2]));default:const a=Array(o);for(let r=0;r<o;r++)a[r]=Bi(t,e,n,i[r]);return r(...a)}}(t,e.parent,n,r.value,r.deps);case 2048:return Bi(t,e.parent,n,r.deps[0]);case 256:return r.value}}function ji(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Bi(t,e,n,i[0]));case 2:return new r(Bi(t,e,n,i[0]),Bi(t,e,n,i[1]));case 3:return new r(Bi(t,e,n,i[0]),Bi(t,e,n,i[1]),Bi(t,e,n,i[2]));default:const a=new Array(o);for(let r=0;r<o;r++)a[r]=Bi(t,e,n,i[r]);return new r(...a)}}const Li={};function Bi(t,e,n,r,i=He.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const a=r.tokenKey;a===Ei&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let s=t;for(;s;){if(e)switch(a){case yi:return gi(Fi(s,e,n));case wi:return Fi(s,e,n).renderer;case _i:return new Tn(sr(s,e.nodeIndex).renderElement);case Ci:return sr(s,e.nodeIndex).viewContainer;case ki:if(e.element.template)return sr(s,e.nodeIndex).template;break;case Ei:return li(Fi(s,e,n));case Ii:case Si:return di(s,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[a];if(t){let e=lr(s,t.nodeIndex);return e||(e={instance:Mi(s,t)},s.nodes[t.nodeIndex]=e),e.instance}}n=Tr(s),e=Ir(s),s=s.parent,4&r.flags&&(s=null)}const l=o.root.injector.get(r.token,Li);return l!==Li||i===Li?l:o.root.ngModule.injector.get(r.token,i)}function Fi(t,e,n){let r;if(n)r=sr(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Tr(r);)r=r.parent;return r}function Vi(t,e,n,r,i,o){if(32768&n.flags){const e=sr(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=on.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new bn(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Ui(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let a=o.parent;for(!a&&o.flags&e&&zi(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=qi(t,a,e,r)),a=a.parent}}function qi(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&zi(t,i,e.flags&n,r++),i+=e.childCount}return r}function zi(t,e,n,r){const i=lr(t,e);if(!i)return;const o=i.instance;o&&(hr.setCurrentNode(t,e),1048576&n&&or(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&or(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const Hi=new j("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mt}),Gi={},Wi=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Ki=void 0;var $i=["en",[["a","p"],["AM","PM"],Ki],[["AM","PM"],Ki,Ki],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ki,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ki,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ki,"{1} 'at' {0}",Ki],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function Ji(t){return Qi(t)[Wi.PluralCase]}function Qi(t){const e=t.toLowerCase().replace(/_/g,"-");let n=Gi[e];if(n)return n;const r=e.split("-")[0];if(n=Gi[r],n)return n;if("en"===r)return $i;throw new Error(`Missing locale data for the locale "${t}".`)}class Yi extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,a=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(a=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(a=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,o,a);return t instanceof i.a&&t.add(s),s}}function Xi(){return this._results[en()]()}class Zi{constructor(){this.dirty=!0,this._results=[],this.changes=new Yi,this.length=0;const t=en(),e=Zi.prototype;e[t]||(e[t]=Xi)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const to=new j("Application Initializer");class eo{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();mn(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const no=new j("AppId");function ro(){return`${io()}${io()}${io()}`}function io(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oo=new j("Platform Initializer"),ao=new j("Platform ID"),so=new j("appBootstrapListener");class lo{log(t){console.log(t)}warn(t){console.warn(t)}}const uo=new j("LocaleId");function co(){throw new Error("Runtime compiler is not loaded")}const ho=co,fo=co,po=co,go=co;class mo{constructor(){this.compileModuleSync=ho,this.compileModuleAsync=fo,this.compileModuleAndAllComponentsSync=po,this.compileModuleAndAllComponentsAsync=go}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class vo{}let bo,yo;function wo(){const t=M.wtf;return!(!t||(bo=t.trace,!bo)||(yo=bo.events,0))}const _o=wo();function Co(t,e){return null}const ko=_o?function(t,e=null){return yo.createScope(t,e)}:(t,e)=>Co,Eo=_o?function(t,e){return bo.leaveScope(t,e),e}:(t,e)=>e,Io=(()=>Promise.resolve(0))();function So(t){"undefined"==typeof Zone?Io.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class To{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yi(!1),this.onMicrotaskEmpty=new Yi(!1),this.onStable=new Yi(!1),this.onError=new Yi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,o,a)=>{try{return No(e),t.invokeTask(r,i,o,a)}finally{Po(e)}},onInvoke:(t,n,r,i,o,a,s)=>{try{return No(e),t.invoke(r,i,o,a,s)}finally{Po(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Oo(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!To.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(To.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ao,xo,xo);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function xo(){}const Ao={};function Oo(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function No(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Po(t){t._nesting--,Oo(t)}class Ro{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yi,this.onMicrotaskEmpty=new Yi,this.onStable=new Yi,this.onError=new Yi}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class Do{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{To.assertNotInAngularZone(),So(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())So(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class Mo{constructor(){this._applications=new Map,Fo.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Fo.findTestabilityInTree(this,t,e)}}class jo{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Lo(t){Fo=t}let Bo,Fo=new jo;const Vo=new j("AllowMultipleToken");class Uo{constructor(t,e){this.name=t,this.token=e}}function qo(t,e,n=[]){const r="Platform: "+e,i=new j(r);return(e=[])=>{let o=zo();if(!o||o.injector.get(Vo,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Bo&&!Bo.destroyed&&!Bo.injector.get(Vo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Bo=t.get(Ho);const e=t.get(oo,null);e&&e.forEach(t=>t())}(He.create({providers:t,name:r}))}return function(t){const e=zo();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function zo(){return Bo&&!Bo.destroyed?Bo:null}class Ho{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){let e;return e="noop"===t?new Ro:("zone.js"===t?void 0:t)||new To({enableLongStackTrace:Kt()}),e}(e?e.ngZone:void 0),r=[{provide:To,useValue:n}];return n.run(()=>{const e=He.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Ht,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Ko(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return mn(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(eo);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Go({},e);return function(t,e,n){return t.get(vo).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Wo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${T(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Go(t,e){return Array.isArray(e)?e.reduce(Go,t):Object.assign({},t,e)}let Wo=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Kt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),d=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{To.assertNotInAngularZone(),So(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{To.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return Object(a.a)(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof o.a?t[0]:Object(s.a)(e)(Object(l.a)(t,n))}(h,d.pipe(t=>{return c()((e=m,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,p);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof yn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n instanceof In?null:this._injector.get(W),i=n.create(He.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Do,null);return o&&i.injector.get(Mo).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Kt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Eo(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ko(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(so,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Ko(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=ko("ApplicationRef#tick()"),t})();function Ko(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $o{}class Jo{}const Qo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Yo{constructor(t,e){this._compiler=t,this._config=e||Qo}load(t){return this._compiler instanceof mo?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Xo(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Xo(t,e,r))}}function Xo(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Zo{constructor(t,e){this.name=t,this.callback=e}}class ta{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof ea&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ea extends ta{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof ea&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof ea&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof ea&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof ea)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const na=new Map,ra=function(t){return na.get(t)||null};function ia(t){na.set(t.nativeNode,t)}const oa=qo(null,"core",[{provide:ao,useValue:"unknown"},{provide:Ho,deps:[He]},{provide:Mo,deps:[]},{provide:lo,deps:[]}]);function aa(){return Jn}function sa(){return Qn}function la(t){return t||"en-US"}function ua(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class ca{constructor(t){}}function ha(t,e,n,r,i,o){t|=1;const{matchedQueries:a,references:s,matchedQueryIds:l}=Or(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:l,references:s,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Dr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||dr},provider:null,text:null,query:null,ngContent:null}}function da(t,e,n,r,i,o,a=[],s,l,u,c,h){u||(u=dr);const{matchedQueries:d,references:f,matchedQueryIds:p}=Or(n);let g=null,m=null;o&&([g,m]=Ur(o)),s=s||[];const v=new Array(s.length);for(let w=0;w<s.length;w++){const[t,e,n]=s[w],[r,i]=Ur(e);let o=void 0,a=void 0;switch(15&t){case 4:a=n;break;case 1:case 8:o=n}v[w]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:a}}l=l||[];const b=new Array(l.length);for(let w=0;w<l.length;w++){const[t,e]=l[w];b[w]={type:0,target:t,eventName:e,propName:null}}const y=(a=a||[]).map(([t,e])=>{const[n,r]=Ur(t);return[n,r,e]});return h=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==Y.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+vr++:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:qr(v),outputs:b,element:{ns:g,name:m,attrs:y,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||dr},provider:null,text:null,query:null,ngContent:null}}function fa(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let a;if(t.parent||!i){a=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=Pr(t,e,n);i&&o.appendChild(i,a)}else a=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Y.ShadowDom);if(r.attrs)for(let s=0;s<r.attrs.length;s++){const[t,e,n]=r.attrs[s];o.setAttribute(a,e,n,t)}return a}function pa(t,e,n,r){for(let a=0;a<n.outputs.length;a++){const s=n.outputs[a],l=ga(t,n.nodeIndex,(o=s.eventName,(i=s.target)?`${i}:${o}`:o));let u=s.target,c=t;"component"===s.target&&(u=null,c=e);const h=c.renderer.listen(u||r,s.eventName,l);t.disposables[n.outputIndex+a]=h}var i,o}function ga(t,e,n){return r=>kr(t,e,n,r)}function ma(t,e,n,r){if(!yr(t,e,n,r))return!1;const i=e.bindings[n],o=sr(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const a=e.securityContext;let s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;const l=t.renderer;null!=o?l.setAttribute(n,i,s,r):l.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(ve.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const a=t.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}function va(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Ar(e),bindings:r},ngContent:null}}function ba(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&xr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&cr(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&cr(t,n).setDirty(),n+=e.childCount}}function ya(t,e){const n=cr(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=wa(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=lr(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=wa(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let a=!1;for(let s=0;s<o.length;s++){const t=o[s];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,a=!0}r[t.propName]=e}a&&n.notifyOnChanges()}function wa(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(_a(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=sr(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(wa(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],a=Er(o);a&&a===n&&wa(o,0,o.def.nodes.length-1,r,i)}}const a=n.template._projectedViews;if(a)for(let t=0;t<a.length;t++){const e=a[t];wa(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function _a(t,e,n){if(null!=n)switch(n){case 1:return sr(t,e.nodeIndex).renderElement;case 0:return new Tn(sr(t,e.nodeIndex).renderElement);case 2:return sr(t,e.nodeIndex).template;case 3:return sr(t,e.nodeIndex).viewContainer;case 4:return lr(t,e.nodeIndex).instance}}function Ca(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function ka(t,e,n){const r=Pr(t,e,n);r&&Lr(t,n.ngContent.index,1,r,null,void 0)}function Ea(t,e){return function(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:32,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:qr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,new Array(e))}function Ia(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Sa(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=Pr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Ta(t,e){return(null!=t?t.toString():"")+e.suffix}function xa(t,e,n,r){let i=0,o=0,a=0,s=0,l=0,u=null,c=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=u,t.bindingIndex=i,t.outputIndex=o,t.renderParent=c,a|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(Oa(u,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[pr(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[pr(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):s|=t.flags,t.childCount>0)u=t,Aa(t)||(c=t);else for(;u&&p===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),u=t,c=u&&Aa(u)?u.renderParent:u}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||dr,updateRenderer:r||dr,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function Aa(t){return 0!=(1&t.flags)&&null===t.element.name}function Oa(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Na(t,e,n,r){const i=Da(t.root,t.renderer,t,e,n);return Ma(i,t.component,r),ja(i),i}function Pa(t,e,n){const r=Da(t,t.renderer,null,null,e);return Ma(r,n,n),ja(r),r}function Ra(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Da(t.root,o,t,e.element.componentProvider,n)}function Da(t,e,n,r,i){const o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Ma(t,e,n){t.component=e,t.context=n}function ja(t){let e;Tr(t)&&(e=sr(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let a;switch(hr.setCurrentNode(t,i),201347067&o.flags){case 1:const n=fa(t,e,o);let s=void 0;if(33554432&o.flags){const e=Dr(o.element.componentView);s=hr.createComponentView(t,o,e,n)}pa(t,s,o,n),a={renderElement:n,componentView:s,viewContainer:null,template:o.element.template?ci(t,o):void 0},16777216&o.flags&&(a.viewContainer=ai(t,o,a));break;case 2:a=Sa(t,e,o);break;case 512:case 1024:case 2048:case 256:a=r[i],a||4096&o.flags||(a={instance:Ni(t,o)});break;case 16:a={instance:Pi(t,o)};break;case 16384:a=r[i],a||(a={instance:Ri(t,o)}),32768&o.flags&&Ma(sr(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Zi;break;case 8:ka(t,e,o),a=void 0}r[i]=a}Ga(t,Ha.CreateViewNodes),Ja(t,201326592,268435456,0)}function La(t){Va(t),hr.updateDirectives(t,1),Wa(t,Ha.CheckNoChanges),hr.updateRenderer(t,1),Ga(t,Ha.CheckNoChanges),t.state&=-97}function Ba(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,ir(t,0,256),Va(t),hr.updateDirectives(t,0),Wa(t,Ha.CheckAndUpdate),Ja(t,67108864,536870912,0);let e=ir(t,256,512);Ui(t,2097152|(e?1048576:0)),hr.updateRenderer(t,0),Ga(t,Ha.CheckAndUpdate),Ja(t,134217728,536870912,0),e=ir(t,512,768),Ui(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,ir(t,768,1024)}function Fa(t,e,n,r,i,o,a,s,l,u,c,h,d){return 0===n?function(t,e,n,r,i,o,a,s,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,l,u,c,h){const d=e.bindings.length;let f=!1;return d>0&&ma(t,e,0,n)&&(f=!0),d>1&&ma(t,e,1,r)&&(f=!0),d>2&&ma(t,e,2,i)&&(f=!0),d>3&&ma(t,e,3,o)&&(f=!0),d>4&&ma(t,e,4,a)&&(f=!0),d>5&&ma(t,e,5,s)&&(f=!0),d>6&&ma(t,e,6,l)&&(f=!0),d>7&&ma(t,e,7,u)&&(f=!0),d>8&&ma(t,e,8,c)&&(f=!0),d>9&&ma(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,o,a,s,l,u,c,h);case 2:return function(t,e,n,r,i,o,a,s,l,u,c,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&yr(t,e,0,n)&&(d=!0),p>1&&yr(t,e,1,r)&&(d=!0),p>2&&yr(t,e,2,i)&&(d=!0),p>3&&yr(t,e,3,o)&&(d=!0),p>4&&yr(t,e,4,a)&&(d=!0),p>5&&yr(t,e,5,s)&&(d=!0),p>6&&yr(t,e,6,l)&&(d=!0),p>7&&yr(t,e,7,u)&&(d=!0),p>8&&yr(t,e,8,c)&&(d=!0),p>9&&yr(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=Ta(n,f[0])),p>1&&(d+=Ta(r,f[1])),p>2&&(d+=Ta(i,f[2])),p>3&&(d+=Ta(o,f[3])),p>4&&(d+=Ta(a,f[4])),p>5&&(d+=Ta(s,f[5])),p>6&&(d+=Ta(l,f[6])),p>7&&(d+=Ta(u,f[7])),p>8&&(d+=Ta(c,f[8])),p>9&&(d+=Ta(h,f[9]));const g=ar(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,o,a,s,l,u,c,h);case 16384:return function(t,e,n,r,i,o,a,s,l,u,c,h){const d=lr(t,e.nodeIndex),f=d.instance;let p=!1,g=void 0;const m=e.bindings.length;return m>0&&br(t,e,0,n)&&(p=!0,g=Vi(t,d,e,0,n,g)),m>1&&br(t,e,1,r)&&(p=!0,g=Vi(t,d,e,1,r,g)),m>2&&br(t,e,2,i)&&(p=!0,g=Vi(t,d,e,2,i,g)),m>3&&br(t,e,3,o)&&(p=!0,g=Vi(t,d,e,3,o,g)),m>4&&br(t,e,4,a)&&(p=!0,g=Vi(t,d,e,4,a,g)),m>5&&br(t,e,5,s)&&(p=!0,g=Vi(t,d,e,5,s,g)),m>6&&br(t,e,6,l)&&(p=!0,g=Vi(t,d,e,6,l,g)),m>7&&br(t,e,7,u)&&(p=!0,g=Vi(t,d,e,7,u,g)),m>8&&br(t,e,8,c)&&(p=!0,g=Vi(t,d,e,8,c,g)),m>9&&br(t,e,9,h)&&(p=!0,g=Vi(t,d,e,9,h,g)),g&&f.ngOnChanges(g),65536&e.flags&&or(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,i,o,a,s,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,l,u,c,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&yr(t,e,0,n)&&(f=!0),p>1&&yr(t,e,1,r)&&(f=!0),p>2&&yr(t,e,2,i)&&(f=!0),p>3&&yr(t,e,3,o)&&(f=!0),p>4&&yr(t,e,4,a)&&(f=!0),p>5&&yr(t,e,5,s)&&(f=!0),p>6&&yr(t,e,6,l)&&(f=!0),p>7&&yr(t,e,7,u)&&(f=!0),p>8&&yr(t,e,8,c)&&(f=!0),p>9&&yr(t,e,9,h)&&(f=!0),f){const f=ur(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=i),p>3&&(g[3]=o),p>4&&(g[4]=a),p>5&&(g[5]=s),p>6&&(g[6]=l),p>7&&(g[7]=u),p>8&&(g[8]=c),p>9&&(g[9]=h);break;case 64:g={},p>0&&(g[d[0].name]=n),p>1&&(g[d[1].name]=r),p>2&&(g[d[2].name]=i),p>3&&(g[d[3].name]=o),p>4&&(g[d[4].name]=a),p>5&&(g[d[5].name]=s),p>6&&(g[d[6].name]=l),p>7&&(g[d[7].name]=u),p>8&&(g[d[8].name]=c),p>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,a);break;case 6:g=t.transform(r,i,o,a,s);break;case 7:g=t.transform(r,i,o,a,s,l);break;case 8:g=t.transform(r,i,o,a,s,l,u);break;case 9:g=t.transform(r,i,o,a,s,l,u,c);break;case 10:g=t.transform(r,i,o,a,s,l,u,c,h)}}f.value=g}return f}(t,e,n,r,i,o,a,s,l,u,c,h);default:throw"unreachable"}}(t,e,r,i,o,a,s,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)ma(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)yr(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=Ta(n[t],r[t]);i=e.text.prefix+i;const o=ar(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=lr(t,e.nodeIndex),i=r.instance;let o=!1,a=void 0;for(let s=0;s<n.length;s++)br(t,e,s,n[s])&&(o=!0,a=Vi(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&or(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)yr(t,e,o,n[o])&&(i=!0);if(i){const i=ur(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Va(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=sr(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,Cr(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ua(t,e,n,r,i,o,a,s,l,u,c,h,d){return 0===n?function(t,e,n,r,i,o,a,s,l,u,c,h){const d=e.bindings.length;d>0&&wr(t,e,0,n),d>1&&wr(t,e,1,r),d>2&&wr(t,e,2,i),d>3&&wr(t,e,3,o),d>4&&wr(t,e,4,a),d>5&&wr(t,e,5,s),d>6&&wr(t,e,6,l),d>7&&wr(t,e,7,u),d>8&&wr(t,e,8,c),d>9&&wr(t,e,9,h)}(t,e,r,i,o,a,s,l,u,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)wr(t,e,r,n[r])}(t,e,r),!1}function qa(t,e){if(cr(t,e.nodeIndex).dirty)throw er(hr.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function za(t){if(!(128&t.state)){if(Wa(t,Ha.Destroy),Ga(t,Ha.Destroy),Ui(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Er(t);if(e){const n=e.template._projectedViews;n&&(J(n,n.indexOf(t)),hr.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(sr(t,n).renderElement):2&e.flags?t.renderer.destroyNode(ar(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&cr(t,n).destroy()}}(t),Tr(t)&&t.renderer.destroy(),t.state|=128}}const Ha=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function Ga(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Ka(sr(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Wa(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=sr(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)Ka(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Ka(t,e){const n=t.state;switch(e){case Ha.CheckNoChanges:0==(128&n)&&(12==(12&n)?La(t):64&n&&$a(t,Ha.CheckNoChangesProjectedViews));break;case Ha.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?La(t):64&n&&$a(t,e));break;case Ha.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Ba(t):64&n&&$a(t,Ha.CheckAndUpdateProjectedViews));break;case Ha.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Ba(t):64&n&&$a(t,e));break;case Ha.Destroy:za(t);break;case Ha.CreateViewNodes:ja(t)}}function $a(t,e){Wa(t,e),Ga(t,e)}function Ja(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(hr.setCurrentNode(t,i.nodeIndex),r){case 0:ya(t,i);break;case 1:qa(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let Qa=!1;function Ya(t,e,n,r,i,o){const a=i.injector.get(On);return Pa(Za(t,i,a,e,n),r,o)}function Xa(t,e,n,r,i,o){const a=i.injector.get(On),s=Za(t,i,new Ns(a),e,n),l=us(r);return As(gs.create,Pa,null,[s,l,o])}function Za(t,e,n,r,i){const o=e.injector.get(be),a=e.injector.get(Ht),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function ts(t,e,n,r){const i=us(n);return As(gs.create,Na,null,[t,e,i,r])}function es(t,e,n,r){return n=os.get(e.element.componentProvider.provider.token)||us(n),As(gs.create,Ra,null,[t,e,n,r])}function ns(t,e,n,r){return vi(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===rs.size||(t.providers.forEach(t=>{const r=rs.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{is.forEach((r,i)=>{I(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=rs.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Nr(i.deps),r.value=i.value)}if(is.size>0){let e=new Set(t.modules);is.forEach((r,i)=>{if(e.has(I(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:Nr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[pr(i)]=e}})}}(t=t.factory(()=>dr)),t):t}(r))}const rs=new Map,is=new Map,os=new Map;function as(t){let e;rs.set(t.token,t),"function"==typeof t.token&&(e=I(t.token))&&"function"==typeof e.providedIn&&is.set(t.token,t)}function ss(t,e){const n=Dr(e.viewDefFactory),r=Dr(n.nodes[0].element.componentView);os.set(t,r)}function ls(){rs.clear(),is.clear(),os.clear()}function us(t){if(0===rs.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&rs.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>dr);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=rs.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Nr(n.deps),t.value=n.value)}}}}function cs(t,e,n,r,i,o,a,s,l,u,c,h,d){const f=t.def.nodes[e];return Fa(t,f,n,r,i,o,a,s,l,u,c,h,d),224&f.flags?ur(t,e).value:void 0}function hs(t,e,n,r,i,o,a,s,l,u,c,h,d){const f=t.def.nodes[e];return Ua(t,f,n,r,i,o,a,s,l,u,c,h,d),224&f.flags?ur(t,e).value:void 0}function ds(t){return As(gs.detectChanges,Ba,null,[t])}function fs(t){return As(gs.checkNoChanges,La,null,[t])}function ps(t){return As(gs.destroy,za,null,[t])}const gs=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let ms,vs,bs;function ys(t,e){vs=t,bs=e}function ws(t,e,n,r){return ys(t,e),As(gs.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function _s(t,e){if(128&t.state)throw rr(gs[ms]);return ys(t,Is(t,0)),t.def.updateDirectives((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?ks(t,o,r,i):Es(t,o,r,i),16384&o.flags&&ys(t,Is(t,n)),224&o.flags?ur(t,o.nodeIndex).value:void 0}),t)}function Cs(t,e){if(128&t.state)throw rr(gs[ms]);return ys(t,Ss(t,0)),t.def.updateRenderer((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?ks(t,o,r,i):Es(t,o,r,i),3&o.flags&&ys(t,Ss(t,n)),224&o.flags?ur(t,o.nodeIndex).value:void 0}),t)}function ks(t,e,n,r){if(Fa(t,e,n,...r)){const o=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],a=o[t];8&r.flags&&(n[(i=r.nonMinifiedName,"ng-reflect-"+i.replace(/[$@]/g,"_").replace(Ce,(...t)=>"-"+t[1].toLowerCase()))]=ke(a))}const r=e.parent,a=sr(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(a,e,r):t.renderer.removeAttribute(a,e)}else t.renderer.setValue(a,"bindings="+JSON.stringify(n,null,2))}}var i}function Es(t,e,n,r){Ua(t,e,n,...r)}function Is(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Ss(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Ts{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Ir(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return sr(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return di(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){xs(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&xs(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Tr(t);)t=t.parent;return t.parent?sr(t.parent,Ir(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Sr(this.view,this.nodeDef):Sr(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?t.error.bind(t,...e):dr)),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function xs(t,e,n){for(let r in e.references)n[r]=_a(t,e,e.references[r])}function As(t,e,n,r){const i=ms,o=vs,a=bs;try{ms=t;const s=e.apply(n,r);return vs=o,bs=a,ms=i,s}catch(s){if(Ut(s)||!vs)throw s;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),nr(t,e),t}(s,Os())}}function Os(){return vs?new Ts(vs,bs):null}class Ns{constructor(t){this.delegate=t}createRenderer(t,e){return new Ps(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Ps{constructor(t){this.delegate=t,this.debugContextFactory=Os,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=ra(t);!function(t){na.delete(t.nativeNode)}(e),e instanceof ta&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new ea(n,null,r);e.name=t,ia(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&ia(new ta(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&ia(new ta(e,null,n)),e}appendChild(t,e){const n=ra(t),r=ra(e);n&&r&&n instanceof ea&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=ra(t),i=ra(e),o=ra(n);r&&i&&r instanceof ea&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=ra(t),r=ra(e);n&&r&&n instanceof ea&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=Os();return r&&ia(new ea(n,null,r)),n}setAttribute(t,e,n,r){const i=ra(t);i&&i instanceof ea&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=ra(t);r&&r instanceof ea&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=ra(t);n&&n instanceof ea&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=ra(t);n&&n instanceof ea&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=ra(t);i&&i instanceof ea&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=ra(t);r&&r instanceof ea&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=ra(t);r&&r instanceof ea&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=ra(t);r&&r.listeners.push(new Zo(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Rs(t,e,n){return new Ds(t,e,n)}class Ds extends K{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Qa)return;Qa=!0;const t=Kt()?{setCurrentNode:ys,createRootView:Xa,createEmbeddedView:ts,createComponentView:es,createNgModuleRef:ns,overrideProvider:as,overrideComponentView:ss,clearOverrides:ls,checkAndUpdateView:ds,checkNoChangesView:fs,destroyView:ps,createDebugContext:(t,e)=>new Ts(t,e),handleEvent:ws,updateDirectives:_s,updateRenderer:Cs}:{setCurrentNode:()=>{},createRootView:Ya,createEmbeddedView:Na,createComponentView:Ra,createNgModuleRef:vi,overrideProvider:dr,overrideComponentView:dr,clearOverrides:dr,checkAndUpdateView:Ba,checkNoChangesView:La,destroyView:za,createDebugContext:(t,e)=>new Ts(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?cs:hs,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?cs:hs,t)};hr.setCurrentNode=t.setCurrentNode,hr.createRootView=t.createRootView,hr.createEmbeddedView=t.createEmbeddedView,hr.createComponentView=t.createComponentView,hr.createNgModuleRef=t.createNgModuleRef,hr.overrideProvider=t.overrideProvider,hr.overrideComponentView=t.overrideComponentView,hr.clearOverrides=t.clearOverrides,hr.checkAndUpdateView=t.checkAndUpdateView,hr.checkNoChangesView=t.checkNoChangesView,hr.destroyView=t.destroyView,hr.resolveDep=Bi,hr.createDebugContext=t.createDebugContext,hr.handleEvent=t.handleEvent,hr.updateDirectives=t.updateDirectives,hr.updateRenderer=t.updateRenderer,hr.dirtyParentQueries=ba}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Dr(this._ngModuleDefFactory));return hr.createNgModuleRef(this.moduleType,t||He.NULL,this._bootstrapComponents,e)}}},"9OqN":function(t,e,n){var r,i,o;t.exports=(o=n("Ib8C"),n("OLod"),o.mode.CTR=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)t[e+s]^=a[s]}}),r.Decryptor=i,r),o.mode.CTR)},"9ppp":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",(function(){return i})),r.prototype=Object.create(Error.prototype);const i=r},"9vzP":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{}},AAub:function(t,e,n){"use strict";var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function o(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var a=n("zIRd"),s=n("/6Yf"),l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function u(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var d,f=n("qOnz"),p=n("nbvr"),g=((d={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',d["not-registered"]="Firebase Installation is not registered.",d["installation-not-found"]="Firebase Installation not found.",d["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',d["app-offline"]="Could not process request. Application offline.",d["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",d),m=new f.b("installations","Installations",g);function v(t){return t instanceof f.c&&t.code.includes("request-failed")}function b(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function y(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function w(t,e){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,m.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function _(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function C(t,e){var n=e.refreshToken,r=_(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function k(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function E(t,e){var n=e.fid;return u(this,void 0,void 0,(function(){var e,r,i,o,a;return c(this,(function(s){switch(s.label){case 0:return e=b(t),r=_(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.30"})},[4,k((function(){return fetch(e,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:y(a.authToken)}];case 3:return[4,w("Create Installation",o)];case 4:throw s.sent()}}))}))}function I(t){return new Promise((function(e){setTimeout(e,t)}))}var S=/^[cdef][\w-]{21}$/;function T(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return S.test(e)?e:""}catch(n){return""}}function x(t){return t.appName+"!"+t.appId}var A=new Map;function O(t,e){var n=x(t);N(n,e),function(t,e){var n=R();n&&n.postMessage({key:t,fid:e}),D()}(n,e)}function N(t,e){var n,r,i=A.get(t);if(i)try{for(var o=h(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var P=null;function R(){return!P&&"BroadcastChannel"in self&&((P=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){N(t.data.key,t.data.fid)}),P}function D(){0===A.size&&P&&(P.close(),P=null)}var M,j="firebase-installations-store",L=null;function B(){return L||(L=Object(p.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(j)}}))),L}function F(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,a;return c(this,(function(s){switch(s.label){case 0:return n=x(t),[4,B()];case 1:return r=s.sent(),i=r.transaction(j,"readwrite"),[4,(o=i.objectStore(j)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||O(t,e.fid),[2,e]}}))}))}function V(t){return u(this,void 0,void 0,(function(){var e,n,r;return c(this,(function(i){switch(i.label){case 0:return e=x(t),[4,B()];case 1:return n=i.sent(),[4,(r=n.transaction(j,"readwrite")).objectStore(j).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function U(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,a,s;return c(this,(function(l){switch(l.label){case 0:return n=x(t),[4,B()];case 1:return r=l.sent(),i=r.transaction(j,"readwrite"),[4,(o=i.objectStore(j)).get(n)];case 2:return a=l.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),!s||a&&a.fid===s.fid||O(t,s.fid),[2,s]}}))}))}function q(t){return u(this,void 0,void 0,(function(){var e,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,U(t,(function(n){var r=function(t){return G(t||{fid:T(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(m.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,E(t,e)];case 1:return n=i.sent(),[2,F(t,n)];case 2:return v(r=i.sent())&&409===r.customData.serverCode?[4,V(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,F(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:z(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function z(t){return u(this,void 0,void 0,(function(){var e,n,r,i;return c(this,(function(o){switch(o.label){case 0:return[4,H(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,I(100)];case 3:return o.sent(),[4,H(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,q(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function H(t){return U(t,(function(t){if(!t)throw m.create("installation-not-found");return G(t)}))}function G(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function W(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return u(this,void 0,void 0,(function(){var t,i,o,a,s;return c(this,(function(l){switch(l.label){case 0:return t=function(t,e){var n=e.fid;return b(t)+"/"+n+"/authTokens:generate"}(n,e),i=C(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.30"}})},[4,k((function(){return fetch(t,a)}))];case 1:return(s=l.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,y(l.sent())];case 3:return[4,w("Generate Auth Token",s)];case 4:throw l.sent()}}))}))}function K(t,e){return void 0===e&&(e=!1),u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return[4,U(t.appConfig,(function(r){if(!J(r))throw m.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return[4,$(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,I(100)];case 3:return i.sent(),[4,$(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,K(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw m.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return l(l({},t),{authToken:e})}(r);return n=function(t,e){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,W(t,e)];case 1:return n=o.sent(),i=l(l({},e),{authToken:n}),[4,F(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!v(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,V(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=l(l({},e),{authToken:{requestStatus:0}}),[4,F(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function $(t){return U(t,(function(t){if(!J(t))throw m.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?l(l({},t),{authToken:{requestStatus:0}}):t}))}function J(t){return void 0!==t&&2===t.registrationStatus}function Q(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,q(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function Y(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o;return c(this,(function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return b(t)+"/"+n}(t,e),r=C(t,e),i={method:"DELETE",headers:r},[4,k((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,w("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function X(t){return m.create("missing-app-config-values",{valueName:t})}(M=a.a).INTERNAL.registerComponent(new s.a("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw X("App Configuration");if(!t.name)throw X("App Name");try{for(var r=h(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw X(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return u(this,void 0,void 0,(function(){var e,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,q(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):K(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return[4,Q(t.appConfig)];case 1:return n.sent(),[4,K(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return u(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:return[4,U(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw m.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw m.create("app-offline");case 3:return[4,Y(e,n)];case 4:return r.sent(),[4,V(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){R();var n=x(t),r=A.get(n);r||(r=new Set,A.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=x(t),r=A.get(n);r&&(r.delete(e),0===r.size&&A.delete(n),D())}(n,e)}}(n,t)}}}),"PUBLIC")),M.registerVersion("@firebase/installations","0.4.30");var Z,tt=n("q/0M"),et="https://www.googletagmanager.com/gtag/js",nt=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),rt=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),it=new tt.b("@firebase/analytics");function ot(t,e,n,r,a,s){return i(this,void 0,void 0,(function(){var i,l,u,c;return o(this,(function(o){switch(o.label){case 0:i=r[a],o.label=1;case 1:return o.trys.push([1,7,,8]),i?[4,e[i]]:[3,3];case 2:return o.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=o.sent(),(u=l.find((function(t){return t.measurementId===a})))?[4,e[u.appId]]:[3,6];case 5:o.sent(),o.label=6;case 6:return[3,8];case 7:return c=o.sent(),it.error(c),[3,8];case 8:return t(nt.CONFIG,a,s),[2]}}))}))}function at(t,e,n,r,a){return i(this,void 0,void 0,(function(){var i,s,l,u,c,h,d;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),i=[],a&&a.send_to?(s=a.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(l=o.sent(),u=function(t){var n=l.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return i=[],"break";i.push(r)},c=0,h=s;c<h.length&&"break"!==u(h[c]);c++);o.label=2;case 2:return 0===i.length&&(i=Object.values(e)),[4,Promise.all(i)];case 3:return o.sent(),t(nt.EVENT,r,a||{}),[3,5];case 4:return d=o.sent(),it.error(d),[3,5];case 5:return[2]}}))}))}var st=((Z={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Z["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Z["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Z["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Z["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Z["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Z["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Z["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Z["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Z),lt=new f.b("analytics","Analytics",st),ut=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function ct(t){var e;return i(this,void 0,void 0,(function(){var n,r,i,a,s,l;return o(this,(function(o){switch(o.label){case 0:return n=t.appId,r={method:"GET",headers:(u=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":u}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(a=o.sent()).status||304===a.status)return[3,6];s="",o.label=2;case 2:return o.trys.push([2,4,,5]),[4,a.json()];case 3:return l=o.sent(),(null===(e=l.error)||void 0===e?void 0:e.message)&&(s=l.error.message),[3,5];case 4:return o.sent(),[3,5];case 5:throw lt.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}var u}))}))}function ht(t,e,n,r){var a=e.throttleEndTimeMillis,s=e.backoffCount;return void 0===r&&(r=ut),i(this,void 0,void 0,(function(){var e,i,l,u,c,h,d;return o(this,(function(o){switch(o.label){case 0:e=t.appId,i=t.measurementId,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,dt(n,a)];case 2:return o.sent(),[3,4];case 3:if(l=o.sent(),i)return it.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+i+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:e,measurementId:i}];throw l;case 4:return o.trys.push([4,6,,7]),[4,ct(t)];case 5:return u=o.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof f.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=o.sent())){if(r.deleteThrottleMetadata(e),i)return it.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+i+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:i}];throw c}return h=503===Number(c.customData.httpStatus)?Object(f.j)(s,r.intervalMillis,30):Object(f.j)(s,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:s+1},r.setThrottleMetadata(e,d),it.debug("Calling attemptFetch again in "+h+" millis"),[2,ht(t,d,n,r)];case 7:return[2]}}))}))}function dt(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(lt.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var ft,pt,gt=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),mt={},vt=[],bt={},yt="dataLayer",wt="gtag",_t=!1;function Ct(t){if(_t)throw lt.create("already-initialized");t.dataLayerName&&(yt=t.dataLayerName),t.gtagName&&(wt=t.gtagName)}function kt(){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:if(Object(f.u)())return[2,!1];if(!Object(f.e)())return[2,!1];if(!Object(f.y)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(f.Q)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new s.a("analytics",(function(t){return function(t,e){!function(){var t=[];if(Object(f.u)()&&t.push("This is a browser extension environment."),Object(f.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=lt.create("invalid-analytics-context",{errorInfo:e});it.warn(n.message)}}();var n,a,s=t.options.appId;if(!s)throw lt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw lt.create("no-api-key");it.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=mt[s])throw lt.create("already-exists",{id:s});if(!_t){n=yt,a=[],Array.isArray(window[n])?a=window[n]:window[n]=a;var l=function(t,e,n,r,a){var s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[a]&&"function"==typeof window[a]&&(s=window[a]),window[a]=function(t,e,n,r){return function(a,s,l){return i(this,void 0,void 0,(function(){var i;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,6,,7]),a!==nt.EVENT?[3,2]:[4,at(t,e,n,s,l)];case 1:return o.sent(),[3,5];case 2:return a!==nt.CONFIG?[3,4]:[4,ot(t,e,n,r,s,l)];case 3:return o.sent(),[3,5];case 4:t(nt.SET,s),o.label=5;case 5:return[3,7];case 6:return i=o.sent(),it.error(i),[3,7];case 7:return[2]}}))}))}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[a]}}(mt,vt,bt,yt,wt);pt=l.wrappedGtag,ft=l.gtagCore,_t=!0}return mt[s]=function(t,e,n,r,a,s){return i(this,void 0,void 0,(function(){var l,u,c,h,d,p,g;return o(this,(function(m){switch(m.label){case 0:return(l=function(t,e,n){return void 0===e&&(e=ut),i(this,void 0,void 0,(function(){var n,r,a,s,l,u,c=this;return o(this,(function(h){if(a=(n=t.options).apiKey,s=n.measurementId,!(r=n.appId))throw lt.create("no-app-id");if(!a){if(s)return[2,{measurementId:s,appId:r}];throw lt.create("no-api-key")}return l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new gt,setTimeout((function(){return i(c,void 0,void 0,(function(){return o(this,(function(t){return u.abort(),[2]}))}))}),6e4),[2,ht({appId:r,apiKey:a,measurementId:s},l,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&it.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return it.error(t)})),e.push(l),u=function(){return i(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return Object(f.y)()?[3,1]:(it.warn(lt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(f.Q)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),it.warn(lt.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([l,u])];case 1:return c=m.sent(),h=c[0],d=c[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(et))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=et+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(s,h.measurementId),a("js",new Date),(g={}).origin="firebase",g.update=!0,p=g,null!=d&&(p.firebase_id=d),a(nt.CONFIG,h.measurementId,p),[2,h.measurementId]}}))}))}(t,vt,bt,e,ft,yt),{app:t,logEvent:function(t,e,n){(function(t,e,n,a,s){return i(this,void 0,void 0,(function(){var i,l;return o(this,(function(o){switch(o.label){case 0:return s&&s.global?(t(nt.EVENT,n,a),[2]):[3,1];case 1:return[4,e];case 2:i=o.sent(),l=r(r({},a),{send_to:i}),t(nt.EVENT,n,l),o.label=3;case 3:return[2]}}))}))})(pt,mt[s],t,e,n).catch((function(t){return it.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return i(this,void 0,void 0,(function(){var i;return o(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(nt.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(nt.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(pt,mt[s],t,e).catch((function(t){return it.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return i(this,void 0,void 0,(function(){var i;return o(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(nt.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(nt.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(pt,mt[s],t,e).catch((function(t){return it.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return i(this,void 0,void 0,(function(){var i,a,s,l,u;return o(this,(function(o){switch(o.label){case 0:if(!r||!r.global)return[3,1];for(i={},a=0,s=Object.keys(n);a<s.length;a++)i["user_properties."+(l=s[a])]=n[l];return t(nt.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=o.sent(),t(nt.CONFIG,u,{update:!0,user_properties:n}),o.label=3;case 3:return[2]}}))}))})(pt,mt[s],t,e).catch((function(t){return it.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(mt[s],t).catch((function(t){return it.error(t)}))},INTERNAL:{delete:function(){return delete mt[s],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Ct,EventName:rt,isSupported:kt})),t.INTERNAL.registerComponent(new s.a("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(e){throw lt.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.15")}(a.a)},ALsQ:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("OLod"),r.mode.CFB=function(){var t=r.lib.BlockCipherMode.extend();function e(t,e,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var a=0;a<n;a++)t[e+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i,r),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);e.call(this,t,n,i,r),this._prevBlock=o}}),t}(),r.mode.CFB)},AOe3:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={colores:[{key:"Sin color",value:"Sin color"},{key:"Verde Militar",value:"Verde Militar"},{key:"Verde Palido",value:"Verde P\xe1lido"},{key:"Verde Discontinuo",value:"Verde Discontinuo"},{key:"Blanco",value:"Blanco"},{key:"Naranja",value:"Naranja"},{key:"Gris",value:"Gris"},{key:"Negro",value:"Negro"},{key:"Azul",value:"Azul"},{key:"Amarillo",value:"Amarillo"},{key:"Rojo",value:"Rojo"},{key:"Marron",value:"Marron"},{key:"Plata",value:"Plata"},{key:"Violeta",value:"Violeta"},{key:"Bronce",value:"Bronce"},{key:"Otro",value:"Otro"}],formas:[{key:"Ovalada",value:"Ovalada",forma:"cilindro"},{key:"Rectangular/Cubica",value:"Rectangular/Cubica",forma:"cubo"},{key:"Cilindrica",value:"Cil\xedndrica",forma:"cilindro"},{key:"De granada",value:"De granada",forma:"cilindro"},{key:"De proyectil",value:"De proyectil",forma:"cilindro"},{key:"Esferica",value:"Esf\xe9rica",forma:"esfera"},{key:"Otra",value:"Otra",forma:"cubo"}],fabricadoEn:[{key:"Antigua URSS",value:"Antigua URSS"},{key:"Afganist\xe1n",value:"Afganist\xe1n"},{key:"Albania",value:"Albania"},{key:"Alemania",value:"Alemania"},{key:"Andorra",value:"Andorra"},{key:"Angola",value:"Angola"},{key:"Antigua y Barbuda",value:"Antigua y Barbuda"},{key:"Arabia Saudita",value:"Saudita"},{key:"Argelia",value:"Argelia"},{key:"Argentina",value:"Argentina"},{key:"Armenia",value:"Armenia"},{key:"Australia",value:"Australia"},{key:"Austria",value:"Austria"},{key:"Azerbaiy\xe1n",value:"Azerbaiy\xe1n"},{key:"Bahamas",value:"Bahamas"},{key:"Banglad\xe9s",value:"Banglad\xe9s"},{key:"Barbados",value:"Barbados"},{key:"Bar\xe9in",value:"Bar\xe9in"},{key:"B\xe9lgica",value:"B\xe9lgica"},{key:"Belice",value:"Belice"},{key:"Ben\xedn",value:"Ben\xedn"},{key:"Bielorrusia",value:"Bielorrusia"},{key:"Birmania",value:"Birmania"},{key:"Bolivia",value:"Bolivia"},{key:"Bosnia y Herzegovina",value:"Bosnia y Herzegovina"},{key:"Botsuana",value:"Botsuana"},{key:"Brasil",value:"Brasil"},{key:"Brun\xe9i",value:"Brun\xe9i"},{key:"Bulgaria",value:"Bulgaria"},{key:"Burkina Faso",value:"Burkina Faso"},{key:"Burundi",value:"Burundi"},{key:"But\xe1n",value:"But\xe1n"},{key:"Cabo Verde",value:"Cabo Verde"},{key:"Camboya",value:"Camboya"},{key:"Camer\xfan",value:"Camer\xfan"},{key:"Canad\xe1",value:"Canad\xe1"},{key:"Catar",value:"Catar"},{key:"Chad",value:"Chad"},{key:"Chile",value:"Chile"},{key:"China",value:"China"},{key:"Chipre",value:"Chipre"},{key:"Ciudad del Vaticano",value:"Ciudad del Vaticano"},{key:"Colombia",value:"Colombia"},{key:"Comoras",value:"Comoras"},{key:"Corea del Norte",value:"Corea del Norte"},{key:"Corea del Sur",value:"Corea del Sur"},{key:"Costa de Marfil",value:"Costa de Marfil"},{key:"Costa Rica",value:"Costa Rica"},{key:"Croacia",value:"Croacia"},{key:"Cuba",value:"Cuba"},{key:"Dinamarca",value:"Dinamarca"},{key:"Dominica",value:"Dominica"},{key:"Ecuador",value:"Ecuador"},{key:"Egipto",value:"Egipto"},{key:"El Salvador",value:"El Salvador"},{key:"Emiratos \xc1rabes Unidos",value:"Emiratos \xc1rabes Unidos"},{key:"Eritrea",value:"Eritrea"},{key:"Eslovaquia",value:"Eslovaquia"},{key:"Eslovenia",value:"Eslovenia"},{key:"Espa\xf1a",value:"Espa\xf1a"},{key:"Estados Unidos",value:"Estados Unidos"},{key:"Estonia",value:"Estonia"},{key:"Etiop\xeda",value:"Etiop\xeda"},{key:"Filipinas",value:"Filipinas"},{key:"Finlandia",value:"Finlandia"},{key:"Fiyi",value:"Fiyi"},{key:"Francia",value:"Francia"},{key:"Gab\xf3n",value:"Gab\xf3n"},{key:"Gambia",value:"Gambia"},{key:"Georgia",value:"Georgia"},{key:"Ghana",value:"Ghana"},{key:"Granada",value:"Granada"},{key:"Grecia",value:"Grecia"},{key:"Guatemala",value:"Guatemala"},{key:"Guyana",value:"Guyana"},{key:"Guinea",value:"Guinea"},{key:"Guinea ecuatorial",value:"Guinea ecuatorial"},{key:"Guinea-Bis\xe1u",value:"Guinea-Bis\xe1u"},{key:"Hait\xed",value:"Hait\xed"},{key:"Honduras",value:"Honduras"},{key:"Hungr\xeda",value:"Hungr\xeda"},{key:"India",value:"India"},{key:"Indonesia",value:"Indonesia"},{key:"Irak",value:"Irak"},{key:"Ir\xe1n",value:"Ir\xe1n"},{key:"Irlanda",value:"Irlanda"},{key:"Islandia",value:"Islandia"},{key:"Islas Marshall",value:"Islas Marshall"},{key:"Islas Salom\xf3n",value:"Islas Salom\xf3n"},{key:"Israel",value:"Israel"},{key:"Italia",value:"Italia"},{key:"Jamaica",value:"Jamaica"},{key:"Jap\xf3n",value:"Jap\xf3n"},{key:"Jordania",value:"Jordania"},{key:"Kazajist\xe1n",value:"Kazajist\xe1n"},{key:"Kenia",value:"Kenia"},{key:"Kirguist\xe1n",value:"Kirguist\xe1n"},{key:"Kiribati",value:"Kiribati"},{key:"Kuwait",value:"Kuwait"},{key:"Laos",value:"Laos"},{key:"Lesoto",value:"Lesoto"},{key:"Letonia",value:"Letonia"},{key:"L\xedbano",value:"L\xedbano"},{key:"Liberia",value:"Liberia"},{key:"Libia",value:"Libia"},{key:"Liechtenstein",value:"Liechtenstein"},{key:"Lituania",value:"Lituania"},{key:"Luxemburgo",value:"Luxemburgo"},{key:"Macedonia del Norte",value:"Macedonia del Norte"},{key:"Madagascar",value:"Madagascar"},{key:"Malasia",value:"Malasia"},{key:"Malaui",value:"Malaui"},{key:"Maldivas",value:"Maldivas"},{key:"Mal\xed",value:"Mal\xed"},{key:"Malta",value:"Malta"},{key:"Marruecos",value:"Marruecos"},{key:"Mauricio",value:"Mauricio"},{key:"Mauritania",value:"Mauritania"},{key:"M\xe9xico",value:"M\xe9xico"},{key:"Micronesia",value:"Micronesia"},{key:"Moldavia",value:"Moldavia"},{key:"M\xf3naco",value:"M\xf3naco"},{key:"Mongolia",value:"Mongolia"},{key:"Montenegro",value:"Montenegro"},{key:"Mozambique",value:"Mozambique"},{key:"Namibia",value:"Namibia"},{key:"Nauru",value:"Namibia"},{key:"Nepal",value:"Nepal"},{key:"Nicaragua",value:"Nicaragua"},{key:"N\xedger",value:"N\xedger"},{key:"Nigeria",value:"Nigeria"},{key:"Noruega",value:"Noruega"},{key:"Nueva Zelanda",value:"Nueva Zelanda"},{key:"Om\xe1n",value:"Om\xe1n"},{key:"Pa\xedses Bajos",value:"Pa\xedses Bajos"},{key:"Pakist\xe1n",value:"Pakist\xe1n"},{key:"Palaos",value:"Palaos"},{key:"Panam\xe1",value:"Panam\xe1"},{key:"Pap\xfaa Nueva Guinea",value:"Pap\xfaa Nueva Guinea"},{key:"Paraguay",value:"Paraguay"},{key:"Per\xfa",value:"Per\xfa"},{key:"Polonia",value:"Polonia"},{key:"Portugal",value:"Portugal"},{key:"Reino Unido",value:"Reino"},{key:"Rep\xfablica Centroafricana",value:"Rep\xfablica Centroafricana"},{key:"Rep\xfablica Checa",value:"Rep\xfablica Checa"},{key:"Rep\xfablica del Congo",value:"Rep\xfablica del Congo"},{key:"Rep\xfablica Democr\xe1tica del Congo",value:"Rep\xfablica Democr\xe1tica del Congo"},{key:"Rep\xfablica Dominicana",value:"Rep\xfablica Dominicana"},{key:"Ruanda",value:"Ruanda"},{key:"Ruman\xeda",value:"Ruman\xeda"},{key:"Rusia",value:"Rusia"},{key:"Samoa",value:"Samoa"},{key:"San Crist\xf3bal y Nieves",value:"San Crist\xf3bal y Nieves"},{key:"San Marino",value:"San Marino"},{key:"San Vicente y las Granadinas",value:"San Vicente y las Granadinas"},{key:"Santa Luc\xeda",value:"Santa Luc\xeda"},{key:"Santo Tom\xe9 y Pr\xedncipe",value:"Santo Tom\xe9 y Pr\xedncipe"},{key:"Senegal",value:"Senegal"},{key:"Serbia",value:"Serbia"},{key:"Seychelles",value:"Seychelles"},{key:"Sierra Leona",value:"Sierra Leona"},{key:"Singapur",value:"Singapur"},{key:"Siria",value:"Siria"},{key:"Somalia",value:"Somalia"},{key:"Sri Lanka",value:"Sri Lanka"},{key:"Suazilandia",value:"Suazilandia"},{key:"Sud\xe1frica",value:"Sud\xe1frica"},{key:"Sud\xe1n",value:"Sud\xe1n"},{key:"Sud\xe1n del Sur",value:"Sud\xe1n del Sur"},{key:"Suecia",value:"Suecia"},{key:"Suiza",value:"Suiza"},{key:"Surinam",value:"Surinam"},{key:"Tailandia",value:"Tailandia"},{key:"Tanzania",value:"Tanzania"},{key:"Tayikist\xe1n",value:"Tayikist\xe1n"},{key:"Timor Oriental",value:"Timor Oriental"},{key:"Togo",value:"Togo"},{key:"Tonga",value:"Tonga"},{key:"Trinidad y Tobago",value:"Trinidad y Tobago"},{key:"T\xfanez",value:"T\xfanez"},{key:"Turkmenist\xe1n",value:"Turkmenist\xe1n"},{key:"Turqu\xeda",value:"Turqu\xeda"},{key:"Tuvalu",value:"Tuvalu"},{key:"Ucrania",value:"Ucrania"},{key:"Uganda",value:"Uganda"},{key:"Uruguay",value:"Uruguay"},{key:"Uzbekist\xe1n",value:"Uzbekist\xe1n"},{key:"Vanuatu",value:"Vanuatu"},{key:"Venezuela",value:"Venezuela"},{key:"Vietnam",value:"Vietnam"},{key:"Yemen",value:"Yemen"},{key:"Yibuti",value:"Yibuti"},{key:"Zambia",value:"Zambia"},{key:"Zimbabue",value:"Zimbabue"}],tipoArtefacto:[{key:"artefactos",value:"Artefacto"},{key:"minas",value:"Mina"},{key:"municiones",value:"Munici\xf3n"},{key:"proyectiles",value:"Proyectil"},{key:"cohetes",value:"Cohete"},{key:"misiles",value:"Misil"},{key:"bombasAviacion",value:"Bomba"},{key:"granadas",value:"Granada"},{key:"espoletas",value:"Espoleta"}],propositoArtefacto:{minas:[{key:"Contra Personal",value:"Contra Personal"},{key:"Contra Carro",value:"Contra Carro"},{key:"Dispersable",value:"Dispersable"},{key:"Marina",value:"Marina"},{key:"Otros",value:"Otros"}],municiones:[{key:"Rompedor",value:"Rompedor"},{key:"Iluminante",value:"Iluminante"},{key:"Incendiario",value:"Incendiario"},{key:"Fumigeno",value:"Fumigeno"},{key:"Perforante",value:"Perforante"},{key:"Dispersable",value:"Dispersable"},{key:"Otro",value:"Otro"}],espoletas:[{key:"Percusion Instantanea",value:"Percusion Instantanea"},{key:"Retardo",value:"Retardo"},{key:"A tiempos",value:"A tiempos"},{key:"De proximidad",value:"De proximidad"},{key:"Otro",value:"Otro"}]},sistemaIniciacion:[{key:"Mecanico",value:"Mec\xe1nico"},{key:"Qu\xedmico",value:"Qu\xedmico"},{key:"Fricci\xf3n",value:"Fricci\xf3n"},{key:"Electronico",value:"Electr\xf3nico"},{key:"Otro",value:"Otro"}],materialEnvuelta:[{key:"Metal",value:"Metal"},{key:"Baquelita",value:"Baquelita"},{key:"Plastico",value:"Pl\xe1stico"},{key:"Madera",value:"Madera"},{key:"Cart\xf3n",value:"Cart\xf3n"},{key:"Otro",value:"Otro"}],situacionEspoleta:[{key:"arriba",value:"Arriba"},{key:"debajo",value:"Debajo"},{key:"Lateral",value:"Lateral"},{key:"Interna",value:"Interna"},{key:"Otro",value:"Otro"}],tipoCulote:[{key:"cilindro",value:"Cilindro base plana"},{key:"tronco conico",value:"Tronco c\xf3nico"},{key:"Hueco",value:"Hueco"},{key:"BaseBleed",value:"BaseBleed"},{key:"Con Motor",value:"Con Motor"},{key:"Otro",value:"Otro"}],sistemaGuia:[{key:"IrTermica",value:"IR-T\xe9rmica"},{key:"radar",value:"Radar"},{key:"Laser",value:"L\xe1ser"},{key:"Otro",value:"Otro"}],mediosLanzamiento:[{key:"mortero",value:"Mortero"},{key:"Lanza Granadas",value:"Lanza Granadas"},{key:"Fusil",value:"Fusil"},{key:"Mano",value:"Mano"},{key:"Otro",value:"Otro"}],tipoUsuario:[["1","ROLE_USER"],["2","ROLE_ADMIN"]]}},AiNZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("8Y7J"),i=n("xOdc"),o=n("sBFL"),a=n("iInd");let s=(()=>{class t{constructor(t,e,n){this.tokenService=t,this.loginService=e,this.router=n}canActivate(t,e){return!(!this.tokenService.getToken()||!this.loginService.getIsLoggedFlagObs)||(this.router.navigate(["/"]),!1)}}return t.ngInjectableDef=r.Nb({factory:function(){return new t(r.Ob(i.a),r.Ob(o.a),r.Ob(a.k))},token:t,providedIn:"root"}),t})()},AytR:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={production:!0,title:"Tizona del C.I.D.",urlAPI:"https://tizona-del-cid.herokuapp.com/api",urlBack:"https://tizona-del-cid.herokuapp.com",apiKey:"AIzaSyBkpp_m06uIxVoi4EnBa_3JNH4Kinb8_Uk",authDomain:"tizona-164cc.firebaseapp.com",projectId:"tizona-164cc",storageBucket:"tizona-164cc.appspot.com",messagingSenderId:"66375562516",appId:"1:66375562516:web:62e3aa1719753fa1d47e01",databaseURL:"https://tizona-164cc-default-rtdb.europe-west1.firebasedatabase.app",claveEncriptado:"pkSG58SsdGDsa32"}},BA2f:function(t,e,n){"use strict";var r=n("8Y7J"),i=n("SVse"),o=n("iInd");class a{constructor(t,e){this.fichaService=t,this.login=e,this.emisorFicha=new r.m}ngOnInit(){this.fichaService.getFicha(Number(this.fichavip.artefactoId)).subscribe(t=>{t.id=this.fichaService.getIdFicha(t),this.artefacto=t}),this.login.getIsLoggedFlagObs().subscribe(t=>{this.isLoggedUser=t}),this.login.getIsAdminFlagObs().subscribe(t=>{this.isLoggedAdmin=t})}eliminarFichaVIP(){this.emisorFicha.emit(this.fichavip.id),console.log("emitiendo "+this.fichavip.id)}}var s=n("z58d"),l=n("sBFL"),u=r.nb({encapsulation:0,styles:[[".documento[_ngcontent-%COMP%]{background-color:#fff;padding:5px;box-shadow:6px 15px 10px gray;border:1px solid #000}.btn[_ngcontent-%COMP%]{font-size:small;font-weight:700}"]],data:{}});function c(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-danger float-end"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.eliminarFichaVIP()&&r),r}),null,null)),(t()(),r.Hb(-1,null,[" ELIMINAR DE DESTACADAS "]))],null,null)}function h(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,23,"div",[["class","documento row fluid m-1"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"div",[["class","col-6 d-sm-none"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["ARTEFACTO"])),(t()(),r.pb(4,0,null,null,2,"div",[["class","col-6 d-sm-none"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["ZO"])),(t()(),r.pb(7,0,null,null,1,"div",[["class","col-6 col-sm-2"]],null,null,null,null,null)),(t()(),r.Hb(8,null,["",""])),(t()(),r.pb(9,0,null,null,1,"div",[["class","col-6  col-sm-2"]],null,null,null,null,null)),(t()(),r.Hb(10,null,["",""])),(t()(),r.pb(11,0,null,null,2,"div",[["class","col-12 d-sm-none"]],null,null,null,null,null)),(t()(),r.pb(12,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["COMENTARIO"])),(t()(),r.pb(14,0,null,null,1,"div",[["class","col-12  col-sm-3"]],null,null,null,null,null)),(t()(),r.Hb(15,null,["",""])),(t()(),r.pb(16,0,null,null,2,"div",[["class","col-7 col-sm-3"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,c)),r.ob(18,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(19,0,null,null,4,"div",[["class","col-5 col-sm-2"]],null,null,null,null,null)),(t()(),r.pb(20,0,null,null,3,"a",[["class","btn btn-success"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Bb(t,21).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ob(21,671744,null,0,o.m,[o.k,o.a,i.h],{routerLink:[0,"routerLink"]},null),r.Cb(22,4),(t()(),r.Hb(-1,null,["VER FICHA"]))],(function(t,e){var n=e.component;t(e,18,0,n.isLoggedAdmin);var r=t(e,22,0,"/","ficha","ficha-completa",n.artefacto.id);t(e,21,0,r)}),(function(t,e){var n=e.component;t(e,8,0,n.artefacto.nombre),t(e,10,0,n.fichavip.zonaOperaciones),t(e,15,0,n.fichavip.comentario),t(e,20,0,r.Bb(e,21).target,r.Bb(e,21).href)}))}function d(t){return r.Jb(0,[(t()(),r.eb(16777216,null,null,1,null,h)),r.ob(1,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.artefacto)}),null)}var f=n("3mVj"),p=n("cPMN");n.d(e,"a",(function(){return w}));var g=r.nb({encapsulation:2,styles:[],data:{}});function m(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"app-fichavip",[],null,[[null,"emisorFicha"]],(function(t,e,n){var r=!0;return"emisorFicha"===e&&(r=!1!==t.component.eliminarFichaVIP(n)&&r),r}),d,u)),r.ob(2,114688,null,0,a,[s.a,l.a],{fichavip:[0,"fichavip"]},{emisorFicha:"emisorFicha"})],(function(t,e){t(e,2,0,e.context.$implicit)}),null)}function v(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,m)),r.ob(2,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.fichasVIP)}),null)}function b(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,18,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Fichas destacadas"])),(t()(),r.pb(4,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["En esta secci\xf3n se muestran las fichas destacadas por su novedad o inter\xe9s t\xe9cnico."])),(t()(),r.pb(6,0,null,null,10,"div",[["class","row m-1"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,2,"span",[["class","col-2 d-none d-md-block"]],null,null,null,null,null)),(t()(),r.pb(8,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["ARTEFACTO"])),(t()(),r.pb(10,0,null,null,2,"span",[["class","col-2 d-none d-md-block"]],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["ZONA OPERACIONES"])),(t()(),r.pb(13,0,null,null,2,"span",[["class","col-2 d-none d-md-block"]],null,null,null,null,null)),(t()(),r.pb(14,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["COMENTARIO"])),(t()(),r.pb(16,0,null,null,0,"span",[["class","col"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,v)),r.ob(18,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,18,0,e.component.fichasVIP)}),null)}function y(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-fichasvip",[],null,null,null,b,g)),r.ob(1,114688,null,0,f.a,[p.a],null,null)],(function(t,e){t(e,1,0)}),null)}var w=r.lb("app-fichasvip",f.a,y,{},{},[])},Bcau:function(t,e,n){"use strict";var r=n("8Y7J"),i=n("s7LF"),o=n("zVCn"),a=n("ej4/"),s=n("z58d"),l=n("HTik"),u=n("SVse"),c=n("fNgX"),h=n("Nv++"),d=n("cUpR"),f=n("WMih");n.d(e,"a",(function(){return A}));var p=r.nb({encapsulation:0,styles:[[".btn[_ngcontent-%COMP%]{position:fixed;bottom:5%;right:10%;width:80%;box-shadow:6px 15px 10px gray;border:1px solid #000}"]],data:{}});function g(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,3,0,e.context.$implicit.value)}))}function m(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,3,0,e.context.$implicit.value)}))}function v(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,3,0,e.context.$implicit.value)}))}function b(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,3,0,e.context.$implicit.value)}))}function y(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,3,0,e.context.$implicit.value)}))}function w(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,3,0,e.context.$implicit.value)}))}function _(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,3,0,e.context.$implicit.value)}))}function C(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,3,0,e.context.$implicit.value)}))}function k(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,3,0,e.context.$implicit.value)}))}function E(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,3,0,e.context.$implicit.value)}))}function I(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)}),(function(t,e){t(e,3,0,e.context.$implicit.value)}))}function S(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-listadofichas",[],null,null,null,o.c,o.b)),r.ob(1,114688,null,0,a.a,[s.a,l.a],null,null)],(function(t,e){t(e,1,0)}),null)}function T(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,431,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Buscador de Artefactos"])),(t()(),r.pb(3,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["En esta secci\xf3n puede realizarse una b\xfasqueda de minas y municiones con filtros."])),(t()(),r.pb(5,0,null,null,424,"div",[["class","row fluid"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,423,"div",[["class","my-4"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,200,"div",[["class","shadow p-3 mb-5 bg-secondary bg-gradient rounded"]],null,null,null,null,null)),(t()(),r.pb(8,0,null,null,1,"h4",[["class","text-center rounded-pill bg-light mb-4 p-2"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,[" Par\xe1metros Comunes "])),(t()(),r.pb(10,0,null,null,82,"div",[["class","shadow p-3 mb-5 bg-body rounded"]],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Par\xe1metros generales"])),(t()(),r.pb(13,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(14,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Tipo"])),(t()(),r.pb(17,0,null,null,11,"select",[["class","custom-select col"],["name","tipoArtefacto"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,18).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,18).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.tipoArtefacto=n)&&i),i}),null,null)),r.ob(18,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(20,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(22,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,g)),r.ob(24,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(25,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(26,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(27,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(t()(),r.pb(29,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(30,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(31,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Color"])),(t()(),r.pb(33,0,null,null,11,"select",[["class","custom-select col"],["name","color"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,34).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,34).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.color=n)&&i),i}),null,null)),r.ob(34,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(36,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(38,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,m)),r.ob(40,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(41,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(42,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(43,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(t()(),r.pb(45,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(46,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(47,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Fabricaci\xf3n"])),(t()(),r.pb(49,0,null,null,11,"select",[["class","custom-select col"],["name","fabricacion"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,50).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,50).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.fabricacion=n)&&i),i}),null,null)),r.ob(50,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(52,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(54,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,v)),r.ob(56,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(57,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(58,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(59,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(t()(),r.pb(61,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(62,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(63,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Proposito"])),(t()(),r.pb(65,0,null,null,11,"select",[["class","custom-select col"],["name","propositoArtefacto"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,66).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,66).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.propositoArtefacto=n)&&i),i}),null,null)),r.ob(66,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(68,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(70,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,b)),r.ob(72,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(73,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(74,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(75,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(t()(),r.pb(77,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(78,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(79,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Forma"])),(t()(),r.pb(81,0,null,null,11,"select",[["class","custom-select col"],["name","forma"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,82).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,82).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.forma=n)&&i),i}),null,null)),r.ob(82,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(84,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(86,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,y)),r.ob(88,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(89,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(90,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(91,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(t()(),r.pb(93,0,null,null,114,"div",[["class","shadow p-3 mb-5 bg-body rounded"]],null,null,null,null,null)),(t()(),r.pb(94,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Dimensiones"])),(t()(),r.pb(96,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(97,0,null,null,2,"div",[["class","input-group-prepend col"]],null,null,null,null,null)),(t()(),r.pb(98,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Calibre/Diametro en mm"])),(t()(),r.pb(100,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(101,0,null,null,22,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(102,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(t()(),r.pb(103,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(t()(),r.pb(104,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(105,573440,null,0,h.c,[d.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(t()(),r.pb(106,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","diametroCalibreMin"],["placeholder","min"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,107)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,107).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,107)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,107)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,108).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,108).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,108).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.diametroCalibreMin=n)&&i),i}),null,null)),r.ob(107,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(108,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(110,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(112,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(113,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(t()(),r.pb(114,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(t()(),r.pb(115,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(116,573440,null,0,h.c,[d.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(t()(),r.pb(117,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","diametroCalibreMax"],["placeholder","max"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,118)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,118).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,118)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,118)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,119).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,119).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,119).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.diametroCalibreMax=n)&&i),i}),null,null)),r.ob(118,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(119,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(121,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(123,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(124,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(125,0,null,null,2,"div",[["class","input-group-prepend col"]],null,null,null,null,null)),(t()(),r.pb(126,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Longitud en mm"])),(t()(),r.pb(128,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(129,0,null,null,22,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(130,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(t()(),r.pb(131,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(t()(),r.pb(132,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(133,573440,null,0,h.c,[d.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(t()(),r.pb(134,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","longitudMin"],["placeholder","min"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,135)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,135).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,135)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,135)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,136).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,136).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,136).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.longitudMin=n)&&i),i}),null,null)),r.ob(135,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(136,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(138,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(140,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(141,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(t()(),r.pb(142,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(t()(),r.pb(143,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(144,573440,null,0,h.c,[d.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(t()(),r.pb(145,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","longitudMax"],["placeholder","max"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,146)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,146).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,146)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,146)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,147).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,147).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,147).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.longitudMax=n)&&i),i}),null,null)),r.ob(146,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(147,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(149,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(151,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(152,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(153,0,null,null,2,"div",[["class","input-group-prepend col"]],null,null,null,null,null)),(t()(),r.pb(154,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Altura en mm"])),(t()(),r.pb(156,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(157,0,null,null,22,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(158,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(t()(),r.pb(159,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(t()(),r.pb(160,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(161,573440,null,0,h.c,[d.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(t()(),r.pb(162,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","alturaMin"],["placeholder","min"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,163)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,163).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,163)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,163)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,164).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,164).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,164).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.alturaMin=n)&&i),i}),null,null)),r.ob(163,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(164,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(166,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(168,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(169,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(t()(),r.pb(170,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(t()(),r.pb(171,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(172,573440,null,0,h.c,[d.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(t()(),r.pb(173,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","alturaMax"],["placeholder","max"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,174)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,174).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,174)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,174)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,175).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,175).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,175).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.alturaMax=n)&&i),i}),null,null)),r.ob(174,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(175,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(177,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(179,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(180,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(181,0,null,null,2,"div",[["class","input-group-prepend col"]],null,null,null,null,null)),(t()(),r.pb(182,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Fondo en mm"])),(t()(),r.pb(184,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(185,0,null,null,22,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(186,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(t()(),r.pb(187,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(t()(),r.pb(188,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(189,573440,null,0,h.c,[d.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(t()(),r.pb(190,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","fondoMin"],["placeholder","min"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,191)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,191).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,191)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,191)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,192).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,192).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,192).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.fondoMin=n)&&i),i}),null,null)),r.ob(191,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(192,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(194,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(196,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(197,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(t()(),r.pb(198,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(t()(),r.pb(199,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(200,573440,null,0,h.c,[d.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(t()(),r.pb(201,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","fondoMax"],["placeholder","max"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,202)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,202).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,202)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,202)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,203).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,203).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,203).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.fondoMax=n)&&i),i}),null,null)),r.ob(202,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(203,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(205,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(207,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(208,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(209,0,null,null,217,"div",[["class","shadow p-3 mb-5 bg-secondary bg-gradient rounded"]],null,null,null,null,null)),(t()(),r.pb(210,0,null,null,37,"div",[],null,null,null,null,null)),(t()(),r.pb(211,0,null,null,1,"h4",[["class","text-center rounded-pill bg-light mb-4 p-2"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,[" Criterios espec\xedficos "])),(t()(),r.pb(213,0,null,null,34,"div",[["class","shadow p-3 mb-5 bg-body rounded"]],null,null,null,null,null)),(t()(),r.pb(214,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["De minas"])),(t()(),r.pb(216,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(217,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(218,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Material de la envuelta "])),(t()(),r.pb(220,0,null,null,11,"select",[["class","custom-select col"],["name","forma"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,221).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,221).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.materialEnvuelta=n)&&i),i}),null,null)),r.ob(221,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(223,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(225,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,w)),r.ob(227,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(228,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(229,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(230,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(t()(),r.pb(232,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(233,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(234,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Situacion de la espoleta "])),(t()(),r.pb(236,0,null,null,11,"select",[["class","custom-select col"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,237).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,237).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.situacionEspoleta=n)&&i),i}),null,null)),r.ob(237,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(239,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{model:[0,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(241,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,_)),r.ob(243,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(244,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(245,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(246,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(t()(),r.pb(248,0,null,null,159,"div",[["class","shadow p-3 mb-5 bg-body rounded"]],null,null,null,null,null)),(t()(),r.pb(249,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["De municiones"])),(t()(),r.pb(251,0,null,null,31,"div",[["class","border p-2"]],null,null,null,null,null)),(t()(),r.pb(252,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["De munici\xf3n"])),(t()(),r.pb(254,0,null,null,28,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(255,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(256,0,null,null,2,"div",[["class","input-group-prepend col"]],null,null,null,null,null)),(t()(),r.pb(257,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Longitud con espoleta en mm"])),(t()(),r.pb(259,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(260,0,null,null,22,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(261,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(t()(),r.pb(262,0,null,null,2,"label",[["class","\n                          col\n                          d-flex\n                          justify-content-end\n                          align-items-center\n                        "]],null,null,null,null,null)),(t()(),r.pb(263,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(264,573440,null,0,h.c,[d.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(t()(),r.pb(265,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","longitudEspoletadoMin"],["placeholder","min"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,266)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,266).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,266)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,266)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,267).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,267).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,267).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.longitudEspoletadoMin=n)&&i),i}),null,null)),r.ob(266,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(267,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(269,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(271,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(272,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(t()(),r.pb(273,0,null,null,2,"label",[["class","\n                          col\n                          d-flex\n                          justify-content-end\n                          align-items-center\n                        "]],null,null,null,null,null)),(t()(),r.pb(274,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(275,573440,null,0,h.c,[d.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(t()(),r.pb(276,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","longitudEspoletadoMax"],["placeholder","max"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,277)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,277).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,277)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,277)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,278).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,278).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,278).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.longitudEspoletadoMax=n)&&i),i}),null,null)),r.ob(277,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(278,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(280,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(282,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(283,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(284,0,null,null,19,"div",[],null,null,null,null,null)),(t()(),r.pb(285,0,null,null,18,"div",[["class","border p-2"]],null,null,null,null,null)),(t()(),r.pb(286,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["De Cohetes"])),(t()(),r.pb(288,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(289,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(290,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Color de la banda de motor "])),(t()(),r.pb(292,0,null,null,11,"select",[["class","custom-select col"],["name","colorBandaMotor"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,293).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,293).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.colorBandaMotor=n)&&i),i}),null,null)),r.ob(293,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(295,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(297,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,C)),r.ob(299,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(300,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(301,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(302,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(t()(),r.pb(304,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(305,0,null,null,19,"div",[],null,null,null,null,null)),(t()(),r.pb(306,0,null,null,18,"div",[["class","border p-2"]],null,null,null,null,null)),(t()(),r.pb(307,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["De Misiles"])),(t()(),r.pb(309,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(310,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(311,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Sistema de guia "])),(t()(),r.pb(313,0,null,null,11,"select",[["class","custom-select col"],["name","sistemaGuia"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,314).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,314).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.sistemaGuia=n)&&i),i}),null,null)),r.ob(314,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(316,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(318,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,k)),r.ob(320,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(321,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(322,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(323,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(t()(),r.pb(325,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(326,0,null,null,19,"div",[],null,null,null,null,null)),(t()(),r.pb(327,0,null,null,18,"div",[["class","border p-2"]],null,null,null,null,null)),(t()(),r.pb(328,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["De granadas"])),(t()(),r.pb(330,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(331,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(332,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Medio de lanzamiento "])),(t()(),r.pb(334,0,null,null,11,"select",[["class","custom-select col"],["name","medio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,335).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,335).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.medioLanzamiento=n)&&i),i}),null,null)),r.ob(335,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(337,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(339,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,E)),r.ob(341,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(342,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(343,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(344,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(t()(),r.pb(346,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(347,0,null,null,60,"div",[["class","border p-2"]],null,null,null,null,null)),(t()(),r.pb(348,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["De Bombas de Aviaci\xf3n"])),(t()(),r.pb(350,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(351,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(352,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Pintura de proteccion t\xe9rmica "])),(t()(),r.pb(354,0,null,null,5,"input",[["class","m-2"],["name","pinturaProteccionTermica"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,355).onChange(n.target.checked)&&i),"blur"===e&&(i=!1!==r.Bb(t,355).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.pinturaProteccionTermica=n)&&i),i}),null,null)),r.ob(355,16384,null,0,i.b,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.b]),r.ob(357,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(359,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(360,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(361,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(362,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Venterol en el estabilizador "])),(t()(),r.pb(364,0,null,null,5,"input",[["class","m-2"],["name","venterolEnEstabilizador"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,365).onChange(n.target.checked)&&i),"blur"===e&&(i=!1!==r.Bb(t,365).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.venterolEnEstabilizador=n)&&i),i}),null,null)),r.ob(365,16384,null,0,i.b,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.b]),r.ob(367,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(369,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(370,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(371,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(372,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Tipo de estabilizador"])),(t()(),r.pb(374,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),r.pb(375,0,null,null,5,"input",[["class","form-control"],["name","tipoEstabilizador"],["placeholder","estabilizador"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,376)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,376).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,376)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,376)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.tipoEstabilizador=n)&&i),i}),null,null)),r.ob(376,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.d]),r.ob(378,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(380,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(381,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(382,0,null,null,2,"div",[["class","input-group-prepend col"]],null,null,null,null,null)),(t()(),r.pb(383,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Distancia entre anillas en mm"])),(t()(),r.pb(385,0,null,null,22,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(386,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(t()(),r.pb(387,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(t()(),r.pb(388,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(389,573440,null,0,h.c,[d.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(t()(),r.pb(390,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","distanciaAnillasMin"],["placeholder","min"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,391)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,391).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,391)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,391)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,392).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,392).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,392).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.distanciaAnillasMin=n)&&i),i}),null,null)),r.ob(391,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(392,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(394,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(396,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(397,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(t()(),r.pb(398,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(t()(),r.pb(399,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(400,573440,null,0,h.c,[d.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(t()(),r.pb(401,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","distanciaAnillasMax"],["placeholder","max"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,402)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,402).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,402)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,402)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r.Bb(t,403).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r.Bb(t,403).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,403).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.distanciaAnillasMax=n)&&i),i}),null,null)),r.ob(402,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(403,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t,e){return[t,e]}),[i.d,i.r]),r.ob(405,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(407,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(408,0,null,null,18,"div",[["class","shadow p-3 mb-5 bg-body rounded"]],null,null,null,null,null)),(t()(),r.pb(409,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["De Espoletas"])),(t()(),r.pb(411,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.pb(412,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.pb(413,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Sistema de iniciacion "])),(t()(),r.pb(415,0,null,null,11,"select",[["class","custom-select col"],["name","sistemaIniciacion"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,416).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,416).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.searchCriteria.sistemaIniciacion=n)&&i),i}),null,null)),r.ob(416,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(418,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(420,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,I)),r.ob(422,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(423,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(424,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(425,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(t()(),r.pb(427,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(428,0,null,null,1,"div",[["class","d-flex justify-content-center"],["style","position:static;"]],null,null,null,null,null)),(t()(),r.pb(429,0,null,null,0,"input",[["class","btn btn-success"],["type","submit"],["value","BUSCAR"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.buscar()&&r),r}),null,null)),(t()(),r.eb(16777216,null,null,1,null,S)),r.ob(431,16384,null,0,u.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,20,0,"tipoArtefacto",n.searchCriteria.tipoArtefacto),t(e,24,0,n.tipoArtefactos),t(e,26,0,""),t(e,27,0,""),t(e,36,0,"color",n.searchCriteria.color),t(e,40,0,n.colores),t(e,42,0,""),t(e,43,0,""),t(e,52,0,"fabricacion",n.searchCriteria.fabricacion),t(e,56,0,n.fabricacion),t(e,58,0,""),t(e,59,0,""),t(e,68,0,"propositoArtefacto",n.searchCriteria.propositoArtefacto),t(e,72,0,n.propositoArtefacto),t(e,74,0,""),t(e,75,0,""),t(e,84,0,"forma",n.searchCriteria.forma),t(e,88,0,n.formas),t(e,90,0,""),t(e,91,0,""),t(e,105,0,n.topMin),t(e,110,0,"diametroCalibreMin",n.searchCriteria.diametroCalibreMin),t(e,116,0,n.topMax),t(e,121,0,"diametroCalibreMax",n.searchCriteria.diametroCalibreMax),t(e,133,0,n.topMin),t(e,138,0,"longitudMin",n.searchCriteria.longitudMin),t(e,144,0,n.topMax),t(e,149,0,"longitudMax",n.searchCriteria.longitudMax),t(e,161,0,n.topMin),t(e,166,0,"alturaMin",n.searchCriteria.alturaMin),t(e,172,0,n.topMax),t(e,177,0,"alturaMax",n.searchCriteria.alturaMax),t(e,189,0,n.topMin),t(e,194,0,"fondoMin",n.searchCriteria.fondoMin),t(e,200,0,n.topMax),t(e,205,0,"fondoMax",n.searchCriteria.fondoMax),t(e,223,0,"forma",n.searchCriteria.materialEnvuelta),t(e,227,0,n.materialEnvuelta),t(e,229,0,""),t(e,230,0,""),t(e,239,0,n.searchCriteria.situacionEspoleta),t(e,243,0,n.situacionEspoleta),t(e,245,0,""),t(e,246,0,""),t(e,264,0,n.topMin),t(e,269,0,"longitudEspoletadoMin",n.searchCriteria.longitudEspoletadoMin),t(e,275,0,n.topMax),t(e,280,0,"longitudEspoletadoMax",n.searchCriteria.longitudEspoletadoMax),t(e,295,0,"colorBandaMotor",n.searchCriteria.colorBandaMotor),t(e,299,0,n.colorBandaMotor),t(e,301,0,""),t(e,302,0,""),t(e,316,0,"sistemaGuia",n.searchCriteria.sistemaGuia),t(e,320,0,n.sistemaGuia),t(e,322,0,""),t(e,323,0,""),t(e,337,0,"medio",n.searchCriteria.medioLanzamiento),t(e,341,0,n.medioLanzamiento),t(e,343,0,""),t(e,344,0,""),t(e,357,0,"pinturaProteccionTermica",n.searchCriteria.pinturaProteccionTermica),t(e,367,0,"venterolEnEstabilizador",n.searchCriteria.venterolEnEstabilizador),t(e,378,0,"tipoEstabilizador",n.searchCriteria.tipoEstabilizador),t(e,389,0,n.topMin),t(e,394,0,"distanciaAnillasMin",n.searchCriteria.distanciaAnillasMin),t(e,400,0,n.topMax),t(e,405,0,"distanciaAnillasMax",n.searchCriteria.distanciaAnillasMax),t(e,418,0,"sistemaIniciacion",n.searchCriteria.sistemaIniciacion),t(e,422,0,n.sistemaIniciacion),t(e,424,0,""),t(e,425,0,""),t(e,431,0,n.mostrarResultado)}),(function(t,e){t(e,17,0,r.Bb(e,22).ngClassUntouched,r.Bb(e,22).ngClassTouched,r.Bb(e,22).ngClassPristine,r.Bb(e,22).ngClassDirty,r.Bb(e,22).ngClassValid,r.Bb(e,22).ngClassInvalid,r.Bb(e,22).ngClassPending),t(e,33,0,r.Bb(e,38).ngClassUntouched,r.Bb(e,38).ngClassTouched,r.Bb(e,38).ngClassPristine,r.Bb(e,38).ngClassDirty,r.Bb(e,38).ngClassValid,r.Bb(e,38).ngClassInvalid,r.Bb(e,38).ngClassPending),t(e,49,0,r.Bb(e,54).ngClassUntouched,r.Bb(e,54).ngClassTouched,r.Bb(e,54).ngClassPristine,r.Bb(e,54).ngClassDirty,r.Bb(e,54).ngClassValid,r.Bb(e,54).ngClassInvalid,r.Bb(e,54).ngClassPending),t(e,65,0,r.Bb(e,70).ngClassUntouched,r.Bb(e,70).ngClassTouched,r.Bb(e,70).ngClassPristine,r.Bb(e,70).ngClassDirty,r.Bb(e,70).ngClassValid,r.Bb(e,70).ngClassInvalid,r.Bb(e,70).ngClassPending),t(e,81,0,r.Bb(e,86).ngClassUntouched,r.Bb(e,86).ngClassTouched,r.Bb(e,86).ngClassPristine,r.Bb(e,86).ngClassDirty,r.Bb(e,86).ngClassValid,r.Bb(e,86).ngClassInvalid,r.Bb(e,86).ngClassPending),t(e,104,0,r.Bb(e,105).title,r.Bb(e,105).renderedIconHTML),t(e,106,0,r.Bb(e,112).ngClassUntouched,r.Bb(e,112).ngClassTouched,r.Bb(e,112).ngClassPristine,r.Bb(e,112).ngClassDirty,r.Bb(e,112).ngClassValid,r.Bb(e,112).ngClassInvalid,r.Bb(e,112).ngClassPending),t(e,115,0,r.Bb(e,116).title,r.Bb(e,116).renderedIconHTML),t(e,117,0,r.Bb(e,123).ngClassUntouched,r.Bb(e,123).ngClassTouched,r.Bb(e,123).ngClassPristine,r.Bb(e,123).ngClassDirty,r.Bb(e,123).ngClassValid,r.Bb(e,123).ngClassInvalid,r.Bb(e,123).ngClassPending),t(e,132,0,r.Bb(e,133).title,r.Bb(e,133).renderedIconHTML),t(e,134,0,r.Bb(e,140).ngClassUntouched,r.Bb(e,140).ngClassTouched,r.Bb(e,140).ngClassPristine,r.Bb(e,140).ngClassDirty,r.Bb(e,140).ngClassValid,r.Bb(e,140).ngClassInvalid,r.Bb(e,140).ngClassPending),t(e,143,0,r.Bb(e,144).title,r.Bb(e,144).renderedIconHTML),t(e,145,0,r.Bb(e,151).ngClassUntouched,r.Bb(e,151).ngClassTouched,r.Bb(e,151).ngClassPristine,r.Bb(e,151).ngClassDirty,r.Bb(e,151).ngClassValid,r.Bb(e,151).ngClassInvalid,r.Bb(e,151).ngClassPending),t(e,160,0,r.Bb(e,161).title,r.Bb(e,161).renderedIconHTML),t(e,162,0,r.Bb(e,168).ngClassUntouched,r.Bb(e,168).ngClassTouched,r.Bb(e,168).ngClassPristine,r.Bb(e,168).ngClassDirty,r.Bb(e,168).ngClassValid,r.Bb(e,168).ngClassInvalid,r.Bb(e,168).ngClassPending),t(e,171,0,r.Bb(e,172).title,r.Bb(e,172).renderedIconHTML),t(e,173,0,r.Bb(e,179).ngClassUntouched,r.Bb(e,179).ngClassTouched,r.Bb(e,179).ngClassPristine,r.Bb(e,179).ngClassDirty,r.Bb(e,179).ngClassValid,r.Bb(e,179).ngClassInvalid,r.Bb(e,179).ngClassPending),t(e,188,0,r.Bb(e,189).title,r.Bb(e,189).renderedIconHTML),t(e,190,0,r.Bb(e,196).ngClassUntouched,r.Bb(e,196).ngClassTouched,r.Bb(e,196).ngClassPristine,r.Bb(e,196).ngClassDirty,r.Bb(e,196).ngClassValid,r.Bb(e,196).ngClassInvalid,r.Bb(e,196).ngClassPending),t(e,199,0,r.Bb(e,200).title,r.Bb(e,200).renderedIconHTML),t(e,201,0,r.Bb(e,207).ngClassUntouched,r.Bb(e,207).ngClassTouched,r.Bb(e,207).ngClassPristine,r.Bb(e,207).ngClassDirty,r.Bb(e,207).ngClassValid,r.Bb(e,207).ngClassInvalid,r.Bb(e,207).ngClassPending),t(e,220,0,r.Bb(e,225).ngClassUntouched,r.Bb(e,225).ngClassTouched,r.Bb(e,225).ngClassPristine,r.Bb(e,225).ngClassDirty,r.Bb(e,225).ngClassValid,r.Bb(e,225).ngClassInvalid,r.Bb(e,225).ngClassPending),t(e,236,0,r.Bb(e,241).ngClassUntouched,r.Bb(e,241).ngClassTouched,r.Bb(e,241).ngClassPristine,r.Bb(e,241).ngClassDirty,r.Bb(e,241).ngClassValid,r.Bb(e,241).ngClassInvalid,r.Bb(e,241).ngClassPending),t(e,263,0,r.Bb(e,264).title,r.Bb(e,264).renderedIconHTML),t(e,265,0,r.Bb(e,271).ngClassUntouched,r.Bb(e,271).ngClassTouched,r.Bb(e,271).ngClassPristine,r.Bb(e,271).ngClassDirty,r.Bb(e,271).ngClassValid,r.Bb(e,271).ngClassInvalid,r.Bb(e,271).ngClassPending),t(e,274,0,r.Bb(e,275).title,r.Bb(e,275).renderedIconHTML),t(e,276,0,r.Bb(e,282).ngClassUntouched,r.Bb(e,282).ngClassTouched,r.Bb(e,282).ngClassPristine,r.Bb(e,282).ngClassDirty,r.Bb(e,282).ngClassValid,r.Bb(e,282).ngClassInvalid,r.Bb(e,282).ngClassPending),t(e,292,0,r.Bb(e,297).ngClassUntouched,r.Bb(e,297).ngClassTouched,r.Bb(e,297).ngClassPristine,r.Bb(e,297).ngClassDirty,r.Bb(e,297).ngClassValid,r.Bb(e,297).ngClassInvalid,r.Bb(e,297).ngClassPending),t(e,313,0,r.Bb(e,318).ngClassUntouched,r.Bb(e,318).ngClassTouched,r.Bb(e,318).ngClassPristine,r.Bb(e,318).ngClassDirty,r.Bb(e,318).ngClassValid,r.Bb(e,318).ngClassInvalid,r.Bb(e,318).ngClassPending),t(e,334,0,r.Bb(e,339).ngClassUntouched,r.Bb(e,339).ngClassTouched,r.Bb(e,339).ngClassPristine,r.Bb(e,339).ngClassDirty,r.Bb(e,339).ngClassValid,r.Bb(e,339).ngClassInvalid,r.Bb(e,339).ngClassPending),t(e,354,0,r.Bb(e,359).ngClassUntouched,r.Bb(e,359).ngClassTouched,r.Bb(e,359).ngClassPristine,r.Bb(e,359).ngClassDirty,r.Bb(e,359).ngClassValid,r.Bb(e,359).ngClassInvalid,r.Bb(e,359).ngClassPending),t(e,364,0,r.Bb(e,369).ngClassUntouched,r.Bb(e,369).ngClassTouched,r.Bb(e,369).ngClassPristine,r.Bb(e,369).ngClassDirty,r.Bb(e,369).ngClassValid,r.Bb(e,369).ngClassInvalid,r.Bb(e,369).ngClassPending),t(e,375,0,r.Bb(e,380).ngClassUntouched,r.Bb(e,380).ngClassTouched,r.Bb(e,380).ngClassPristine,r.Bb(e,380).ngClassDirty,r.Bb(e,380).ngClassValid,r.Bb(e,380).ngClassInvalid,r.Bb(e,380).ngClassPending),t(e,388,0,r.Bb(e,389).title,r.Bb(e,389).renderedIconHTML),t(e,390,0,r.Bb(e,396).ngClassUntouched,r.Bb(e,396).ngClassTouched,r.Bb(e,396).ngClassPristine,r.Bb(e,396).ngClassDirty,r.Bb(e,396).ngClassValid,r.Bb(e,396).ngClassInvalid,r.Bb(e,396).ngClassPending),t(e,399,0,r.Bb(e,400).title,r.Bb(e,400).renderedIconHTML),t(e,401,0,r.Bb(e,407).ngClassUntouched,r.Bb(e,407).ngClassTouched,r.Bb(e,407).ngClassPristine,r.Bb(e,407).ngClassDirty,r.Bb(e,407).ngClassValid,r.Bb(e,407).ngClassInvalid,r.Bb(e,407).ngClassPending),t(e,415,0,r.Bb(e,420).ngClassUntouched,r.Bb(e,420).ngClassTouched,r.Bb(e,420).ngClassPristine,r.Bb(e,420).ngClassDirty,r.Bb(e,420).ngClassValid,r.Bb(e,420).ngClassInvalid,r.Bb(e,420).ngClassPending)}))}function x(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-buscador",[],null,null,null,T,p)),r.ob(1,114688,null,0,f.a,[l.a],null,null)],(function(t,e){t(e,1,0)}),null)}var A=r.lb("app-buscador",f.a,x,{},{},[])},CRDf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("kJWO");const i=t=>e=>{const n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},Cfvw:function(t,e,n){"use strict";var r=n("HDdC"),i=n("c2HN"),o=n("I55L"),a=n("kJWO"),s=n("Lhse"),l=n("yCtX"),u=n("quSY"),c=n("a7t3"),h=n("pLzU"),d=n("CRDf"),f=n("SeVD");function p(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(f.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?n=>{const r=new u.a;return r.add(e.schedule(()=>{const i=t[a.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:Object(d.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?n=>{const r=new u.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:Object(c.a)(t))}(t,e);if(Object(o.a)(t))return Object(l.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?n=>{const r=new u.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[s.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",(function(){return p}))},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=Array.isArray||(t=>t&&"number"==typeof t.length)},DfyZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("mrSG"),i=n("Jgta"),o=(n("WI49"),n("AAub"),n("5x/H"),n("Zs65"),n("6nsN"),n("eJtT")),a=n("LRne"),s=n("Mhm5"),l=n("8Y7J");let u=(()=>{class t{constructor(){this.archivos=[]}iniciarFirebase(){0===i.a.apps.length&&i.a.initializeApp(s.a.firebaseConfig)}uploadFile(t,e){return r.a(this,void 0,void 0,(function*(){var n,r=i.a.storage().ref().child(`imagenes/${e}/archivos/${t.name}`);yield r.put(t).then(a=>{(n=i.a.database().ref().child(`imagenesFB/${e}/archivos`)).remove();let s=t.name.split(".");n=i.a.database().ref().child(`imagenesFB/${e}/archivos/${s[0]}`),r.getDownloadURL().then(e=>{let r=new o.a;r.url=e,r.nombre=t.name,n.set({nombre:r.nombre,url:r.url})})}),this.archivos=[]}))}getArchivos(t){this.archivos=[];var e=i.a.database().ref().child(`imagenesFB/${t}/archivos`);return this.archivos=[],e.on("value",t=>{let e=t.val();for(var n in e){let t=new o.a;t.url=e[n].url,t.nombre=e[n].nombre,this.archivos.push(t)}}),Object(a.a)(this.archivos)}deleteArchivo(t,e){let n=t.nombre.split(".")[0],r=i.a.database().ref().child(`imagenesFB/${e}/archivos/${n}`),o=i.a.storage().ref().child(`imagenes/${e}/archivos/${t.nombre}`);r.remove(),o.delete(),this.archivos=[]}deleteNode(t){i.a.database().ref().child(`imagenesFB/${t}/`).remove(),this.deleteFolderContents(`imagenes/${t}/`)}deleteFolderContents(t){const e=i.a.storage().ref(t);e.listAll().then(t=>{t.items.forEach(t=>{this.deleteFile(e.fullPath,t.name)}),t.prefixes.forEach(t=>{this.deleteFolderContents(t.fullPath)})}).catch(t=>{console.log(t)})}deleteFile(t,e){i.a.storage().ref(t).child(e).delete()}}return t.ngInjectableDef=l.Nb({factory:function(){return new t},token:t,providedIn:"root"}),t})()},E4JC:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=r,e=t.lib.StreamCipher,n=[],i=[],o=[],a=t.algo.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,n=0;n<4;n++)s.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(e){var o=e.words,a=o[0],l=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),h=u>>>16|4294901760&c,d=c<<16|65535&u;for(i[0]^=u,i[1]^=h,i[2]^=c,i[3]^=d,i[4]^=u,i[5]^=h,i[6]^=c,i[7]^=d,n=0;n<4;n++)s.call(this)}},_doProcessBlock:function(t,e){var r=this._X;s.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),t[e+i]^=n[i]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,n=0;n<8;n++)i[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],a=65535&r,s=r>>>16;o[n]=((a*a>>>17)+a*s>>>15)+s*s^((4294901760&r)*r|0)+((65535&r)*r|0)}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=e._createHelper(a)}(),r.Rabbit)},E4JZ:function(t,e,n){"use strict";var r=n("8Y7J"),i=n("SVse"),o=n("iInd"),a=n("s7LF"),s=n("Kfvy"),l=n("pN5R"),u=n("z58d"),c=n("cPMN"),h=n("reDK"),d=n("ONxg"),f=n("DfyZ"),p=n("sBFL"),g=n("tOWS");n.d(e,"a",(function(){return O}));var m=r.nb({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{background-color:transparent;display:inline-block}img[_ngcontent-%COMP%]{border:solid gray;border-radius:1px;box-shadow:10px 10px 25px #999}#cuadroCroquis[_ngcontent-%COMP%], #cuadroFotografiaPrincipal[_ngcontent-%COMP%], #cuadroFotografiasSecundarias[_ngcontent-%COMP%]{font-weight:bolder}.modal-content[_ngcontent-%COMP%]{background-image:url(fondoCammo.2b0cfb5502d08b6345f1.png)}.modal-dialog[_ngcontent-%COMP%]{justify-content:center;display:flex}.imagenModal[_ngcontent-%COMP%]{justify-content:center;display:flex;width:100%}.bucleFotografias[_ngcontent-%COMP%]{display:inline-flex}.imagenCroquis[_ngcontent-%COMP%], .imagenSecundaria[_ngcontent-%COMP%]{width:180px}.imagenPrincipal[_ngcontent-%COMP%]{width:100%}.linkArchivo[_ngcontent-%COMP%]{display:inline-flex}"]],data:{}});function v(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","row bucleFotografias"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"div",[["class","col-4 py-2"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.getImagenURL(n)&&r),r}),null,null)),(t()(),r.pb(2,0,null,null,0,"img",[["class","mx-2 imagenSecundaria"]],[[8,"src",4]],null,null,null,null))],null,(function(t,e){t(e,2,0,r.tb(1,"",e.context.$implicit.url,""))}))}function b(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","row bucleFotografias"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"div",[["class","col-4 py-2"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.getImagenURL(n)&&r),r}),null,null)),(t()(),r.pb(2,0,null,null,0,"img",[["class","mx-2 imagenCroquis"]],[[8,"src",4]],null,null,null,null))],null,(function(t,e){t(e,2,0,r.tb(1,"",e.context.$implicit.url,""))}))}function y(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"div",[["class","carousel-item"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],[[8,"src",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.getImagenURL(n)&&r),r}),null,null))],null,(function(t,e){t(e,1,0,r.tb(1,"",e.context.$implicit.url,""))}))}function w(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"div",[["class","carousel-item"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,0,"img",[["alt","croquis"],["class","d-block w-100"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],[[8,"src",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.getImagenURL(n)&&r),r}),null,null))],null,(function(t,e){t(e,1,0,r.tb(1,"",e.context.$implicit.url,""))}))}function _(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r.Hb(2,null,["",""])),(t()(),r.pb(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Hb(4,null,["",""]))],null,(function(t,e){t(e,2,0,e.parent.context.$implicit[0]),t(e,4,0,e.parent.context.$implicit[1])}))}function C(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","m-4"],["id","datosArtefacto"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,_)),r.ob(2,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,null!==e.context.$implicit[1])}),null)}function k(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"div",[["class","row bucleFotografias"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"div",[["class","col-4 py-2"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.getImagenURL(n)&&r),r}),null,null)),(t()(),r.pb(2,0,null,null,1,"a",[["class","linkArchivo"],["target","blank"]],[[8,"href",4]],null,null,null,null)),(t()(),r.Hb(3,null,["",""]))],null,(function(t,e){t(e,2,0,r.tb(1,"",e.context.$implicit.url,"")),t(e,3,0,e.context.$implicit.nombre)}))}function E(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-info m-1"],["data-bs-target","#modalNuevaFichaVIP"],["data-bs-toggle","modal"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["AGREGAR A DESTACADAS"]))],null,null)}function I(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,E)),r.ob(2,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(3,0,null,null,1,"button",[["class","btn btn-warning m-1"],["data-bs-target","#modalNuevoArtefactoInventario"],["data-bs-toggle","modal"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["AGREGAR AL INVENTARIO"]))],(function(t,e){t(e,2,0,e.component.fichaVipFlag)}),null)}function S(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,10,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"button",[["class","btn btn-danger m-1"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.eliminarFicha()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["ELIMINAR"])),(t()(),r.pb(3,0,null,null,3,"a",[["class","btn btn-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Bb(t,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ob(4,671744,null,0,o.m,[o.k,o.a,i.h],{routerLink:[0,"routerLink"]},null),r.Cb(5,5),(t()(),r.Hb(-1,null,["MODIFICAR"])),(t()(),r.pb(7,0,null,null,1,"button",[["class","btn btn-success m-1"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.validarFicha()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["VALIDAR"])),(t()(),r.eb(16777216,null,null,1,null,I)),r.ob(10,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,r=t(e,5,0,"/","ficha","validador","ficha",n.id);t(e,4,0,r),t(e,10,0,n.artefacto.validada)}),(function(t,e){t(e,3,0,r.Bb(e,4).target,r.Bb(e,4).href)}))}function T(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,a.q,[r.k,r.B,[2,a.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,a.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,["",""]))],(function(t,e){t(e,1,0,r.tb(1,"",e.context.$implicit._links.self.href,"")),t(e,2,0,r.tb(1,"",e.context.$implicit._links.self.href,""))}),(function(t,e){t(e,3,0,e.context.$implicit.nombreSala)}))}function x(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,87,"body",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,25,"div",[["class","container-fluid py-1"],["id","cuadroFotografias"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,8,"div",[["class","d-none d-lg-block"],["id","fotografiasGrande"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,7,"div",[["class","row py-2"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,1,"div",[["class","col-5 px-4 py-2"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.getImagenURL(n)&&r),r}),null,null)),(t()(),r.pb(5,0,null,null,0,"img",[["class","imagenPrincipal"]],[[8,"src",4]],null,null,null,null)),(t()(),r.pb(6,0,null,null,4,"div",[["class","col-6"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,v)),r.ob(8,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.eb(16777216,null,null,1,null,b)),r.ob(10,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(11,0,null,null,15,"div",[["class","carousel slide d-lg-none my-2"],["data-bs-ride","carousel"],["id","fotografiasPeque\xf1o"]],null,null,null,null,null)),(t()(),r.pb(12,0,null,null,6,"div",[["class","carousel-inner"]],null,null,null,null,null)),(t()(),r.pb(13,0,null,null,1,"div",[["class","carousel-item active"]],null,null,null,null,null)),(t()(),r.pb(14,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],[[8,"src",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.getImagenURL(n)&&r),r}),null,null)),(t()(),r.eb(16777216,null,null,1,null,y)),r.ob(16,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.eb(16777216,null,null,1,null,w)),r.ob(18,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(19,0,null,null,3,"button",[["class","carousel-control-prev"],["data-bs-slide","prev"],["data-bs-target","#fotografiasPeque\xf1o"],["type","button"]],null,null,null,null,null)),(t()(),r.pb(20,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-prev-icon"]],null,null,null,null,null)),(t()(),r.pb(21,0,null,null,1,"span",[["class","visually-hidden"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Previous"])),(t()(),r.pb(23,0,null,null,3,"button",[["class","carousel-control-next"],["data-bs-slide","next"],["data-bs-target","#fotografiasPeque\xf1o"],["type","button"]],null,null,null,null,null)),(t()(),r.pb(24,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-next-icon"]],null,null,null,null,null)),(t()(),r.pb(25,0,null,null,1,"span",[["class","visually-hidden"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Next"])),(t()(),r.pb(27,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,C)),r.ob(29,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(30,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(31,0,null,null,4,"div",[["class","mx-4"]],null,null,null,null,null)),(t()(),r.pb(32,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["ARCHIVOS CARGADOS"])),(t()(),r.eb(16777216,null,null,1,null,k)),r.ob(35,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.eb(16777216,null,null,1,null,S)),r.ob(37,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(38,0,null,null,1,"app-modal-ficha-vip",[],null,null,null,s.b,s.a)),r.ob(39,114688,null,0,l.a,[u.a,c.a],{id:[0,"id"]},null),(t()(),r.pb(40,0,null,null,7,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","modalImagen"],["tabindex","-1"]],null,null,null,null,null)),(t()(),r.pb(41,0,null,null,6,"div",[["class","modal-dialog"]],null,null,null,null,null)),(t()(),r.pb(42,0,null,null,5,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),r.pb(43,0,null,null,1,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.pb(44,0,null,null,0,"img",[["alt",""],["class","imagenModal"]],[[8,"src",4]],null,null,null,null)),(t()(),r.pb(45,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),r.pb(46,0,null,null,1,"button",[["class","btn btn-secondary"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,[" Cerrar "])),(t()(),r.pb(48,0,null,null,39,"div",[["aria-hidden","true"],["aria-labelledby","modalNuevoArtefactoInventarioLabel"],["class","modal fade"],["id","modalNuevoArtefactoInventario"],["tabindex","-1"]],null,null,null,null,null)),(t()(),r.pb(49,0,null,null,38,"div",[["class","modal-dialog"]],null,null,null,null,null)),(t()(),r.pb(50,0,null,null,37,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),r.pb(51,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.pb(52,0,null,null,1,"h5",[["class","modal-title"],["id","modalModificarArtefactoInventarioLabel"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["AGREGAR AL INVENTARIO"])),(t()(),r.pb(54,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.pb(55,0,null,null,32,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.pb(56,0,null,null,31,"form",[["action",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Bb(t,58).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Bb(t,58).onReset()&&i),i}),null,null)),r.ob(57,16384,null,0,a.A,[],null,null),r.ob(58,4210688,null,0,a.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,a.c,null,[a.o]),r.ob(60,16384,null,0,a.n,[[4,a.c]],null,null),(t()(),r.pb(61,0,null,null,9,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(t()(),r.pb(62,0,null,null,2,"label",[["for","numeroInventario"]],null,null,null,null,null)),(t()(),r.pb(63,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["N\xaa INVENTARIO"])),(t()(),r.pb(65,0,null,null,5,"input",[["id","numeroInventario"],["name","numeroInventario"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,66)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,66).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,66)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,66)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.artefactoInventario.numeroInventario=n)&&i),i}),null,null)),r.ob(66,16384,null,0,a.d,[r.B,r.k,[2,a.a]],null,null),r.Eb(1024,null,a.k,(function(t){return[t]}),[a.d]),r.ob(68,671744,null,0,a.p,[[2,a.c],[8,null],[8,null],[6,a.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,a.l,null,[a.p]),r.ob(70,16384,null,0,a.m,[[4,a.l]],null,null),(t()(),r.pb(71,0,null,null,11,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(t()(),r.pb(72,0,null,null,2,"label",[["for","sala"]],null,null,null,null,null)),(t()(),r.pb(73,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["SALA"])),(t()(),r.pb(75,0,null,null,7,"select",[["id","sala"],["name","nuevaSala"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,76).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,76).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.artefactoInventario.sala=n)&&i),i}),null,null)),r.ob(76,16384,null,0,a.t,[r.B,r.k],null,null),r.Eb(1024,null,a.k,(function(t){return[t]}),[a.t]),r.ob(78,671744,null,0,a.p,[[2,a.c],[8,null],[8,null],[6,a.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,a.l,null,[a.p]),r.ob(80,16384,null,0,a.m,[[4,a.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,T)),r.ob(82,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(83,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),r.pb(84,0,null,null,1,"button",[["class","btn btn-danger m-1"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["CERRAR"])),(t()(),r.pb(86,0,null,null,1,"button",[["class","btn btn-success m-1"],["data-bs-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.agregarAInventario()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["GUARDAR"]))],(function(t,e){var n=e.component;t(e,8,0,n.imagenesSecundarias),t(e,10,0,n.imagenesCroquis),t(e,16,0,n.imagenesSecundarias),t(e,18,0,n.imagenesCroquis),t(e,29,0,n.atributos),t(e,35,0,n.archivos),t(e,37,0,n.isLoggedAdmin),t(e,39,0,n.id),t(e,68,0,"numeroInventario",n.artefactoInventario.numeroInventario),t(e,78,0,"nuevaSala",n.artefactoInventario.sala),t(e,82,0,n.salasDisponibles)}),(function(t,e){var n=e.component;t(e,5,0,r.tb(1,"",n.imagenPrincipal.url,"")),t(e,14,0,r.tb(1,"",n.imagenPrincipal.url,"")),t(e,44,0,r.tb(1,"",n.imagenModal,"")),t(e,56,0,r.Bb(e,60).ngClassUntouched,r.Bb(e,60).ngClassTouched,r.Bb(e,60).ngClassPristine,r.Bb(e,60).ngClassDirty,r.Bb(e,60).ngClassValid,r.Bb(e,60).ngClassInvalid,r.Bb(e,60).ngClassPending),t(e,65,0,r.Bb(e,70).ngClassUntouched,r.Bb(e,70).ngClassTouched,r.Bb(e,70).ngClassPristine,r.Bb(e,70).ngClassDirty,r.Bb(e,70).ngClassValid,r.Bb(e,70).ngClassInvalid,r.Bb(e,70).ngClassPending),t(e,75,0,r.Bb(e,80).ngClassUntouched,r.Bb(e,80).ngClassTouched,r.Bb(e,80).ngClassPristine,r.Bb(e,80).ngClassDirty,r.Bb(e,80).ngClassValid,r.Bb(e,80).ngClassInvalid,r.Bb(e,80).ngClassPending)}))}function A(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-ficha-completa",[],null,null,null,x,m)),r.ob(1,114688,null,0,h.a,[d.a,u.a,f.a,c.a,o.a,p.a,o.k,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}var O=r.lb("app-ficha-completa",h.a,A,{},{},[])},ELcG:function(t,e,n){var r;t.exports=(r=n("Ib8C"),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),f=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,f,w,_,C,k,E,I,S,T,x=this._hash.words,A=h.words,O=d.words,N=s.words,P=l.words,R=u.words,D=c.words;for(C=o=x[0],k=a=x[1],E=f=x[2],I=w=x[3],S=_=x[4],n=0;n<80;n+=1)T=o+t[e+N[n]]|0,T+=n<16?p(a,f,w)+A[0]:n<32?g(a,f,w)+A[1]:n<48?m(a,f,w)+A[2]:n<64?v(a,f,w)+A[3]:b(a,f,w)+A[4],T=(T=y(T|=0,R[n]))+_|0,o=_,_=w,w=y(f,10),f=a,a=T,T=C+t[e+P[n]]|0,T+=n<16?b(k,E,I)+O[0]:n<32?v(k,E,I)+O[1]:n<48?m(k,E,I)+O[2]:n<64?g(k,E,I)+O[3]:p(k,E,I)+O[4],T=(T=y(T|=0,D[n]))+S|0,C=S,S=I,I=y(E,10),E=k,k=T;T=x[1]+f+I|0,x[1]=x[2]+w+S|0,x[2]=x[3]+_+C|0,x[3]=x[4]+o+k|0,x[4]=x[0]+a+E|0,x[0]=T},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,n){return t^e^n}function g(t,e,n){return t&e|~t&n}function m(t,e,n){return(t|~e)^n}function v(t,e,n){return t&n|e&~n}function b(t,e,n){return t^(e|~n)}function y(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(f),e.HmacRIPEMD160=o._createHmacHelper(f)}(Math),r.RIPEMD160)},ETIr:function(t,e,n){var r,i;t.exports=(i=n("Ib8C"),r=i.lib.WordArray,i.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,n){for(var i=[],o=0,a=0;a<e;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,l=n[t.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=(s|l)<<24-o%4*8,o++}return r.create(i,o)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},"F+F2":function(t,e,n){var r;t.exports=(r=n("Ib8C"),function(){if("function"==typeof ArrayBuffer){var t=r.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=t[i]<<24-i%4*8;e.call(this,r,n)}else e.apply(this,arguments)}).prototype=t}}(),r.lib.WordArray)},GRuw:function(t,e,n){var r,i,o,a,s,l;t.exports=(l=n("Ib8C"),n("lPiR"),i=(r=l).lib.WordArray,s=(o=r.algo).SHA224=(a=o.SHA256).extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),r.SHA224=a._createHelper(s),r.HmacSHA224=a._createHmacHelper(s),l.SHA224)},HDdC:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),a=n("kJWO"),s=n("mCNh"),l=n("2fFW");n.d(e,"a",(function(){return u}));let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:a}=this,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(s.add(a?a.call(s,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=c(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[a.a](){return this}pipe(...t){return 0===t.length?this:Object(s.b)(t)(this)}toPromise(t){return new(t=c(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function c(t){if(t||(t=l.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},HTik:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("2Vo4"),i=n("TSe+"),o=n("8Y7J");let a=(()=>{class t{constructor(){this.criteriosObservados=new r.a(new i.a),this.onChangeCriteria=t=>this.criteriosObservados.next(t)}}return t.ngInjectableDef=o.Nb({factory:function(){return new t},token:t,providedIn:"root"}),t})()},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},Ib8C:function(t,e,n){var r;t.exports=r=r||function(t,e){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!=typeof global&&global.crypto&&(r=global.crypto),!r)try{r=n(1)}catch(m){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),a={},s=a.lib={},l=s.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=l.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++)e[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else for(var a=0;a<i;a+=4)e[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=l.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(i());return new u.init(e,t)}}),c=a.enc={},h=c.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new u.init(n,e/2)}},d=c.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new u.init(n,e)}},f=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},p=s.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),l=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,c=t.min(4*l,o);if(l){for(var h=0;h<l;h+=a)this._doProcessBlock(i,h);n=i.splice(0,l),r.sigBytes-=c}return new u.init(n,c)},clone:function(){var t=l.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),g=(s.Hasher=p.extend({cfg:l.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new g.HMAC.init(t,n).finalize(e)}}}),a.algo={});return a}(Math)},IheW:function(t,e,n){"use strict";n.d(e,"l",(function(){return P})),n.d(e,"o",(function(){return L})),n.d(e,"p",(function(){return B})),n.d(e,"m",(function(){return D})),n.d(e,"n",(function(){return M})),n.d(e,"b",(function(){return h})),n.d(e,"f",(function(){return c})),n.d(e,"c",(function(){return S})),n.d(e,"g",(function(){return d})),n.d(e,"a",(function(){return x})),n.d(e,"d",(function(){return U})),n.d(e,"e",(function(){return V})),n.d(e,"k",(function(){return F})),n.d(e,"h",(function(){return R})),n.d(e,"j",(function(){return N})),n.d(e,"i",(function(){return j}));var r=n("8Y7J"),i=n("LRne"),o=n("HDdC"),a=n("bOdf"),s=n("pLZG"),l=n("lJxs"),u=n("SVse");class c{}class h{}class d{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new d;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class f{encodeKey(t){return p(t)}encodeValue(t){return p(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function p(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class g{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new f,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],a=n.get(i)||[];a.push(o),n.set(i,a)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new g({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function m(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function v(t){return"undefined"!=typeof Blob&&t instanceof Blob}function b(t){return"undefined"!=typeof FormData&&t instanceof FormData}class y{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new g,this.urlWithParams=e}serializeBody(){return null===this.body?null:m(this.body)||v(this.body)||b(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b(this.body)?null:v(this.body)?this.body.type||null:m(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let s=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(s=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),s)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new y(e,n,i,{params:l,headers:s,reportProgress:a,responseType:r,withCredentials:o})}}const w=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class _{constructor(t,e=200,n="OK"){this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class C extends _{constructor(t={}){super(t),this.type=w.ResponseHeader}clone(t={}){return new C({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class k extends _{constructor(t={}){super(t),this.type=w.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new k({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class E extends _{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function I(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class S{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof y)r=t;else{let i=void 0;i=n.headers instanceof d?n.headers:new d(n.headers);let o=void 0;n.params&&(o=n.params instanceof g?n.params:new g({fromObject:n.params})),r=new y(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const o=Object(i.a)(r).pipe(Object(a.a)(t=>this.handler.handle(t)));if(t instanceof y||"events"===n.observe)return o;const u=o.pipe(Object(s.a)(t=>t instanceof k));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return u.pipe(Object(l.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(l.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(l.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(l.a)(t=>t.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new g).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,I(n,e))}post(t,e,n={}){return this.request("POST",t,I(n,e))}put(t,e,n={}){return this.request("PUT",t,I(n,e))}}class T{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const x=new r.o("HTTP_INTERCEPTORS");class A{intercept(t,e){return e.handle(t)}}const O=/^\)\]\}',?\n/;class N{}class P{constructor(){}build(){return new XMLHttpRequest}}class R{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new o.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new d(n.getAllResponseHeaders()),a=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new C({headers:o,status:e,statusText:r,url:a}),i},a=()=>{let{headers:r,status:i,statusText:a,url:s}=o(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(O,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new k({body:l,headers:r,status:i,statusText:a,url:s||void 0})),e.complete()):e.error(new E({error:l,headers:r,status:i,statusText:a,url:s||void 0}))},s=t=>{const{url:r}=o(),i=new E({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const u=r=>{l||(e.next(o()),l=!0);let i={type:w.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:w.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",a),n.addEventListener("error",s),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:w.Sent}),()=>{n.removeEventListener("error",s),n.removeEventListener("load",a),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const D=new r.o("XSRF_COOKIE_NAME"),M=new r.o("XSRF_HEADER_NAME");class j{}class L{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(u.u)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class B{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}class F{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(x,[]);this.chain=t.reduceRight((t,e)=>new T(t,e),this.backend)}return this.chain.handle(t)}}class V{static disable(){return{ngModule:V,providers:[{provide:B,useClass:A}]}}static withOptions(t={}){return{ngModule:V,providers:[t.cookieName?{provide:D,useValue:t.cookieName}:[],t.headerName?{provide:M,useValue:t.headerName}:[]]}}}class U{}},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj");function a(t){return function(e){const n=new s(t),r=e.lift(n);return n.caught=r}}class s{constructor(t){this.selector=t}call(t,e){return e.subscribe(new l(t,this.selector,this.caught))}}class l extends r.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new i.a(this,void 0,void 0);this.add(r),Object(o.a)(this,n,void 0,void 0,r)}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.8.0","app"),r.a.SDK_VERSION="8.8.0"},Jopv:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n("35Wc");class r{}},K3mO:function(t,e,n){var r,i,o,a,s,l,u;t.exports=(u=n("Ib8C"),n("3y9D"),n("WYAk"),a=(i=(r=u).lib).WordArray,l=(s=r.algo).EvpKDF=(o=i.Base).extend({cfg:o.extend({keySize:4,hasher:s.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n,r=this.cfg,i=r.hasher.create(),o=a.create(),s=o.words,l=r.keySize,u=r.iterations;s.length<l;){n&&i.update(n),n=i.update(t).finalize(e),i.reset();for(var c=1;c<u;c++)n=i.finalize(n),i.reset();o.concat(n)}return o.sigBytes=4*l,o}}),r.EvpKDF=function(t,e,n){return l.create(n).compute(t,e)},u.EvpKDF)},Kfvy:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return l}));var r=n("8Y7J"),i=n("s7LF"),o=n("SVse"),a=(n("pN5R"),n("z58d"),n("cPMN"),r.nb({encapsulation:2,styles:[],data:{}}));function s(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,["",""]))],(function(t,e){t(e,1,0,e.context.$implicit.value),t(e,2,0,e.context.$implicit.value)}),(function(t,e){t(e,3,0,e.context.$implicit.key)}))}function l(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,49,"div",[["aria-hidden","true"],["aria-labelledby","modalnuevaFichaVipLabel"],["class","modal fade"],["id","modalNuevaFichaVIP"],["tabindex","-1"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,48,"div",[["class","modal-dialog"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,47,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,1,"h5",[["class","modal-title"],["id","modalnuevaFichaVipLabel"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["AGREGAR ARTEFACTOS DESTACADOS"])),(t()(),r.pb(6,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,42,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.pb(8,0,null,null,41,"form",[["action",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Bb(t,10).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Bb(t,10).onReset()&&i),i}),null,null)),r.ob(9,16384,null,0,i.A,[],null,null),r.ob(10,4210688,null,0,i.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,i.c,null,[i.o]),r.ob(12,16384,null,0,i.n,[[4,i.c]],null,null),(t()(),r.pb(13,0,null,null,9,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(t()(),r.pb(14,0,null,null,2,"label",[["for","nombre"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["ARTEFACTO"])),(t()(),r.pb(17,0,null,null,5,"input",[["disabled",""],["id","nombre"],["name","nombre"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,18)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,18).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,18)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,18)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.ficha.nombre=n)&&i),i}),null,null)),r.ob(18,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.d]),r.ob(20,671744,null,0,i.p,[[2,i.c],[8,null],[8,null],[6,i.k]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(22,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(23,0,null,null,9,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(t()(),r.pb(24,0,null,null,2,"label",[["for","asunto"]],null,null,null,null,null)),(t()(),r.pb(25,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["COMENTARIOS"])),(t()(),r.pb(27,0,null,null,5,"input",[["id","asunto"],["name","asunto"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,28)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,28).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,28)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,28)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.fichaVip.comentario=n)&&i),i}),null,null)),r.ob(28,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.d]),r.ob(30,671744,null,0,i.p,[[2,i.c],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(32,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.pb(33,0,null,null,11,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(t()(),r.pb(34,0,null,null,2,"label",[["for","zona"]],null,null,null,null,null)),(t()(),r.pb(35,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["ZONA DE OPERACIONES"])),(t()(),r.pb(37,0,null,null,7,"select",[["id","zona"],["name","zonaOperaciones"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,38).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,38).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.fichaVip.zonaOperaciones=n)&&i),i}),null,null)),r.ob(38,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(t){return[t]}),[i.t]),r.ob(40,671744,null,0,i.p,[[2,i.c],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(42,16384,null,0,i.m,[[4,i.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,s)),r.ob(44,278528,null,0,o.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(45,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),r.pb(46,0,null,null,1,"button",[["class","btn btn-danger m-1"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["CERRAR"])),(t()(),r.pb(48,0,null,null,1,"button",[["class","btn btn-success m-1"],["data-bs-dismiss","modal"],["type","submit"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.agregarFichaVip()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["GUARDAR"]))],(function(t,e){var n=e.component;t(e,20,0,"nombre","",n.ficha.nombre),t(e,30,0,"asunto",n.fichaVip.comentario),t(e,40,0,"zonaOperaciones",n.fichaVip.zonaOperaciones),t(e,44,0,n.zos)}),(function(t,e){t(e,8,0,r.Bb(e,12).ngClassUntouched,r.Bb(e,12).ngClassTouched,r.Bb(e,12).ngClassPristine,r.Bb(e,12).ngClassDirty,r.Bb(e,12).ngClassValid,r.Bb(e,12).ngClassInvalid,r.Bb(e,12).ngClassPending),t(e,17,0,r.Bb(e,22).ngClassUntouched,r.Bb(e,22).ngClassTouched,r.Bb(e,22).ngClassPristine,r.Bb(e,22).ngClassDirty,r.Bb(e,22).ngClassValid,r.Bb(e,22).ngClassInvalid,r.Bb(e,22).ngClassPending),t(e,27,0,r.Bb(e,32).ngClassUntouched,r.Bb(e,32).ngClassTouched,r.Bb(e,32).ngClassPristine,r.Bb(e,32).ngClassDirty,r.Bb(e,32).ngClassValid,r.Bb(e,32).ngClassInvalid,r.Bb(e,32).ngClassPending),t(e,37,0,r.Bb(e,42).ngClassUntouched,r.Bb(e,42).ngClassTouched,r.Bb(e,42).ngClassPristine,r.Bb(e,42).ngClassDirty,r.Bb(e,42).ngClassValid,r.Bb(e,42).ngClassInvalid,r.Bb(e,42).ngClassPending)}))}},KmYQ:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("OLod"),r.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){var e=t.words,n=t.sigBytes-1;for(n=t.sigBytes-1;n>=0;n--)if(e[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},r.pad.ZeroPadding)},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},L2hg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("s7LF"),i=n("8Y7J");let o=(()=>{class t{constructor(){}crearFormulario(t){const e={};return t.forEach(t=>{e[t.key]=t.required?new r.f(t.value||"",r.v.required):new r.f(t.value||"")}),new r.h(e)}crearElementoFormulario(){}}return t.ngInjectableDef=i.Nb({factory:function(){return new t},token:t,providedIn:"root"}),t})()},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("EY2u"),a=n("XUOw");function s(...t){let e=t[t.length-1];switch(Object(r.a)(e)?t.pop():e=void 0,t.length){case 0:return Object(o.b)(e);case 1:return e?Object(i.a)(t,e):Object(a.a)(t[0]);default:return Object(i.a)(t,e)}}},LYig:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(t={}){this.value=t.value,this.key=t.key||"",this.label=t.label||"",this.required=!!t.required,this.order=void 0===t.order?1:t.order,this.controlType=t.controlType||"",this.type=t.type||"",this.options=t.options||[]}}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},Mhm5:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("AytR");const i={firebaseConfig:{apiKey:r.a.apiKey,authDomain:r.a.authDomain,projectId:r.a.projectId,storageBucket:r.a.storageBucket,messagingSenderId:r.a.messagingSenderId,appId:r.a.appId,databaseURL:r.a.databaseURL}}},MlIO:function(t,e,n){var r,i,o,a,s;t.exports=(s=n("Ib8C"),i=(r=s.lib).Base,o=r.WordArray,(a=s.x64={}).Word=i.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var i=t[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),e=t.words=this.words.slice(0),n=e.length,r=0;r<n;r++)e[r]=e[r].clone();return t}}),s)},NFKh:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("MlIO"),n("F+F2"),n("qM6L"),n("ETIr"),n("wbyO"),n("cv67"),n("3y9D"),n("lPiR"),n("GRuw"),n("1uat"),n("uGsb"),n("5hvy"),n("ELcG"),n("WYAk"),n("e7zE"),n("K3mO"),n("OLod"),n("ALsQ"),n("9OqN"),n("qu8F"),n("S6kV"),n("gb/T"),n("qBft"),n("oRuE"),n("jO9C"),n("KmYQ"),n("uGxW"),n("bQjk"),n("wZgz"),n("pA7S"),n("w7YG"),n("E4JC"),n("PVpz"),r)},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t})}n.d(e,"a",(function(){return r}))},NUWq:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n("AiNZ"),n("Ul2T");class r{}},"Nv++":function(t,e,n){"use strict";var r=n("8Y7J");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){o(t,e,n[e])}))}return t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u={},c={};try{"undefined"!=typeof window&&(u=window),"undefined"!=typeof document&&(c=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(Rt){}var h=(u.navigator||{}).userAgent,d=void 0===h?"":h,f=u,p=c,g=!!p.documentElement&&!!p.head&&"function"==typeof p.addEventListener&&"function"==typeof p.createElement,m=~d.indexOf("MSIE")||~d.indexOf("Trident/"),v=[1,2,3,4,5,6,7,8,9,10],b=v.concat([11,12,13,14,15,16,17,18,19,20]),y={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},w=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",y.GROUP,y.SWAP_OPACITY,y.PRIMARY,y.SECONDARY].concat(v.map((function(t){return"".concat(t,"x")}))).concat(b.map((function(t){return"w-".concat(t)}))),f.FontAwesomeConfig||{});p&&"function"==typeof p.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(t){var e=s(t,2),n=e[1],r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=p.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(w[n]=r)}));var _=a({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},w);_.autoReplaceSvg||(_.observeMutations=!1);var C=a({},_);f.FontAwesomeConfig=C;var k=f||{};k.___FONT_AWESOME___||(k.___FONT_AWESOME___={}),k.___FONT_AWESOME___.styles||(k.___FONT_AWESOME___.styles={}),k.___FONT_AWESOME___.hooks||(k.___FONT_AWESOME___.hooks={}),k.___FONT_AWESOME___.shims||(k.___FONT_AWESOME___.shims=[]);var E=k.___FONT_AWESOME___,I=[];g&&((p.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(p.readyState)||p.addEventListener("DOMContentLoaded",(function t(){p.removeEventListener("DOMContentLoaded",t),I.map((function(t){return t()}))})));var S,T=function(){},x="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,A="undefined"==typeof setImmediate?setTimeout:setImmediate,O=[];function N(){for(var t=0;t<O.length;t++)O[t][0](O[t][1]);O=[],S=!1}function P(t,e){O.push([t,e]),S||(S=!0,A(N,0))}function R(t){var e=t.owner,n=e._state,r=e._data,i=t[n],o=t.then;if("function"==typeof i){n="fulfilled";try{r=i(r)}catch(Rt){L(o,Rt)}}D(o,r)||("fulfilled"===n&&M(o,r),"rejected"===n&&L(o,r))}function D(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===i(e))){var r=e.then;if("function"==typeof r)return r.call(e,(function(r){n||(n=!0,e===r?j(t,r):M(t,r))}),(function(e){n||(n=!0,L(t,e))})),!0}}catch(Rt){return n||L(t,Rt),!0}return!1}function M(t,e){t!==e&&D(t,e)||j(t,e)}function j(t,e){"pending"===t._state&&(t._state="settled",t._data=e,P(F,t))}function L(t,e){"pending"===t._state&&(t._state="settled",t._data=e,P(V,t))}function B(t){t._then=t._then.forEach(R)}function F(t){t._state="fulfilled",B(t)}function V(t){t._state="rejected",B(t),!t._handled&&x&&global.process.emit("unhandledRejection",t._data,t)}function U(t){global.process.emit("rejectionHandled",t)}function q(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof q==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){L(e,t)}try{t((function(t){M(e,t)}),n)}catch(Rt){n(Rt)}}(t,this)}q.prototype={constructor:q,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(T),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,"rejected"===this._state&&x&&P(U,this)),"fulfilled"===this._state||"rejected"===this._state?P(R,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},q.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new q((function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var a,s=0;s<t.length;s++)(a=t[s])&&"function"==typeof a.then?a.then(o(s),n):r[s]=a;i||e(r)}))},q.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new q((function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)}))},q.resolve=function(t){return t&&"object"===i(t)&&t.constructor===q?t:new q((function(e){e(t)}))},q.reject=function(t){return new q((function(e,n){n(t)}))};var z=16,H={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function G(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function W(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function K(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,": ").concat(t[n],";")}),"")}function $(t){return t.size!==H.size||t.x!==H.x||t.y!==H.y||t.rotate!==H.rotate||t.flipX||t.flipY}function J(t){var e=t.transform,n=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},i="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var Q={x:0,y:0,width:"100%",height:"100%"};function Y(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function X(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,l=t.symbol,u=t.title,c=t.maskId,h=t.titleId,d=t.extra,f=t.watchable,p=void 0!==f&&f,g=r.found?r:n,m=g.width,v=g.height,b="fak"===i,y=b?"":"fa-w-".concat(Math.ceil(m/v*16)),w=[C.replacementClass,o?"".concat(C.familyPrefix,"-").concat(o):"",y].filter((function(t){return-1===d.classes.indexOf(t)})).filter((function(t){return""!==t||!!t})).concat(d.classes).join(" "),_={children:[],attributes:a({},d.attributes,{"data-prefix":i,"data-icon":o,class:w,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(v)})},k=b&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/v*16*.0625,"em")}:{};p&&(_.attributes["data-fa-i2svg"]=""),u&&_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(h||G())},children:[u]});var E=a({},_,{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:s,symbol:l,styles:a({},k,d.styles)}),I=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.mask,s=t.maskId,l=i.icon,u=o.icon,c=J({transform:t.transform,containerWidth:o.width,iconWidth:i.width}),h={tag:"rect",attributes:a({},Q,{fill:"white"})},d=l.children?{children:l.children.map(Y)}:{},f={tag:"g",attributes:a({},c.inner),children:[Y(a({tag:l.tag,attributes:a({},l.attributes,c.path)},d))]},p={tag:"g",attributes:a({},c.outer),children:[f]},g="mask-".concat(s||G()),m="clip-".concat(s||G()),v={tag:"mask",attributes:a({},Q,{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,p]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:(e=u,"g"===e.tag?e.children:[e])},v]};return n.push(b,{tag:"rect",attributes:a({fill:"currentColor","clip-path":"url(#".concat(m,")"),mask:"url(#".concat(g,")")},Q)}),{children:n,attributes:r}}(E):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=K(t.styles);if(o.length>0&&(n.style=o),$(i)){var s=J({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:a({},s.outer),children:[{tag:"g",attributes:a({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:a({},r.icon.attributes,s.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(E),S=I.attributes;return E.children=I.children,E.attributes=S,l?function(t){var e=t.iconName,n=t.children,r=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:a({},t.attributes,{id:!0===r?"".concat(t.prefix,"-").concat(C.familyPrefix,"-").concat(e):r}),children:n}]}]}(E):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if($(s)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=K(a({},o,{"transform-origin":"".concat(l.x+s.x/16,"em ").concat(l.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(E)}function Z(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.title,s=t.extra,l=t.watchable,u=void 0!==l&&l,c=a({},s.attributes,o?{title:o}:{},{class:s.classes.join(" ")});u&&(c["data-fa-i2svg"]="");var h=a({},s.styles);$(i)&&(h.transform=function(t){var e=t.transform,n=t.width,r=t.height,i=void 0===r?16:r,o=t.startCentered,a=void 0!==o&&o,s="";return s+=a&&m?"translate(".concat(e.x/z-(void 0===n?16:n)/2,"em, ").concat(e.y/z-i/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/z,"em), calc(-50% + ").concat(e.y/z,"em)) "):"translate(".concat(e.x/z,"em, ").concat(e.y/z,"em) "),(s+="scale(".concat(e.size/z*(e.flipX?-1:1),", ").concat(e.size/z*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),h["-webkit-transform"]=h.transform);var d=K(h);d.length>0&&(c.style=d);var f=[];return f.push({tag:"span",attributes:c,children:[e]}),o&&f.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),f}function tt(t){var e=t.content,n=t.title,r=t.extra,i=a({},r.attributes,n?{title:n}:{},{class:r.classes.join(" ")}),o=K(r.styles);o.length>0&&(i.style=o);var s=[];return s.push({tag:"span",attributes:i,children:[e]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}var et=function(t,e,n,r){var i,o,a,s=Object.keys(t),l=s.length,u=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,a=t[s[0]]):(i=0,a=n);i<l;i++)a=u(a,t[o=s[i]],o,t);return a};function nt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(e).reduce((function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{});"function"!=typeof E.hooks.addPack||i?E.styles[t]=a({},E.styles[t]||{},o):E.hooks.addPack(t,o),"fas"===t&&nt("fa",e)}var rt=E.styles,it=E.shims,ot=function(){var t=function(t){return et(rt,(function(e,n,r){return e[r]=et(n,t,{}),e}),{})};t((function(t,e,n){return e[3]&&(t[e[3]]=n),t})),t((function(t,e,n){var r=e[2];return t[n]=n,r.forEach((function(e){t[e]=n})),t}));var e="far"in rt;et(it,(function(t,n){var r=n[1];return"far"!==r||e||(r="fas"),t[n[0]]={prefix:r,iconName:n[2]},t}),{})};function at(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function st(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?W(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(W(t[n]),'" ')}),"").trim()}(r),">").concat(o.map(st).join(""),"</").concat(e,">")}function lt(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}ot(),(lt.prototype=Object.create(Error.prototype)).constructor=lt;var ut={fill:"currentColor"},ct={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},ht=(a({},ut,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),a({},ct,{attributeName:"opacity"}));function dt(t){var e=t[0],n=t[1],r=s(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(C.familyPrefix,"-").concat(y.GROUP)},children:[{tag:"path",attributes:{class:"".concat(C.familyPrefix,"-").concat(y.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(C.familyPrefix,"-").concat(y.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function ft(){C.autoAddCss&&!bt&&(function(t){if(t&&g){var e=p.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=p.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}p.head.insertBefore(e,r)}}(function(){var t="svg-inline--fa",e=C.familyPrefix,n=C.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==e||n!==t){var i=new RegExp("\\.".concat("fa","\\-"),"g"),o=new RegExp("\\--".concat("fa","\\-"),"g"),a=new RegExp("\\.".concat(t),"g");r=r.replace(i,".".concat(e,"-")).replace(o,"--".concat(e,"-")).replace(a,".".concat(n))}return r}()),bt=!0)}function pt(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(t){return st(t)}))}}),Object.defineProperty(t,"node",{get:function(){if(g){var e=p.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function gt(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return at(vt.definitions,n,r)||at(E.styles,n,r)}a({},ut,{cx:"256",cy:"364",r:"28"}),a({},ct,{attributeName:"r",values:"28;14;28;28;14;28;"}),a({},ht,{values:"1;0;1;1;0;1;"}),a({},ut,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),a({},ht,{values:"1;0;0;0;0;1;"}),a({},ut,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),a({},ht,{values:"0;0;1;1;0;0;"});var mt,vt=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(e){t.definitions[e]=a({},t.definitions[e]||{},i[e]),nt(e,i[e]),ot()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((function(e){var r=n[e],i=r.prefix,o=r.iconName,a=r.icon;t[i]||(t[i]={}),t[i][o]=a})),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()),bt=!1,yt=function(t){return function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce((function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t}),e):e}(t)},wt=(mt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?H:n,i=e.symbol,o=void 0!==i&&i,s=e.mask,l=void 0===s?null:s,u=e.maskId,c=void 0===u?null:u,h=e.title,d=void 0===h?null:h,f=e.titleId,p=void 0===f?null:f,g=e.classes,m=void 0===g?[]:g,v=e.attributes,b=void 0===v?{}:v,y=e.styles,w=void 0===y?{}:y;if(t){var _=t.prefix,k=t.iconName,E=t.icon;return pt(a({type:"icon"},t),(function(){return ft(),C.autoA11y&&(d?b["aria-labelledby"]="".concat(C.replacementClass,"-title-").concat(p||G()):(b["aria-hidden"]="true",b.focusable="false")),X({icons:{main:dt(E),mask:l?dt(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:k,transform:a({},H,r),symbol:o,title:d,maskId:c,titleId:p,extra:{attributes:b,styles:w,classes:m}})}))}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:gt(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:gt(r||{})),mt(n,a({},e,{mask:r}))});n.d(e,"a",(function(){return _t})),n.d(e,"b",(function(){return St})),n.d(e,"c",(function(){return It})),n.d(e,"d",(function(){return Ct})),n.d(e,"e",(function(){return Tt})),n.d(e,"f",(function(){return At})),n.d(e,"g",(function(){return Ot})),n.d(e,"h",(function(){return Nt})),n.d(e,"i",(function(){return Et})),n.d(e,"j",(function(){return Pt}));let _t=(()=>{class t{constructor(){this.defaultPrefix="fas",this.globalLibrary="unset"}}return t.ngInjectableDef=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Ct=(()=>{class t{constructor(){this.definitions={}}addIcons(...t){for(let e=0;e<t.length;e++){const n=t[e];n.prefix in this.definitions||(this.definitions[n.prefix]={}),this.definitions[n.prefix][n.iconName]=n}}addIconPacks(...t){for(let e=0;e<t.length;e++){const n=t[e],r=Object.keys(n).map(t=>n[t]);this.addIcons(...r)}}getIconDefinition(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}}return t.ngInjectableDef=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const kt=t=>{const e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,["fa-"+t.size]:null!==t.size,["fa-rotate-"+t.rotate]:null!==t.rotate,["fa-pull-"+t.pull]:null!==t.pull,["fa-stack-"+t.stackItemSize]:null!=t.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};class Et{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}class It{constructor(t,e,n,r){this.sanitizer=t,this.config=e,this.iconLibrary=n,this.stackItem=r,this.classes=[]}get iconProp(){return this.icon}set iconProp(t){this.icon=t}ngOnChanges(t){if(null!=this.icon){if(t){const t=this.findIconDefinition(this.icon);if(null!=t){const e=this.buildParams();this.renderIcon(t,e)}}}else console.error("FontAwesome: Property `icon` is required for `fa-icon`/`fa-duotone-icon` components. This warning will become a hard error in 0.6.0.")}render(){this.ngOnChanges({})}findIconDefinition(t){const e=((t,e)=>{return void 0!==(n=t).prefix&&void 0!==n.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;var n})(t,this.config.defaultPrefix);if("icon"in e)return e;const n=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);if(null!=n)return n;const r=gt(e);if(null!=r){const t="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+t);else if(!this.config.globalLibrary)throw new Error(t);return r}var i;return i=e,console.error(`FontAwesome: Could not find icon with iconName=${i.iconName} and prefix=${i.prefix}. This warning will become a hard error in 0.6.0.`),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,listItem:this.listItem,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:this.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},e="string"==typeof this.transform?yt(this.transform):this.transform;return{title:this.title,transform:e,classes:[...kt(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,e){const n=wt(t,e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}class St extends It{findIconDefinition(t){const e=super.findIconDefinition(t);if(null!=e&&"fad"!==e.prefix)throw new Error(`The specified icon does not appear to be a Duotone icon. Check that you specified the correct style: <fa-duotone-icon [icon]="['fab', '${e.iconName}']"></fa-duotone-icon> or use: <fa-icon icon="${e.iconName}"></fa-icon> instead.`);return e}buildParams(){const t=super.buildParams();return!0!==this.swapOpacity&&"true"!==this.swapOpacity||t.classes.push("fa-swap-opacity"),null!=this.primaryOpacity&&(t.styles["--fa-primary-opacity"]=this.primaryOpacity.toString()),null!=this.secondaryOpacity&&(t.styles["--fa-secondary-opacity"]=this.secondaryOpacity.toString()),null!=this.primaryColor&&(t.styles["--fa-primary-color"]=this.primaryColor),null!=this.secondaryColor&&(t.styles["--fa-secondary-color"]=this.secondaryColor),t}}class Tt{constructor(t,e){this.renderer=t,this.elementRef=e}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-layers")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,"fa-"+t.size.currentValue),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,"fa-"+t.size.previousValue))}}class xt{constructor(t,e){this.parent=t,this.sanitizer=e,this.classes=[],((t,e,n)=>{this.parent||console.error(`FontAwesome: ${this.constructor.name} should be used as child of FaLayersComponent only.`)})()}ngOnChanges(t){t&&(this.updateParams(),this.updateContent())}updateContent(){this.renderedHTML=this.sanitizer.bypassSecurityTrustHtml(this.renderFontawesomeObject(this.content||"",this.params).html.join("\n"))}}class At extends xt{updateParams(){this.params={title:this.title,classes:this.classes,styles:this.styles}}renderFontawesomeObject(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.title,r=void 0===n?null:n,i=e.classes,o=void 0===i?[]:i,a=e.attributes,s=void 0===a?{}:a,u=e.styles,c=void 0===u?{}:u;return pt({type:"counter",content:t},(function(){return ft(),tt({content:t.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(C.familyPrefix,"-layers-counter")].concat(l(o))}})}))}(t,e)}}class Ot extends xt{updateParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,listItem:this.listItem,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:this.fixedWidth},e="string"==typeof this.transform?yt(this.transform):this.transform;this.params={transform:e,classes:[...kt(t),...this.classes],title:this.title,styles:this.styles}}renderFontawesomeObject(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?H:n,i=e.title,o=void 0===i?null:i,s=e.classes,u=void 0===s?[]:s,c=e.attributes,h=void 0===c?{}:c,d=e.styles,f=void 0===d?{}:d;return pt({type:"text",content:t},(function(){return ft(),Z({content:t,transform:a({},H,r),title:o,extra:{attributes:h,styles:f,classes:["".concat(C.familyPrefix,"-layers-text")].concat(l(u))}})}))}(t,e)}}class Nt{constructor(t,e){this.renderer=t,this.elementRef=e}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,"fa-"+t.size.currentValue),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,"fa-"+t.size.previousValue))}}class Pt{}},O1pP:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n("reDK"),n("WMih"),n("hqm0"),n("ej4/"),n("UJ5t"),n("3mnW"),n("AiNZ"),n("hti6");class r{}},OLod:function(t,e,n){var r,i,o,a,s,l,u,c,h,d,f,p,g,m,v,b,y,w,_;t.exports=(r=n("Ib8C"),n("K3mO"),void(r.lib.Cipher||(i=r,o=i.lib,a=o.Base,s=o.WordArray,l=o.BufferedBlockAlgorithm,u=i.enc,c=u.Base64,h=i.algo.EvpKDF,d=o.Cipher=l.extend({cfg:a.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?_:y}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),o.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=i.mode={},p=o.BlockCipherMode=a.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),g=f.CBC=function(){var t=p.extend();function e(t,e,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=r[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i),r.encryptBlock(t,n),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);r.decryptBlock(t,n),e.call(this,t,n,i),this._prevBlock=o}}),t}(),m=(i.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,i=r<<24|r<<16|r<<8|r,o=[],a=0;a<r;a+=4)o.push(i);var l=s.create(o,r);t.concat(l)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:g,padding:m}),reset:function(){var t;d.reset.call(this);var e=this.cfg,n=e.iv,r=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=r.createEncryptor:(t=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,n&&n.words):(this._mode=t.call(r,this,n&&n.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),v=o.CipherParams=a.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),b=(i.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;return(n?s.create([1398893684,1701076831]).concat(n).concat(e):e).toString(c)},parse:function(t){var e,n=c.parse(t),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(e=s.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),v.create({ciphertext:n,salt:e})}},y=o.SerializableCipher=a.extend({cfg:a.extend({format:b}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),a=i.cfg;return v.create({ciphertext:o,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),w=(i.kdf={}).OpenSSL={execute:function(t,e,n,r){r||(r=s.random(8));var i=h.create({keySize:e+n}).compute(t,r),o=s.create(i.words.slice(e),4*n);return i.sigBytes=4*e,v.create({key:i,iv:o,salt:r})}},_=o.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:w}),encrypt:function(t,e,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=y.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=i.iv,y.decrypt.call(this,t,e,i.key,r)}}))))},ONxg:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("mrSG"),i=n("Jgta"),o=(n("WI49"),n("AAub"),n("5x/H"),n("Zs65"),n("6nsN"),n("2+LC")),a=n("LRne"),s=n("Mhm5"),l=n("8Y7J"),u=n("jDPn");let c=(()=>{class t{constructor(t){this.cripto=t}iniciarFirebase(){0===i.a.apps.length&&i.a.initializeApp(s.a.firebaseConfig)}getFotografiaPrincipal(t){let e=new o.a;return i.a.database().ref().child(`imagenesFB/${t}/principal`).on("value",t=>{let n=t.val();if(console.log("Obteniendo fotografia de BD",n),n)for(var r in n)e.url=n[r].url,e.nombre=n[r].nombre,e.tipo=n[r].tipo;else e.url="../../../assets/sin_imagen.png",e.nombre="default",e.tipo="principal"}),Object(a.a)(e)}getFotografiasSecundarias(t){let e=[];return i.a.database().ref().child(`imagenesFB/${t}/secundaria`).on("value",t=>{let n=t.val();for(var r in n){let t=new o.a;t.url=n[r].url,t.nombre=n[r].nombre,t.tipo=n[r].tipo,e.push(t)}}),Object(a.a)(e)}getFotografiasCroquis(t){let e=[];var n=i.a.database().ref().child(`imagenesFB/${t}/croquis`);return e=[],n.on("value",t=>{let n=t.val();for(var r in n){let t=new o.a;t.url=n[r].url,t.nombre=n[r].nombre,t.tipo=n[r].tipo,e.push(t)}}),Object(a.a)(e)}uploadImage(t,e,n){return r.a(this,void 0,void 0,(function*(){var r,a=i.a.storage().ref().child(`imagenes/${e}/${n}/${t.name}`);yield a.put(this.cripto.encriptarArchivo(t)).then(s=>{if("principal"==n){(r=i.a.database().ref().child(`imagenesFB/${e}/principal`)).remove();let n=t.name.split(".");r=i.a.database().ref().child(`imagenesFB/${e}/principal/${n[0]}`)}if("secundaria"==n){let n=t.name.split(".");r=i.a.database().ref().child(`imagenesFB/${e}/secundaria/${n[0]}`)}if("croquis"==n){let n=t.name.split(".");r=i.a.database().ref().child(`imagenesFB/${e}/croquis/${n[0]}`)}a.getDownloadURL().then(e=>{let i=new o.a;i.url=e,i.nombre=t.name,i.tipo=n,r.set({nombre:i.nombre,url:i.url,tipo:i.tipo})})})}))}deleteImage(t,e){let n=t.nombre.split(".")[0],r=i.a.database().ref().child(`imagenesFB/${e}/${t.tipo}/${n}`),o=i.a.storage().ref().child(`imagenes/${e}/${t.tipo}/${t.nombre}`);r.remove(),o.delete()}deleteNode(t){i.a.database().ref().child(`imagenesFB/${t}/`).remove(),this.deleteFolderContents(`imagenes/${t}/`)}deleteFolderContents(t){const e=i.a.storage().ref(t);e.listAll().then(t=>{t.items.forEach(t=>{this.deleteFile(e.fullPath,t.name)}),t.prefixes.forEach(t=>{this.deleteFolderContents(t.fullPath)})}).catch(t=>{console.log(t)})}deleteFile(t,e){i.a.storage().ref(t).child(e).delete()}}return t.ngInjectableDef=l.Nb({factory:function(){return new t(l.Ob(u.a))},token:t,providedIn:"root"}),t})()},PIQr:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("8Y7J"),i=n("zVCn"),o=n("ej4/"),a=n("z58d"),s=n("HTik"),l=n("UJ5t"),u=r.nb({encapsulation:2,styles:[],data:{}});function c(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Validaci\xf3n de fichas propuestas"])),(t()(),r.pb(3,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,['En esta secci\xf3n, el administrador, puede validar las fichas propuestas por los usuarios. Al validarlas pasan a almacenarse "en claro" en el servidor.'])),(t()(),r.pb(5,0,null,null,1,"app-listadofichas",[],null,null,null,i.c,i.b)),r.ob(6,114688,null,0,o.a,[a.a,s.a],{fichas:[0,"fichas"]},null)],(function(t,e){t(e,6,0,e.component.fichasSinValidar)}),null)}function h(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-validador",[],null,null,null,c,u)),r.ob(1,114688,null,0,l.a,[a.a],null,null)],(function(t,e){t(e,1,0)}),null)}var d=r.lb("app-validador",l.a,h,{},{},[])},PSD3:function(t,e,n){t.exports=function(){"use strict";const t=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),e=t=>t.charAt(0).toUpperCase()+t.slice(1),n=t=>Array.prototype.slice.call(t),r=t=>{console.warn("".concat("SweetAlert2:"," ").concat("object"==typeof t?t.join(" "):t))},i=t=>{console.error("".concat("SweetAlert2:"," ").concat(t))},o=[],a=t=>"function"==typeof t?t():t,s=t=>t&&"function"==typeof t.toPromise,l=t=>s(t)?t.toPromise():Promise.resolve(t),u=t=>t&&Promise.resolve(t)===t,c=t=>t instanceof Element||(t=>"object"==typeof t&&t.jquery)(t),h=t=>{const e={};for(const n in t)e[t[n]]="swal2-"+t[n];return e},d=h(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),f=h(["success","warning","info","question","error"]),p=()=>document.body.querySelector(".".concat(d.container)),g=t=>{const e=p();return e?e.querySelector(t):null},m=t=>g(".".concat(t)),v=()=>m(d.popup),b=()=>m(d.icon),y=()=>m(d.title),w=()=>m(d["html-container"]),_=()=>m(d.image),C=()=>m(d["progress-steps"]),k=()=>m(d["validation-message"]),E=()=>g(".".concat(d.actions," .").concat(d.confirm)),I=()=>g(".".concat(d.actions," .").concat(d.deny)),S=()=>g(".".concat(d.loader)),T=()=>g(".".concat(d.actions," .").concat(d.cancel)),x=()=>m(d.actions),A=()=>m(d.footer),O=()=>m(d["timer-progress-bar"]),N=()=>m(d.close),P=()=>{const t=n(v().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((t,e)=>(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0),e=n(v().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(t=>"-1"!==t.getAttribute("tabindex"));return(t=>{const e=[];for(let n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e})(t.concat(e)).filter(t=>Q(t))},R=()=>!D()&&!document.body.classList.contains(d["no-backdrop"]),D=()=>document.body.classList.contains(d["toast-shown"]),M={previousBodyPadding:null},j=(t,e)=>{if(t.textContent="",e){const r=(new DOMParser).parseFromString(e,"text/html");n(r.querySelector("head").childNodes).forEach(e=>{t.appendChild(e)}),n(r.querySelector("body").childNodes).forEach(e=>{t.appendChild(e)})}},L=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},B=(t,e,i)=>{if(((t,e)=>{n(t.classList).forEach(n=>{Object.values(d).includes(n)||Object.values(f).includes(n)||Object.values(e.showClass).includes(n)||t.classList.remove(n)})})(t,e),e.customClass&&e.customClass[i]){if("string"!=typeof e.customClass[i]&&!e.customClass[i].forEach)return r("Invalid type of customClass.".concat(i,'! Expected string or iterable object, got "').concat(typeof e.customClass[i],'"'));q(t,e.customClass[i])}},F=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return H(t,d[e]);case"checkbox":return t.querySelector(".".concat(d.checkbox," input"));case"radio":return t.querySelector(".".concat(d.radio," input:checked"))||t.querySelector(".".concat(d.radio," input:first-child"));case"range":return t.querySelector(".".concat(d.range," input"));default:return H(t,d.input)}},V=t=>{if(t.focus(),"file"!==t.type){const e=t.value;t.value="",t.value=e}},U=(t,e,n)=>{t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(e=>{t.forEach?t.forEach(t=>{n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))},q=(t,e)=>{U(t,e,!0)},z=(t,e)=>{U(t,e,!1)},H=(t,e)=>{for(let n=0;n<t.childNodes.length;n++)if(L(t.childNodes[n],e))return t.childNodes[n]},G=(t,e,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},W=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.display=e},K=t=>{t.style.display="none"},$=(t,e,n,r)=>{const i=t.querySelector(e);i&&(i.style[n]=r)},J=(t,e,n)=>{e?W(t,n):K(t)},Q=t=>!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),Y=t=>!!(t.scrollHeight>t.clientHeight),X=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},Z=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=O();Q(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"},10))},tt=()=>"undefined"==typeof window||"undefined"==typeof document,et='\n <div aria-labelledby="'.concat(d.title,'" aria-describedby="').concat(d["html-container"],'" class="').concat(d.popup,'" tabindex="-1">\n   <button type="button" class="').concat(d.close,'"></button>\n   <ul class="').concat(d["progress-steps"],'"></ul>\n   <div class="').concat(d.icon,'"></div>\n   <img class="').concat(d.image,'" />\n   <h2 class="').concat(d.title,'" id="').concat(d.title,'"></h2>\n   <div class="').concat(d["html-container"],'" id="').concat(d["html-container"],'"></div>\n   <input class="').concat(d.input,'" />\n   <input type="file" class="').concat(d.file,'" />\n   <div class="').concat(d.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(d.select,'"></select>\n   <div class="').concat(d.radio,'"></div>\n   <label for="').concat(d.checkbox,'" class="').concat(d.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(d.label,'"></span>\n   </label>\n   <textarea class="').concat(d.textarea,'"></textarea>\n   <div class="').concat(d["validation-message"],'" id="').concat(d["validation-message"],'"></div>\n   <div class="').concat(d.actions,'">\n     <div class="').concat(d.loader,'"></div>\n     <button type="button" class="').concat(d.confirm,'"></button>\n     <button type="button" class="').concat(d.deny,'"></button>\n     <button type="button" class="').concat(d.cancel,'"></button>\n   </div>\n   <div class="').concat(d.footer,'"></div>\n   <div class="').concat(d["timer-progress-bar-container"],'">\n     <div class="').concat(d["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),nt=()=>{De.isVisible()&&De.resetValidationMessage()},rt=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):"object"==typeof t?it(t,e):t&&j(e,t)},it=(t,e)=>{t.jquery?ot(e,t):j(e,t.toString())},ot=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},at=(()=>{if(tt())return!1;const t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1})();function st(t,n,r){J(t,r["show".concat(e(n),"Button")],"inline-block"),j(t,r["".concat(n,"ButtonText")]),t.setAttribute("aria-label",r["".concat(n,"ButtonAriaLabel")]),t.className=d[n],B(t,r,"".concat(n,"Button")),q(t,r["".concat(n,"ButtonClass")])}var lt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ut=["input","file","range","select","radio","checkbox","textarea"],ct=(t,e)=>{t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},ht=(t,e,n)=>{if(n.inputLabel){t.id=d.input;const r=document.createElement("label"),i=d["input-label"];r.setAttribute("for",t.id),r.className=i,q(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},dt=t=>{const e=d[t]?d[t]:d.input;return H(v(),e)},ft={};ft.text=ft.email=ft.password=ft.number=ft.tel=ft.url=(t,e)=>("string"==typeof e.inputValue||"number"==typeof e.inputValue?t.value=e.inputValue:u(e.inputValue)||r('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof e.inputValue,'"')),ht(t,t,e),ct(t,e),t.type=e.input,t),ft.file=(t,e)=>(ht(t,t,e),ct(t,e),t),ft.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,ht(n,t,e),t},ft.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");j(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return ht(t,t,e),t},ft.radio=t=>(t.textContent="",t),ft.checkbox=(t,e)=>{const n=F(v(),"checkbox");n.value=1,n.id=d.checkbox,n.checked=Boolean(e.inputValue);const r=t.querySelector("span");return j(r,e.inputPlaceholder),t},ft.textarea=(t,e)=>(t.value=e.inputValue,ct(t,e),ht(t,t,e),setTimeout(()=>{if("MutationObserver"in window){const e=parseInt(window.getComputedStyle(v()).width);new MutationObserver(()=>{const n=t.offsetWidth+(r=t,parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight));var r;v().style.width=n>e?"".concat(n,"px"):null}).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t);const pt=(t,e)=>{for(const n in f)e.icon!==n&&z(t,f[n]);q(t,f[e.icon]),vt(t,e),gt(),B(t,e,"icon")},gt=()=>{const t=v(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},mt=(t,e)=>{t.textContent="",j(t,e.iconHtml?bt(e.iconHtml):"success"===e.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===e.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':bt({question:"?",warning:"!",info:"i"}[e.icon]))},vt=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])$(t,n,"backgroundColor",e.iconColor);$(t,".swal2-success-ring","borderColor",e.iconColor)}},bt=t=>'<div class="'.concat(d["icon-content"],'">').concat(t,"</div>"),yt=(t,e)=>{((t,e)=>{const n=p(),r=v();e.toast?(G(n,"width",e.width),r.style.width="100%",r.insertBefore(S(),b())):G(r,"width",e.width),G(r,"padding",e.padding),e.background&&(r.style.background=e.background),K(k()),((t,e)=>{t.className="".concat(d.popup," ").concat(Q(t)?e.showClass.popup:""),e.toast?(q([document.documentElement,document.body],d["toast-shown"]),q(t,d.toast)):q(t,d.modal),B(t,e,"popup"),"string"==typeof e.customClass&&q(t,e.customClass),e.icon&&q(t,d["icon-".concat(e.icon)])})(r,e)})(0,e),((t,e)=>{const n=p();n&&(function(t,e){"string"==typeof e?t.style.background=e:e||q([document.documentElement,document.body],d["no-backdrop"])}(n,e.backdrop),function(t,e){e in d?q(t,d[e]):(r('The "position" parameter is not valid, defaulting to "center"'),q(t,d.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){const n="grow-".concat(e);n in d&&q(t,d[n])}}(n,e.grow),B(n,e,"container"))})(0,e),((t,e)=>{const n=C();if(!e.progressSteps||0===e.progressSteps.length)return K(n);W(n),n.textContent="",e.currentProgressStep>=e.progressSteps.length&&r("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((t,r)=>{const i=(t=>{const e=document.createElement("li");return q(e,d["progress-step"]),j(e,t),e})(t);if(n.appendChild(i),r===e.currentProgressStep&&q(i,d["active-progress-step"]),r!==e.progressSteps.length-1){const t=(t=>{const e=document.createElement("li");return q(e,d["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e})(e);n.appendChild(t)}})})(0,e),((t,e)=>{const n=lt.innerParams.get(t),r=b();n&&e.icon===n.icon?(mt(r,e),pt(r,e)):e.icon||e.iconHtml?e.icon&&-1===Object.keys(f).indexOf(e.icon)?(i('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),K(r)):(W(r),mt(r,e),pt(r,e),q(r,e.showClass.icon)):K(r)})(t,e),((t,e)=>{const n=_();if(!e.imageUrl)return K(n);W(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),G(n,"width",e.imageWidth),G(n,"height",e.imageHeight),n.className=d.image,B(n,e,"image")})(0,e),((t,e)=>{const n=y();J(n,e.title||e.titleText,"block"),e.title&&rt(e.title,n),e.titleText&&(n.innerText=e.titleText),B(n,e,"title")})(0,e),((t,e)=>{const n=N();j(n,e.closeButtonHtml),B(n,e,"closeButton"),J(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)})(0,e),((t,e)=>{const n=w();B(n,e,"htmlContainer"),e.html?(rt(e.html,n),W(n,"block")):e.text?(n.textContent=e.text,W(n,"block")):K(n),((t,e)=>{const n=v(),r=lt.innerParams.get(t),o=!r||e.input!==r.input;ut.forEach(t=>{const r=d[t],i=H(n,r);((t,e)=>{const n=F(v(),t);if(n){(t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["type","value","style"].includes(n)||t.removeAttribute(n)}})(n);for(const t in e)n.setAttribute(t,e[t])}})(t,e.inputAttributes),i.className=r,o&&K(i)}),e.input&&(o&&(t=>{if(!ft[t.input])return i('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));const e=dt(t.input),n=ft[t.input](e,t);W(n),setTimeout(()=>{V(n)})})(e),(t=>{const e=dt(t.input);t.customClass&&q(e,t.customClass.input)})(e))})(t,e)})(t,e),((t,e)=>{const n=x(),r=S();e.showConfirmButton||e.showDenyButton||e.showCancelButton?W(n):K(n),B(n,e,"actions"),function(t,e,n){const r=E(),i=I(),o=T();st(r,"confirm",n),st(i,"deny",n),st(o,"cancel",n),function(t,e,n,r){if(!r.buttonsStyling)return z([t,e,n],d.styled);q([t,e,n],d.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,q(t,d["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,q(e,d["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,q(n,d["default-outline"]))}(r,i,o,n),n.reverseButtons&&(n.toast?(t.insertBefore(o,r),t.insertBefore(i,r)):(t.insertBefore(o,e),t.insertBefore(i,e),t.insertBefore(r,e)))}(n,r,e),j(r,e.loaderHtml),B(r,e,"loader")})(0,e),((t,e)=>{const n=A();J(n,e.footer),e.footer&&rt(e.footer,n),B(n,e,"footer")})(0,e),"function"==typeof e.didRender&&e.didRender(v())},wt=()=>E()&&E().click(),_t=t=>{let e=v();e||De.fire(),e=v();const n=S();D()?K(b()):Ct(e,t),W(n),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},Ct=(t,e)=>{const n=x(),r=S();!e&&Q(E())&&(e=E()),W(n),e&&(K(e),r.setAttribute("data-button-to-replace",e.className)),r.parentNode.insertBefore(r,e),q([t,n],d.loading)},kt={},Et=()=>{if(kt.timeout)return(()=>{const t=O(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")})(),kt.timeout.stop()},It=()=>{if(kt.timeout){const t=kt.timeout.start();return Z(t),t}};let St=!1;const Tt={},xt=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const t in Tt){const n=e.getAttribute(t);if(n)return void Tt[t].fire({template:n})}},At={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ot=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Nt={},Pt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Rt=t=>Object.prototype.hasOwnProperty.call(At,t),Dt=t=>Nt[t],Mt=t=>{Rt(t)||r('Unknown parameter "'.concat(t,'"'))},jt=t=>{Pt.includes(t)&&r('The parameter "'.concat(t,'" is incompatible with toasts'))},Lt=t=>{var e,n,i;Dt(t)&&(e=t,n=Dt(t),i='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),o.includes(i)||(o.push(i),r(i)))},Bt=t=>{!t.backdrop&&t.allowOutsideClick&&r('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)Mt(e),t.toast&&jt(e),Lt(e)};var Ft=Object.freeze({isValidParameter:Rt,isUpdatableParameter:t=>-1!==Ot.indexOf(t),isDeprecatedParameter:Dt,argsToParams:t=>{const e={};return"object"!=typeof t[0]||c(t[0])?["title","html","icon"].forEach((n,r)=>{const o=t[r];"string"==typeof o||c(o)?e[n]=o:void 0!==o&&i("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof o))}):Object.assign(e,t[0]),e},isVisible:()=>Q(v()),clickConfirm:wt,clickDeny:()=>I()&&I().click(),clickCancel:()=>T()&&T().click(),getContainer:p,getPopup:v,getTitle:y,getHtmlContainer:w,getImage:_,getIcon:b,getInputLabel:()=>m(d["input-label"]),getCloseButton:N,getActions:x,getConfirmButton:E,getDenyButton:I,getCancelButton:T,getLoader:S,getFooter:A,getTimerProgressBar:O,getFocusableElements:P,getValidationMessage:k,isLoading:()=>v().hasAttribute("data-loading"),fire:function(){const t=this;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new t(...n)},mixin:function(t){return class extends(this){_main(e,n){return super._main(e,Object.assign({},t,n))}}},showLoading:_t,enableLoading:_t,getTimerLeft:()=>kt.timeout&&kt.timeout.getTimerLeft(),stopTimer:Et,resumeTimer:It,toggleTimer:()=>{const t=kt.timeout;return t&&(t.running?Et():It())},increaseTimer:t=>{if(kt.timeout){const e=kt.timeout.increase(t);return Z(e,!0),e}},isTimerRunning:()=>kt.timeout&&kt.timeout.isRunning(),bindClickHandler:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template";Tt[t]=this,St||(document.body.addEventListener("click",xt),St=!0)}});function Vt(){const t=lt.innerParams.get(this);if(!t)return;const e=lt.domCache.get(this);K(e.loader),D()?t.icon&&W(b()):Ut(e),z([e.popup,e.actions],d.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Ut=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?W(e[0],"inline-block"):Q(E())||Q(I())||Q(T())||K(t.actions)},qt=t=>t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType,zt=t=>t.touches&&t.touches.length>1,Ht=()=>{n(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})};var Gt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Wt(t,e,n,r){D()?Zt(t,r):((t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;kt.restoreFocusTimeout=setTimeout(()=>{kt.previousActiveElement&&kt.previousActiveElement.focus?(kt.previousActiveElement.focus(),kt.previousActiveElement=null):document.body&&document.body.focus(),e()},100),window.scrollTo(n,r)}))(n).then(()=>Zt(t,r)),kt.keydownTarget.removeEventListener("keydown",kt.keydownHandler,{capture:kt.keydownListenerCapture}),kt.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),R()&&(null!==M.previousBodyPadding&&(document.body.style.paddingRight="".concat(M.previousBodyPadding,"px"),M.previousBodyPadding=null),(()=>{if(L(document.body,d.iosfix)){const t=parseInt(document.body.style.top,10);z(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}})(),Ht()),z([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function Kt(t){t=Qt(t);const e=Gt.swalPromiseResolve.get(this),n=$t(this);this.isAwaitingPromise()?t.isDismissed||(Jt(this),e(t)):n&&e(t)}const $t=t=>{const e=v();if(!e)return!1;const n=lt.innerParams.get(t);if(!n||L(e,n.hideClass.popup))return!1;z(e,n.showClass.popup),q(e,n.hideClass.popup);const r=p();return z(r,n.showClass.backdrop),q(r,n.hideClass.backdrop),Yt(t,e,n),!0},Jt=t=>{t.isAwaitingPromise()&&(lt.awaitingPromise.delete(t),lt.innerParams.get(t)||t._destroy())},Qt=t=>void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),Yt=(t,e,n)=>{const r=p(),i=at&&X(e);"function"==typeof n.willClose&&n.willClose(e),i?Xt(t,e,r,n.returnFocus,n.didClose):Wt(t,r,n.returnFocus,n.didClose)},Xt=(t,e,n,r,i)=>{kt.swalCloseEventFinishedCallback=Wt.bind(null,t,n,r,i),e.addEventListener(at,(function(t){t.target===e&&(kt.swalCloseEventFinishedCallback(),delete kt.swalCloseEventFinishedCallback)}))},Zt=(t,e)=>{setTimeout(()=>{"function"==typeof e&&e.bind(t.params)(),t._destroy()})};function te(t,e,n){const r=lt.domCache.get(t);e.forEach(t=>{r[t].disabled=n})}function ee(t,e){if(!t)return!1;if("radio"===t.type){const n=t.parentNode.parentNode.querySelectorAll("input");for(let t=0;t<n.length;t++)n[t].disabled=e}else t.disabled=e}class ne{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var re={email:(t,e)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function ie(t){!function(t){t.inputValidator||Object.keys(re).forEach(e=>{t.input===e&&(t.inputValidator=re[e])})}(t),t.showLoaderOnConfirm&&!t.preConfirm&&r("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(r('Target parameter is not valid, defaulting to "body"'),t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),(t=>{const e=(()=>{const t=p();return!!t&&(t.remove(),z([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0)})();if(tt())return void i("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=d.container,e&&q(n,d["no-transition"]),j(n,et);const r="string"==typeof(o=t.target)?document.querySelector(o):o;var o;r.appendChild(n),(t=>{const e=v();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")})(t),(t=>{"rtl"===window.getComputedStyle(t).direction&&q(p(),d.rtl)})(r),(()=>{const t=v(),e=H(t,d.input),n=H(t,d.file),r=t.querySelector(".".concat(d.range," input")),i=t.querySelector(".".concat(d.range," output")),o=H(t,d.select),a=t.querySelector(".".concat(d.checkbox," input")),s=H(t,d.textarea);e.oninput=nt,n.onchange=nt,o.onchange=nt,a.onchange=nt,s.oninput=nt,r.oninput=()=>{nt(),i.value=r.value},r.onchange=()=>{nt(),r.nextSibling.value=r.value}})()})(t)}const oe=["swal-title","swal-html","swal-footer"],ae=(t,e)=>{n(t.attributes).forEach(n=>{-1===e.indexOf(n.name)&&r(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])})},se=t=>{const e=v();if(t.target!==e)return;const n=p();e.removeEventListener(at,se),n.style.overflowY="auto"},le=(t,e,n)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!L(document.body,d.iosfix)){const t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),q(document.body,d.iosfix),(()=>{const t=p();let e;t.ontouchstart=t=>{e=(t=>{const e=t.target,n=p();return!(qt(t)||zt(t)||e!==n&&(Y(n)||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||Y(w())&&w().contains(e)))})(t)},t.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}})(),(()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const t=44;v().scrollHeight>window.innerHeight-t&&(p().style.paddingBottom="".concat(t,"px"))}})()}})(),e&&"hidden"!==n&&null===M.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(M.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(M.previousBodyPadding+(()=>{const t=document.createElement("div");t.className=d["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e})(),"px")),setTimeout(()=>{t.scrollTop=0})},ue={select:(t,e,n)=>{const r=H(t,d.select),i=(t,e,r)=>{const i=document.createElement("option");i.value=r,j(i,e),i.selected=he(r,n.inputValue),t.appendChild(i)};e.forEach(t=>{const e=t[0],n=t[1];if(Array.isArray(n)){const t=document.createElement("optgroup");t.label=e,t.disabled=!1,r.appendChild(t),n.forEach(e=>i(t,e[1],e[0]))}else i(r,n,e)}),r.focus()},radio:(t,e,n)=>{const r=H(t,d.radio);e.forEach(t=>{const e=t[0],i=t[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=d.radio,o.value=e,he(e,n.inputValue)&&(o.checked=!0);const s=document.createElement("span");j(s,i),s.className=d.label,a.appendChild(o),a.appendChild(s),r.appendChild(a)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}},ce=t=>{const e=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach((t,n)=>{let r=t;"object"==typeof r&&(r=ce(r)),e.push([n,r])}):Object.keys(t).forEach(n=>{let r=t[n];"object"==typeof r&&(r=ce(r)),e.push([n,r])}),e},he=(t,e)=>e&&e.toString()===t.toString(),de=(t,e)=>{const n=lt.innerParams.get(t),r=((t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return(t=>t.checked?1:0)(n);case"radio":return(t=>t.checked?t.value:null)(n);case"file":return(t=>t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null)(n);default:return e.inputAutoTrim?n.value.trim():n.value}})(t,n);n.inputValidator?fe(t,r,e):t.getInput().checkValidity()?"deny"===e?pe(t,r):ve(t,r):(t.enableButtons(),t.showValidationMessage(n.validationMessage))},fe=(t,e,n)=>{const r=lt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>l(r.inputValidator(e,r.validationMessage))).then(r=>{t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):"deny"===n?pe(t,e):ve(t,e)})},pe=(t,e)=>{const n=lt.innerParams.get(t||void 0);n.showLoaderOnDeny&&_t(I()),n.preDeny?(lt.awaitingPromise.set(t||void 0,!0),Promise.resolve().then(()=>l(n.preDeny(e,n.validationMessage))).then(n=>{!1===n?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===n?e:n})}).catch(e=>me(t||void 0,e))):t.closePopup({isDenied:!0,value:e})},ge=(t,e)=>{t.closePopup({isConfirmed:!0,value:e})},me=(t,e)=>{t.rejectPromise(e)},ve=(t,e)=>{const n=lt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&_t(),n.preConfirm?(t.resetValidationMessage(),lt.awaitingPromise.set(t||void 0,!0),Promise.resolve().then(()=>l(n.preConfirm(e,n.validationMessage))).then(n=>{Q(k())||!1===n?t.hideLoading():ge(t,void 0===n?e:n)}).catch(e=>me(t||void 0,e))):ge(t,e)},be=(t,e,n)=>{const r=P();if(r.length)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();v().focus()},ye=["ArrowRight","ArrowDown"],we=["ArrowLeft","ArrowUp"];let _e=!1;const Ce=(t,i)=>{const o=(t=>{const i="string"==typeof t.template?document.querySelector(t.template):t.template;if(!i)return{};const o=i.content;return(t=>{const e=oe.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);n(t.children).forEach(t=>{const n=t.tagName.toLowerCase();-1===e.indexOf(n)&&r("Unrecognized element <".concat(n,">"))})})(o),Object.assign((t=>{const e={};return n(t.querySelectorAll("swal-param")).forEach(t=>{ae(t,["name","value"]);const n=t.getAttribute("name");let r=t.getAttribute("value");"boolean"==typeof At[n]&&"false"===r&&(r=!1),"object"==typeof At[n]&&(r=JSON.parse(r)),e[n]=r}),e})(o),(t=>{const r={};return n(t.querySelectorAll("swal-button")).forEach(t=>{ae(t,["type","color","aria-label"]);const n=t.getAttribute("type");r["".concat(n,"ButtonText")]=t.innerHTML,r["show".concat(e(n),"Button")]=!0,t.hasAttribute("color")&&(r["".concat(n,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(r["".concat(n,"ButtonAriaLabel")]=t.getAttribute("aria-label"))}),r})(o),(t=>{const e={},n=t.querySelector("swal-image");return n&&(ae(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e})(o),(t=>{const e={},n=t.querySelector("swal-icon");return n&&(ae(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e})(o),(t=>{const e={},r=t.querySelector("swal-input");r&&(ae(r,["type","label","placeholder","value"]),e.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(e.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(e.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(e.inputValue=r.getAttribute("value")));const i=t.querySelectorAll("swal-input-option");return i.length&&(e.inputOptions={},n(i).forEach(t=>{ae(t,["value"]);const n=t.getAttribute("value");e.inputOptions[n]=t.innerHTML})),e})(o),((t,e)=>{const n={};for(const r in e){const i=e[r],o=t.querySelector(i);o&&(ae(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n})(o,oe))})(t),a=Object.assign({},At,i,o,t);return a.showClass=Object.assign({},At.showClass,a.showClass),a.hideClass=Object.assign({},At.hideClass,a.hideClass),a},ke=(e,r,o)=>new Promise((c,h)=>{const f=t=>{e.closePopup({isDismissed:!0,dismiss:t})};Gt.swalPromiseResolve.set(e,c),Gt.swalPromiseReject.set(e,h),r.confirmButton.onclick=()=>(t=>{const e=lt.innerParams.get(t);t.disableButtons(),e.input?de(t,"confirm"):ve(t,!0)})(e),r.denyButton.onclick=()=>(t=>{const e=lt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?de(t,"deny"):pe(t,!1)})(e),r.cancelButton.onclick=()=>((e,n)=>{e.disableButtons(),n(t.cancel)})(e,f),r.closeButton.onclick=()=>f(t.close),((e,n,r)=>{lt.innerParams.get(e).toast?((e,n,r)=>{n.popup.onclick=()=>{const n=lt.innerParams.get(e);n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton||n.timer||n.input||r(t.close)}})(e,n,r):((t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(_e=!0)}}})(n),(t=>{t.container.onmousedown=()=>{t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(_e=!0)}}})(n),((e,n,r)=>{n.container.onclick=i=>{const o=lt.innerParams.get(e);_e?_e=!1:i.target===n.container&&a(o.allowOutsideClick)&&r(t.backdrop)}})(e,n,r))})(e,r,f),((e,n,r,i)=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1),r.toast||(n.keydownHandler=n=>((e,n,r)=>{const i=lt.innerParams.get(e);i&&(i.stopKeydownPropagation&&n.stopPropagation(),"Enter"===n.key?((t,e,n)=>{if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;wt(),e.preventDefault()}})(e,n,i):"Tab"===n.key?((t,e)=>{const n=t.target,r=P();let i=-1;for(let o=0;o<r.length;o++)if(n===r[o]){i=o;break}be(0,i,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()})(n):[...ye,...we].includes(n.key)?(t=>{if(![E(),I(),T()].includes(document.activeElement))return;const e=ye.includes(t)?"nextElementSibling":"previousElementSibling",n=document.activeElement[e];n&&n.focus()})(n.key):"Escape"===n.key&&((e,n,r)=>{a(n.allowEscapeKey)&&(e.preventDefault(),r(t.esc))})(n,i,r))})(e,n,i),n.keydownTarget=r.keydownListenerCapture?window:v(),n.keydownListenerCapture=r.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)})(e,kt,o,f),((t,e)=>{"select"===e.input||"radio"===e.input?((t,e)=>{const n=v(),r=t=>ue[e.input](n,ce(t),e);s(e.inputOptions)||u(e.inputOptions)?(_t(E()),l(e.inputOptions).then(e=>{t.hideLoading(),r(e)})):"object"==typeof e.inputOptions?r(e.inputOptions):i("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof e.inputOptions))})(t,e):["text","email","number","tel","textarea"].includes(e.input)&&(s(e.inputValue)||u(e.inputValue))&&(_t(E()),((t,e)=>{const n=t.getInput();K(n),l(e.inputValue).then(r=>{n.value="number"===e.input?parseFloat(r)||0:"".concat(r),W(n),n.focus(),t.hideLoading()}).catch(e=>{i("Error in inputValue promise: ".concat(e)),n.value="",W(n),n.focus(),t.hideLoading()})})(t,e))})(e,o),(t=>{const e=p(),r=v();"function"==typeof t.willOpen&&t.willOpen(r);const i=window.getComputedStyle(document.body).overflowY;((t,e,n)=>{q(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),W(e,"grid"),setTimeout(()=>{q(e,n.showClass.popup),e.style.removeProperty("opacity")},10),q([document.documentElement,document.body],d.shown),n.heightAuto&&n.backdrop&&!n.toast&&q([document.documentElement,document.body],d["height-auto"])})(e,r,t),setTimeout(()=>{((t,e)=>{at&&X(e)?(t.style.overflowY="hidden",e.addEventListener(at,se)):t.style.overflowY="auto"})(e,r)},10),R()&&(le(e,t.scrollbarPadding,i),n(document.body.children).forEach(t=>{t===p()||t.contains(p())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),D()||kt.previousActiveElement||(kt.previousActiveElement=document.activeElement),"function"==typeof t.didOpen&&setTimeout(()=>t.didOpen(r)),z(e,d["no-transition"])})(o),Ie(kt,o,f),Se(r,o),setTimeout(()=>{r.container.scrollTop=0})}),Ee=t=>{const e={popup:v(),container:p(),actions:x(),confirmButton:E(),denyButton:I(),cancelButton:T(),loader:S(),closeButton:N(),validationMessage:k(),progressSteps:C()};return lt.domCache.set(t,e),e},Ie=(t,e,n)=>{const r=O();K(r),e.timer&&(t.timeout=new ne(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(W(r),setTimeout(()=>{t.timeout&&t.timeout.running&&Z(e.timer)})))},Se=(t,e)=>{if(!e.toast)return a(e.allowEnterKey)?void(Te(t,e)||be(0,-1,1)):xe()},Te=(t,e)=>e.focusDeny&&Q(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Q(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!Q(t.confirmButton)||(t.confirmButton.focus(),0)),xe=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},Ae=t=>{t.isAwaitingPromise()?(Oe(lt,t),lt.awaitingPromise.set(t,!0)):(Oe(Gt,t),Oe(lt,t))},Oe=(t,e)=>{for(const n in t)t[n].delete(e)};var Ne=Object.freeze({hideLoading:Vt,disableLoading:Vt,getInput:function(t){const e=lt.innerParams.get(t||this),n=lt.domCache.get(t||this);return n?F(n.popup,e.input):null},close:Kt,isAwaitingPromise:function(){return!!lt.awaitingPromise.get(this)},rejectPromise:function(t){const e=Gt.swalPromiseReject.get(this);Jt(this),e&&e(t)},closePopup:Kt,closeModal:Kt,closeToast:Kt,enableButtons:function(){te(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){te(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return ee(this.getInput(),!1)},disableInput:function(){return ee(this.getInput(),!0)},showValidationMessage:function(t){const e=lt.domCache.get(this),n=lt.innerParams.get(this);j(e.validationMessage,t),e.validationMessage.className=d["validation-message"],n.customClass&&n.customClass.validationMessage&&q(e.validationMessage,n.customClass.validationMessage),W(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",d["validation-message"]),V(r),q(r,d.inputerror))},resetValidationMessage:function(){const t=lt.domCache.get(this);t.validationMessage&&K(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),z(e,d.inputerror))},getProgressSteps:function(){return lt.domCache.get(this).progressSteps},_main:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Bt(Object.assign({},e,t)),kt.currentInstance&&(kt.currentInstance._destroy(),R()&&Ht()),kt.currentInstance=this;const n=Ce(t,e);ie(n),Object.freeze(n),kt.timeout&&(kt.timeout.stop(),delete kt.timeout),clearTimeout(kt.restoreFocusTimeout);const r=Ee(this);return yt(this,n),lt.innerParams.set(this,n),ke(this,r,n)},update:function(t){const e=v(),n=lt.innerParams.get(this);if(!e||L(e,n.hideClass.popup))return r("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const i={};Object.keys(t).forEach(e=>{De.isUpdatableParameter(e)?i[e]=t[e]:r('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const o=Object.assign({},n,i);yt(this,o),lt.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){const t=lt.domCache.get(this),e=lt.innerParams.get(this);e?(t.popup&&kt.swalCloseEventFinishedCallback&&(kt.swalCloseEventFinishedCallback(),delete kt.swalCloseEventFinishedCallback),kt.deferDisposalTimer&&(clearTimeout(kt.deferDisposalTimer),delete kt.deferDisposalTimer),"function"==typeof e.didDestroy&&e.didDestroy(),Ae(this),delete this.params,delete kt.keydownHandler,delete kt.keydownTarget,delete kt.currentInstance):Ae(this)}});let Pe;class Re{constructor(){if("undefined"==typeof window)return;Pe=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});const i=this._main(this.params);lt.promise.set(this,i)}then(t){return lt.promise.get(this).then(t)}finally(t){return lt.promise.get(this).finally(t)}}Object.assign(Re.prototype,Ne),Object.assign(Re,Ft),Object.keys(Ne).forEach(t=>{Re[t]=function(){if(Pe)return Pe[t](...arguments)}}),Re.DismissReason=t,Re.version="11.2.0";const De=Re;return De.default=De,De}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},PVpz:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=r,e=t.lib.StreamCipher,n=[],i=[],o=[],a=t.algo.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)s.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(e){var o=e.words,a=o[0],l=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),h=u>>>16|4294901760&c,d=c<<16|65535&u;for(r[0]^=u,r[1]^=h,r[2]^=c,r[3]^=d,r[4]^=u,r[5]^=h,r[6]^=c,r[7]^=d,i=0;i<4;i++)s.call(this)}},_doProcessBlock:function(t,e){var r=this._X;s.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),t[e+i]^=n[i]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,n=0;n<8;n++)i[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],a=65535&r,s=r>>>16;o[n]=((a*a>>>17)+a*s>>>15)+s*s^((4294901760&r)*r|0)+((65535&r)*r|0)}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=e._createHelper(a)}(),r.RabbitLegacy)},QxgN:function(t,e,n){"use strict";var r=n("8Y7J");class i{constructor(t,e){this.fotografiasService=t,this.sanitizer=e,this.deleteImageEvent=new r.m}ngOnInit(){this.urlTrusted=this.sanitizer.bypassSecurityTrustUrl(this.fotografia.url)}eliminarFotografia(){this.deleteImageEvent.emit(this.fotografia)}}var o=n("ONxg"),a=n("cUpR"),s=r.nb({encapsulation:2,styles:[],data:{}});function l(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,5,"div",[["class","container-fluid"],["style","border: 1px; display: inline;"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,0,"img",[["alt",""],["class","e2e-trusted-url"],["style","width: 200px;"]],[[8,"src",4]],null,null,null,null)),(t()(),r.pb(2,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,2,"button",[["style","position:relative; top:-50px; left: -30px; background-color: red;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.eliminarFotografia()&&r),r}),null,null)),(t()(),r.pb(4,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["X"]))],null,(function(t,e){t(e,1,0,e.component.urlTrusted)}))}var u=n("SVse"),c=n("lEC+");n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return g})),n.d(e,"a",(function(){return v}));var h=r.nb({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{background-color:transparent}.bucleFotografias[_ngcontent-%COMP%]{display:inline}"]],data:{}});function d(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","col-2 mx-1 my-1 bucleFotografias"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"app-fotografia",[],null,[[null,"deleteImageEvent"]],(function(t,e,n){var r=!0;return"deleteImageEvent"===e&&(r=!1!==t.component.deseleccionarImagen(n)&&r),r}),l,s)),r.ob(2,114688,null,0,i,[o.a,a.b],{fotografia:[0,"fotografia"],id:[1,"id"]},{deleteImageEvent:"deleteImageEvent"})],(function(t,e){t(e,2,0,e.context.$implicit,e.component.id)}),null)}function f(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","col-2 mx-1 my-1 bucleFotografias"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"app-fotografia",[],null,[[null,"deleteImageEvent"]],(function(t,e,n){var r=!0;return"deleteImageEvent"===e&&(r=!1!==t.component.deseleccionarImagen(n)&&r),r}),l,s)),r.ob(2,114688,null,0,i,[o.a,a.b],{fotografia:[0,"fotografia"],id:[1,"id"]},{deleteImageEvent:"deleteImageEvent"})],(function(t,e){t(e,2,0,e.context.$implicit,e.component.id)}),null)}function p(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","col-2 mx-1 my-1 bucleFotografias"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"app-fotografia",[],null,[[null,"deleteImageEvent"]],(function(t,e,n){var r=!0;return"deleteImageEvent"===e&&(r=!1!==t.component.deseleccionarImagen(n)&&r),r}),l,s)),r.ob(2,114688,null,0,i,[o.a,a.b],{fotografia:[0,"fotografia"],id:[1,"id"]},{deleteImageEvent:"deleteImageEvent"})],(function(t,e){t(e,2,0,e.context.$implicit,e.component.id)}),null)}function g(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,27,"body",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,26,"div",[["id","cargarImagen"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Imagen principal"])),(t()(),r.pb(5,0,null,null,1,"form",[["action",""],["class","my-2"],["id","uploader"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,0,"input",[["id","file"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.seleccionarImagenes(n,"principal")&&r),r}),null,null)),(t()(),r.pb(7,0,null,null,2,"div",[["class","container-fluid"],["id","fotoPrincipal"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,d)),r.ob(9,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(10,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.pb(12,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Imagenes"])),(t()(),r.pb(14,0,null,null,1,"form",[["action",""],["class","my-2"],["id","uploader"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,0,"input",[["id","file"],["multiple","true"],["name","archivos[]"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.seleccionarImagenes(n,"secundaria")&&r),r}),null,null)),(t()(),r.pb(16,0,null,null,2,"div",[["class","container-fluid"],["id","fotosSecundarias"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,f)),r.ob(18,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(19,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(20,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.pb(21,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Croquis"])),(t()(),r.pb(23,0,null,null,1,"form",[["action",""],["class","my-2"],["id","uploader"]],null,null,null,null,null)),(t()(),r.pb(24,0,null,null,0,"input",[["id","file"],["multiple","true"],["name","archivos[]"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.seleccionarImagenes(n,"croquis")&&r),r}),null,null)),(t()(),r.pb(25,0,null,null,2,"div",[["class","container-fluid"],["id","fotosCroquis"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,p)),r.ob(27,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,9,0,n.fotografiaPrincipal),t(e,18,0,n.previewSecundarias),t(e,27,0,n.previewCroquis)}),null)}function m(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-fotografias",[],null,null,null,g,h)),r.ob(1,114688,null,0,c.a,[o.a],null,null)],(function(t,e){t(e,1,0)}),null)}var v=r.lb("app-fotografias",c.a,m,{id:"ngModel"},{},[])},RGw2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n("hti6"),n("3mVj");class r{}},S6kV:function(t,e,n){var r,i,o;t.exports=(o=n("Ib8C"),n("OLod"),o.mode.OFB=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)t[e+a]^=o[a]}}),r.Decryptor=i,r),o.mode.OFB)},SHVS:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("lov/");class i{constructor(){this.roles=[];let t=new r.a;t.rolNombre="sin_rol",this.roles.push(t)}}},SVse:function(t,e,n){"use strict";n.d(e,"t",(function(){return p})),n.d(e,"k",(function(){return m})),n.d(e,"l",(function(){return g})),n.d(e,"u",(function(){return v})),n.d(e,"c",(function(){return P})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return _})),n.d(e,"m",(function(){return I})),n.d(e,"n",(function(){return S})),n.d(e,"d",(function(){return R})),n.d(e,"b",(function(){return N})),n.d(e,"s",(function(){return D})),n.d(e,"r",(function(){return M})),n.d(e,"q",(function(){return j})),n.d(e,"p",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"o",(function(){return h})),n.d(e,"g",(function(){return l}));var r=n("8Y7J");class i{}const o=new r.o("Location Initialized");class a{}const s=new r.o("appBaseHref");class l{constructor(t,e){this._subject=new r.m,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=l.stripTrailingSlash(u(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+l.normalizeQueryParams(e))}normalize(t){return l.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,u(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+l.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+l.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function u(t){return t.replace(/\/index.html$/,"")}class c extends a{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=l.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class h extends a{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return l.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+l.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const d=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),f=r.rb,p=new r.o("UseV4Plurals");class g{}class m extends g{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):f(e||this.locale)(t)){case d.Zero:return"zero";case d.One:return"one";case d.Two:return"two";case d.Few:return"few";case d.Many:return"many";default:return"other"}}}function v(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class b{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class y{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.T)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new b(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new w(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new w(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class w{constructor(t,e){this.record=t,this.view=e}}class _{constructor(t,e){this._viewContainer=t,this._context=new C,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){k("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){k("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class C{constructor(){this.$implicit=null,this.ngIf=null}}function k(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.Gb)(e)}'.`)}class E{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class I{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class S{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new E(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class T{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class x{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const A=new x,O=new T;class N{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Object(r.xb)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.O.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(Object(r.wb)(t))return A;if(Object(r.vb)(t))return O;throw e=N,Error(`InvalidPipeArgument: '${t}' for pipe '${Object(r.Gb)(e)}'`);var e}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class P{}const R=new r.o("DocumentToken"),D="browser";function M(t){return"server"===t}let j=(()=>{class t{}return t.ngInjectableDef=Object(r.Nb)({token:t,providedIn:"root",factory:()=>new L(Object(r.Ob)(R),window,Object(r.Ob)(r.l))}),t})();class L{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("HDdC"),i=n("ngJS"),o=n("a7t3"),a=n("pLzU"),s=n("CRDf"),l=n("I55L"),u=n("c2HN"),c=n("XoHu"),h=n("Lhse"),d=n("kJWO");const f=t=>{if(t instanceof r.a)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[d.a])return Object(s.a)(t);if(Object(l.a)(t))return Object(i.a)(t);if(Object(u.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}}},SiV8:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n("8Y7J"),i=n("7GFr"),o=n("aoek"),a=n("L2hg"),s=n("SVse"),l=n("Kfvy"),u=n("pN5R"),c=n("z58d"),h=n("cPMN"),d=n("3mnW"),f=n("iInd"),p=r.nb({encapsulation:2,styles:[],data:{}});function g(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(t,e,n){var r=!0;return"payLoad"===e&&(r=!1!==t.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,s.b,[r.h])],(function(t,e){var n=e.component;t(e,1,0,r.Ib(e,1,0,r.Bb(e,2).transform(n.elementosForm$)))}),null)}function m(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-info"],["data-bs-target","#modalNuevaFichaVIP"],["data-bs-toggle","modal"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["AGREGAR A FICHAS DESTACADAS"]))],null,null)}function v(t){return r.Jb(0,[(t()(),r.eb(16777216,null,null,1,null,g)),r.ob(1,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(2,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.validarFicha()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["VALIDAR"])),(t()(),r.eb(16777216,null,null,1,null,m)),r.ob(6,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(7,0,null,null,1,"app-modal-ficha-vip",[],null,null,null,l.b,l.a)),r.ob(8,114688,null,0,u.a,[c.a,h.a],{id:[0,"id"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.elementosForm$),t(e,6,0,!n.fichaVipFlag),t(e,8,0,n.id)}),null)}function b(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-valida-ficha",[],null,null,null,v,p)),r.ob(1,114688,null,0,d.a,[c.a,f.a,h.a],null,null)],(function(t,e){t(e,1,0)}),null)}var y=r.lb("app-valida-ficha",d.a,b,{},{},[])},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},"TSe+":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{}},UJ5t:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(t){this.fichaService=t}ngOnInit(){this.fichasSinValidar=[],this.fichaService.getFichasSinValidar().subscribe(t=>{this.fichasSinValidar=this.fichaService.extraerFichas(t)})}}},Ul2T:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("pauE"),i=n("ZT/D");class o{constructor(t,e){this.inventarioService=t,this.login=e,this.artefactosInventario=[],this.artefactoInventario=new r.a,this.salasDisponibles=[],this.salaNueva=new i.a}ngOnInit(){this.getArtefactosInventario(),this.getSalasDisponibles(),this.login.getIsLoggedFlagObs().subscribe(t=>{this.isLoggedUser=t}),this.login.getIsAdminFlagObs().subscribe(t=>{this.isLoggedAdmin=t})}getArtefactosInventario(){this.inventarioService.getArtefactosInventario().subscribe(t=>{this.artefactosInventario=this.inventarioService.mapearArtefactosInventario(t),this.artefactosInventario.forEach(t=>{console.log(t),this.inventarioService.getSala(t).subscribe(e=>{t.sala=e}),this.inventarioService.getArtefactoImpl(t).subscribe(e=>{console.log(e),e.id=Number(this.inventarioService.getId(e)),t.artefactoImpl=e})}),console.log(this.artefactosInventario)})}abrirModalModificacionArtefactoInventario(t){console.log(t),this.artefactoInventario=t,$("#modalModificarArtefactoInventario").modal("show")}moverDeSala(){this.inventarioService.updateArtefactoInventario(this.artefactoInventario).subscribe(),this.ngOnInit()}getSalasDisponibles(){this.inventarioService.getSalas().subscribe(t=>{console.log("salas disponibles res"),console.log(t),this.salasDisponibles=this.inventarioService.mapearSalas(t),console.log("salas disponibles mapeadas"),console.log(this.salasDisponibles)})}agregarSala(){this.inventarioService.postSala(this.salaNueva).subscribe(t=>{this.ngOnInit()})}abrirModalAgregarSala(){$("#modalNuevaSala").modal("show")}}},"Uu/X":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("8Y7J"),i=n("lAvF"),o=r.nb({encapsulation:2,styles:[],data:{}});function a(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["contacto works!"]))],null,null)}function s(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-contacto",[],null,null,null,a,o)),r.ob(1,114688,null,0,i.a,[],null,null)],(function(t,e){t(e,1,0)}),null)}var l=r.lb("app-contacto",i.a,s,{},{},[])},VwbT:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(){}}},W1sL:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{}},WI49:function(t,e,n){"use strict";var r=n("zIRd"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var u=n("qOnz"),c=n("/6Yf"),h=function(t){function e(n,r){var i=t.call(this,d(n),"Firebase Storage: "+r+" ("+d(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._codeEquals=function(t){return d(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(u.c);function d(t){return"storage/"+t}function f(){return new h("unknown","An unknown error occurred, please check the error payload for server response.")}function p(){return new h("canceled","User canceled the upload/download.")}function g(){return new h("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function m(t){return new h("invalid-argument",t)}function v(){return new h("app-deleted","The Firebase app was deleted.")}function b(t){return new h("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function y(t,e){return new h("invalid-format","String does not match format '"+t+"': "+e)}function w(t){throw new h("internal-error","Internal error: "+t)}var _={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},C=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function k(t,e){switch(t){case _.RAW:return new C(E(e));case _.BASE64:case _.BASE64URL:return new C(I(t,e));case _.DATA_URL:return new C((n=new S(e)).base64?I(_.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw y(_.DATA_URL,"Malformed data URL.")}return E(e)}(n.rest),function(t){return new S(t).contentType}(e))}var n;throw f()}function E(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function I(t,e){switch(t){case _.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw y(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case _.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw y(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(u){throw y(t,"Invalid character found")}for(var s=new Uint8Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);return s}var S=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw y(_.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),T={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function x(t){switch(t){case"running":case"pausing":case"canceling":return T.RUNNING;case"paused":return T.PAUSED;case"success":return T.SUCCESS;case"canceled":return T.CANCELED;case"error":default:return T.ERROR}}var A=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),O=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=A.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=A.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=A.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),N=function(){function t(){}return t.prototype.createConnection=function(){return new O},t}(),P=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw new h("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<s.length;l++){var u=s[l],c=u.regex.exec(e);if(c){var d=c[u.indices.path];d||(d=""),r=new t(c[u.indices.bucket],d),u.postModify(r);break}}if(null==r)throw function(t){return new h("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),R=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function D(t){return"string"==typeof t||t instanceof String}function M(t){return j()&&t instanceof Blob}function j(){return"undefined"!=typeof Blob}function L(t,e,n,r){if(r<e)throw m("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw m("Invalid value for '"+t+"'. Expected "+n+" or less.")}function B(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function F(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var V=function(){function t(t,e,n,r,i,o,a,s,l,u,c){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=u,this.timeout_=l,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(l){o(l)}else null!==a?((r=f()).serverResponse=a.getResponseText(),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?v():p():new h("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new U(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function d(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new U(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===A.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new U(a,r))}else{var s=r.getErrorCode()===A.ABORT;e(!1,new U(!1,null,s))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)h.call.apply(h,l([null,t],e));else{var r,o=u()||a;o?h.call.apply(h,l([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),d(r))}}var p=!1;function g(t){p||(p=!0,c||(null!==o?(t||(s=2),clearTimeout(o),d(0)):t||(s=1)))}return d(0),setTimeout((function(){a=!0,g(!0)}),r),g}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),U=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function q(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=q();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(j())return new Blob(t);throw new h("unsupported-environment","This browser doesn't seem to support creating Blobs")}var H=function(){function t(t,e){var n=0,r="";M(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(M(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(j()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(z.apply(null,r))}var i=e.map((function(t){return D(t)?k(_.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function G(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function W(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function K(t,e){return e}var $=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||K}}(),J=null;function Q(){if(J)return J;var t=[];t.push(new $("bucket")),t.push(new $("generation")),t.push(new $("metageneration")),t.push(new $("name","fullPath",!0));var e=new $("name");e.xform=function(t,e){return function(t){return!D(t)||t.length<2?t:W(t)}(e)},t.push(e);var n=new $("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new $("timeCreated")),t.push(new $("updated")),t.push(new $("md5Hash",null,!0)),t.push(new $("cacheControl",null,!0)),t.push(new $("contentDisposition",null,!0)),t.push(new $("contentEncoding",null,!0)),t.push(new $("contentLanguage",null,!0)),t.push(new $("contentType",null,!0)),t.push(new $("metadata","customMetadata",!0)),J=t}function Y(t,e,n){var r=G(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new P(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function X(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Z=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function tt(t){if(!t)throw f()}function et(t,e){return function(n,r){var i=Y(t,r,e);return tt(null!==i),i}}function nt(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new h("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new h("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new h("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new h("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function rt(t){var e=nt(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new h("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function it(t,e,n){var r=B(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Z(r,"GET",et(t,n),i);return o.errorHandler=rt(e),o}function ot(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var at=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function st(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){tt(!1)}return tt(!!n&&-1!==(e||["active"]).indexOf(n)),n}var lt=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function ut(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var ct=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Q(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=ot(e,r,i),s={name:a.fullPath},l=B(o,t.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=X(a,n),h=new Z(l,"POST",(function(t){var e;st(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){tt(!1)}return tt(D(e)),e}),t.maxUploadRetryTime);return h.urlParams=s,h.headers=u,h.body=c,h.errorHandler=nt(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=new Z(n,"POST",(function(t){var e=st(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){tt(!1)}n||tt(!1);var i=Number(n);return tt(!isNaN(i)),new at(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=nt(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new at(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=function(t,e,n,r,i,o,a,s){var l=new at(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new h("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=l.total-l.current,c=u;i>0&&(c=Math.min(c,i));var d=l.current,f={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":""+l.current},p=r.slice(d,d+c);if(null===p)throw g();var m=new Z(n,"POST",(function(t,n){var i,a=st(t,["active","final"]),s=l.current+c,u=r.size();return i="final"===a?et(e,o)(t,n):null,new at(s,u,"final"===a,i)}),e.maxUploadRetryTime);return m.headers=f,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=nt(t),m}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(l){return t._error=l,void t._transition("error")}var s=t._ref.storage._makeRequest(a,i,o);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=it(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var l=ot(e,r,i),u=X(l,n),c=H.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===c)throw g();var h={name:l.fullPath},d=B(o,t.host),f=t.maxUploadRetryTime,p=new Z(d,"POST",et(t,n),f);return p.urlParams=h,p.headers=a,p.body=c.uploadData(),p.errorHandler=nt(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=p(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=x(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new lt(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(x(this._state)){case T.SUCCESS:ut(this._resolve.bind(null,this.snapshot))();break;case T.CANCELED:case T.ERROR:ut(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(x(this._state)){case T.RUNNING:case T.PAUSED:t.next&&ut(t.next.bind(t,this.snapshot))();break;case T.SUCCESS:t.complete&&ut(t.complete.bind(t))();break;case T.CANCELED:case T.ERROR:t.error&&ut(t.error.bind(t,this._error))();break;default:t.error&&ut(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),ht=function(){function t(t,e){this._service=t,this._location=e instanceof P?e:P.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new P(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return W(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new P(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw b(t)},t}();function dt(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&L("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=B(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,l=new Z(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=G(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new P(e,a));r.prefixes.push(s)}if(n.items)for(var l=0,u=n.items;l<u.length;l++)s=t._makeStorageReference(new P(e,u[l].name)),r.items.push(s);return r}(t,e,r)}(t,e,r);return tt(null!==i),i}}(t,e.bucket),s);return l.urlParams=o,l.errorHandler=nt(e),l}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function ft(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new P(t._location.bucket,n);return new ht(t.storage,r)}function pt(t){return/^[A-Za-z]+:\/\//.test(t)}function gt(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:P.makeFromBucketSpec(n,t)}var mt=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?P.makeFromBucketSpec(i,this._host):gt(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?P.makeFromBucketSpec(this._url,t):gt(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){L("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){L("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new ht(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new R(v());var i=function(t,e,n,r,i,o){var a=F(t.urlParams),s=t.url+a,l=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(l,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new V(s,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}}))}))},t}();function vt(t,e){return function(t,e){if(e&&pt(e)){if(t instanceof mt)return new ht(t,e);throw m("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof mt){var r=e;if(null==r._bucket)throw new h("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new ht(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw m('`path` param cannot contain ".."');return ft(e,n)}return e}(t,e)}(t=Object(u.q)(t),e)}var bt,yt,wt=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),_t=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new wt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new wt(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new wt(t,i,i._ref))}:{next:e.next?function(t){return e.next(new wt(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Ct=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new kt(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new kt(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),kt=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return ft(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new _t(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new ct(t,new H(e),n)}(t=Object(u.q)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=_.RAW),this._throwIfRoot("putString");var r=k(e,t),i=o({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new _t(new ct(this._delegate,new H(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return a(this,void 0,void 0,(function(){var i,o,a;return s(this,(function(s){switch(s.label){case 0:return[4,dt(e,{pageToken:r})];case 1:return i=s.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(a=n.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}(t=Object(u.q)(t))).then((function(t){return new Ct(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return dt(t=Object(u.q)(t),e)}(this._delegate,t||void 0).then((function(t){return new Ct(t,e.storage)}))},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=it(t.storage,t._location,Q()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(u.q)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return a(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=B(e.fullServerUrl(),t.host),o=X(n,r),a=t.maxOperationRetryTime,s=new Z(i,"PATCH",et(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=rt(e),s}(t.storage,t._location,e,Q()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(t=Object(u.q)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=B(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Z(r,"GET",function(t,e){return function(n,r){var i=Y(t,r,e);return tt(null!==i),function(t,e,n){var r=G(e);if(null===r)return null;if(!D(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.fullPath;return B("/b/"+o(t.bucket)+"/o/"+o(r),n)+F({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=rt(e),o}(t.storage,t._location,Q()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new h("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(t=Object(u.q)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=B(e.fullServerUrl(),t.host),r=new Z(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=rt(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(u.q)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw b(t)},t}(),Et=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(pt(t))throw m("ref() expected a child path but got a URL, use refFromURL instead.");return new kt(vt(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!pt(t))throw m("refFromURL() expected a full URL but got a child path, use ref() instead.");try{P.makeFromUrl(t,this._delegate.host)}catch(e){throw m("refFromUrl() expected a valid full URL but got an invalid one.")}return new kt(vt(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();yt={TaskState:T,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:_,Storage:mt,Reference:kt},(bt=r.a).INTERNAL.registerComponent(new c.a("storage",(function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Et(i,new mt(i,o,a,new N,n,r.a.SDK_VERSION))}),"PUBLIC").setServiceProps(yt).setMultipleInstances(!0)),bt.registerVersion("@firebase/storage","0.6.0")},WMih:function(t,e,n){"use strict";var r=n("AOe3"),i=n("TSe+"),o={prefix:"fas",iconName:"arrow-down",icon:[448,512,[],"f063","M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"]},a={prefix:"fas",iconName:"arrow-up",icon:[448,512,[],"f062","M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"]};n.d(e,"a",(function(){return s}));class s{constructor(t){this.criteriosService=t,this.searchCriteria=new i.a,this.searchCriteriaCache=this.searchCriteria,this.tipoArtefactos=r.a.tipoArtefacto,this.formas=r.a.formas,this.topMin=o,this.topMax=a,this.colores=r.a.colores,this.fabricacion=r.a.fabricadoEn,this.propositoArtefacto=r.a.propositoArtefacto.municiones.concat(r.a.propositoArtefacto.espoletas).concat(r.a.propositoArtefacto.minas),this.materialEnvuelta=r.a.materialEnvuelta,this.situacionEspoleta=r.a.situacionEspoleta,this.tipoCulote=r.a.tipoCulote,this.colorBandaMotor=r.a.colores,this.sistemaGuia=r.a.sistemaGuia,this.medioLanzamiento=r.a.mediosLanzamiento,this.sistemaIniciacion=r.a.sistemaIniciacion,this.mostrarResultado=!1}ngOnInit(){}buscar(){this.searchCriteriaCache=new i.a,Object.keys(this.searchCriteria).map(t=>{""!=this.searchCriteria[t]&&Object.defineProperty(this.searchCriteriaCache,t,{value:this.searchCriteria[t],writable:!0,enumerable:!0,configurable:!0})}),this.mostrarResultado=!0,this.criteriosService.onChangeCriteria(this.searchCriteriaCache)}}},WYAk:function(t,e,n){var r,i;t.exports=(r=n("Ib8C"),i=r.enc.Utf8,void(r.algo.HMAC=r.lib.Base.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=i.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),a=this._iKey=e.clone(),s=o.words,l=a.words,u=0;u<n;u++)s[u]^=1549556828,l[u]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))},XNiG:function(t,e,n){"use strict";var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp");class s extends o.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}var l=n("2QA8");n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return c}));class u extends i.a{constructor(t){super(t),this.destination=t}}let c=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new a.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new a.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new a.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends c{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XUOw:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t){const e=new r.a(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},ZC8B:function(t,e,n){"use strict";var r=n("8Y7J");class i{constructor(t){this.usuariosService=t}ngOnInit(){}eliminarUsuario(){this.usuariosService.eliminarUsuario(this.usuario.id)}}var o=n("IheW"),a=n("AytR"),s=n("SHVS"),l=n("sBFL");const u={headers:new o.g({"Content-Type":"application/json"})};let c=(()=>{class t{constructor(t,e){this.http=t,this.loginService=e,this.endPoint=a.a.urlAPI+"/usuarios"}getUsuarios(){return this.http.get(this.endPoint,u)}mapearUsuarios(t){let e=[];return t._embedded.usuarios.forEach(t=>{let n=this.getIdUsuario(t._links.self.href),r=new s.a;r.email=t.email,r.roles[0]=t.rol,r.id=n,e.push(r)}),console.log(e),e}getIdUsuario(t){let e=t.split("/");return e[e.length-1]}eliminarUsuario(t){this.loginService.eliminarUsuario(t)}}return t.ngInjectableDef=r.Nb({factory:function(){return new t(r.Ob(o.c),r.Ob(l.a))},token:t,providedIn:"root"}),t})();var h=r.nb({encapsulation:0,styles:[[".row[_ngcontent-%COMP%]{font-size:medium}.btn[_ngcontent-%COMP%]{font-size:small;font-weight:700}"]],data:{}});function d(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,7,"div",[["class","row mt-1"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"div",[["class","col-5"]],null,null,null,null,null)),(t()(),r.Hb(2,null,["",""])),(t()(),r.pb(3,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(t()(),r.Hb(4,null,["",""])),(t()(),r.pb(5,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.eliminarUsuario()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["ELIMINAR"]))],null,(function(t,e){var n=e.component;t(e,2,0,n.usuario.email),t(e,4,0,n.usuario.roles[0].rolNombre)}))}var f=n("s7LF"),p=n("SVse"),g=n("35Wc"),m=n("iInd");n.d(e,"a",(function(){return C}));var v=r.nb({encapsulation:0,styles:[[".btn[_ngcontent-%COMP%]{font-size:small;font-weight:700}"]],data:{}});function b(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"app-usuario",[],null,null,null,d,h)),r.ob(3,114688,null,0,i,[c],{usuario:[0,"usuario"]},null)],(function(t,e){t(e,3,0,e.context.$implicit)}),null)}function y(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,f.q,[r.k,r.B,[2,f.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,f.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit[1]),t(e,2,0,e.context.$implicit[1])}),(function(t,e){t(e,3,0,e.context.$implicit[1])}))}function w(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Gesti\xf3n de usuarios"])),(t()(),r.pb(3,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["En esta secci\xf3n pueden agregarse o eliminar usuarios de la aplicaci\xf3n."])),(t()(),r.pb(5,0,null,null,6,"div",[["class","row mt-2"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,2,"div",[["class","col-5"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["USUARIO"])),(t()(),r.pb(9,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(t()(),r.pb(10,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["ROL"])),(t()(),r.eb(16777216,null,null,1,null,b)),r.ob(13,278528,null,0,p.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(14,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,1,"button",[["class","btn btn-primary mx-2 my-1"],["data-bs-target","#modalRegistrase"],["data-bs-toggle","modal"],["href","#"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["A\xf1adir usuario nuevo"])),(t()(),r.pb(17,0,null,null,41,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","modalRegistrase"],["tabindex","-1"]],null,null,null,null,null)),(t()(),r.pb(18,0,null,null,40,"div",[["class","modal-dialog"]],null,null,null,null,null)),(t()(),r.pb(19,0,null,null,39,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),r.pb(20,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.pb(21,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalLabel"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Nuevo usuario"])),(t()(),r.pb(23,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.pb(24,0,null,null,34,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.pb(25,0,null,null,33,"form",[["action",""],["id","registrarse"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Bb(t,27).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Bb(t,27).onReset()&&i),i}),null,null)),r.ob(26,16384,null,0,f.A,[],null,null),r.ob(27,4210688,null,0,f.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,f.c,null,[f.o]),r.ob(29,16384,null,0,f.n,[[4,f.c]],null,null),(t()(),r.pb(30,0,null,null,4,"fieldset",[["class","my-2"]],null,null,null,null,null)),(t()(),r.pb(31,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["email"])),(t()(),r.pb(33,0,null,null,0,"input",[["class","mx-2"],["id","email-registro"],["type","email"]],null,null,null,null,null)),(t()(),r.pb(34,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(35,0,null,null,4,"fieldset",[["class","my-2"]],null,null,null,null,null)),(t()(),r.pb(36,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Password"])),(t()(),r.pb(38,0,null,null,0,"input",[["class","mx-2"],["id","password-registro"],["type","password"]],null,null,null,null,null)),(t()(),r.pb(39,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(40,0,null,null,3,"fieldset",[["class","my-2"]],null,null,null,null,null)),(t()(),r.pb(41,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Repite el password"])),(t()(),r.pb(43,0,null,null,0,"input",[["class","mx-2"],["id","password-registro2"],["type","password"]],null,null,null,null,null)),(t()(),r.pb(44,0,null,null,10,"fieldset",[["class","my-2"]],null,null,null,null,null)),(t()(),r.pb(45,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Selecciona un rol"])),(t()(),r.pb(47,0,null,null,7,"select",[["class","custom-select col"],["id","rol-registro"],["name","roles"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,48).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,48).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.usuario.roles=n)&&i),i}),null,null)),r.ob(48,16384,null,0,f.t,[r.B,r.k],null,null),r.Eb(1024,null,f.k,(function(t){return[t]}),[f.t]),r.ob(50,671744,null,0,f.p,[[2,f.c],[8,null],[8,null],[6,f.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,f.l,null,[f.p]),r.ob(52,16384,null,0,f.m,[[4,f.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,y)),r.ob(54,278528,null,0,p.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(55,0,null,null,1,"button",[["class","btn btn-secondary"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Cerrar"])),(t()(),r.pb(57,0,null,null,1,"button",[["class","btn btn-primary mx-2"],["data-bs-dismiss","modal"],["type","submit"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Continuar"]))],(function(t,e){var n=e.component;t(e,13,0,n.usuarios),t(e,50,0,"roles",n.usuario.roles),t(e,54,0,n.roles)}),(function(t,e){t(e,25,0,r.Bb(e,29).ngClassUntouched,r.Bb(e,29).ngClassTouched,r.Bb(e,29).ngClassPristine,r.Bb(e,29).ngClassDirty,r.Bb(e,29).ngClassValid,r.Bb(e,29).ngClassInvalid,r.Bb(e,29).ngClassPending),t(e,47,0,r.Bb(e,52).ngClassUntouched,r.Bb(e,52).ngClassTouched,r.Bb(e,52).ngClassPristine,r.Bb(e,52).ngClassDirty,r.Bb(e,52).ngClassValid,r.Bb(e,52).ngClassInvalid,r.Bb(e,52).ngClassPending)}))}function _(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-usuarios",[],null,null,null,w,v)),r.ob(1,114688,null,0,g.a,[c,l.a,m.k],null,null)],(function(t,e){t(e,1,0)}),null)}var C=r.lb("app-usuarios",g.a,_,{},{},[])},"ZT/D":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(){this.nombreSala="",this.idSala=""}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return Object(i.a)(e)(a)}},Zdl6:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("eJtT");class i{constructor(t){this.archivosService=t,this.archivosSeleccionados=[],this.previewArchivosSeleccionados=[]}ngOnInit(){}seleccionarArchivos(t){for(let e=0;e<t.target.files.length;e++){let n=new r.a;n.nombre=t.target.files[e].name,n.url=URL.createObjectURL(t.target.files[e]),this.archivosSeleccionados.push(t.target.files[e])}this.previewArchivos(t)}previewArchivos(t){for(let e=0;e<t.target.files.length;e++){let n=new r.a;n.nombre=t.target.files[e].name,n.url=URL.createObjectURL(t.target.files[e]),this.previewArchivosSeleccionados.push(n),console.log("ARCHIVO CREADO",n)}}subirArchivos(t){this.archivosSeleccionados.forEach(e=>{this.archivosService.uploadFile(e,t)})}deseleccionarArchivo(t){let e=[];this.archivosSeleccionados.forEach(n=>{console.log(n),n.name!==t.nombre&&e.push(n)}),this.archivosSeleccionados=e,console.log("Nuevo array de seleccionados",this.archivosSeleccionados),e=[],this.previewArchivosSeleccionados.forEach(n=>{n.nombre!==t.nombre&&e.push(n)}),this.previewArchivosSeleccionados=e,console.log("Nuevo array de previe",this.previewArchivosSeleccionados)}}},Zs65:function(t,e,n){"use strict";n("6Uf2")},a7t3:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("NJ4a");const i=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,r.a),e)},aoek:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("8Y7J");class i{constructor(t){this.creadorForm=t,this.elementosForm=[],this.payLoad=new r.m}ngOnInit(){this.form=this.creadorForm.crearFormulario(this.elementosForm)}emitirPayload(){this.payLoad.emit(this.form.getRawValue())}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},bQjk:function(t,e,n){var r,i,o;t.exports=(o=n("Ib8C"),n("OLod"),r=o.lib.CipherParams,i=o.enc.Hex,o.format.Hex={stringify:function(t){return t.ciphertext.toString(i)},parse:function(t){var e=i.parse(t);return r.create({ciphertext:e})}},o.format.Hex)},bdaQ:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},cPMN:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("IheW"),i=n("z6cu"),o=n("lJxs"),a=n("JIr8"),s=n("AytR"),l=n("VwbT"),u=n("PSD3"),c=n.n(u),h=n("8Y7J"),d=n("z58d");const f={headers:new r.g({"Content-Type":"application/json"})};let p=(()=>{class t{constructor(t,e){this.http=t,this.fichaService=e,this.endpoint=s.a.urlAPI+"/fichavips"}getFichasVIP(){return this.http.get(this.endpoint,f)}extraerFichasVIP(t){const e=[];return t._embedded.fichavips.forEach(t=>{let n=this.mapearFichaVip(t,this.getIdFichaVIP(t));this.fichaService.estaValidada(n.artefactoId).subscribe(t=>{t&&e.push(n)})}),e}mapearFichaVip(t,e){let n=Object.create(l.a);return Object.assign(n,t),Object.defineProperty(n,"id",{value:null,writable:!0,enumerable:!0,configurable:!0}),n.id=e,n}deleteFichaVIP(t){return console.log("id="+t),this.http.delete(this.endpoint+"/"+t,f).pipe(Object(o.a)(t=>{t&&(console.log("ok: ",t),c.a.fire({title:"Ficha destacada eliminada",icon:"success"}))}),Object(a.a)(t=>(c.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido eliminar la ficha de destacadas. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",t),400===t.status||t.error.mensaje&&console.error(t.error.mensaje),Object(i.a)(t))))}getIdFichaVIP(t){let e=t._links.self.href.split("/");return e[e.length-1]}updateFichaVIP(t){return this.http.patch(this.endpoint+"/"+t.id,t,f).pipe(Object(o.a)(t=>{t&&(console.log("ok: ",t),c.a.fire({title:"Ficha actualizada",icon:"success"}))}),Object(a.a)(t=>(c.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido almacenar la ficha. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",t),400===t.status||t.error.mensaje&&console.error(t.error.mensaje),Object(i.a)(t))))}postFichaVIP(t){return this.http.post(this.endpoint,t,f).pipe(Object(o.a)(t=>{t&&(console.log("ok: ",t),c.a.fire({title:"Ficha agregada a destacadas",icon:"success"}))}),Object(a.a)(t=>(c.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido agregar la ficha a destacadas. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",t),400===t.status||t.error.mensaje&&console.error(t.error.mensaje),Object(i.a)(t))))}esVip(t){return this.http.get(this.endpoint+"/exist?artefactoId="+t)}}return t.ngInjectableDef=h.Nb({factory:function(){return new t(h.Ob(r.c),h.Ob(d.a))},token:t,providedIn:"root"}),t})()},cUpR:function(t,e,n){"use strict";n.d(e,"p",(function(){return ct})),n.d(e,"q",(function(){return _})),n.d(e,"a",(function(){return ht})),n.d(e,"h",(function(){return ut})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return k})),n.d(e,"e",(function(){return K})),n.d(e,"f",(function(){return $})),n.d(e,"g",(function(){return J})),n.d(e,"b",(function(){return tt})),n.d(e,"r",(function(){return a})),n.d(e,"j",(function(){return N})),n.d(e,"i",(function(){return G})),n.d(e,"m",(function(){return Q})),n.d(e,"n",(function(){return Z})),n.d(e,"l",(function(){return S})),n.d(e,"o",(function(){return I})),n.d(e,"k",(function(){return et}));var r=n("SVse"),i=n("8Y7J");let o=null;function a(){return o}const s={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},l={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},u={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},c=(()=>{if(i.sb.Node)return i.sb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class h extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new h,o||(o=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return s}contains(t,e){return c.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&u.hasOwnProperty(e)&&(e=u[e]))}return l[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=f||(f=document.querySelector("base"),f)?f.getAttribute("href"):null;return null==e?null:(n=e,d||(d=document.createElement("a")),d.setAttribute("href",n),"/"===d.pathname.charAt(0)?d.pathname:"/"+d.pathname);var n}resetBaseElement(){f=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(r.u)(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let d,f=null;function p(){return!!window.history.pushState}const g=new i.o("TRANSITION_ID"),m=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=a();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[g,r.d,i.p],multi:!0}];class v{static init(){Object(i.V)(new v)}addToWindow(t){i.sb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.sb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.sb.getAllAngularRootElements=()=>t.getAllRootElements(),i.sb.frameworkStabilizers||(i.sb.frameworkStabilizers=[]),i.sb.frameworkStabilizers.push(t=>{const e=i.sb.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,a().getHost(e),!0):this.findTestabilityInTree(t,a().parentElement(e),!0):null}}function b(t,e){"undefined"!=typeof COMPILED&&COMPILED||((i.sb.ng=i.sb.ng||{})[t]=e)}const y=(()=>({ApplicationRef:i.g,NgZone:i.x}))();function w(t){return Object(i.S)(t)}function _(t){return b("probe",w),b("coreTokens",Object.assign({},y,(t||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>w}const C=new i.o("EventManagerPlugins");class k{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}class E{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class I{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class S extends I{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>a().remove(t))}}const T={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},x=/%COMP%/g;function A(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?A(t,i,n):(i=i.replace(x,t),n.push(i))}return n}function O(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class N{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new P(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.N.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new M(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case i.N.Native:case i.N.ShadowDom:return new j(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=A(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class P{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(T[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=T[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=T[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&i.D.DashCase?t.style.setProperty(e,n,r&i.D.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.D.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){D(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return D(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,O(n)):this.eventManager.addEventListener(t,e,O(n))}}const R=(()=>"@".charCodeAt(0))();function D(t,e){if(t.charCodeAt(0)===R)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class M extends P{constructor(t,e,n,r){super(t),this.component=n;const i=A(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(x,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(x,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class j extends P{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===i.N.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=A(r.id,r.styles,[]);for(let i=0;i<o.length;i++){const t=document.createElement("style");t.textContent=o[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const L=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),B=L("addEventListener"),F=L("removeEventListener"),V={},U="__zone_symbol__propagationStopped",q=(()=>{const t="undefined"!=typeof Zone&&Zone[L("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),z=function(t){return!!q&&q.hasOwnProperty(t)},H=function(t){const e=V[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[U];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class G extends E{constructor(t,e,n){super(t),this.ngZone=e,n&&Object(r.r)(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[U]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[B]||i.x.isInAngularZone()&&!z(e))t.addEventListener(e,r,!1);else{let n=V[e];n||(n=V[e]=L("ANGULAR"+e+"FALSE"));let i=t[n];const o=i&&i.length>0;i||(i=t[n]=[]);const a=z(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:a,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:a,handler:r})}o||t[B](e,H,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[F];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);let i=V[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);let a=!1;for(let s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,H,!1]):t.removeEventListener.apply(t,[e,n,!1])}}const W={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},K=new i.o("HammerGestureConfig"),$=new i.o("HammerLoader");class J{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class Q extends E{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!W.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom Hammer.JS loader failed.`),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const Y=["alt","control","meta","shift"],X={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Z extends E{constructor(t){super(t)}supports(t){return null!=Z.parseEventName(t)}addEventListener(t,e,n){const r=Z.parseEventName(e),i=Z.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>a().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=Z._normalizeKey(e.pop());let i="";if(Y.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(t){let e="",n=a().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Y.forEach(r=>{r!=n&&(0,X[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(t,e,n){return r=>{Z.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class tt{}class et extends tt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.F.NONE:return e;case i.F.HTML:return e instanceof rt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(i.bb)(this._doc,String(e)));case i.F.STYLE:return e instanceof it?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(i.cb)(e));case i.F.SCRIPT:if(e instanceof ot)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case i.F.URL:return e instanceof st||e instanceof at?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(i.db)(String(e)));case i.F.RESOURCE_URL:if(e instanceof st)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof nt)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} (see http://g.co/ng/security#xss)`)}bypassSecurityTrustHtml(t){return new rt(t)}bypassSecurityTrustStyle(t){return new it(t)}bypassSecurityTrustScript(t){return new ot(t)}bypassSecurityTrustUrl(t){return new at(t)}bypassSecurityTrustResourceUrl(t){return new st(t)}}class nt{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class rt extends nt{getTypeName(){return"HTML"}}class it extends nt{getTypeName(){return"Style"}}class ot extends nt{getTypeName(){return"Script"}}class at extends nt{getTypeName(){return"URL"}}class st extends nt{getTypeName(){return"ResourceURL"}}const lt=[{provide:i.z,useValue:r.s},{provide:i.A,useValue:function(){h.makeCurrent(),v.init()},multi:!0},{provide:r.p,useClass:class extends r.p{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=a().getLocation(),this._history=a().getHistory()}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[r.d]},{provide:r.d,useFactory:function(){return document},deps:[]}],ut=Object(i.P)(i.U,"browser",lt);function ct(){return new i.l}class ht{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:ht,providers:[{provide:i.c,useValue:t.appId},{provide:g,useExisting:i.c},m]}}}"undefined"!=typeof window&&window},cv67:function(t,e,n){var r;t.exports=(r=n("Ib8C"),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[e+0],l=t[e+1],f=t[e+2],p=t[e+3],g=t[e+4],m=t[e+5],v=t[e+6],b=t[e+7],y=t[e+8],w=t[e+9],_=t[e+10],C=t[e+11],k=t[e+12],E=t[e+13],I=t[e+14],S=t[e+15],T=o[0],x=o[1],A=o[2],O=o[3];T=u(T,x,A,O,a,7,s[0]),O=u(O,T,x,A,l,12,s[1]),A=u(A,O,T,x,f,17,s[2]),x=u(x,A,O,T,p,22,s[3]),T=u(T,x,A,O,g,7,s[4]),O=u(O,T,x,A,m,12,s[5]),A=u(A,O,T,x,v,17,s[6]),x=u(x,A,O,T,b,22,s[7]),T=u(T,x,A,O,y,7,s[8]),O=u(O,T,x,A,w,12,s[9]),A=u(A,O,T,x,_,17,s[10]),x=u(x,A,O,T,C,22,s[11]),T=u(T,x,A,O,k,7,s[12]),O=u(O,T,x,A,E,12,s[13]),A=u(A,O,T,x,I,17,s[14]),T=c(T,x=u(x,A,O,T,S,22,s[15]),A,O,l,5,s[16]),O=c(O,T,x,A,v,9,s[17]),A=c(A,O,T,x,C,14,s[18]),x=c(x,A,O,T,a,20,s[19]),T=c(T,x,A,O,m,5,s[20]),O=c(O,T,x,A,_,9,s[21]),A=c(A,O,T,x,S,14,s[22]),x=c(x,A,O,T,g,20,s[23]),T=c(T,x,A,O,w,5,s[24]),O=c(O,T,x,A,I,9,s[25]),A=c(A,O,T,x,p,14,s[26]),x=c(x,A,O,T,y,20,s[27]),T=c(T,x,A,O,E,5,s[28]),O=c(O,T,x,A,f,9,s[29]),A=c(A,O,T,x,b,14,s[30]),T=h(T,x=c(x,A,O,T,k,20,s[31]),A,O,m,4,s[32]),O=h(O,T,x,A,y,11,s[33]),A=h(A,O,T,x,C,16,s[34]),x=h(x,A,O,T,I,23,s[35]),T=h(T,x,A,O,l,4,s[36]),O=h(O,T,x,A,g,11,s[37]),A=h(A,O,T,x,b,16,s[38]),x=h(x,A,O,T,_,23,s[39]),T=h(T,x,A,O,E,4,s[40]),O=h(O,T,x,A,a,11,s[41]),A=h(A,O,T,x,p,16,s[42]),x=h(x,A,O,T,v,23,s[43]),T=h(T,x,A,O,w,4,s[44]),O=h(O,T,x,A,k,11,s[45]),A=h(A,O,T,x,S,16,s[46]),T=d(T,x=h(x,A,O,T,f,23,s[47]),A,O,a,6,s[48]),O=d(O,T,x,A,b,10,s[49]),A=d(A,O,T,x,I,15,s[50]),x=d(x,A,O,T,m,21,s[51]),T=d(T,x,A,O,k,6,s[52]),O=d(O,T,x,A,p,10,s[53]),A=d(A,O,T,x,_,15,s[54]),x=d(x,A,O,T,l,21,s[55]),T=d(T,x,A,O,y,6,s[56]),O=d(O,T,x,A,S,10,s[57]),A=d(A,O,T,x,v,15,s[58]),x=d(x,A,O,T,E,21,s[59]),T=d(T,x,A,O,g,6,s[60]),O=d(O,T,x,A,C,10,s[61]),A=d(A,O,T,x,f,15,s[62]),x=d(x,A,O,T,w,21,s[63]),o[0]=o[0]+T|0,o[1]=o[1]+x|0,o[2]=o[2]+A|0,o[3]=o[3]+O|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,u=0;u<4;u++){var c=l[u];l[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+i+a;return(s<<o|s>>>32-o)+e}function c(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+i+a;return(s<<o|s>>>32-o)+e}function h(t,e,n,r,i,o,a){var s=t+(e^n^r)+i+a;return(s<<o|s>>>32-o)+e}function d(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+i+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(l),e.HmacMD5=o._createHmacHelper(l)}(Math),r.MD5)},e7zE:function(t,e,n){var r,i,o,a,s,l,u,c;t.exports=(c=n("Ib8C"),n("3y9D"),n("WYAk"),a=(i=(r=c).lib).WordArray,l=(s=r.algo).HMAC,u=s.PBKDF2=(o=i.Base).extend({cfg:o.extend({keySize:4,hasher:s.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=l.create(n.hasher,t),i=a.create(),o=a.create([1]),s=i.words,u=o.words,c=n.keySize,h=n.iterations;s.length<c;){var d=r.update(e).finalize(o);r.reset();for(var f=d.words,p=f.length,g=d,m=1;m<h;m++){g=r.finalize(g),r.reset();for(var v=g.words,b=0;b<p;b++)f[b]^=v[b]}i.concat(d),u[0]++}return i.sigBytes=4*c,i}}),r.PBKDF2=function(t,e,n){return u.create(n).compute(t,e)},c.PBKDF2)},eJtT:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(){this.nombre="",this.url=""}}},"ej4/":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(t,e){this.fichaService=t,this.criteriosService=e}ngOnInit(){this.fichas||this.criteriosService.criteriosObservados.subscribe(t=>{console.log(t),this.mostrarArtefactosFiltrados(t)})}mostrarArtefactosFiltrados(t){console.log("nuevos criterios"+JSON.stringify(t)),this.observable$=this.fichaService.getFichasFiltradas(t).subscribe(t=>{this.fichas=this.fichaService.extraerFichas(t)}),this.fichas=Array.from(this.observable$)}}},eqlp:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(){}ngOnInit(){}}},fNgX:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return f}));var r=n("8Y7J"),i=n("Nv++"),o=n("cUpR"),a=r.nb({encapsulation:2,styles:[],data:{}});function s(t){return r.Jb(0,[],null,null)}function l(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,s,a)),r.ob(1,573440,null,0,i.c,[o.b,i.a,i.d,[2,i.i]],null,null)],null,(function(t,e){t(e,0,0,r.Bb(e,1).title,r.Bb(e,1).renderedIconHTML)}))}var u=r.lb("fa-icon",i.c,l,{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",listItem:"listItem",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},{},[]),c=r.nb({encapsulation:2,styles:[],data:{}});function h(t){return r.Jb(0,[],null,null)}function d(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"fa-duotone-icon",[],[[8,"innerHTML",1]],null,null,h,c)),r.ob(1,573440,null,0,i.b,[o.b,i.a,i.d,[2,i.i]],null,null)],null,(function(t,e){t(e,0,0,r.Bb(e,1).renderedIconHTML)}))}var f=r.lb("fa-duotone-icon",i.b,d,{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",listItem:"listItem",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole",swapOpacity:"swapOpacity",primaryOpacity:"primaryOpacity",secondaryOpacity:"secondaryOpacity",primaryColor:"primaryColor",secondaryColor:"secondaryColor"},{},[])},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},"gb/T":function(t,e,n){var r,i;t.exports=(i=n("Ib8C"),n("OLod"),i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),r.Decryptor=r.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),r),i.mode.ECB)},hqm0:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("LRne"),i=n("AOe3"),o=(n("Zdl6"),n("lEC+"),n("PSD3")),a=n.n(o);class s{constructor(t,e,n){this.fichaService=t,this.plantillaFicha=e,this.activatedRoute=n,this.id=this.activatedRoute.snapshot.params.id,this.flagForma={cilindro:!1,esfera:!1,cubo:!1},this.flagTipo={espoleta:!1,mina:!1,municion:!1,proyectil:!1,cohete:!1,misil:!1,bomba:!1,granada:!1},this.elementosArtefacto$=Object(r.a)(this.plantillaFicha.getArrayArtefacto()),this.elementosFormaCilindro$=Object(r.a)(this.plantillaFicha.getArrayForma("cilindro")),this.elementosFormaEsfera$=Object(r.a)(this.plantillaFicha.getArrayForma("esfera")),this.elementosFormaCubo$=Object(r.a)(this.plantillaFicha.getArrayForma("")),this.elementosFormaEspoleta$=Object(r.a)(this.plantillaFicha.getArrayEspoleta()),this.elementosFormaMina$=Object(r.a)(this.plantillaFicha.getArrayMina()),this.elementosFormaMunicion$=Object(r.a)(this.plantillaFicha.getArrayMunicion()),this.elementosFormaProyectil$=Object(r.a)(this.plantillaFicha.getArrayProyectil()),this.elementosFormaCohete$=Object(r.a)(this.plantillaFicha.getArrayCohete()),this.elementosFormaMisil$=Object(r.a)(this.plantillaFicha.getArrayMisil()),this.elementosFormaBomba$=Object(r.a)(this.plantillaFicha.getArrayBomba()),this.elementosFormaGranada$=Object(r.a)(this.plantillaFicha.getArrayGranada())}ngOnInit(){a.a.fire({title:"\xa1Informaci\xf3n Importante!",text:"Recuerde que en esta aplicaci\xf3n NO ESTA PERMITIDO cargar informaci\xf3n clasificada o susceptible de serlo. Para m\xe1s informaci\xf3n consulte la pesta\xf1a 'Normas de uso'.",icon:"warning"})}seleccionTipo(){this.flagTipo.espoleta=!1,this.flagTipo.mina=!1,this.flagTipo.municion=!1,this.flagTipo.proyectil=!1,this.flagTipo.cohete=!1,this.flagTipo.misil=!1,this.flagTipo.bomba=!1,this.flagTipo.granada=!1,"artefactos"==this.artefacto.tipoArtefacto&&this.marcarPropositoLibre(),"minas"==this.artefacto.tipoArtefacto&&(this.flagTipo.mina=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.minas)),"municiones"==this.artefacto.tipoArtefacto&&(this.flagTipo.municion=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones)),"proyectiles"==this.artefacto.tipoArtefacto&&(this.flagTipo.municion=!0,this.flagTipo.proyectil=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones)),"cohetes"==this.artefacto.tipoArtefacto&&(this.flagTipo.municion=!0,this.flagTipo.cohete=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones)),"misiles"==this.artefacto.tipoArtefacto&&(this.flagTipo.municion=!0,this.flagTipo.cohete=!0,this.flagTipo.misil=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones)),"bombasAviacion"==this.artefacto.tipoArtefacto&&(this.flagTipo.bomba=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones)),"granadas"==this.artefacto.tipoArtefacto&&(this.flagTipo.granada=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones)),"espoletas"==this.artefacto.tipoArtefacto&&(this.flagTipo.espoleta=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.espoletas))}cargarOpcionesPropositoArtefacto(t){let e=document.getElementById("propositoArtefacto");t.forEach(t=>{let n=document.createElement("option");n.value=t.key,n.innerText=t.value,e.appendChild(n)})}marcarPropositoLibre(){this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones.concat(i.a.propositoArtefacto.minas).concat(i.a.propositoArtefacto.espoletas))}seleccionForma(){this.flagForma.cilindro=!1,this.flagForma.cubo=!1,this.flagForma.esfera=!1,i.a.formas.forEach(t=>{this.artefacto.forma==t.key&&("cilindro"==t.forma?(this.artefacto.longitud=0,this.artefacto.fondo=0,this.flagForma.cilindro=!0):"esfera"==t.forma?(this.artefacto.longitud=0,this.artefacto.altura=0,this.artefacto.fondo=0,this.flagForma.esfera=!0):(this.artefacto.diametroCalibre=0,this.flagForma.cubo=!0))})}asignarArtefacto(t){this.artefacto=Object.assign({},this.artefacto,t),this.seleccionForma(),this.seleccionTipo(),console.log("artefacto"),console.log(this.artefacto)}salvarArtefacto(){this.id=void 0,this.artefacto||a.a.fire({title:"Error",text:"Debe introducir los campos",icon:"error"}),this.fichaService.postArtefacto(this.artefacto).subscribe(t=>{console.log("RESPUESTA",t);let e=t._links.self.href;for(let n=e.length-1;n>0&&"/"!==e[n];n--)this.id=null==this.id?e[n]:e[n]+this.id;this.hijo.subirImagenes(this.id),this.hijoArchivo.subirArchivos(this.id)})}}},hti6:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("8Y7J"),i=n("xOdc"),o=n("sBFL"),a=n("iInd");let s=(()=>{class t{constructor(t,e,n){this.tokenService=t,this.loginService=e,this.router=n}canActivate(t,e){return!(!this.tokenService.getToken()||!this.loginService.getIsAdminFlagObs)||(this.router.navigate(["/"]),!1)}}return t.ngInjectableDef=r.Nb({factory:function(){return new t(r.Ob(i.a),r.Ob(o.a),r.Ob(a.k))},token:t,providedIn:"root"}),t})()},iInd:function(t,e,n){"use strict";var r=n("SVse"),i=n("8Y7J"),o=n("LRne"),a=n("Cfvw"),s=n("2Vo4"),l=n("HDdC");function u(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}u.prototype=Object.create(Error.prototype);const c=u;var h=n("z+Ro"),d=n("DH7j"),f=n("l7GE"),p=n("ZUHj"),g=n("yCtX");const m={};class v{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new b(t,this.resultSelector))}}class b extends f.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(m),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(p.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,a=this.toRespond?o[n]===m?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var y=n("EY2u");function w(t){return new l.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(a.a)(n):Object(y.b)()).subscribe(e)})}var _=n("XNiG"),C=n("lJxs"),k=n("bHdf");function E(){return Object(k.a)(1)}var I=n("pLZG"),S=n("7o/Q");function T(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}T.prototype=Object.create(Error.prototype);const x=T;function A(t){return function(e){return 0===t?Object(y.b)():e.lift(new O(t))}}class O{constructor(t){if(this.total=t,this.total<0)throw new x}call(t,e){return e.subscribe(new N(t,this.total))}}class N extends S.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var P=n("KqfI"),R=n("n6bG");function D(t,e,n){return function(r){return r.lift(new M(t,e,n))}}class M{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new j(t,this.nextOrObserver,this.error,this.complete))}}class j extends S.a{constructor(t,e,n,r){super(t),this._tapNext=P.a,this._tapError=P.a,this._tapComplete=P.a,this._tapError=n||P.a,this._tapComplete=r||P.a,Object(R.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||P.a,this._tapError=e.error||P.a,this._tapComplete=e.complete||P.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const L=(t=B)=>D({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function B(){return new c}function F(t=null){return e=>e.lift(new V(t))}class V{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new U(t,this.defaultValue))}}class U extends S.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var q=n("SpAZ");function z(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(I.a)((e,n)=>t(e,n,r)):q.a,A(1),n?F(e):L(()=>new c))}var H=n("JIr8");function G(t){return e=>0===t?Object(y.b)():e.lift(new W(t))}class W{constructor(t){if(this.total=t,this.total<0)throw new x}call(t,e){return e.subscribe(new K(t,this.total))}}class K extends S.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function $(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(I.a)((e,n)=>t(e,n,r)):q.a,G(1),n?F(e):L(()=>new c))}var J=n("5+tZ");class Q{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Y(t,this.predicate,this.thisArg,this.source))}}class Y extends S.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var X=n("51Dv");function Z(t,e){return"function"==typeof e?n=>n.pipe(Z((n,r)=>Object(a.a)(t(n,r)).pipe(Object(C.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new tt(t))}class tt{constructor(t){this.project=t}call(t,e){return e.subscribe(new et(t,this.project))}}class et extends f.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new X.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(p.a)(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}var nt=n("XUOw");function rt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new it(t,e,n))}}class it{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ot(t,this.accumulator,this.seed,this.hasSeed))}}class ot extends S.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}var at=n("bOdf"),st=n("mCNh"),lt=n("quSY");class ut{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ct(t,this.callback))}}class ct extends S.a{constructor(t,e){super(t),this.add(new lt.a(e))}}var ht=n("cUpR");n.d(e,"C",(function(){return At})),n.d(e,"s",(function(){return zn})),n.d(e,"z",(function(){return Zn})),n.d(e,"u",(function(){return Kn})),n.d(e,"A",(function(){return tr})),n.d(e,"B",(function(){return er})),n.d(e,"w",(function(){return Jn})),n.d(e,"v",(function(){return $n})),n.d(e,"y",(function(){return Xn})),n.d(e,"t",(function(){return Gn})),n.d(e,"x",(function(){return Yn})),n.d(e,"D",(function(){return Un})),n.d(e,"l",(function(){return On})),n.d(e,"m",(function(){return Nn})),n.d(e,"o",(function(){return Mn})),n.d(e,"j",(function(){return wn})),n.d(e,"k",(function(){return An})),n.d(e,"i",(function(){return Cn})),n.d(e,"g",(function(){return qn})),n.d(e,"h",(function(){return nr})),n.d(e,"n",(function(){return Wn})),n.d(e,"b",(function(){return Dn})),n.d(e,"d",(function(){return Fn})),n.d(e,"e",(function(){return Bn})),n.d(e,"f",(function(){return Ln})),n.d(e,"p",(function(){return Vn})),n.d(e,"a",(function(){return be})),n.d(e,"q",(function(){return En})),n.d(e,"c",(function(){return Yt})),n.d(e,"r",(function(){return Qt}));class dt{constructor(t,e){this.id=t,this.url=e}}class ft extends dt{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pt extends dt{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gt extends dt{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mt extends dt{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vt extends dt{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bt extends dt{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yt extends dt{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wt extends dt{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _t extends dt{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ct{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kt{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Et{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class It{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class St{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tt{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xt{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class At{}class Ot{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Nt(t){return new Ot(t)}function Pt(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Rt(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Dt{constructor(t,e){this.routes=t,this.module=e}}function Mt(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];jt(r,Lt(e,r))}}function jt(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Mt(t.children,e)}function Lt(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Bt(t){const e=t.children&&t.children.map(Bt),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=At),n}function Ft(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}function Vt(t){return Array.prototype.concat.apply([],t)}function Ut(t){return t.length>0?t[t.length-1]:null}function qt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function zt(t){return Object(i.vb)(t)?t:Object(i.wb)(t)?Object(a.a)(Promise.resolve(t)):Object(o.a)(t)}function Ht(t,e,n){return n?function(t,e){return Ft(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!$t(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!$t(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!$t(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!$t(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Gt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return Xt.serialize(this)}}class Wt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,qt(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zt(this)}}class Kt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Nt(this.parameters)),this._parameterMap}toString(){return oe(this)}}function $t(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Jt(t,e){let n=[];return qt(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),qt(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Qt{}class Yt{parse(t){const e=new ce(t);return new Gt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Zt(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return qt(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Jt(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${Zt(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ee(e)}=${ee(t)}`).join("&"):`${ee(e)}=${ee(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Xt=new Yt;function Zt(t){return t.segments.map(t=>oe(t)).join("/")}function te(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ee(t){return te(t).replace(/%3B/gi,";")}function ne(t){return te(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function re(t){return decodeURIComponent(t)}function ie(t){return re(t.replace(/\+/g,"%20"))}function oe(t){return`${ne(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ne(t)}=${ne(e[t])}`).join("")}`;var e}const ae=/^[^\/()?;=#]+/;function se(t){const e=t.match(ae);return e?e[0]:""}const le=/^[^=?&#]+/,ue=/^[^?&#]+/;class ce{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Wt(t,e)),n}parseSegment(){const t=se(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Kt(re(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=se(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=se(this.remaining);t&&(n=t,this.capture(n))}t[re(e)]=re(n)}parseQueryParam(t){const e=function(t){const e=t.match(le);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ue);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ie(e),i=ie(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=se(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Wt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class he{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=de(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=de(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=fe(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return fe(t,this._root).map(t=>t.value)}}function de(t,e){if(t===e.value)return e;for(const n of e.children){const e=de(t,n);if(e)return e}return null}function fe(t,e){if(t===e.value)return[e];for(const n of e.children){const r=fe(t,n);if(r.length)return r.unshift(e),r}return[]}class pe{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ge(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class me extends he{constructor(t,e){super(t),this.snapshot=e,Ce(this,t)}toString(){return this.snapshot.toString()}}function ve(t,e){const n=function(t,e){const n=new we([],{},{},"",{},"primary",e,null,t.root,-1,{});return new _e("",new pe(n,[]))}(t,e),r=new s.a([new Kt("",{})]),i=new s.a({}),o=new s.a({}),a=new s.a({}),l=new s.a(""),u=new be(r,i,a,l,o,"primary",e,n.root);return u.snapshot=n.root,new me(new pe(u,[]),n)}class be{constructor(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(C.a)(t=>Nt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(C.a)(t=>Nt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ye(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class we{constructor(t,e,n,r,i,o,a,s,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _e extends he{constructor(t,e){super(e),this.url=t,Ce(this,e)}toString(){return ke(this._root)}}function Ce(t,e){e.value._routerState=t,e.children.forEach(e=>Ce(t,e))}function ke(t){const e=t.children.length>0?` { ${t.children.map(ke).join(", ")} } `:"";return`${t.value}${e}`}function Ee(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ft(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ft(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ft(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ft(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ie(t,e){var n,r;return Ft(t.params,e.params)&&$t(n=t.url,r=e.url)&&n.every((t,e)=>Ft(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Ie(t.parent,e.parent))}function Se(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Te(t,e,n,r,i){let o={};return r&&qt(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Gt(n.root===t?e:function t(e,n,r){const i={};return qt(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Wt(e.segments,i)}(n.root,t,e),o,i)}class xe{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Se(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Ut(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ae{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Oe(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Ne(t,e,n){if(t||(t=new Wt([],{})),0===t.segments.length&&t.hasChildren())return Pe(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],a=Oe(n[r]),s=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&s&&"object"==typeof s&&void 0===s.outlets){if(!je(a,s,e))return o;r+=2}else{if(!je(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Wt(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Wt(t.segments.slice(r.pathIndex),t.children),Pe(e,0,i)}return r.match&&0===i.length?new Wt(t.segments,{}):r.match&&!t.hasChildren()?Re(t,e,n):r.match?Pe(t,0,i):Re(t,e,n)}function Pe(t,e,n){if(0===n.length)return new Wt(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return qt(r,(n,r)=>{null!==n&&(i[r]=Ne(t.children[r],e,n))}),qt(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Wt(t.segments,i)}}function Re(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=De(n[i].outlets);return new Wt(r,t)}if(0===i&&Se(n[0])){r.push(new Kt(t.segments[e].path,n[0])),i++;continue}const o=Oe(n[i]),a=i<n.length-1?n[i+1]:null;o&&a&&Se(a)?(r.push(new Kt(o,Me(a))),i+=2):(r.push(new Kt(o,{})),i++)}return new Wt(r,{})}function De(t){const e={};return qt(t,(t,n)=>{null!==t&&(e[n]=Re(new Wt([],{}),0,t))}),e}function Me(t){const e={};return qt(t,(t,n)=>e[n]=""+t),e}function je(t,e,n){return t==n.path&&Ft(e,n.parameters)}class Le{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ee(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ge(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),qt(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=ge(t),i=t.value.component?n.children:e;qt(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=ge(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Tt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new It(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Ee(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Be(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Be(t){Ee(t.value),t.children.forEach(Be)}function Fe(t){return"function"==typeof t}function Ve(t){return t instanceof Gt}class Ue{constructor(t){this.segmentGroup=t||null}}class qe{constructor(t){this.urlTree=t}}function ze(t){return new l.a(e=>e.error(new Ue(t)))}function He(t){return new l.a(e=>e.error(new qe(t)))}function Ge(t){return new l.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class We{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.v)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(C.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(H.a)(t=>{if(t instanceof qe)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ue)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(C.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(H.a)(t=>{if(t instanceof Ue)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Wt([],{primary:t}):t;return new Gt(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(C.a)(t=>new Wt([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(o.a)({});const n=[],r=[],i={};return qt(t,(t,o)=>{const a=e(o,t).pipe(Object(C.a)(t=>i[o]=t));"primary"===o?n.push(a):r.push(a)}),o.a.apply(null,n.concat(r)).pipe(E(),z(),Object(C.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,a){return Object(o.a)(...n).pipe(Object(C.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,a).pipe(Object(H.a)(t=>{if(t instanceof Ue)return Object(o.a)(null);throw t}))),E(),$(t=>!!t),Object(H.a)((t,n)=>{if(t instanceof c||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(o.a)(new Wt([],{}));throw new Ue(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,a){return Qe(r)!==o?ze(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):ze(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?He(i):this.lineralizeSegments(n,i).pipe(Object(J.a)(n=>{const i=new Wt(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:a,consumedSegments:s,lastChild:l,positionalParamSegments:u}=Ke(e,r,i);if(!a)return ze(e);const c=this.applyRedirectCommands(s,r.redirectTo,u);return r.redirectTo.startsWith("/")?He(c):this.lineralizeSegments(r,c).pipe(Object(J.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(C.a)(t=>(n._loadedConfig=t,new Wt(r,{})))):Object(o.a)(new Wt(r,{}));const{matched:i,consumedSegments:a,lastChild:s}=Ke(e,n,r);if(!i)return ze(e);const l=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(J.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Je(t,e,n)&&"primary"!==Qe(n))}(t,n,r)?{segmentGroup:$e(new Wt(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Qe(r)&&(n[Qe(r)]=new Wt([],{}));return n}(r,new Wt(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Je(t,e,n))}(t,n,r)?{segmentGroup:$e(new Wt(t.segments,function(t,e,n,r){const i={};for(const o of n)Je(t,e,o)&&!r[Qe(o)]&&(i[Qe(o)]=new Wt([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,l,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(C.a)(t=>new Wt(a,t))):0===r.length&&0===s.length?Object(o.a)(new Wt(a,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(C.a)(t=>new Wt(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new Dt(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(a.a)(r).pipe(Object(C.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&Fe(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Fe(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return zt(o)})).pipe(E(),(i=t=>!0===t,t=>t.lift(new Q(i,void 0,t)))):Object(o.a)(!0);var i}(t.injector,e,n).pipe(Object(J.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(C.a)(t=>(e._loadedConfig=t,t))):function(t){return new l.a(e=>e.error(Pt(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new Dt([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ge(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Gt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return qt(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return qt(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Wt(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ke(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Rt)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function $e(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Wt(t.segments.concat(e.segments),e.children)}return t}function Je(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Qe(t){return t.outlet||"primary"}class Ye{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Xe{constructor(t,e){this.component=t,this.route=e}}function Ze(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=ge(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,s=n?n.value:null,l=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!$t(t.url,e.url);case"pathParamsOrQueryParamsChange":return!$t(t.url,e.url)||!Ft(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ie(t,e)||!Ft(t.queryParams,e.queryParams);case"paramsChange":default:return!Ie(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Ye(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?l?l.children:null:r,i,o),u&&o.canDeactivateChecks.push(new Xe(l&&l.outlet&&l.outlet.component||null,s))}else s&&en(n,l,o),o.canActivateChecks.push(new Ye(i)),t(e,null,a.component?l?l.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]}),qt(a,(t,e)=>en(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function tn(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function en(t,e,n){const r=ge(t),i=t.value;qt(r,(t,r)=>{en(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Xe(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const nn=Symbol("INITIAL_VALUE");function rn(){return Z(t=>function(...t){let e=null,n=null;return Object(h.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(d.a)(t[0])&&(t=t[0]),Object(g.a)(t,n).lift(new v(e))}(...t.map(t=>t.pipe(G(1),function(...t){return e=>{let n=t[t.length-1];Object(h.a)(n)?t.pop():n=null;const r=t.length;return function(...t){return E()(Object(o.a)(...t))}(1!==r||n?r>0?Object(g.a)(t,n):Object(y.b)(n):Object(nt.a)(t[0]),e)}}(nn)))).pipe(rt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==nn)return t;if(r===nn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ve(r))return r}return t},t)},nn),Object(I.a)(t=>t!==nn),Object(C.a)(t=>Ve(t)?t:!0===t),G(1)))}function on(t,e){return null!==t&&e&&e(new St(t)),Object(o.a)(!0)}function an(t,e){return null!==t&&e&&e(new Et(t)),Object(o.a)(!0)}function sn(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>w(()=>{const i=tn(r,e,n);let o;if(function(t){return t&&Fe(t.canActivate)}(i))o=zt(i.canActivate(e,t));else{if(!Fe(i))throw new Error("Invalid CanActivate guard");o=zt(i(e,t))}return o.pipe($())}));return Object(o.a)(i).pipe(rn())}function ln(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>w(()=>{const i=e.guards.map(i=>{const o=tn(i,e.node,n);let a;if(function(t){return t&&Fe(t.canActivateChild)}(o))a=zt(o.canActivateChild(r,t));else{if(!Fe(o))throw new Error("Invalid CanActivateChild guard");a=zt(o(r,t))}return a.pipe($())});return Object(o.a)(i).pipe(rn())}));return Object(o.a)(i).pipe(rn())}class un{}class cn{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=fn(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new we([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new pe(n,e),i=new _e(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(t){return new l.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=ye(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Jt(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof un))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new un}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new un;if((t.outlet||"primary")!==r)throw new un;let i,o=[],a=[];if("**"===t.path){const o=n.length>0?Ut(n).parameters:{};i=new we(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mn(t),r,t.component,t,hn(e),dn(e)+n.length,vn(t))}else{const s=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new un;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Rt)(n,t,e);if(!r)throw new un;const i={};qt(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=s.consumedSegments,a=n.slice(s.lastChild),i=new we(o,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mn(t),r,t.component,t,hn(e),dn(e)+o.length,vn(t))}const s=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=fn(e,o,a,s,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(s,l);return[new pe(i,t)]}if(0===s.length&&0===u.length)return[new pe(i,[])];const c=this.processSegment(s,l,u,"primary");return[new pe(i,c)]}}function hn(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function dn(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function fn(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>pn(t,e,n)&&"primary"!==gn(n))}(t,n,r)){const i=new Wt(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==gn(o)){const n=new Wt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[gn(o)]=n}return i}(t,e,r,new Wt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>pn(t,e,n))}(t,n,r)){const o=new Wt(t.segments,function(t,e,n,r,i,o){const a={};for(const s of r)if(pn(t,n,s)&&!i[gn(s)]){const n=new Wt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[gn(s)]=n}return Object.assign({},i,a)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Wt(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function pn(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function gn(t){return t.outlet||"primary"}function mn(t){return t.data||{}}function vn(t){return t.resolve||{}}function bn(t,e,n,r){const i=tn(t,e,r);return zt(i.resolve?i.resolve(e,n):i(e,n))}function yn(t){return function(e){return e.pipe(Z(e=>{const n=t(e);return n?Object(a.a)(n).pipe(Object(C.a)(()=>e)):Object(a.a)([e])}))}}class wn{}class _n{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Cn=new i.o("ROUTES");class kn{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(C.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Dt(Vt(r.injector.get(Cn)).map(Bt),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(a.a)(this.loader.load(t)):zt(t()).pipe(Object(J.a)(t=>t instanceof i.t?Object(o.a)(t):Object(a.a)(this.compiler.compileModuleAsync(t))))}}class En{}class In{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Sn(t){throw t}function Tn(t,e,n){return e.parse("/")}function xn(t,e){return Object(o.a)(null)}class An{constructor(t,e,n,r,o,a,l,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new _.a,this.errorHandler=Sn,this.malformedUriErrorHandler=Tn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xn,afterPreactivation:xn},this.urlHandlingStrategy=new In,this.routeReuseStrategy=new _n,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.v),this.console=o.get(i.Y);const c=o.get(i.x);this.isNgZoneEnabled=c instanceof i.x,this.resetConfig(u),this.currentUrlTree=new Gt(new Wt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new kn(a,l,t=>this.triggerEvent(new Ct(t)),t=>this.triggerEvent(new kt(t))),this.routerState=ve(this.currentUrlTree,this.rootComponentType),this.transitions=new s.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(I.a)(t=>0!==t.id),Object(C.a)(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Z(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(D(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Z(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Z(t=>{const n=this.transitions.getValue();return e.next(new ft(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?y.a:[t]}),Z(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,a=this.urlSerializer,s=this.config,function(t){return t.pipe(Z(t=>function(t,e,n,r,i){return new We(t,e,n,r,i).apply()}(r,i,a,t.extractedUrl,s).pipe(Object(C.a)(e=>Object.assign({},t,{urlAfterRedirects:e})))))}),D(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(J.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new cn(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(C.a)(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),D(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),D(t=>{const n=new vt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,a,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:a,extras:s}=t,l=new ft(n,this.serializeUrl(r),i,a);e.next(l);const u=ve(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign({},t,{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),y.a}),yn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:a}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!a})}),D(t=>{const e=new bt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(C.a)(t=>Object.assign({},t,{guards:Ze(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(J.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:l}}=n;return 0===l.length&&0===s.length?Object(o.a)(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return Object(a.a)(t).pipe(Object(J.a)(t=>function(t,e,n,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(o.a)(!0);const s=a.map(o=>{const a=tn(o,e,i);let s;if(function(t){return t&&Fe(t.canDeactivate)}(a))s=zt(a.canDeactivate(t,e,n,r));else{if(!Fe(a))throw new Error("Invalid CanDeactivate guard");s=zt(a(t,e,n,r))}return s.pipe($())});return Object(o.a)(s).pipe(rn())}(t.component,t.route,n,e,r)),$(t=>!0!==t,!0))}(l,r,i,t).pipe(Object(J.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(a.a)(e).pipe(Object(at.a)(e=>Object(a.a)([an(e.route.parent,r),on(e.route,r),ln(t,e.path,n),sn(t,e.route,n)]).pipe(E(),$(t=>!0!==t,!0))),$(t=>!0!==t,!0))}(r,s,t,e):Object(o.a)(n)),Object(C.a)(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),D(t=>{if(Ve(t.guardsResult)){const e=Pt(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),D(t=>{const e=new yt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(I.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new gt(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),yn(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(D(t=>{const e=new wt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(J.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(a.a)(i).pipe(Object(at.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});if(1===i.length){const o=i[0];return bn(t[o],e,n,r).pipe(Object(C.a)(t=>({[o]:t})))}const s={};return Object(a.a)(i).pipe(Object(J.a)(i=>bn(t[i],e,n,r).pipe(Object(C.a)(t=>(s[i]=t,t))))).pipe(z(),Object(C.a)(()=>s))}(t._resolve,t,e,r).pipe(Object(C.a)(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,ye(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(st.a)(rt(t,e),A(1),F(e))(n)}:function(e){return Object(st.a)(rt((e,n,r)=>t(e,n,r+1)),A(1))(e)}}((t,e)=>t),Object(C.a)(e=>t)):Object(o.a)(t)}))}),D(t=>{const e=new _t(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),yn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:a}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!a})}),Object(C.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new pe(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new be(new s.a((i=n.value).url),new s.a(i.params),new s.a(i.queryParams),new s.a(i.fragment),new s.a(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new pe(r,o)}}var i}(t,e._root,n?n._root:void 0);return new me(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),D(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(l=this.rootContexts,u=this.routeReuseStrategy,c=t=>this.triggerEvent(t),Object(C.a)(t=>(new Le(u,t.targetRouterState,t.currentRouterState,c).activate(l),t))),D({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new gt(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ut(i))),Object(H.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ve(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new gt(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new mt(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return y.a}));var i,l,u,c}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Mt(t),this.config=t.map(Bt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:o,preserveQueryParams:a,queryParamsHandling:s,preserveFragment:l}=e;Object(i.T)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let h=null;if(s)switch(s){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=a?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Te(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new xe(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return qt(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new xe(n,e,r)}(n);if(o.toRoot())return Te(e.root,new Wt([],{}),e,r,i);const a=function(t,e,n){if(t.isAbsolute)return new Ae(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Ae(n.snapshot._urlSegment,!0,0);const r=Se(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ae(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?Pe(a.segmentGroup,a.index,o.commands):Ne(a.segmentGroup,a.index,o.commands);return Te(a.segmentGroup,s,e,r,i)}(u,this.currentUrlTree,t,h,c)}navigateByUrl(t,e={skipLocationChange:!1}){Object(i.T)()&&this.isNgZoneEnabled&&!i.x.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Ve(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Ve(t))return Ht(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ht(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new pt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,a=null;const s=new Promise((t,e)=>{o=t,a=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class On{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Pn(this.skipLocationChange),replaceUrl:Pn(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Pn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Pn(this.preserveFragment)})}}class Nn{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof pt&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Pn(this.skipLocationChange),replaceUrl:Pn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Pn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Pn(this.preserveFragment)})}}function Pn(t){return""===t||!!t}class Rn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dn,this.attachRef=null}}class Dn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Rn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Mn{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.m,this.deactivateEvents=new i.m,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new jn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class jn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===be?this.route:t===Dn?this.childContexts:this.parent.get(t,e)}}class Ln{}class Bn{preload(t,e){return e().pipe(Object(H.a)(()=>Object(o.a)(null)))}}class Fn{preload(t,e){return Object(o.a)(null)}}class Vn{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new kn(e,n,e=>t.triggerEvent(new Ct(e)),e=>t.triggerEvent(new kt(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(I.a)(t=>t instanceof pt),Object(at.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.v);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(a.a)(n).pipe(Object(k.a)(),Object(C.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(J.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Un{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ft?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pt&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new xt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const qn=new i.o("ROUTER_CONFIGURATION"),zn=new i.o("ROUTER_FORROOT_GUARD"),Hn=[r.g,{provide:Qt,useClass:Yt},{provide:An,useFactory:Yn,deps:[i.g,Qt,Dn,r.g,i.p,i.u,i.i,Cn,qn,[En,new i.y],[wn,new i.y]]},Dn,{provide:be,useFactory:Xn,deps:[An]},{provide:i.u,useClass:i.H},Vn,Fn,Bn,{provide:qn,useValue:{enableTracing:!1}}];function Gn(){return new i.w("Router",An)}class Wn{constructor(t,e){}static forRoot(t,e){return{ngModule:Wn,providers:[Hn,Qn(t),{provide:zn,useFactory:Jn,deps:[[An,new i.y,new i.G]]},{provide:qn,useValue:e||{}},{provide:r.h,useFactory:$n,deps:[r.p,[new i.n(r.a),new i.y],qn]},{provide:Un,useFactory:Kn,deps:[An,r.q,qn]},{provide:Ln,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Fn},{provide:i.w,multi:!0,useFactory:Gn},[Zn,{provide:i.d,multi:!0,useFactory:tr,deps:[Zn]},{provide:nr,useFactory:er,deps:[Zn]},{provide:i.b,multi:!0,useExisting:nr}]]}}static forChild(t){return{ngModule:Wn,providers:[Qn(t)]}}}function Kn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Un(t,e,n)}function $n(t,e,n={}){return n.useHash?new r.e(t,e):new r.o(t,e)}function Jn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Qn(t){return[{provide:i.a,multi:!0,useValue:t},{provide:Cn,multi:!0,useValue:t}]}function Yn(t,e,n,r,i,o,a,s,l={},u,c){const h=new An(null,e,n,r,i,o,a,Vt(s));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=Object(ht.r)();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function Xn(t){return t.routerState.root}class Zn{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new _.a}appInitializer(){return this.injector.get(r.f,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(An),r=this.injector.get(qn);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(qn),n=this.injector.get(Vn),r=this.injector.get(Un),o=this.injector.get(An),a=this.injector.get(i.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function tr(t){return t.appInitializer.bind(t)}function er(t){return t.bootstrapListener.bind(t)}const nr=new i.o("Router Initializer")},iSss:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{}},jDPn:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("NFKh"),i=n("AytR"),o=n("8Y7J");let a=(()=>{class t{constructor(){}encriptarFicha(t){return t.nombre=r.AES.encrypt(t.nombre.trim(),i.a.claveEncriptado.trim()).toString(),t.descripcion=r.AES.encrypt(t.descripcion.trim(),i.a.claveEncriptado.trim()).toString(),t.funcionamiento=r.AES.encrypt(t.funcionamiento.trim(),i.a.claveEncriptado.trim()).toString(),t.fabricacion=r.AES.encrypt(t.fabricacion.trim(),i.a.claveEncriptado.trim()).toString(),t}desencriptarFicha(t){return t.nombre=r.AES.decrypt(t.nombre.trim(),i.a.claveEncriptado.trim()).toString(r.enc.Utf8),t.descripcion=r.AES.decrypt(t.descripcion.trim(),i.a.claveEncriptado.trim()).toString(r.enc.Utf8),t.funcionamiento=r.AES.decrypt(t.funcionamiento.trim(),i.a.claveEncriptado.trim()).toString(r.enc.Utf8),t.fabricacion=r.AES.decrypt(t.fabricacion.trim(),i.a.claveEncriptado.trim()).toString(r.enc.Utf8),t}encriptarArchivo(t){return t}desencriptarArchivo(t){return r.AES.decrypt(t,i.a.claveEncriptado)}}return t.ngInjectableDef=o.Nb({factory:function(){return new t},token:t,providedIn:"root"}),t})()},jO9C:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("OLod"),r.pad.Iso97971={pad:function(t,e){t.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(t,e)},unpad:function(t){r.pad.ZeroPadding.unpad(t),t.sigBytes--}},r.pad.Iso97971)},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lAvF:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(){}ngOnInit(){}}},"lEC+":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("2+LC");class i{constructor(t){this.fotografiasService=t,this.id=void 0,this.fotografiaPrincipal=[],this.fotografiasSecundarias=[],this.fotografiasCroquis=[],this.fotografiasSecundariasASubir=[],this.fotografiasCroquisASubir=[],this.previewSecundarias=[],this.previewCroquis=[]}ngOnInit(){this.fotografiasService.iniciarFirebase()}seleccionarImagenes(t,e){for(let n=0;n<t.target.files.length;n++){let i=new r.a;i.nombre=t.target.files[n].name,i.url=URL.createObjectURL(t.target.files[n]),i.tipo=e,"secundaria"==e&&this.fotografiasSecundariasASubir.push(t.target.files[n]),"croquis"==e&&this.fotografiasCroquisASubir.push(t.target.files[n]),"principal"==e&&(this.fotografiaPrincipal=[],this.fotografiaPrincipalASubir=t.target.files[n])}this.previewImagenes(t,e)}previewImagenes(t,e){for(let n=0;n<t.target.files.length;n++){let i=new r.a;i.nombre=t.target.files[n].name,i.url=URL.createObjectURL(t.target.files[n]),i.tipo=e,"secundaria"==e&&this.previewSecundarias.push(i),"croquis"==e&&this.previewCroquis.push(i),"principal"==e&&(this.fotografiaPrincipal=[],this.fotografiaPrincipal.push(i))}}subirImagenes(t){this.fotografiasService.uploadImage(this.fotografiaPrincipalASubir,t,"principal"),this.fotografiasSecundariasASubir.forEach(e=>{this.fotografiasService.uploadImage(e,t,"secundaria")}),this.fotografiasCroquisASubir.forEach(e=>{this.fotografiasService.uploadImage(e,t,"croquis")})}mostrarImagenesSubidas(){this.fotografiaPrincipal=[],this.fotografiasSecundarias=[],this.fotografiasCroquis=[],this.fotografiasService.getFotografiaPrincipal(this.id).subscribe(t=>{console.log(t),this.fotografiaPrincipal.push(t)}),this.fotografiasService.getFotografiasSecundarias(this.id).subscribe(t=>{this.fotografiasSecundarias=[],this.fotografiasSecundarias=t}),this.fotografiasService.getFotografiasCroquis(this.id).subscribe(t=>{this.fotografiasCroquis=[],this.fotografiasCroquis=t})}deseleccionarImagen(t){if("principal"==t.tipo&&(this.fotografiaPrincipal=[],this.fotografiaPrincipalASubir=null),"secundaria"==t.tipo){let e=[];this.previewSecundarias.forEach(n=>{n.nombre!==t.nombre&&e.push(n)}),this.previewSecundarias=e,e=[],this.fotografiasSecundariasASubir.forEach(n=>{n.name!==t.nombre&&e.push(n)}),this.fotografiasSecundariasASubir=e}if("croquis"==t.tipo){let e=[];this.previewCroquis.forEach(n=>{n.nombre!==t.nombre&&e.push(n)}),this.previewCroquis=e,e=[],this.fotografiasCroquisASubir.forEach(n=>{n.name!==t.nombre&&e.push(n)}),this.fotografiasCroquisASubir=e}}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}class a extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},lPiR:function(t,e,n){var r;t.exports=(r=n("Ib8C"),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=[],l=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(s[i]=n(t.pow(r,.5))),l[i]=n(t.pow(r,1/3)),i++),r++}();var u=[],c=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],h=n[6],d=n[7],f=0;f<64;f++){if(f<16)u[f]=0|t[e+f];else{var p=u[f-15],g=u[f-2];u[f]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+u[f-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+u[f-16]}var m=r&i^r&o^i&o,v=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&c^~s&h)+l[f]+u[f];d=h,h=c,c=s,s=a+v|0,a=o,o=i,i=r,r=v+(((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+c|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(c),e.HmacSHA256=o._createHmacHelper(c)}(Math),r.SHA256)},"lov/":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(){this.rolNombre="sin_rol"}}},mAIw:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return c}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function l(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("KqfI");function i(...t){return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:r.a}},mrSG:function(t,e,n){"use strict";function r(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return r}))},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,a){n(i=t[e].apply(t,r)).then(o,a)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new c(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function l(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function u(t){this._index=t}function c(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}o(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),a(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new c(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),s(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),s(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,u].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},oRuE:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("OLod"),r.pad.Iso10126={pad:function(t,e){var n=4*e,i=n-t.sigBytes%n;t.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},r.pad.Iso10126)},pA7S:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=r,e=t.lib,n=e.WordArray,i=e.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var r=a[n]-1;e[n]=t[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],c=l[o];for(n=0;n<24;n++)u[n/6|0]|=e[(s[n]-1+c)%28]<<31-n%6,u[4+(n/6|0)]|=e[28+(s[n+24]-1+c)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var h=this._invSubKeys=[];for(n=0;n<16;n++)h[n]=i[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],d.call(this,4,252645135),d.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,s=0,l=0;l<8;l++)s|=u[l][((a^i[l])&c[l])>>>0];this._lBlock=a,this._rBlock=o^s}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function f(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}t.DES=i._createHelper(h);var p=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),r=t.length<4?t.slice(0,2):t.slice(2,4),i=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=h.createEncryptor(n.create(e)),this._des2=h.createEncryptor(n.create(r)),this._des3=h.createEncryptor(n.create(i))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),r.TripleDES)},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))}}class a extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pLzU:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("Lhse");const i=t=>e=>{const n=t[r.a]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e}},pMnS:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("8Y7J"),i=n("iInd"),o=r.nb({encapsulation:2,styles:[],data:{}});function a(t){return r.Jb(0,[(t()(),r.pb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(1,212992,null,0,i.o,[i.b,r.M,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,1,0)}),null)}function s(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"ng-component",[],null,null,null,a,o)),r.ob(1,49152,null,0,i.C,[],null,null)],null,null)}var l=r.lb("ng-component",i.C,s,{},{},[])},pN5R:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("9vzP"),i=n("AOe3"),o=n("VwbT");class a{constructor(t,e){this.fichaService=t,this.fichaVipService=e,this.ficha=new r.a,this.fichaVip=new o.a,this.zos=i.a.fabricadoEn}ngOnInit(){this.id&&this.fichaService.getFicha(this.id).subscribe(t=>{this.ficha=this.fichaService.mapearFicha(t,this.id),this.fichaVip.artefactoId=this.id})}agregarFichaVip(){this.fichaVipService.postFichaVIP(this.fichaVip).subscribe()}}},pauE:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("9vzP"),i=n("ZT/D");class o{constructor(){this.id="",this.artefactoImpl=new r.a,this.numeroInventario="",this.sala=new i.a}}},pcTr:function(t,e,n){"use strict";var r=n("8Y7J"),i=n("SVse");class o{constructor(t,e,n){this.inventarioService=t,this.router=e,this.login=n,this.cambiarSalaEvent=new r.m,this.recargar=new r.m}ngOnInit(){this.login.getIsLoggedFlagObs().subscribe(t=>{this.isLoggedUser=t}),this.login.getIsAdminFlagObs().subscribe(t=>{this.isLoggedAdmin=t})}eliminarArtefactoInventario(){this.inventarioService.eliminarArtefactoInventario(this.artefactoInventario.id).subscribe(t=>{this.recargar.emit()})}cambiarSala(){this.cambiarSalaEvent.emit(this.artefactoInventario)}verFicha(){console.log(this.artefactoInventario),this.router.navigate(["./ficha/ficha-completa/"+this.artefactoInventario.artefactoImpl.id])}}var a=n("tOWS"),s=n("iInd"),l=n("sBFL"),u=r.nb({encapsulation:0,styles:[[".row[_ngcontent-%COMP%]{background-color:#fff;box-shadow:6px 15px 10px gray;border:1px solid #000}.btn[_ngcontent-%COMP%]{font-size:small;font-weight:700}"]],data:{}});function c(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"div",[["class","col-4  col-md-2"]],null,null,null,null,null)),(t()(),r.Hb(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.artefactoInventario.sala.nombreSala)}))}function h(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-warning col-3 col-md-2 m-2"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.cambiarSala()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["CAMBIAR DE SALA"]))],null,null)}function d(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-danger col-3 col-md-1 m-2"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.eliminarArtefactoInventario()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["BORRAR"]))],null,null)}function f(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,21,"div",[["class","row p-1 m-1 "]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"div",[["class","col-4  d-md-none"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["N\xba INVENT."])),(t()(),r.pb(4,0,null,null,2,"div",[["class","col-4  d-md-none"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["ARTEFACTO"])),(t()(),r.pb(7,0,null,null,2,"div",[["class","col-4  d-md-none"]],null,null,null,null,null)),(t()(),r.pb(8,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["SALA"])),(t()(),r.pb(10,0,null,null,1,"div",[["class","col-4  col-md-2"]],null,null,null,null,null)),(t()(),r.Hb(11,null,["",""])),(t()(),r.pb(12,0,null,null,1,"div",[["class","col-4  col-md-2"]],null,null,null,null,null)),(t()(),r.Hb(13,null,["",""])),(t()(),r.eb(16777216,null,null,1,null,c)),r.ob(15,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(16,0,null,null,1,"button",[["class","btn btn-success col-3 col-md-1 m-2"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.verFicha()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["VER FICHA"])),(t()(),r.eb(16777216,null,null,1,null,h)),r.ob(19,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,d)),r.ob(21,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,15,0,n.artefactoInventario.sala),t(e,19,0,n.isLoggedAdmin),t(e,21,0,n.isLoggedAdmin)}),(function(t,e){var n=e.component;t(e,11,0,n.artefactoInventario.numeroInventario),t(e,13,0,n.artefactoInventario.artefactoImpl.nombre)}))}function p(t){return r.Jb(0,[(t()(),r.eb(16777216,null,null,1,null,f)),r.ob(1,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.artefactoInventario.artefactoImpl)}),null)}var g=n("s7LF"),m=n("Ul2T");n.d(e,"a",(function(){return k}));var v=r.nb({encapsulation:2,styles:[],data:{}});function b(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"app-artefactoinventario",[],null,[[null,"cambiarSalaEvent"],[null,"recargar"]],(function(t,e,n){var r=!0,i=t.component;return"cambiarSalaEvent"===e&&(r=!1!==i.abrirModalModificacionArtefactoInventario(n)&&r),"recargar"===e&&(r=!1!==i.ngOnInit()&&r),r}),p,u)),r.ob(2,114688,null,0,o,[a.a,s.k,l.a],{artefactoInventario:[0,"artefactoInventario"]},{cambiarSalaEvent:"cambiarSalaEvent",recargar:"recargar"})],(function(t,e){t(e,2,0,e.context.$implicit)}),null)}function y(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.abrirModalAgregarSala()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["AGREGAR SALA NUEVA"]))],null,null)}function w(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,g.q,[r.k,r.B,[2,g.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,g.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(t()(),r.Hb(3,null,["",""]))],(function(t,e){t(e,1,0,e.context.$implicit.idSala),t(e,2,0,e.context.$implicit.idSala)}),(function(t,e){t(e,3,0,e.context.$implicit.nombreSala)}))}function _(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Inventario de minas y municiones del CID"])),(t()(),r.pb(3,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["En esta secci\xf3n puede consultarse o gestionar el inventario del CID."])),(t()(),r.pb(5,0,null,null,9,"div",[["class","row m-1"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,2,"div",[["class","d-none d-md-block col-md-2"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["N\xba INVENTARIO"])),(t()(),r.pb(9,0,null,null,2,"div",[["class","d-none d-md-block col-md-2"]],null,null,null,null,null)),(t()(),r.pb(10,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["ARTEFACTO"])),(t()(),r.pb(12,0,null,null,2,"div",[["class","d-none d-md-block col-md-2"]],null,null,null,null,null)),(t()(),r.pb(13,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["SALA"])),(t()(),r.eb(16777216,null,null,1,null,b)),r.ob(16,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(17,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,y)),r.ob(19,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(20,0,null,null,34,"div",[["aria-hidden","true"],["aria-labelledby","modalModificarArtefactoInventarioLabel"],["class","modal fade"],["id","modalModificarArtefactoInventario"],["tabindex","-1"]],null,null,null,null,null)),(t()(),r.pb(21,0,null,null,33,"div",[["class","modal-dialog"]],null,null,null,null,null)),(t()(),r.pb(22,0,null,null,32,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),r.pb(23,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.pb(24,0,null,null,1,"h5",[["class","modal-title"],["id","modalModificarArtefactoInventarioLabel"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["MOVER ARTEFACTO DE SALA"])),(t()(),r.pb(26,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.pb(27,0,null,null,27,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.pb(28,0,null,null,26,"form",[["action",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Bb(t,30).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Bb(t,30).onReset()&&i),i}),null,null)),r.ob(29,16384,null,0,g.A,[],null,null),r.ob(30,4210688,null,0,g.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,g.c,null,[g.o]),r.ob(32,16384,null,0,g.n,[[4,g.c]],null,null),(t()(),r.pb(33,0,null,null,16,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(t()(),r.pb(34,0,null,null,2,"label",[["for","sala"]],null,null,null,null,null)),(t()(),r.pb(35,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["SALA ACTUAL"])),(t()(),r.pb(37,0,null,null,1,"p",[["id","sala"],["name","sala"],["type","text"]],null,null,null,null,null)),(t()(),r.Hb(38,null,["",""])),(t()(),r.pb(39,0,null,null,2,"label",[["for","sala"]],null,null,null,null,null)),(t()(),r.pb(40,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["SELECCIONE SALA NUEVA"])),(t()(),r.pb(42,0,null,null,7,"select",[["id","salaNueva"],["name","salaNueva"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.Bb(t,43).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,43).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.artefactoInventario.sala=n)&&i),i}),null,null)),r.ob(43,16384,null,0,g.t,[r.B,r.k],null,null),r.Eb(1024,null,g.k,(function(t){return[t]}),[g.t]),r.ob(45,671744,null,0,g.p,[[2,g.c],[8,null],[8,null],[6,g.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,g.l,null,[g.p]),r.ob(47,16384,null,0,g.m,[[4,g.l]],null,null),(t()(),r.eb(16777216,null,null,1,null,w)),r.ob(49,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(50,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),r.pb(51,0,null,null,1,"button",[["class","btn btn-danger m-1"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["CERRAR"])),(t()(),r.pb(53,0,null,null,1,"button",[["class","btn btn-success m-1"],["data-bs-dismiss","modal"],["type","submit"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.moverDeSala()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["GUARDAR"])),(t()(),r.pb(55,0,null,null,27,"div",[["aria-hidden","true"],["aria-labelledby","modalNuevaSalaLabel"],["class","modal fade"],["id","modalNuevaSala"],["tabindex","-1"]],null,null,null,null,null)),(t()(),r.pb(56,0,null,null,26,"div",[["class","modal-dialog"]],null,null,null,null,null)),(t()(),r.pb(57,0,null,null,25,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),r.pb(58,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.pb(59,0,null,null,1,"h5",[["class","modal-title"],["id","modalNuevaSalaLabel"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["AGREGAR UN NUEVO DOCUMENTO"])),(t()(),r.pb(61,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.pb(62,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.pb(63,0,null,null,19,"form",[["action",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Bb(t,65).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Bb(t,65).onReset()&&i),i}),null,null)),r.ob(64,16384,null,0,g.A,[],null,null),r.ob(65,4210688,null,0,g.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,g.c,null,[g.o]),r.ob(67,16384,null,0,g.n,[[4,g.c]],null,null),(t()(),r.pb(68,0,null,null,9,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(t()(),r.pb(69,0,null,null,2,"label",[["for","sala"]],null,null,null,null,null)),(t()(),r.pb(70,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Nombre de la nueva sala"])),(t()(),r.pb(72,0,null,null,5,"input",[["id","nombreSala"],["name","fecha"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Bb(t,73)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Bb(t,73).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Bb(t,73)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Bb(t,73)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.salaNueva.nombreSala=n)&&i),i}),null,null)),r.ob(73,16384,null,0,g.d,[r.B,r.k,[2,g.a]],null,null),r.Eb(1024,null,g.k,(function(t){return[t]}),[g.d]),r.ob(75,671744,null,0,g.p,[[2,g.c],[8,null],[8,null],[6,g.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,g.l,null,[g.p]),r.ob(77,16384,null,0,g.m,[[4,g.l]],null,null),(t()(),r.pb(78,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),r.pb(79,0,null,null,1,"button",[["class","btn btn-danger m-1"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["CERRAR"])),(t()(),r.pb(81,0,null,null,1,"button",[["class","btn btn-success m-1"],["data-bs-dismiss","modal"],["type","submit"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.agregarSala()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["GUARDAR"]))],(function(t,e){var n=e.component;t(e,16,0,n.artefactosInventario),t(e,19,0,n.isLoggedAdmin),t(e,45,0,"salaNueva",n.artefactoInventario.sala),t(e,49,0,n.salasDisponibles),t(e,75,0,"fecha",n.salaNueva.nombreSala)}),(function(t,e){var n=e.component;t(e,28,0,r.Bb(e,32).ngClassUntouched,r.Bb(e,32).ngClassTouched,r.Bb(e,32).ngClassPristine,r.Bb(e,32).ngClassDirty,r.Bb(e,32).ngClassValid,r.Bb(e,32).ngClassInvalid,r.Bb(e,32).ngClassPending),t(e,38,0,n.artefactoInventario.sala.nombreSala),t(e,42,0,r.Bb(e,47).ngClassUntouched,r.Bb(e,47).ngClassTouched,r.Bb(e,47).ngClassPristine,r.Bb(e,47).ngClassDirty,r.Bb(e,47).ngClassValid,r.Bb(e,47).ngClassInvalid,r.Bb(e,47).ngClassPending),t(e,63,0,r.Bb(e,67).ngClassUntouched,r.Bb(e,67).ngClassTouched,r.Bb(e,67).ngClassPristine,r.Bb(e,67).ngClassDirty,r.Bb(e,67).ngClassValid,r.Bb(e,67).ngClassInvalid,r.Bb(e,67).ngClassPending),t(e,72,0,r.Bb(e,77).ngClassUntouched,r.Bb(e,77).ngClassTouched,r.Bb(e,77).ngClassPristine,r.Bb(e,77).ngClassDirty,r.Bb(e,77).ngClassValid,r.Bb(e,77).ngClassInvalid,r.Bb(e,77).ngClassPending)}))}function C(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-artefactosinventario",[],null,null,null,_,v)),r.ob(1,114688,null,0,m.a,[a.a,l.a],null,null)],(function(t,e){t(e,1,0)}),null)}var k=r.lb("app-artefactosinventario",m.a,C,{},{},[])},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},l=a.INFO,u=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=u[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qBft:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("OLod"),r.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,r=4*e,i=r-n%r,o=n+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},r.pad.Ansix923)},qM6L:function(t,e,n){var r;t.exports=(r=n("Ib8C"),function(){var t=r.lib.WordArray,e=r.enc;function n(t){return t<<8&4278255360|t>>>8&16711935}e.Utf16=e.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i+=2)r.push(String.fromCharCode(e[i>>>2]>>>16-i%4*8&65535));return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},e.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,i=[],o=0;o<r;o+=2){var a=n(e[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var r=e.length,i=[],o=0;o<r;o++)i[o>>>1]|=n(e.charCodeAt(o)<<16-o%2*16);return t.create(i,2*r)}}}(),r.enc.Utf16)},qMvo:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{}},qOnz:function(t,e,n){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return A})),n.d(e,"d",(function(){return z})),n.d(e,"e",(function(){return x})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return u})),n.d(e,"j",(function(){return Z})),n.d(e,"k",(function(){return B})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return H})),n.d(e,"n",(function(){return h})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return $})),n.d(e,"q",(function(){return tt})),n.d(e,"r",(function(){return g})),n.d(e,"s",(function(){return L})),n.d(e,"t",(function(){return b})),n.d(e,"u",(function(){return y})),n.d(e,"v",(function(){return _})),n.d(e,"w",(function(){return V})),n.d(e,"x",(function(){return C})),n.d(e,"y",(function(){return S})),n.d(e,"z",(function(){return m})),n.d(e,"A",(function(){return v})),n.d(e,"B",(function(){return E})),n.d(e,"C",(function(){return w})),n.d(e,"D",(function(){return I})),n.d(e,"E",(function(){return k})),n.d(e,"F",(function(){return j})),n.d(e,"G",(function(){return R})),n.d(e,"H",(function(){return U})),n.d(e,"I",(function(){return q})),n.d(e,"J",(function(){return F})),n.d(e,"K",(function(){return X})),n.d(e,"L",(function(){return Y})),n.d(e,"M",(function(){return D})),n.d(e,"N",(function(){return K})),n.d(e,"O",(function(){return J})),n.d(e,"P",(function(){return Q})),n.d(e,"Q",(function(){return T}));var o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=(15&s)<<2|u>>6,h=63&u;l||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,l=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==l)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==l&&r.push(s<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=s(t);return l.encodeByteArray(e,!0)},c=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[l.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),l.encodeString(JSON.stringify(a),!1),""].join(".")}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function v(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function b(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _(){return g().indexOf("Electron/")>=0}function C(){var t=g();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k(){return g().indexOf("MSAppHost/")>=0}function E(){return!1}function I(){return!v()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"indexedDB"in self&&null!=indexedDB}function T(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function x(){return!(!navigator||!navigator.cookieEnabled)}var A=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,O.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),O=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?N(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",l=new A(i,s,r);return l},t}();function N(t,e){return t.replace(P,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var P=/\{\$([^}]+)}/g;function R(t){return JSON.parse(t)}function D(t){return JSON.stringify(t)}var M=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=R(c(o[0])||""),n=R(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},j=function(t){var e=M(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},L=function(t){var e=M(t).claims;return"object"==typeof e&&!0===e.admin};function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function F(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function V(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function U(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function q(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var z=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^s&(l^u),o=1518500249):(i=s^l^u,o=1859775393):r<60?(i=s&l|u&(s|l),o=2400959708):(i=s^l^u,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=u,u=l,l=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function H(t,e){var n=new G(t,e);return n.subscribe.bind(n)}var G=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=W),void 0===r.error&&(r.error=W),void 0===r.complete&&(r.complete=W);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function W(){}var K=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function $(t,e){return t+" failed: "+e+" argument "}function J(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error($(t,e)+"must be a valid function.")}function Q(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error($(t,e)+"must be a valid context object.")}var Y=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},X=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Z(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function tt(t){return t&&t._delegate?t._delegate:t}},qVqD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("8Y7J"),i=n("eqlp"),o=r.nb({encapsulation:2,styles:[],data:{}});function a(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["info works!"]))],null,null)}function s(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-info",[],null,null,null,a,o)),r.ob(1,114688,null,0,i.a,[],null,null)],(function(t,e){t(e,1,0)}),null)}var l=r.lb("app-info",i.a,s,{},{},[])},qu8F:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("OLod"),r.mode.CTRGladman=function(){var t=r.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}else t+=1<<24;return t}var n=t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var s=a.slice(0);r.encryptBlock(s,0);for(var l=0;l<i;l++)t[n+l]^=s[l]}});return t.Decryptor=n,t}(),r.mode.CTRGladman)},quSY:function(t,e,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");function a(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}a.prototype=Object.create(Error.prototype);const s=a;n.d(e,"a",(function(){return l}));let l=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:a,_unsubscribe:l,_subscriptions:c}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let h=-1,d=a?a.length:0;for(;n;)n.remove(this),n=++h<d&&a[h]||null;if(Object(o.a)(l))try{l.call(this)}catch(f){e=!0,t=f instanceof s?u(f.errors):[f]}if(Object(r.a)(c))for(h=-1,d=c.length;++h<d;){const n=c[h];if(Object(i.a)(n))try{n.unsubscribe()}catch(f){e=!0,t=t||[],f instanceof s?t=t.concat(u(f.errors)):t.push(f)}}if(e)throw new s(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},reDK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("pauE"),i=n("PSD3"),o=n.n(i);class a{constructor(t,e,n,i,o,a,s,l){this.fotografiasService=t,this.fichaService=e,this.archivosService=n,this.fichasVipService=i,this.activatedRoute=o,this.login=a,this.router=s,this.inventarioService=l,this.id=this.activatedRoute.snapshot.params.id,this.imagenesSecundarias=[],this.imagenesCroquis=[],this.archivos=[],this.atributos=[],this.atributo=[],this.fichaVipFlag=!1,this.artefactoInventario=new r.a,this.salasDisponibles=[]}ngOnInit(){this.fotografiasService.iniciarFirebase(),this.getArtefacto(),this.login.getIsLoggedFlagObs().subscribe(t=>{this.isLoggedUser=t}),this.login.getIsAdminFlagObs().subscribe(t=>{this.isLoggedAdmin=t}),this.fichaVipFlag=Boolean(this.fichasVipService.esVip(this.id).subscribe()),this.getSalasDisponibles()}getImagenURL(t){console.log(t.target.src),this.imagenModal=t.target.src}getArtefacto(){this.fichaService.getFicha(this.id).subscribe(t=>{let e=this.fichaService.getIdFicha(t);this.artefacto=this.fichaService.mapearFicha(t,e),this.pintarDatosArtefacto(this.artefacto)}),this.fotografiasService.getFotografiaPrincipal(this.id).subscribe(t=>{this.imagenPrincipal=t}),this.fotografiasService.getFotografiasSecundarias(this.id).subscribe(t=>{this.imagenesSecundarias=t}),this.fotografiasService.getFotografiasCroquis(this.id).subscribe(t=>{this.imagenesCroquis=t}),this.archivosService.getArchivos(this.id).subscribe(t=>{console.log(t),this.archivos=t})}pintarDatosArtefacto(t){console.log(t),Object.keys(this.artefacto).map(t=>{this.atributo="MARCASPINTURA"==t.toUpperCase()?["MARCAS DE PINTURA",this.artefacto[t]]:"MARCASFRIO"==t.toUpperCase()?["MARCAS EN FRIO",this.artefacto[t]]:"DIAMETROCALIBRE"==t.toUpperCase()?["DIAMETRO / CALIBRE",this.artefacto[t]]:"TIPOARTEFACTO"==t.toUpperCase()?["TIPO DE ARTEFACTO",this.artefacto[t]]:"PROPOSITOARTEFACTO"==t.toUpperCase()?["PROPOSITO DEL ARTEFACTO",this.artefacto[t]]:"MATERIALENVUELTA"==t.toUpperCase()?["MATERIAL DE LA ENVUELTA",this.artefacto[t]]:"SITUACIONESPOLETA"==t.toUpperCase()?["SITUACI\xd3N DE LA ESPOLETA",this.artefacto[t]]:"ID"==t.toUpperCase()||"_LINKS"==t.toUpperCase()?[null,null]:[t.toUpperCase(),this.artefacto[t]],0==this.artefacto[t]&&(this.atributo=[null,null]),this.atributos.push(this.atributo)})}eliminarFicha(){o.a.fire({title:"Atenci\xf3n",text:"\xbfEsta seguro de que quiere eliminar esta ficha?",icon:"info",showDenyButton:!0,confirmButtonText:"Si, Eliminar",denyButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&this.fichaService.deleteFicha(this.id).subscribe()})}validarFicha(){this.artefacto.validada=!0,this.fichaService.updateFicha(this.artefacto,this.id).subscribe()}getSalasDisponibles(){this.inventarioService.getSalas().subscribe(t=>{this.salasDisponibles=this.inventarioService.mapearSalas(t),console.log("salas disponibles",this.salasDisponibles)})}agregarAInventario(){console.log("en agregar a inventario"),this.artefactoInventario.artefactoImpl=this.artefacto._links.self.href,this.inventarioService.postArtefactoInventario(this.artefactoInventario).subscribe()}}},s7LF:function(t,e,n){"use strict";var r=n("8Y7J"),i=n("cUpR"),o=n("HDdC"),a=n("DH7j"),s=n("EY2u"),l=n("ZUHj"),u=n("l7GE"),c=n("lJxs");class h extends u.a{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let r=0;r<n;r++){const t=e[r],n=Object(l.a)(this,t,null,r);n&&this.add(n)}}notifyNext(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:r}=this,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}var d=n("Cfvw");n.d(e,"w",(function(){return It})),n.d(e,"A",(function(){return bt})),n.d(e,"x",(function(){return R})),n.d(e,"y",(function(){return yt})),n.d(e,"z",(function(){return z})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return b})),n.d(e,"k",(function(){return f})),n.d(e,"a",(function(){return g})),n.d(e,"d",(function(){return m})),n.d(e,"l",(function(){return w})),n.d(e,"m",(function(){return C})),n.d(e,"n",(function(){return k})),n.d(e,"o",(function(){return ht})),n.d(e,"p",(function(){return vt})),n.d(e,"r",(function(){return P})),n.d(e,"g",(function(){return Et})),n.d(e,"i",(function(){return wt})),n.d(e,"q",(function(){return V})),n.d(e,"t",(function(){return F})),n.d(e,"u",(function(){return q})),n.d(e,"e",(function(){return St})),n.d(e,"f",(function(){return st})),n.d(e,"h",(function(){return lt})),n.d(e,"v",(function(){return S})),n.d(e,"j",(function(){return Tt})),n.d(e,"s",(function(){return xt}));const f=new r.o("NgValueAccessor");class p{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}const g=new r.o("CompositionEventMode");class m{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(i.r)()?Object(i.r)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class v{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class b extends v{get formDirective(){return null}get path(){return null}}function y(){throw new Error("unimplemented")}class w extends v{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return y()}get asyncValidator(){return y()}}class _{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class C extends _{constructor(t){super(t)}}class k extends _{constructor(t){super(t)}}function E(t){return null==t||0===t.length}const I=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class S{static min(t){return e=>{if(E(e.value)||E(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(E(e.value)||E(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return E(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return E(t.value)||I.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(E(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return S.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(E(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(T);return 0==e.length?null:function(t){return A(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(T);return 0==e.length?null:function(t){return function t(...e){let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(a.a)(e[0])&&(e=e[0]),0===e.length?s.a:n?t(e).pipe(Object(c.a)(t=>n(...t))):new o.a(t=>new h(t,e))}(function(t,e){return e.map(e=>e(t))}(t,e).map(x)).pipe(Object(c.a)(A))}}}function T(t){return null!=t}function x(t){const e=Object(r.wb)(t)?Object(d.a)(t):t;if(!Object(r.vb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function A(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function O(t){return t.validate?e=>t.validate(e):t}function N(t){return t.validate?e=>t.validate(e):t}class P{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}class R{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const D='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',M='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',j='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class L{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+D)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${M}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${j}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+D)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+M)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function B(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class F{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.xb}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=B(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}class V{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(B(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function U(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class q{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.xb}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}class z{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(U(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(U(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function H(t,e){return[...e.path,t]}function G(t,e){t||J(e,"Cannot find control with"),e.valueAccessor||J(e,"No value accessor for form control with"),t.validator=S.compose([t.validator,e.validator]),t.asyncValidator=S.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&W(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&W(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function W(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function K(t,e){null==t&&J(e,"Cannot find control with"),t.validator=S.compose([t.validator,e.validator]),t.asyncValidator=S.composeAsync([t.asyncValidator,e.asyncValidator])}function $(t){return J(t,"There is no FormControl instance attached to form control element with")}function J(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Q(t){return null!=t?S.compose(t.map(O)):null}function Y(t){return null!=t?S.composeAsync(t.map(N)):null}function X(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(r.xb)(e,n.currentValue)}const Z=[p,class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},P,F,q,class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(w),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function tt(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function et(t,e){if(!e)return null;Array.isArray(e)||J(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===m?n=e:(o=e,Z.some(t=>o.constructor===t)?(r&&J(t,"More than one built-in value accessor matches form control with"),r=e):(i&&J(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(J(t,"No valid value accessor for form control with"),null)}function nt(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function rt(t){const e=ot(t)?t.validators:t;return Array.isArray(e)?Q(e):e||null}function it(t,e){const n=ot(e)?e.asyncValidators:t;return Array.isArray(n)?Y(n):n||null}function ot(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class at{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=rt(t)}setAsyncValidators(t){this.asyncValidator=it(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=x(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof lt?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof ut&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.m,this.statusChanges=new r.m}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ot(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class st extends at{constructor(t=null,e,n){super(rt(e),it(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class lt extends at{constructor(t,e,n){super(rt(e),it(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof st?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ut extends at{constructor(t,e,n){super(rt(e),it(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof st?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ct=(()=>Promise.resolve(null))();class ht extends b{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.m,this.form=new lt({},Q(t),Y(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ct.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),G(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ct.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),nt(this._directives,t)})}addFormGroup(t){ct.then(()=>{const e=this._findContainer(t.path),n=new lt({});K(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ct.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ct.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,tt(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class dt{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${D}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${M}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${j}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${M}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${j}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const ft=new r.o("NgFormSelectorWarning");class pt extends b{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return H(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Q(this._validators)}get asyncValidator(){return Y(this._asyncValidators)}_checkParentType(){}}class gt extends pt{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof gt||this._parent instanceof ht||dt.modelGroupParentException()}}const mt=(()=>Promise.resolve(null))();class vt extends w{constructor(t,e,n,i){super(),this.control=new st,this._registered=!1,this.update=new r.m,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=et(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),X(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?H(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Q(this._rawValidators)}get asyncValidator(){return Y(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){G(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof gt)&&this._parent instanceof pt?dt.formGroupNameException():this._parent instanceof gt||this._parent instanceof ht||dt.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||dt.missingNameException()}_updateValue(t){mt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;mt.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class bt{}const yt=new r.o("NgModelWithFormControlWarning");class wt extends b{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.m}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return G(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){nt(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);K(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);K(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,tt(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>$(e)),e.valueAccessor.registerOnTouched(()=>$(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&G(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Q(this._validators);this.form.validator=S.compose([this.form.validator,t]);const e=Y(this._asyncValidators);this.form.asyncValidator=S.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||L.missingFormException()}}class _t extends pt{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){kt(this._parent)&&L.groupParentException()}}class Ct extends b{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return H(this.name,this._parent)}get validator(){return Q(this._validators)}get asyncValidator(){return Y(this._asyncValidators)}_checkParentType(){kt(this._parent)&&L.arrayParentException()}}function kt(t){return!(t instanceof _t||t instanceof wt||t instanceof Ct)}let Et=(()=>{class t extends w{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.m,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=et(this,i)}set isDisabled(t){L.disabledAttrWarning()}ngOnChanges(e){var n,i;this._added||this._setUpControl(),X(e,this.viewModel)&&("formControlName",n=t,this,i=this._ngModelWarningConfig,Object(r.T)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(L.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return H(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Q(this._rawValidators)}get asyncValidator(){return Y(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof _t)&&this._parent instanceof pt?L.ngModelGroupException():this._parent instanceof _t||this._parent instanceof wt||this._parent instanceof Ct||L.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})();class It{}class St{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new lt(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new st(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new ut(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof st||t instanceof lt||t instanceof ut?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class Tt{static withConfig(t){return{ngModule:Tt,providers:[{provide:ft,useValue:t.warnOnDeprecatedNgFormSelector}]}}}class xt{static withConfig(t){return{ngModule:xt,providers:[{provide:yt,useValue:t.warnOnNgModelWithFormControl}]}}}},sBFL:function(t,e,n){"use strict";var r=n("mrSG"),i=n("IheW"),o=n("JIr8"),a=n("2Vo4"),s=n("z6cu"),l=n("LRne"),u=n("Jgta"),c=(n("6nsN"),n("5x/H"),n("Zs65"),n("WI49"),n("Mhm5")),h=n("SHVS");class d{constructor(t){this.value=t}}var f=n("lov/"),p=n("AytR"),g=n("PSD3"),m=n.n(g),v=n("8Y7J"),b=n("xOdc");n.d(e,"a",(function(){return w}));const y={headers:new i.g({"Content-Type":"application/json"})};let w=(()=>{class t{constructor(t,e){this.http=t,this.tokenService=e,this.usuario=new h.a,this.endPoint=p.a.urlBack,this.isLoggedFlag$=new a.a(!1),this.isAdminFlag$=new a.a(!1)}getIsLoggedFlagObs(){return this.tokenService.getToken()&&this.setIsLoggedFlagObs(!0),this.isLoggedFlag$.asObservable()}setIsLoggedFlagObs(t){this.isLoggedFlag$.next(t)}getIsAdminFlagObs(){return"ROLE_ADMIN"==this.getRol()&&this.setIAdminFlagObs(!0),this.isAdminFlag$.asObservable()}setIAdminFlagObs(t){this.isAdminFlag$.next(t)}iniciarFirebase(){0===u.a.apps.length&&u.a.initializeApp(c.a.firebaseConfig)}registrarUsuario(t,e,n){console.log("Guardando usuario");let r=new h.a;console.log("registrando"),u.a.auth().createUserWithEmailAndPassword(t,e).then(e=>{e&&(console.log(e),r.email=t,r.roles[0]=new f.a,r.roles[0].rolNombre=n,console.log(r),this.http.post(this.endPoint+"/usuarios/nuevousuario",r,y).subscribe(t=>{t?(console.log("ok: ",t),m.a.fire({title:"Usuario creado",icon:"success"})):Object(o.a)(t=>(m.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido Crear el usuario. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",t),400===t.status||t.error.mensaje&&console.error(t.error.mensaje),Object(s.a)(t)))}))}).catch(t=>{m.a.fire({title:"Error",text:t.message,icon:"error"}),console.log("error:",t)})}eliminarUsuario(t){console.log("eliminando usuario"),this.http.delete(this.endPoint+"/api/usuarios/"+t,y).subscribe(t=>{t?(console.log("ok: ",t),m.a.fire({title:"Usuario Eliminado",icon:"success"})):Object(o.a)(t=>(m.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido eliminar el usuario. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",t),400===t.status||t.error.mensaje&&console.error(t.error.mensaje),Object(s.a)(t)))})}loginUsuario(t,e){return u.a.auth().signInWithEmailAndPassword(t,e).then(t=>{console.log("Credendciales de usuario",t),t&&(this.usuario.email=t.user.email,t.user.getIdToken().then(e=>{this.token=new d(e),this.tokenService.setToken(e),this.setIsLoggedFlagObs(!0),this.http.post(this.endPoint+"/oauth/google",this.token,y).subscribe(e=>{this.token=e,this.tokenService.setToken(e.value),this.http.get(this.endPoint+"/api/usuarios/search/findByEmail?email="+t.user.email,y).subscribe(t=>r.a(this,void 0,void 0,(function*(){console.log(t),this.usuario=this.mapearUsuario(t),t&&(console.log("ok: ",t),m.a.fire({title:"Bienvenido a Tizona",icon:"success"}))})))})}))}).catch(t=>{m.a.fire({title:"Error",text:"Usuario o contrase\xf1a erroneas",icon:"error"}),console.log("error:",t)}),Object(l.a)(this.usuario)}saliLogin(){u.a.auth().signOut().then(t=>{console.log("saliendo",t),this.usuario=new h.a,this.tokenService.logOut(),sessionStorage.clear(),this.setIAdminFlagObs(!1),this.setIsLoggedFlagObs(!1)})}mapearUsuario(t){return this.usuario=new h.a,this.usuario.email=t.email,this.http.get(t._links.roles.href,y).subscribe(t=>{console.log(t),this.usuario.roles=this.mapearRol(t),console.log(this.usuario),sessionStorage.setItem("EMAIL",this.usuario.email),sessionStorage.setItem("ROL",this.usuario.roles[0].rolNombre),"ROLE_ADMIN"==this.usuario.roles[0].rolNombre&&this.setIAdminFlagObs(!0)}),this.usuario}mapearRol(t){let e=[];return e=t._embedded.roles,e}getRol(){return sessionStorage.getItem("ROL")}enviarSolicitudConToken(t){return this.http.post(this.endPoint+"/oauth/google",t,y)}getUserLogged(){return sessionStorage.getItem("EMAIL")}}return t.ngInjectableDef=v.Nb({factory:function(){return new t(v.Ob(i.c),v.Ob(b.a))},token:t,providedIn:"root"}),t})()},tOWS:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("IheW"),i=n("z6cu"),o=n("lJxs"),a=n("JIr8"),s=n("AytR"),l=n("PSD3"),u=n.n(l),c=n("ZT/D"),h=n("8Y7J");const d={headers:new r.g({"Content-Type":"application/json"})};let f=(()=>{class t{constructor(t){this.http=t,this.urlEndPoint=s.a.urlAPI+"/artefactosInventario",this.urlEndPointSalas=s.a.urlAPI+"/salas"}getArtefactosInventario(){return this.http.get(this.urlEndPoint,d)}mapearArtefactosInventario(t){return console.log(t),t._embedded.artefactosInventario.forEach(t=>{t.id=this.getId(t)}),t._embedded.artefactosInventario}getId(t){let e=t._links.self.href.split("/");return e[e.length-1]}getIdSalaUrl(t){return t._links.self.href}eliminarArtefactoInventario(t){return this.http.delete(this.urlEndPoint+"/"+t,d).pipe(Object(o.a)(t=>{console.log("Eliminando: ok"),u.a.fire({title:"Artefacto Eliminado del inventario",icon:"success"})}),Object(a.a)(t=>(u.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido eliminar del inventario. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",t),400===t.status||t.error.mensaje&&console.error(t.error.mensaje),Object(i.a)(t))))}updateArtefactoInventario(t){return t.artefactoImpl=t.artefactoImpl._links.self.href,this.http.patch(this.urlEndPoint+"/"+t.id,t,d).pipe(Object(o.a)(t=>{t&&(console.log("ok: ",t),u.a.fire({title:"Cambiado de sala",icon:"success"}))}),Object(a.a)(t=>(u.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido agregar al inventario. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",t),400===t.status||t.error.mensaje&&console.error(t.error.mensaje),Object(i.a)(t))))}postArtefactoInventario(t){return this.http.post(this.urlEndPoint,t,d).pipe(Object(o.a)(t=>{t&&(console.log("ok: ",t),u.a.fire({title:"Artefacto agregado al inventario",icon:"success"}))}),Object(a.a)(t=>(u.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido agregar al inventario. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",t),400===t.status||t.error.mensaje&&console.error(t.error.mensaje),Object(i.a)(t))))}getArtefactoImpl(t){return this.http.get(t._links.artefactoImpl.href,d)}mapearArtefactoImpl(t){return t._embedded.artefactoImpl}getSala(t){return this.http.get(t._links.sala.href,d)}getSalas(){return this.http.get(this.urlEndPointSalas)}postSala(t){return this.http.post(this.urlEndPointSalas,t,d).pipe(Object(o.a)(t=>{t&&(console.log("ok: ",t),u.a.fire({title:"Sala creada",icon:"success"}))}),Object(a.a)(t=>(u.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido crear la sala. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",t),400===t.status||t.error.mensaje&&console.error(t.error.mensaje),Object(i.a)(t))))}mapearSalas(t){const e=[];return t._embedded.salas.forEach(t=>{e.push(this.mapearSala(t))}),e}mapearSala(t){let e=this.getId(t),n=Object.create(c.a);return Object.assign(n,t),Object.defineProperty(n,"id",{value:null,writable:!0,enumerable:!0,configurable:!0}),n.id=e,Object.defineProperty(n,"idSala",{value:null,writable:!0,enumerable:!0,configurable:!0}),n.idSala=this.getIdSalaUrl(t),n}}return t.ngInjectableDef=h.Nb({factory:function(){return new t(h.Ob(r.c))},token:t,providedIn:"root"}),t})()},uGsb:function(t,e,n){var r,i,o,a,s,l,u,c;t.exports=(c=n("Ib8C"),n("MlIO"),n("1uat"),o=(i=(r=c).x64).Word,a=i.WordArray,u=(s=r.algo).SHA384=(l=s.SHA512).extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var t=l._doFinalize.call(this);return t.sigBytes-=16,t}}),r.SHA384=l._createHelper(u),r.HmacSHA384=l._createHmacHelper(u),c.SHA384)},uGxW:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("OLod"),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},vIhI:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{}},"vLv+":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{}},w7YG:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=r,e=t.lib.StreamCipher,n=t.algo,i=n.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,s=r[i];r[i]=r[o=(o+r[i]+(e[a>>>2]>>>24-a%4*8&255))%256],r[o]=s}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,n=this._j,r=0,i=0;i<4;i++){var o=t[e=(e+1)%256];t[e]=t[n=(n+t[e])%256],t[n]=o,r|=t[(t[e]+t[n])%256]<<24-8*i}return this._i=e,this._j=n,r}t.RC4=e._createHelper(i);var a=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(a)}(),r.RC4)},wZgz:function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var t=r,e=t.lib.BlockCipher,n=t.algo,i=[],o=[],a=[],s=[],l=[],u=[],c=[],h=[],d=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,r=0;for(e=0;e<256;e++){var p=r^r<<1^r<<2^r<<3^r<<4;i[n]=p=p>>>8^255&p^99,o[p]=n;var g,m=t[n],v=t[m],b=t[v];a[n]=(g=257*t[p]^16843008*p)<<24|g>>>8,s[n]=g<<16|g>>>16,l[n]=g<<8|g>>>24,u[n]=g,c[p]=(g=16843009*b^65537*v^257*m^16843008*n)<<24|g>>>8,h[p]=g<<16|g>>>16,d[p]=g<<8|g>>>24,f[p]=g,n?(n=m^t[t[t[b^m]]],r^=t[t[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)a<n?o[a]=e[a]:(u=o[a-1],a%n?n>6&&a%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=p[a/n|0]<<24),o[a]=o[a-n]^u);for(var s=this._invKeySchedule=[],l=0;l<r;l++){if(a=r-l,l%4)var u=o[a];else u=o[a-4];s[l]=l<4||a<=4?u:c[i[u>>>24]]^h[i[u>>>16&255]]^d[i[u>>>8&255]]^f[i[255&u]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,l,u,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,c,h,d,f,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,a,s){for(var l=this._nRounds,u=t[e]^n[0],c=t[e+1]^n[1],h=t[e+2]^n[2],d=t[e+3]^n[3],f=4,p=1;p<l;p++){var g=r[u>>>24]^i[c>>>16&255]^o[h>>>8&255]^a[255&d]^n[f++],m=r[c>>>24]^i[h>>>16&255]^o[d>>>8&255]^a[255&u]^n[f++],v=r[h>>>24]^i[d>>>16&255]^o[u>>>8&255]^a[255&c]^n[f++],b=r[d>>>24]^i[u>>>16&255]^o[c>>>8&255]^a[255&h]^n[f++];u=g,c=m,h=v,d=b}g=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[h>>>8&255]<<8|s[255&d])^n[f++],m=(s[c>>>24]<<24|s[h>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[f++],v=(s[h>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^n[f++],b=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&h])^n[f++],t[e]=g,t[e+1]=m,t[e+2]=v,t[e+3]=b},keySize:8});t.AES=e._createHelper(g)}(),r.AES)},wbyO:function(t,e,n){var r,i;t.exports=(i=n("Ib8C"),r=i.lib.WordArray,i.enc.Base64url={stringify:function(t,e=!0){var n=t.words,r=t.sigBytes,i=e?this._safe_map:this._map;t.clamp();for(var o=[],a=0;a<r;a+=3)for(var s=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,l=0;l<4&&a+.75*l<r;l++)o.push(i.charAt(s>>>6*(3-l)&63));var u=i.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(t,e=!0){var n=t.length,i=e?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var s=i.charAt(64);if(s){var l=t.indexOf(s);-1!==l&&(n=l)}return function(t,e,n){for(var i=[],o=0,a=0;a<e;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,l=n[t.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=(s|l)<<24-o%4*8,o++}return r.create(i,o)}(t,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},i.enc.Base64url)},xOdc:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("8Y7J");let i=(()=>{class t{constructor(){}getToken(){return sessionStorage.getItem("AuthToken")}setToken(t){sessionStorage.removeItem("AuthToken"),sessionStorage.setItem("AuthToken",t)}logOut(){sessionStorage.clear()}}return t.ngInjectableDef=r.Nb({factory:function(){return new t},token:t,providedIn:"root"}),t})()},xSpW:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("quSY"),o=n("ngJS");function a(t,e){return new r.a(e?n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:Object(o.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z58d:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("IheW"),i=n("z6cu"),o=n("lJxs"),a=n("JIr8"),s=n("AytR"),l=n("9vzP"),u=n("PSD3"),c=n.n(u),h=n("8Y7J"),d=n("jDPn");const f={headers:new r.g({"Content-Type":"application/json"})};let p=(()=>{class t{constructor(t,e){this.http=t,this.cripto=e,this.urlEndPoint=s.a.urlAPI+"/artefactos",this.urlPostEndpoint=s.a.urlAPI}postArtefacto(t){t=this.cripto.encriptarFicha(t);let e=this.http.post(`${this.urlPostEndpoint}/${t.tipoArtefacto}`,t,f);return c.a.fire(e?{title:"Ficha Almacenada",icon:"success"}:{title:"Error",text:"\xa1Vaya! No se ha podido almacenar la ficha. Si el problema persiste contacte al administrador",icon:"error"}),e}deleteFicha(t){return this.http.delete(this.urlEndPoint+"/"+t,f).pipe(Object(o.a)(t=>{console.log("Eliminando: ok"),c.a.fire({title:"Ficha Eliminada",icon:"success"})}),Object(a.a)(t=>(c.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido eliminar la ficha. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",t),400===t.status||t.error.mensaje&&console.error(t.error.mensaje),Object(i.a)(t))))}updateFicha(t,e){return this.http.patch(`${this.urlPostEndpoint}/${t.tipoArtefacto}/${e}`,t,f).pipe(Object(o.a)(t=>{t&&(console.log("ok: ",t),c.a.fire({title:"Ficha Almacenada",text:"A patir de ahora la ficha estar\xe1 disponible para su busqueda por los usuarios",icon:"success"}))}),Object(a.a)(t=>(c.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido almacenar la ficha. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",t),400===t.status||t.error.mensaje&&console.error(t.error.mensaje),Object(i.a)(t))))}getFichas(){return this.http.get(this.urlEndPoint,f)}getFichasSinValidar(){let t=this.http.get(this.urlEndPoint+"/search/findAllByValidada?validada=false",f);return console.log(t),t}extraerFichas(t){const e=[];return this.recorrerElementos(t._embedded.artefactos,e),this.recorrerElementos(t._embedded.minas,e),this.recorrerElementos(t._embedded.municiones,e),this.recorrerElementos(t._embedded.proyectiles,e),this.recorrerElementos(t._embedded.bombasAviacion,e),this.recorrerElementos(t._embedded.cohetes,e),this.recorrerElementos(t._embedded.misiles,e),this.recorrerElementos(t._embedded.granadas,e),this.recorrerElementos(t._embedded.espoletas,e),e}recorrerElementos(t,e){t&&t.forEach(t=>{let n=this.getIdFicha(t);e.push(this.mapearFicha(t,n))})}mapearFicha(t,e){let n=Object.create(l.a);return Object.assign(n,t),Object.defineProperty(n,"id",{value:null,writable:!0,enumerable:!0,configurable:!0}),n.id=e,0==n.validada&&(n=this.cripto.desencriptarFicha(n)),n}getIdFicha(t){let e=t._links.self.href.split("/");return e[e.length-1]}getFichasFiltradas(t){return this.http.get(this.urlEndPoint+"/search/filtrar?"+this.construirParametros(t),f)}construirParametros(t){let e="";return Object.keys(t).map(n=>{e+=n+"="+t[n]+"&"}),e.slice(0,e.length-1)}getFicha(t){return this.http.get(this.urlEndPoint+"/"+t,f)}estaValidada(t){return this.http.get(this.urlEndPoint+"/search/validada?validada=true&id="+t)}}return t.ngInjectableDef=h.Nb({factory:function(){return new t(h.Ob(r.c),h.Ob(d.a))},token:t,providedIn:"root"}),t})()},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=n("qOnz"),s=n("/6Yf"),l=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new a.b("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new l.b("@firebase/app"),f=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.n)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(Object(a.k)(e,s))throw c.create("duplicate-app",{appName:s});var l=new t(n,o,r);return e[s]=l,l},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&l&&u.push("and"),l&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:l.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument");Object(l.d)(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.k)(e,t))throw c.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var l=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw c.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.o)(l,o.serviceProps),r[s]=l,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=o(o({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.o)(e,t)},createSubscribe:a.m,ErrorFactory:a.b,deepExtend:a.o}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.t)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.A)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var b,y=p;(b=y).INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),b.registerVersion("@firebase/app","0.6.28",void 0),b.registerVersion("fire-js",""),e.a=y},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J"),i=n("AytR");class o{}class a{constructor(){this.title=i.a.title}}var s=n("pMnS");class l{constructor(){}ngOnInit(){}}var u=r.nb({encapsulation:0,styles:[["@media (max-width:767px){.formulario[_ngcontent-%COMP%]{position:relative;top:-280px;left:0;background-color:#e9e9e9;width:90%;border-style:solid}}@media (min-width:768px){.formulario[_ngcontent-%COMP%]{position:relative;top:-350px;left:50%;background-color:#e9e9e9;width:40%;border-style:solid}}"]],data:{}});function c(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"div",[["class","row d-none d-md-block col-md-12"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,0,"img",[["alt",""],["src","../../../../assets/ImagenEOD9.png"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,1,"div",[["class","row d-md-none col-12"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,0,"img",[["alt",""],["src","../../../../assets/ImagenEOD9movil.png"]],null,null,null,null,null))],null,null)}function h(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-home",[],null,null,null,c,u)),r.ob(1,114688,null,0,l,[],null,null)],(function(t,e){t(e,1,0)}),null)}var d=r.lb("app-home",l,h,{},{},[]);class f{constructor(){}ngOnInit(){}}var p=r.nb({encapsulation:2,styles:[],data:{}});function g(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["no-encontrado works!"]))],null,null)}function m(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-no-encontrado",[],null,null,null,g,p)),r.ob(1,114688,null,0,f,[],null,null)],(function(t,e){t(e,1,0)}),null)}var v=r.lb("app-no-encontrado",f,m,{},{},[]),b=n("fNgX"),y=n("ZC8B"),w=n("qVqD"),_=n("Uu/X"),C=n("QxgN"),k=n("3IDC"),E=n("zVCn"),I=n("Bcau"),S=n("E4JZ"),T=n("PIQr"),x=n("SiV8"),A=n("BA2f"),O=n("pcTr"),N=n("iInd"),P=n("SVse");class R{constructor(t){this.login=t}ngOnInit(){this.login.getIsLoggedFlagObs().subscribe(t=>{this.isLoggedUser=t}),this.login.getIsAdminFlagObs().subscribe(t=>{this.isLoggedAdmin=t})}cerrarNavBar(){$(".navbar-collapse").collapse("hide")}}var D=n("sBFL"),M=r.nb({encapsulation:0,styles:[[".nav-item[_ngcontent-%COMP%]{display:inline-flex}"]],data:{}});function j(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"li",[["class","nav-item mx-1"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"a",[["class","nav-link"],["href","#"],["routerLink","ficha/buscador"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0,o=t.component;return"click"===e&&(i=!1!==r.Bb(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(2,671744,null,0,N.m,[N.k,N.a,P.h],{routerLink:[0,"routerLink"]},null),(t()(),r.Hb(-1,null,["Buscador"]))],(function(t,e){t(e,2,0,"ficha/buscador")}),(function(t,e){t(e,1,0,r.Bb(e,2).target,r.Bb(e,2).href)}))}function L(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"li",[["class","nav-item mx-1"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"a",[["class","nav-link"],["href","#"],["routerLink","ficha/formulario"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0,o=t.component;return"click"===e&&(i=!1!==r.Bb(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(2,671744,null,0,N.m,[N.k,N.a,P.h],{routerLink:[0,"routerLink"]},null),(t()(),r.Hb(-1,null,["Proponer ficha"]))],(function(t,e){t(e,2,0,"ficha/formulario")}),(function(t,e){t(e,1,0,r.Bb(e,2).target,r.Bb(e,2).href)}))}function B(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"li",[["class","nav-item mx-1"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"a",[["class","nav-link"],["href","#"],["routerLink","fichas-vip"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0,o=t.component;return"click"===e&&(i=!1!==r.Bb(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(2,671744,null,0,N.m,[N.k,N.a,P.h],{routerLink:[0,"routerLink"]},null),(t()(),r.Hb(-1,null,["Fichas destacadas"]))],(function(t,e){t(e,2,0,"fichas-vip")}),(function(t,e){t(e,1,0,r.Bb(e,2).target,r.Bb(e,2).href)}))}function F(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"li",[["class","nav-item mx-1"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"a",[["class","nav-link"],["href","#"],["routerLink","documentos"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0,o=t.component;return"click"===e&&(i=!1!==r.Bb(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(2,671744,null,0,N.m,[N.k,N.a,P.h],{routerLink:[0,"routerLink"]},null),(t()(),r.Hb(-1,null,["Cat\xe1logo documentos"]))],(function(t,e){t(e,2,0,"documentos")}),(function(t,e){t(e,1,0,r.Bb(e,2).target,r.Bb(e,2).href)}))}function V(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,12,"li",[["class","nav-item dropdown mx-1"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"a",[["aria-expanded","false"],["class","nav-link dropdown-toggle"],["data-bs-toggle","dropdown"],["href","#"],["id","navbarDropdownMenuLink"],["role","button"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,[" Administraci\xf3n "])),(t()(),r.pb(3,0,null,null,9,"div",[["aria-labelledby","navbarDropdownMenuLink"],["class","dropdown-menu"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,2,"a",[["class","dropdown-item"],["routerLink","inventario"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0,o=t.component;return"click"===e&&(i=!1!==r.Bb(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(5,671744,null,0,N.m,[N.k,N.a,P.h],{routerLink:[0,"routerLink"]},null),(t()(),r.Hb(-1,null,["Inventario"])),(t()(),r.pb(7,0,null,null,2,"a",[["class","dropdown-item"],["routerLink","seguridad/usuarios"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0,o=t.component;return"click"===e&&(i=!1!==r.Bb(t,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(8,671744,null,0,N.m,[N.k,N.a,P.h],{routerLink:[0,"routerLink"]},null),(t()(),r.Hb(-1,null,["Usuarios"])),(t()(),r.pb(10,0,null,null,2,"a",[["class","dropdown-item"],["routerLink","ficha/validador"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0,o=t.component;return"click"===e&&(i=!1!==r.Bb(t,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(11,671744,null,0,N.m,[N.k,N.a,P.h],{routerLink:[0,"routerLink"]},null),(t()(),r.Hb(-1,null,["Validar Fichas"]))],(function(t,e){t(e,5,0,"inventario"),t(e,8,0,"seguridad/usuarios"),t(e,11,0,"ficha/validador")}),(function(t,e){t(e,4,0,r.Bb(e,5).target,r.Bb(e,5).href),t(e,7,0,r.Bb(e,8).target,r.Bb(e,8).href),t(e,10,0,r.Bb(e,11).target,r.Bb(e,11).href)}))}function U(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,18,"div",[["class","container-fluid text-center"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"button",[["aria-controls","navbarSupportedContent"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-bs-target","#navbarSupportedContent"],["data-bs-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,15,"div",[["class","collapse navbar-collapse"],["id","navbarSupportedContent"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,14,"ul",[["class","navbar-nav m-auto mb-2 mb-lg-0 text-center"],["style","margin: 0 auto"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,3,"li",[["class","nav-item mx-1"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,2,"a",[["aria-current","page"],["class","nav-link active"],["href","#"],["routerLink",""]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0,o=t.component;return"click"===e&&(i=!1!==r.Bb(t,7).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(7,671744,null,0,N.m,[N.k,N.a,P.h],{routerLink:[0,"routerLink"]},null),(t()(),r.Hb(-1,null,["Inicio"])),(t()(),r.eb(16777216,null,null,1,null,j)),r.ob(10,16384,null,0,P.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,L)),r.ob(12,16384,null,0,P.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,B)),r.ob(14,16384,null,0,P.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,F)),r.ob(16,16384,null,0,P.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,V)),r.ob(18,16384,null,0,P.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,7,0,""),t(e,10,0,n.isLoggedUser),t(e,12,0,n.isLoggedUser),t(e,14,0,n.isLoggedUser),t(e,16,0,n.isLoggedUser),t(e,18,0,n.isLoggedAdmin)}),(function(t,e){t(e,6,0,r.Bb(e,7).target,r.Bb(e,7).href)}))}var q=n("s7LF"),z=n("AOe3"),H=n("lov/"),G=n("SHVS");class W{constructor(t){this.loginService=t,this.usuario=new G.a,this.roles=z.a.tipoUsuario}ngOnInit(){this.loginService.iniciarFirebase(),console.log(this.usuario.email),console.log(this.usuario.roles),document.querySelector("#login").addEventListener("submit",t=>{t.preventDefault(),console.log();const e=document.querySelector("#email-login").value,n=document.querySelector("#password-login").value;this.loginService.loginUsuario(e,n).subscribe(t=>{console.log(t),this.usuario=t,setTimeout(()=>{this.usuario.roles[0].rolNombre=sessionStorage.getItem("ROL")},1500)})}),document.querySelector("#salir").addEventListener("click",t=>{t.preventDefault(),this.loginService.saliLogin(),this.usuario=new G.a}),this.cargarUsuarioLogeado()}cargarUsuarioLogeado(){if(null!=sessionStorage.getItem("EMAIL")){this.usuario.email=sessionStorage.getItem("EMAIL");let t=new H.a;t.rolNombre=sessionStorage.getItem("ROL"),this.usuario.roles=[],this.usuario.roles.push(t),console.log(this.usuario)}}salirLogin(){this.loginService.saliLogin(),this.usuario=new G.a,sessionStorage.clear(),document.location.reload()}}var K=r.nb({encapsulation:0,styles:[[".botones-login[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content;margin:auto}.btn[_ngcontent-%COMP%]{border:#000}.usuario-logeado[_ngcontent-%COMP%]{font-size:large}"]],data:{}});function J(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,4,"div",[["class","usuario-logeado"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"p",[["style","display: inline-flex;"]],null,null,null,null,null)),(t()(),r.Hb(2,null,["User: ","/"])),(t()(),r.pb(3,0,null,null,1,"p",[["style","display: inline-flex;"]],null,null,null,null,null)),(t()(),r.Hb(4,null,["Rol: ",""]))],null,(function(t,e){var n=e.component;t(e,2,0,n.usuario.email),t(e,4,0,n.usuario.roles[0].rolNombre)}))}function Q(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"p",[["class","usuario-logeado"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Sin logear"]))],null,null)}function Y(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-success mx-2 my-1"],["data-bs-target","#modalLogin"],["data-bs-toggle","modal"],["href","#"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Login"]))],null,null)}function X(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,8,"div",[["class","login text-center"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,J)),r.ob(2,16384,null,0,P.j,[r.M,r.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),r.eb(0,[["noUsuario",2]],null,0,null,Q)),(t()(),r.pb(4,0,null,null,4,"div",[["class","botones-login"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,Y)),r.ob(6,16384,null,0,P.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(7,0,null,null,1,"button",[["class","btn btn-danger mx-2 my-1"],["data-bs-target","#modalSalir"],["data-bs-toggle","modal"],["href","#"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Exit"])),(t()(),r.pb(9,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(10,0,null,null,26,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","modalLogin"],["tabindex","-1"]],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,25,"div",[["class","modal-dialog"]],null,null,null,null,null)),(t()(),r.pb(12,0,null,null,24,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),r.pb(13,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.pb(14,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalLabel"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Login"])),(t()(),r.pb(16,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.pb(17,0,null,null,19,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.pb(18,0,null,null,18,"form",[["action",""],["id","login"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Bb(t,20).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Bb(t,20).onReset()&&i),i}),null,null)),r.ob(19,16384,null,0,q.A,[],null,null),r.ob(20,4210688,null,0,q.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,q.c,null,[q.o]),r.ob(22,16384,null,0,q.n,[[4,q.c]],null,null),(t()(),r.pb(23,0,null,null,4,"fieldset",[["class","my-2"]],null,null,null,null,null)),(t()(),r.pb(24,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["email"])),(t()(),r.pb(26,0,null,null,0,"input",[["class","mx-2"],["id","email-login"],["type","email"]],null,null,null,null,null)),(t()(),r.pb(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(28,0,null,null,4,"fieldset",[["class","my-2"]],null,null,null,null,null)),(t()(),r.pb(29,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Password"])),(t()(),r.pb(31,0,null,null,0,"input",[["class","mx-2"],["id","password-login"],["type","password"]],null,null,null,null,null)),(t()(),r.pb(32,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(33,0,null,null,1,"button",[["class","btn btn-secondary"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Cerrar"])),(t()(),r.pb(35,0,null,null,1,"button",[["class","btn btn-primary mx-2"],["data-bs-dismiss","modal"],["type","submit"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Login"])),(t()(),r.pb(37,0,null,null,13,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","modalSalir"],["tabindex","-1"]],null,null,null,null,null)),(t()(),r.pb(38,0,null,null,12,"div",[["class","modal-dialog"]],null,null,null,null,null)),(t()(),r.pb(39,0,null,null,11,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),r.pb(40,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.pb(41,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalLabel"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Salir del login"])),(t()(),r.pb(43,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.pb(44,0,null,null,6,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.pb(45,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),r.Hb(-1,null,["\xbfEstas seguro de que quieres salir?"])),(t()(),r.pb(47,0,null,null,1,"button",[["class","btn btn-secondary mx-1"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["No"])),(t()(),r.pb(49,0,null,null,1,"button",[["class","btn btn-primary mx-1"],["data-bs-dismiss","modal"],["id","salir"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.salirLogin()&&r),r}),null,null)),(t()(),r.Hb(-1,null,["Si"]))],(function(t,e){var n=e.component;t(e,2,0,void 0!==n.usuario.email,r.Bb(e,3)),t(e,6,0,"sin_rol"==n.usuario.roles[0].rolNombre)}),(function(t,e){t(e,18,0,r.Bb(e,22).ngClassUntouched,r.Bb(e,22).ngClassTouched,r.Bb(e,22).ngClassPristine,r.Bb(e,22).ngClassDirty,r.Bb(e,22).ngClassValid,r.Bb(e,22).ngClassInvalid,r.Bb(e,22).ngClassPending)}))}class Z{constructor(){this.titulo=i.a.title}ngOnInit(){}}var tt=r.nb({encapsulation:0,styles:[[".escudoPantallaGrande[_ngcontent-%COMP%]{width:80px;margin-right:40px;position:absolute;right:0;top:15%}.escudoPantallaPequena[_ngcontent-%COMP%]{width:40px;margin-right:40px}.tituloPantallaGrande[_ngcontent-%COMP%]{width:350px}.tituloPantallaPequena[_ngcontent-%COMP%]{width:210px}#navbarSupportedContent[_ngcontent-%COMP%]{margin-right:250px;font-size:medium}.nav-item[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content;display:inline-flex}.login[_ngcontent-%COMP%]{position:relative;margin:auto}.navegacion[_ngcontent-%COMP%]{margin-left:50%}"]],data:{}});function et(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,21,"header",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,13,"nav",[["class","navbar navbar-expand-lg navbar-dark bg-dark"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,2,"div",[["class","d-none d-md-block col-md-3 m-2"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,1,"a",[["class","navbar-brand"],["href","#"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,0,"img",[["alt",""],["class","tituloPantallaGrande"],["src","../../../assets/titulo.png"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,2,"div",[["class","d-block d-md-none"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,1,"a",[["class","navbar-brand"],["href","#"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,0,"img",[["alt",""],["class","tituloPantallaPequena"],["src","../../../assets/titulo.png"]],null,null,null,null,null)),(t()(),r.pb(8,0,null,null,1,"div",[["class","d-block d-md-none col-md-4"]],null,null,null,null,null)),(t()(),r.pb(9,0,null,null,0,"img",[["alt",""],["class","escudoPantallaPequena"],["src","./assets/ESCUDO-CID1.jpg"]],null,null,null,null,null)),(t()(),r.pb(10,0,null,null,2,"div",[["class","d-none d-lg-block col-lg-6 text-center"]],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,1,"app-navbar-seguro",[],null,null,null,U,M)),r.ob(12,114688,null,0,R,[D.a],null,null),(t()(),r.pb(13,0,null,null,1,"div",[["class","d-none d-md-block col-md-1 m-1"]],null,null,null,null,null)),(t()(),r.pb(14,0,null,null,0,"img",[["alt","Escudo del CID"],["class","escudoPantallaGrande"],["src","./assets/ESCUDO-CID1.jpg"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,4,"nav",[["class","navbar navbar-expand-lg navbar-dark bg-dark"]],null,null,null,null,null)),(t()(),r.pb(16,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(17,0,null,null,2,"div",[["class","col-1 d-lg-none"]],null,null,null,null,null)),(t()(),r.pb(18,0,null,null,1,"app-navbar-seguro",[],null,null,null,U,M)),r.ob(19,114688,null,0,R,[D.a],null,null),(t()(),r.pb(20,0,null,null,1,"app-login",[["class","text-center"],["id","login"]],null,null,null,X,K)),r.ob(21,114688,null,0,W,[D.a],null,null)],(function(t,e){t(e,12,0),t(e,19,0),t(e,21,0)}),null)}class nt{constructor(){}ngOnInit(){}}var rt=r.nb({encapsulation:2,styles:[],data:{}});function it(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","container m-auto p-3"]],null,null,null,null,null)),(t()(),r.pb(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(2,212992,null,0,N.o,[N.b,r.M,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,2,0)}),null)}class ot{constructor(){}ngOnInit(){}}var at=r.nb({encapsulation:2,styles:[],data:{}});function st(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"footer",[["class","bottom bg-dark p-2"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"a",[["class","d-flex justify-content-center font-weight-bolder text-white"],["href","mailto:acingcid@mail.false"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,[" Contacta con el C.I.D. "]))],null,null)}class lt{constructor(t){this.http=t,this.urlEndPoint=i.a.urlAPI}ngOnInit(){console.log("Iniciando api"),this.http.get(this.urlEndPoint).subscribe()}}var ut=n("IheW"),ct=r.nb({encapsulation:2,styles:[],data:{}});function ht(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-encabezado",[],null,null,null,et,tt)),r.ob(1,114688,null,0,Z,[],null,null),(t()(),r.pb(2,0,null,null,1,"app-cuerpo",[],null,null,null,it,rt)),r.ob(3,114688,null,0,nt,[],null,null),(t()(),r.pb(4,0,null,null,1,"app-pie",[],null,null,null,st,at)),r.ob(5,114688,null,0,ot,[],null,null)],(function(t,e){t(e,1,0),t(e,3,0),t(e,5,0)}),null)}var dt=r.nb({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{background-repeat:repeat-y;background-image:url(fondoCammo.2b0cfb5502d08b6345f1.png)}"]],data:{}});function ft(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,2,"body",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"app-esqueleto",[],null,null,null,ht,ct)),r.ob(2,114688,null,0,lt,[ut.c],null,null)],(function(t,e){t(e,2,0)}),null)}function pt(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-root",[],null,null,null,ft,dt)),r.ob(1,49152,null,0,a,[],null,null)],null,null)}var gt=r.lb("app-root",a,pt,{},{},[]),mt=n("cUpR");class vt{constructor(t){this.tokenService=t}intercept(t,e){let n=t;const r=this.tokenService.getToken();return null!=r&&(n=n.clone({headers:t.headers.set("Authorization","Bearer "+r)})),e.handle(n)}}var bt=n("xOdc"),yt=n("hti6"),wt=n("AiNZ");const _t=()=>n.e(5).then(n.bind(null,"+Plz")).then(t=>t.AcercaModuleNgFactory),Ct=()=>n.e(8).then(n.bind(null,"JHdK")).then(t=>t.FichasModuleNgFactory),kt=()=>n.e(9).then(n.bind(null,"gFaP")).then(t=>t.FotografiasModuleNgFactory),Et=()=>n.e(11).then(n.bind(null,"ECkn")).then(t=>t.SeguridadModuleNgFactory),It=()=>n.e(6).then(n.bind(null,"M707")).then(t=>t.DocumentosModuleNgFactory),St=()=>n.e(7).then(n.bind(null,"vMoZ")).then(t=>t.FichasvipModuleNgFactory),Tt=()=>n.e(10).then(n.bind(null,"cxbb")).then(t=>t.InventarioModuleNgFactory);class xt{}var At=n("35Wc"),Ot=n("eqlp"),Nt=n("lAvF"),Pt=n("lEC+"),Rt=n("hqm0"),Dt=n("ej4/"),Mt=n("WMih"),jt=n("reDK"),Lt=n("UJ5t"),Bt=n("3mnW"),Ft=n("3mVj"),Vt=n("Ul2T"),Ut=n("Nv++"),qt=n("Jopv"),zt=n("bdaQ");class Ht{}class Gt{}var Wt=n("24uk"),Kt=n("vIhI"),$t=n("+i+Z"),Jt=n("2zau"),Qt=n("O1pP"),Yt=n("iSss"),Xt=n("qMvo"),Zt=n("RGw2"),te=n("vLv+"),ee=n("W1sL"),ne=n("NUWq"),re=n("xSpW"),ie=r.mb(o,[a],(function(t){return r.yb([r.zb(512,r.j,r.X,[[8,[s.a,d,v,b.b,b.a,y.a,w.a,_.a,C.a,k.a,E.a,I.a,S.a,T.a,x.a,A.a,O.a,gt]],[3,r.j],r.v]),r.zb(5120,r.s,r.jb,[[3,r.s]]),r.zb(4608,P.l,P.k,[r.s,[2,P.t]]),r.zb(5120,r.fb,r.kb,[r.x]),r.zb(5120,r.c,r.gb,[]),r.zb(5120,r.q,r.hb,[]),r.zb(5120,r.r,r.ib,[]),r.zb(4608,mt.b,mt.k,[P.d]),r.zb(6144,r.E,null,[mt.b]),r.zb(4608,mt.e,mt.g,[]),r.zb(5120,mt.c,(function(t,e,n,r,i,o,a,s){return[new mt.i(t,e,n),new mt.n(r),new mt.m(i,o,a,s)]}),[P.d,r.x,r.z,P.d,P.d,mt.e,r.Y,[2,mt.f]]),r.zb(4608,mt.d,mt.d,[mt.c,r.x]),r.zb(135680,mt.l,mt.l,[P.d]),r.zb(4608,mt.j,mt.j,[mt.d,mt.l,r.c]),r.zb(6144,r.C,null,[mt.j]),r.zb(6144,mt.o,null,[mt.l]),r.zb(4608,r.K,r.K,[r.x]),r.zb(5120,N.a,N.y,[N.k]),r.zb(4608,N.d,N.d,[]),r.zb(6144,N.f,null,[N.d]),r.zb(135680,N.p,N.p,[N.k,r.u,r.i,r.p,N.f]),r.zb(4608,N.e,N.e,[]),r.zb(5120,N.D,N.u,[N.k,P.q,N.g]),r.zb(5120,N.h,N.B,[N.z]),r.zb(5120,r.b,(function(t){return[t]}),[N.h]),r.zb(4608,ut.i,ut.o,[P.d,r.z,ut.m]),r.zb(4608,ut.p,ut.p,[ut.i,ut.n]),r.zb(5120,ut.a,(function(t,e){return[t,new vt(e)]}),[ut.p,bt.a]),r.zb(4608,ut.l,ut.l,[]),r.zb(6144,ut.j,null,[ut.l]),r.zb(4608,ut.h,ut.h,[ut.j]),r.zb(6144,ut.b,null,[ut.h]),r.zb(4608,ut.f,ut.k,[ut.b,r.p]),r.zb(4608,ut.c,ut.c,[ut.f]),r.zb(4608,q.x,q.x,[]),r.zb(4608,q.e,q.e,[]),r.zb(1073742336,P.c,P.c,[]),r.zb(1024,r.l,mt.p,[]),r.zb(1024,r.w,(function(){return[N.t()]}),[]),r.zb(512,N.z,N.z,[r.p]),r.zb(1024,r.d,(function(t,e){return[mt.q(t),N.A(e)]}),[[2,r.w],N.z]),r.zb(512,r.e,r.e,[[2,r.d]]),r.zb(131584,r.g,r.g,[r.x,r.Y,r.p,r.l,r.j,r.e]),r.zb(1073742336,r.f,r.f,[r.g]),r.zb(1073742336,mt.a,mt.a,[[3,mt.a]]),r.zb(1024,N.s,N.w,[[3,N.k]]),r.zb(512,N.r,N.c,[]),r.zb(512,N.b,N.b,[]),r.zb(256,N.g,{},[]),r.zb(1024,P.h,N.v,[P.p,[2,P.a],N.g]),r.zb(512,P.g,P.g,[P.h,P.p]),r.zb(512,r.i,r.i,[]),r.zb(512,r.u,r.H,[r.i,[2,r.I]]),r.zb(1024,N.i,(function(){return[[{path:"",component:l},{path:"acerca",loadChildren:_t},{path:"ficha",loadChildren:Ct,canActivate:[wt.a]},{path:"fotografias",loadChildren:kt,canActivate:[wt.a]},{path:"seguridad",loadChildren:Et,canActivate:[yt.a]},{path:"documentos",loadChildren:It,canActivate:[wt.a]},{path:"fichas-vip",loadChildren:St,canActivate:[wt.a]},{path:"inventario",loadChildren:Tt,canActivate:[wt.a]},{path:"**",redirectTo:"not-found"},{path:"not-found",component:f}],[{path:"",children:[{path:"usuarios",component:At.a}]}],[{path:"",children:[{path:"info",component:Ot.a},{path:"contacto",component:Nt.a}]}],[{path:"",component:Pt.a}],[{path:"",children:[{path:"formulario",component:Rt.a,canActivate:[wt.a]},{path:"fichas",component:Dt.a,canActivate:[wt.a]},{path:"buscador",component:Mt.a,canActivate:[wt.a]},{path:"ficha-completa",component:jt.a,canActivate:[wt.a]},{path:"ficha-completa/:id",component:jt.a,canActivate:[wt.a]},{path:"validador",component:Lt.a,canActivate:[yt.a]},{path:"validador/ficha/:id",component:Bt.a,canActivate:[yt.a]}]}],[{path:"",component:Pt.a}],[{path:"",component:Ft.a,canActivate:[yt.a]}],[{path:"",children:[{path:"",component:Vt.a,canActivate:[wt.a]}]}]]}),[]),r.zb(1024,N.k,N.x,[r.g,N.r,N.b,P.g,r.p,r.u,r.i,N.i,N.g,[2,N.q],[2,N.j]]),r.zb(1073742336,N.n,N.n,[[2,N.s],[2,N.k]]),r.zb(1073742336,xt,xt,[]),r.zb(1073742336,ut.e,ut.e,[]),r.zb(1073742336,ut.d,ut.d,[]),r.zb(1073742336,Ut.j,Ut.j,[]),r.zb(1073742336,qt.a,qt.a,[]),r.zb(1073742336,q.w,q.w,[]),r.zb(1073742336,q.j,q.j,[]),r.zb(1073742336,zt.a,zt.a,[]),r.zb(1073742336,Ht,Ht,[]),r.zb(1073742336,Gt,Gt,[]),r.zb(1073742336,Wt.a,Wt.a,[]),r.zb(1073742336,Kt.a,Kt.a,[]),r.zb(1073742336,$t.a,$t.a,[]),r.zb(1073742336,Jt.a,Jt.a,[]),r.zb(1073742336,Qt.a,Qt.a,[]),r.zb(1073742336,Yt.a,Yt.a,[]),r.zb(1073742336,q.s,q.s,[]),r.zb(1073742336,Xt.a,Xt.a,[]),r.zb(1073742336,Zt.a,Zt.a,[]),r.zb(1073742336,te.a,te.a,[]),r.zb(1073742336,ee.a,ee.a,[]),r.zb(1073742336,ne.a,ne.a,[]),r.zb(1073742336,re.a,re.a,[]),r.zb(1073742336,o,o,[]),r.zb(256,r.W,!0,[]),r.zb(256,ut.m,"XSRF-TOKEN",[]),r.zb(256,ut.n,"X-XSRF-TOKEN",[])])}));i.a.production&&Object(r.Q)(),mt.h().bootstrapModuleFactory(ie).catch(t=>console.error(t))},zVCn:function(t,e,n){"use strict";var r=n("8Y7J"),i=n("iInd"),o=n("SVse"),a=n("2+LC");class s{constructor(t){this.fotografiasService=t,this.imagenPrincipal=new a.a}ngOnInit(){this.fotografiasService.iniciarFirebase(),this.cargarFotografia()}cargarFotografia(){this.imagenPrincipal=new a.a,this.fotografiasService.getFotografiaPrincipal(this.ficha.id).subscribe(t=>{console.log("ID",this.ficha.id),console.log("FOTOGRAFIA",t),console.log("FICHA",this.ficha),this.imagenPrincipal=t})}}var l=n("ONxg"),u=r.nb({encapsulation:0,styles:[[".carta[_ngcontent-%COMP%]{width:40vh;height:60vh;box-shadow:10px 10px 25px #999}"]],data:{}});function c(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,10,"div",[["class","col-12 col-md-3 mx-1 my-2"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,9,"div",[["class","card carta"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"div",[["class","card-img"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,0,"img",[["alt","..."],["class","card-img-top text-center"],["style","object-fit:contain; height: 45vh;"]],[[8,"src",4]],null,null,null,null)),(t()(),r.pb(4,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),r.Hb(6,null,["",""])),(t()(),r.pb(7,0,null,null,3,"a",[["class","btn btn-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Bb(t,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ob(8,671744,null,0,i.m,[i.k,i.a,o.h],{routerLink:[0,"routerLink"]},null),r.Cb(9,4),(t()(),r.Hb(-1,null,["Ver Ficha"]))],(function(t,e){var n=t(e,9,0,"/","ficha","ficha-completa",e.component.ficha.id);t(e,8,0,n)}),(function(t,e){var n=e.component;t(e,3,0,r.tb(1,"",n.imagenPrincipal.url,"")),t(e,6,0,n.ficha.nombre),t(e,7,0,r.Bb(e,8).target,r.Bb(e,8).href)}))}var h=n("ej4/"),d=n("z58d"),f=n("HTik");n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"a",(function(){return b}));var p=r.nb({encapsulation:2,styles:[],data:{}});function g(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,3,"div",[["style","display: inline-flex;"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"app-ficha-card",[],null,null,null,c,u)),r.ob(3,114688,null,0,s,[l.a],{ficha:[0,"ficha"]},null)],(function(t,e){t(e,3,0,e.context.$implicit)}),null)}function m(t){return r.Jb(0,[(t()(),r.eb(16777216,null,null,1,null,g)),r.ob(1,278528,null,0,o.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,1,0,e.component.fichas)}),null)}function v(t){return r.Jb(0,[(t()(),r.pb(0,0,null,null,1,"app-listadofichas",[],null,null,null,m,p)),r.ob(1,114688,null,0,h.a,[d.a,f.a],null,null)],(function(t,e){t(e,1,0)}),null)}var b=r.lb("app-listadofichas",h.a,v,{fichas:"fichas"},{},[])},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);