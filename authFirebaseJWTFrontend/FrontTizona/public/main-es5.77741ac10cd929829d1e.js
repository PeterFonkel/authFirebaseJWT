function _defineProperty2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray2(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray2(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}/*! For license information please see main-es2015.77741ac10cd929829d1e.js.LICENSE.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+i+Z":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("lEC+");var r=function e(){_classCallCheck(this,e)}},"/6Yf":function(e,t,n){"use strict";function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var a=n("qOnz");n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s}));var l=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new a.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var o=r(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var l=i(a.value,2),s=l[1],u=this.normalizeInstanceIdentifier(l[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(h){}}}catch(f){t={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return e=this,n=function(){var e;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(o(o([],i(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),i(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))},new((t=void 0)||(t=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,a)}l((n=n.apply(e,[])).next())}));var e,t,n},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var o=e.options,a=void 0===o?{}:o,l=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(l))throw Error(this.name+"("+l+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:l,options:a});try{for(var u=r(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var h=i(c.value,2),f=h[1];l===this.normalizeInstanceIdentifier(h[0])&&f.resolve(s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=r(o),l=a.next();!l.done;l=a.next()){var s=l.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},0:function(e,t,n){e.exports=n("zUnb")},1:function(e,t){},"1uat":function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("MlIO"),function(){var e=r,t=e.lib.Hasher,n=e.x64,i=n.Word,o=n.WordArray,a=e.algo;function l(){return i.create.apply(i,arguments)}var s=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=l()}();var c=a.SHA512=t.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],l=n[4],c=n[5],h=n[6],f=n[7],d=r.high,p=r.low,v=i.high,g=i.low,m=o.high,y=o.low,b=a.high,_=a.low,w=l.high,k=l.low,C=c.high,I=c.low,E=h.high,S=h.low,T=f.high,A=f.low,O=d,x=p,P=v,N=g,R=m,D=y,M=b,j=_,L=w,B=k,F=C,V=I,U=E,q=S,H=T,z=A,G=0;G<80;G++){var W,K,J=u[G];if(G<16)K=J.high=0|e[t+2*G],W=J.low=0|e[t+2*G+1];else{var Q=u[G-15],Y=Q.high,$=Q.low,X=($>>>1|Y<<31)^($>>>8|Y<<24)^($>>>7|Y<<25),Z=u[G-2],ee=Z.high,te=Z.low,ne=(te>>>19|ee<<13)^(te<<3|ee>>>29)^(te>>>6|ee<<26),re=u[G-7],ie=u[G-16],oe=ie.low;J.high=K=(K=(K=((Y>>>1|$<<31)^(Y>>>8|$<<24)^Y>>>7)+re.high+((W=X+re.low)>>>0<X>>>0?1:0))+((ee>>>19|te<<13)^(ee<<3|te>>>29)^ee>>>6)+((W+=ne)>>>0<ne>>>0?1:0))+ie.high+((W+=oe)>>>0<oe>>>0?1:0),J.low=W}var ae,le=L&F^~L&U,se=B&V^~B&q,ue=O&P^O&R^P&R,ce=(x>>>28|O<<4)^(x<<30|O>>>2)^(x<<25|O>>>7),he=s[G],fe=he.low,de=H+((L>>>14|B<<18)^(L>>>18|B<<14)^(L<<23|B>>>9))+((ae=z+((B>>>14|L<<18)^(B>>>18|L<<14)^(B<<23|L>>>9)))>>>0<z>>>0?1:0),pe=ce+(x&N^x&D^N&D);H=U,z=q,U=F,q=V,F=L,V=B,L=M+(de=(de=(de=de+le+((ae+=se)>>>0<se>>>0?1:0))+he.high+((ae+=fe)>>>0<fe>>>0?1:0))+K+((ae+=W)>>>0<W>>>0?1:0))+((B=j+ae|0)>>>0<j>>>0?1:0)|0,M=R,j=D,R=P,D=N,P=O,N=x,O=de+(((O>>>28|x<<4)^(O<<30|x>>>2)^(O<<25|x>>>7))+ue+(pe>>>0<ce>>>0?1:0))+((x=ae+pe|0)>>>0<ae>>>0?1:0)|0}p=r.low=p+x,r.high=d+O+(p>>>0<x>>>0?1:0),g=i.low=g+N,i.high=v+P+(g>>>0<N>>>0?1:0),y=o.low=y+D,o.high=m+R+(y>>>0<D>>>0?1:0),_=a.low=_+j,a.high=b+M+(_>>>0<j>>>0?1:0),k=l.low=k+B,l.high=w+L+(k>>>0<B>>>0?1:0),I=c.low=I+V,c.high=C+F+(I>>>0<V>>>0?1:0),S=h.low=S+q,h.high=E+U+(S>>>0<q>>>0?1:0),A=f.low=A+z,f.high=T+H+(A>>>0<z>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(c),e.HmacSHA512=t._createHmacHelper(c)}(),r.SHA512)},"2+LC":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e),this.nombre="",this.url="",this.tipo=""}},"24uk":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("lAvF"),n("eqlp");var r=function e(){_classCallCheck(this,e)}},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp"),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}}]),n}(r.a)},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"2zau":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e)}},"35Wc":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("AOe3"),i=n("SHVS"),o=n("PSD3"),a=n.n(o),l=function(){function e(t,n,o){_classCallCheck(this,e),this.usuariosService=t,this.loginService=n,this.router=o,this.usuarios=[],this.usuario=new i.a,this.roles=r.a.tipoUsuario}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.getUsuarios(),document.querySelector("#registrarse").addEventListener("submit",(function(t){t.preventDefault();var n=document.querySelector("#email-registro").value,r=document.querySelector("#password-registro").value,i=document.querySelector("#password-registro2").value,o=document.querySelector("#rol-registro").value;r==i?(e.loginService.registrarUsuario(n,r,o),e.getUsuarios()):a.a.fire({title:"Error",text:"Los password no coinciden",icon:"error"})}))}},{key:"getUsuarios",value:function(){var e=this;this.usuariosService.getUsuarios().subscribe((function(t){console.log("Respuesta del service",t),e.usuarios=e.usuariosService.mapearUsuarios(t),console.log(e.usuarios)}))}}]),e}()},"3IDC":function(e,t,n){"use strict";var r=n("8Y7J"),i=n("7GFr"),o=n("aoek"),a=n("L2hg"),l=n("SVse"),s=n("s7LF"),u=n("QxgN"),c=n("lEC+"),h=n("ONxg"),f=function(){function e(){_classCallCheck(this,e),this.deleteFileEvent=new r.m}return _createClass(e,[{key:"ngOnInit",value:function(){console.log(this.archivo)}},{key:"eliminarArchivo",value:function(){this.deleteFileEvent.emit(this.archivo)}}]),e}(),d=r.nb({encapsulation:2,styles:[],data:{}});function p(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,5,"div",[["style","width: max-content;"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),r.Hb(2,null,["",""])),(e()(),r.pb(3,0,null,null,2,"button",[["class","mx-4"],["style","background-color: red;"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.eliminarArchivo()&&r),r}),null,null)),(e()(),r.pb(4,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Quitar"]))],null,(function(e,t){var n=t.component;e(t,1,0,r.tb(1,"",n.archivo.url,"")),e(t,2,0,n.archivo.nombre)}))}var v=n("Zdl6"),g=n("DfyZ"),m=r.nb({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{background-color:transparent}"]],data:{}});function y(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[["class","col-2 mx-1 my-1"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"app-archivo",[],null,[[null,"deleteFileEvent"]],(function(e,t,n){var r=!0;return"deleteFileEvent"===t&&(r=!1!==e.component.deseleccionarArchivo(n)&&r),r}),p,d)),r.ob(2,114688,null,0,f,[],{archivo:[0,"archivo"]},{deleteFileEvent:"deleteFileEvent"})],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function b(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,8,"body",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Cargar archivos"])),(e()(),r.pb(4,0,null,null,1,"form",[["action",""],["class","my-2"],["id","uploader"]],null,null,null,null,null)),(e()(),r.pb(5,0,null,null,0,"input",[["id","file"],["multiple","true"],["name","archivos[]"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.seleccionarArchivos(n)&&r),r}),null,null)),(e()(),r.pb(6,0,null,null,2,"div",[["class","container-fluid"],["id","archivosSeleccionados"]],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,y)),r.ob(8,278528,null,0,l.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,8,0,t.component.previewArchivosSeleccionados)}),null)}var _,w=n("iInd"),k=n("hqm0"),C=n("z58d"),I=n("LYig"),E=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).controlType="checkBoxes",e}return n}(I.a),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).controlType="dropdown",e}return n}(I.a),T=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).controlType="textarea",e}return n}(I.a),A=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).controlType="textbox",e}return n}(I.a),O=n("AOe3"),x=((_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getArrayArtefacto",value:function(){return[new S({key:"tipoArtefacto",label:"Tipo de artefacto",order:1,options:O.a.tipoArtefacto}),new S({key:"propositoArtefacto",label:"Prop\xf3sito",options:[{key:"proposito",value:"proposito"}],order:2}),new A({key:"nombre",label:"Nombre Artefacto",value:"Artefacto",required:!0,order:3}),new T({key:"descripcion",label:"Descripci\xf3n",value:"Informaci\xf3n sobre el artefacto",order:4}),new T({key:"funcionamiento",label:"Funcionamiento",value:"Funcionamiento combinado del artefacto",order:5}),new S({key:"fabricacion",label:"Fabricado en",order:6,options:O.a.fabricadoEn}),new S({key:"color",label:"Color",order:7,options:O.a.colores}),new S({key:"forma",label:"Forma",order:8,options:O.a.formas})].sort((function(e,t){return e.order-t.order}))}},{key:"getArrayForma",value:function(e){return("cilindro"==e?this.getArrayFormaCilindro():"esfera"==e?this.getArrayFormaEsfera():this.getArrayFormaCubo()).sort((function(e,t){return e.order-t.order}))}},{key:"getArrayFormaEsfera",value:function(){return[new A({key:"diametroCalibre",label:"Diametro/Calibre (mm)",type:"number",order:5})]}},{key:"getArrayFormaCilindro",value:function(){return[new A({key:"diametroCalibre",label:"Diametro/Calibre (mm)",type:"number",order:5}),new A({key:"altura",label:"Altura (mm)",type:"number",order:5})]}},{key:"getArrayFormaCubo",value:function(){return[new A({key:"longitud",label:"Longitud (mm)",type:"number",order:5}),new A({key:"altura",label:"Altura (mm)",type:"number",order:5}),new A({key:"fondo",label:"Fondo (mm)",type:"number",order:5})]}},{key:"getArrayEspoleta",value:function(){return[new S({key:"sistemaIniciacion",label:"Sistema de Iniciacion",order:1,options:O.a.sistemaIniciacion})].sort((function(e,t){return e.order-t.order}))}},{key:"getArrayMina",value:function(){return[new S({key:"materialEnvuelta",label:"Material de la Envuelta",order:1,options:O.a.materialEnvuelta}),new S({key:"situacionEspoleta",label:"Situacion de la Espoleta",order:2,options:O.a.situacionEspoleta})].sort((function(e,t){return e.order-t.order}))}},{key:"getArrayMunicion",value:function(){return[new A({key:"longitudEspoletado",label:"Longitud con espoleta (mm)",type:"number",order:1}),new E({key:"bandasPintura",label:"Bandas de Pintura",type:"text",order:2,options:O.a.colores})].sort((function(e,t){return e.order-t.order}))}},{key:"getArrayProyectil",value:function(){return[new S({key:"tipoCulote",label:"Tipo de culote",order:1,options:O.a.tipoCulote})].sort((function(e,t){return e.order-t.order}))}},{key:"getArrayCohete",value:function(){return[new S({key:"colorBandaMotor",label:"Color Banda Motor",order:1,options:O.a.colores})].sort((function(e,t){return e.order-t.order}))}},{key:"getArrayMisil",value:function(){return[new S({key:"sistemaGuia",label:"Sistema de Guia",order:1,options:O.a.sistemaGuia})].sort((function(e,t){return e.order-t.order}))}},{key:"getArrayBomba",value:function(){return[new A({key:"distanciaAnillas",label:"Distancia entre anillas (mm)",type:"number",order:1}),new S({key:"bandasPintura",label:"Bandas de Pintura",order:2,options:O.a.colores}),new A({key:"tipoEstabilizador",label:"Tipo de estabilizador",value:"Tipo estabilizador",order:3}),new A({key:"venterolEnEstabilizador",label:"Venterol en el estabilizador",type:"checkbox",order:4,options:O.a.colores})].sort((function(e,t){return e.order-t.order}))}},{key:"getArrayGranada",value:function(){return[new S({key:"medioLanzamiento",label:"Medio de Lanzamiento",order:1,options:O.a.mediosLanzamiento})].sort((function(e,t){return e.order-t.order}))}}]),e}()).ngInjectableDef=r.Nb({factory:function(){return new _},token:_,providedIn:"root"}),_);n.d(t,"a",(function(){return W}));var P=r.nb({encapsulation:2,styles:[],data:{}});function N(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h])],(function(e,t){var n=t.component;e(t,1,0,r.Ib(t,1,0,r.Bb(t,2).transform(n.elementosFormaEsfera$)))}),null)}function R(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h])],(function(e,t){var n=t.component;e(t,1,0,r.Ib(t,1,0,r.Bb(t,2).transform(n.elementosFormaCilindro$)))}),null)}function D(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h])],(function(e,t){var n=t.component;e(t,1,0,r.Ib(t,1,0,r.Bb(t,2).transform(n.elementosFormaCubo$)))}),null)}function M(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,8,"div",[["class","shadow p-3 mb-5 bg-secondary bg-gradient rounded"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"h4",[["class","text-center rounded-pill bg-light mb-4 p-2"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Dimensiones"])),(e()(),r.eb(16777216,null,null,1,null,N)),r.ob(4,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,R)),r.ob(6,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,D)),r.ob(8,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.flagForma.esfera),e(t,6,0,n.flagForma.cilindro),e(t,8,0,n.flagForma.cubo)}),null)}function j(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h])],(function(e,t){var n=t.component;e(t,1,0,r.Ib(t,1,0,r.Bb(t,2).transform(n.elementosFormaEspoleta$)))}),null)}function L(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h])],(function(e,t){var n=t.component;e(t,1,0,r.Ib(t,1,0,r.Bb(t,2).transform(n.elementosFormaMina$)))}),null)}function B(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h])],(function(e,t){var n=t.component;e(t,1,0,r.Ib(t,1,0,r.Bb(t,2).transform(n.elementosFormaMunicion$)))}),null)}function F(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h])],(function(e,t){var n=t.component;e(t,1,0,r.Ib(t,1,0,r.Bb(t,2).transform(n.elementosFormaProyectil$)))}),null)}function V(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h])],(function(e,t){var n=t.component;e(t,1,0,r.Ib(t,1,0,r.Bb(t,2).transform(n.elementosFormaCohete$)))}),null)}function U(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h])],(function(e,t){var n=t.component;e(t,1,0,r.Ib(t,1,0,r.Bb(t,2).transform(n.elementosFormaMisil$)))}),null)}function q(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h])],(function(e,t){var n=t.component;e(t,1,0,r.Ib(t,1,0,r.Bb(t,2).transform(n.elementosFormaBomba$)))}),null)}function H(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h])],(function(e,t){var n=t.component;e(t,1,0,r.Ib(t,1,0,r.Bb(t,2).transform(n.elementosFormaGranada$)))}),null)}function z(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,21,"div",[],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,M)),r.ob(2,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.pb(3,0,null,null,18,"div",[["class","shadow p-3 mb-5 bg-secondary bg-gradient rounded"]],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,1,"h4",[["class","text-center rounded-pill bg-light mb-4 p-2"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,[" Par\xe1metros Espec\xedficos "])),(e()(),r.eb(16777216,null,null,1,null,j)),r.ob(7,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,L)),r.ob(9,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,B)),r.ob(11,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,F)),r.ob(13,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,V)),r.ob(15,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,U)),r.ob(17,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,q)),r.ob(19,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,H)),r.ob(21,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.artefacto.forma),e(t,7,0,n.flagTipo.espoleta),e(t,9,0,n.flagTipo.mina),e(t,11,0,n.flagTipo.municion),e(t,13,0,n.flagTipo.proyectil),e(t,15,0,n.flagTipo.cohete),e(t,17,0,n.flagTipo.misil),e(t,19,0,n.flagTipo.bomba),e(t,21,0,n.flagTipo.granada)}),null)}function G(e){return r.Jb(0,[r.Fb(402653184,1,{hijo:0}),r.Fb(402653184,2,{hijoArchivo:0}),(e()(),r.pb(2,0,null,null,29,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Proponer un nuevo artefacto"])),(e()(),r.pb(5,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["En esta secci\xf3n puede proponerse una nueva ficha. Al guardarla, por motivos de INFOSEC, quedar\xe1 pendiente de aprobaci\xf3n por parte del administrador. Cuando sea aprobada aparecer\xe1 en el buscador."])),(e()(),r.pb(7,0,null,null,5,"div",[["class","shadow p-3 mb-5 bg-secondary bg-gradient rounded"]],null,null,null,null,null)),(e()(),r.pb(8,0,null,null,1,"h4",[["class","text-center rounded-pill bg-light mb-4 p-2"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,[" Par\xe1metros Comunes "])),(e()(),r.pb(10,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(11,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h]),(e()(),r.eb(16777216,null,null,1,null,z)),r.ob(14,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.pb(15,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.pb(16,0,null,null,15,"div",[["class","row fluid shadow p-3 mb-5 bg-secondary bg-gradient rounded"]],null,null,null,null,null)),(e()(),r.pb(17,0,null,null,1,"h4",[["class","text-center rounded-pill bg-light mb-4 p-2"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,[" Im\xe1genes y archivos "])),(e()(),r.pb(19,0,null,null,12,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.Bb(e,21).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Bb(e,21).onReset()&&i),i}),null,null)),r.ob(20,16384,null,0,s.A,[],null,null),r.ob(21,4210688,null,0,s.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,s.c,null,[s.o]),r.ob(23,16384,null,0,s.n,[[4,s.c]],null,null),(e()(),r.pb(24,0,null,null,1,"app-fotografias",[["id","fotografias"]],[[8,"id",0]],null,null,u.c,u.b)),r.ob(25,114688,[[1,4]],0,c.a,[h.a],null,null),(e()(),r.pb(26,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.pb(27,0,null,null,1,"app-archivos",[],null,null,null,b,m)),r.ob(28,114688,[[2,4]],0,v.a,[g.a],null,null),(e()(),r.pb(29,0,null,null,2,"div",[["class","d-flex justify-content-center"],["routerLink","../"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Bb(e,30).onClick()&&i),i}),null,null)),r.ob(30,16384,null,0,w.l,[w.k,w.a,[8,null],r.B,r.k],{routerLink:[0,"routerLink"]},null),(e()(),r.pb(31,0,null,null,0,"input",[["class","btn btn-success"],["type","submit"],["value","GUARDAR"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.salvarArtefacto()&&r),r}),null,null))],(function(e,t){var n=t.component;e(t,11,0,r.Ib(t,11,0,r.Bb(t,12).transform(n.elementosArtefacto$))),e(t,14,0,n.artefacto),e(t,25,0),e(t,28,0),e(t,30,0,"../")}),(function(e,t){var n=t.component;e(t,19,0,r.Bb(t,23).ngClassUntouched,r.Bb(t,23).ngClassTouched,r.Bb(t,23).ngClassPristine,r.Bb(t,23).ngClassDirty,r.Bb(t,23).ngClassValid,r.Bb(t,23).ngClassInvalid,r.Bb(t,23).ngClassPending),e(t,24,0,n.id)}))}var W=r.lb("app-formulario-ficha",k.a,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-formulario-ficha",[],null,null,null,G,P)),r.ob(1,114688,null,0,k.a,[C.a,x,w.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[])},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3mVj":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(t){_classCallCheck(this,e),this.fichaVIPService=t,this.fichasVIP=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getFichasVIP()}},{key:"getFichasVIP",value:function(){var e=this;this.fichaVIPService.getFichasVIP().subscribe((function(t){e.fichasVIP=e.fichaVIPService.extraerFichasVIP(t)}))}},{key:"eliminarFichaVIP",value:function(e){console.log("eliminando "+e),this.fichaVIPService.deleteFichaVIP(e).subscribe();var t=[];this.fichasVIP.forEach((function(n){n.id!=e&&t.push(n)})),this.fichasVIP=t}}]),e}()},"3mnW":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("LRne"),i=n("LYig"),o=n("AOe3"),a=[{key:"nombre",controlType:"textbox"},{key:"descripcion",controlType:"textarea"},{key:"funcionamiento",controlType:"textarea"},{key:"forma",controlType:"dropdown",options:o.a.formas},{key:"diametroCalibre",controlType:"textbox",type:"number"},{key:"longitud",controlType:"textbox",type:"number"},{key:"altura",controlType:"textbox",type:"number"},{key:"fondo",controlType:"textbox",type:"number"},{key:"color",controlType:"dropdown",options:o.a.colores},{key:"fabricacion",controlType:"dropdown",options:o.a.fabricadoEn},{key:"tipoArtefacto",controlType:"dropdown",options:o.a.tipoArtefacto},{key:"propositoArtefacto",controlType:"dropdown"},{key:"sistemaIniciacion",controlType:"dropdown",options:o.a.sistemaIniciacion},{key:"materialEnvuelta",controlType:"dropdown",options:o.a.materialEnvuelta},{key:"situacionEspoleta",controlType:"dropdown",options:o.a.situacionEspoleta},{key:"longitudEspoletado",controlType:"textbox",type:"number"},{key:"bandasPintura",controlType:"checkBoxes",options:o.a.colores},{key:"tipoCulote",controlType:"dropdown",options:o.a.tipoCulote},{key:"sistemaGuia",controlType:"dropdown",options:o.a.sistemaGuia},{key:"colorBandaMotor",controlType:"dropdown",options:o.a.colores},{key:"medioLanzamiento",controlType:"dropdown",options:o.a.mediosLanzamiento},{key:"sistemaGuia",controlType:"dropdown",options:o.a.sistemaGuia},{key:"pinturaProteccionTermica",controlType:"textbox",type:"checkbox"},{key:"materialEnvuelta",controlType:"dropdown",options:o.a.materialEnvuelta},{key:"venterolEnEstabilizador",controlType:"textbox",type:"checkbox"},{key:"tipoEstabilizador",controlType:"textbox"},{key:"sistemaIniciacion",controlType:"dropdown",options:o.a.sistemaIniciacion}],l=function(){function e(t,n,r){_classCallCheck(this,e),this.fichaService=t,this.activatedRoute=n,this.fichasVipService=r,this.id=this.activatedRoute.snapshot.params.id,this.fichaVipFlag=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;console.log(this.id),this.id&&this.fichaService.getFicha(this.id).subscribe((function(t){var n=e.fichaService.getIdFicha(t);e.artefacto=e.fichaService.mapearFicha(t,n),e.elementosForm$=Object(r.a)(e.creaFormularioDeObjeto(e.artefacto))})),this.fichaVipFlag=Boolean(this.fichasVipService.esVip(this.id).subscribe())}},{key:"creaFormularioDeObjeto",value:function(e){var t=[];return Object.keys(e).forEach((function(n){var r;a.forEach((function(t){t.key==n&&0!=e[n]&&(r={value:e[n],key:n,label:n.toLocaleUpperCase()},"propositoArtefacto"==n&&(t.options="minas"==e.tipoArtefacto?o.a.propositoArtefacto.minas:"municiones"==e.tipoArtefacto?o.a.propositoArtefacto.municiones:"espoletas"==e.tipoArtefacto?o.a.propositoArtefacto.espoletas:o.a.propositoArtefacto.municiones.concat(o.a.propositoArtefacto.minas).concat(o.a.propositoArtefacto.espoletas)),Object.assign(r,t))})),r&&t.push(new i.a(r))})),console.log(t),t}},{key:"asignarArtefacto",value:function(e){this.artefacto=Object.assign(this.artefacto,e)}},{key:"validarFicha",value:function(){this.artefacto.validada=!0,this.fichaService.updateFicha(this.artefacto,this.id).subscribe()}}]),e}()},"3y9D":function(e,t,n){var r,i,o,a,l,s,u;e.exports=(u=n("Ib8C"),o=(i=(r=u).lib).WordArray,l=[],s=r.algo.SHA1=(a=i.Hasher).extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=0;u<80;u++){if(u<16)l[u]=0|e[t+u];else{var c=l[u-3]^l[u-8]^l[u-14]^l[u-16];l[u]=c<<1|c>>>31}var h=(r<<5|r>>>27)+s+l[u];h+=u<20?1518500249+(i&o|~i&a):u<40?1859775393+(i^o^a):u<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,s=a,a=o,o=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=a._createHelper(s),r.HmacSHA1=a._createHmacHelper(s),u.SHA1)},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),l=n("Cfvw");function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(s((function(n,r){return Object(l.a)(e(n,r)).pipe(Object(a.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new u(e,n))})}var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new o.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,e,t,n,i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"5hvy":function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("MlIO"),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.x64.Word,l=t.algo,s=[],u=[],c=[];!function(){for(var e=1,t=0,n=0;n<24;n++){s[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var l=0,h=0,f=0;f<7;f++){if(1&i){var d=(1<<f)-1;d<32?h^=1<<d:l^=1<<d-32}128&i?i=i<<1^113:i<<=1}c[o]=a.create(l,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=a.create()}();var f=l.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(P=n[i]).high^=a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),P.low^=o}for(var l=0;l<24;l++){for(var f=0;f<5;f++){for(var d=0,p=0,v=0;v<5;v++)d^=(P=n[f+5*v]).high,p^=P.low;var g=h[f];g.high=d,g.low=p}for(f=0;f<5;f++){var m=h[(f+4)%5],y=h[(f+1)%5],b=y.high,_=y.low;for(d=m.high^(b<<1|_>>>31),p=m.low^(_<<1|b>>>31),v=0;v<5;v++)(P=n[f+5*v]).high^=d,P.low^=p}for(var w=1;w<25;w++){var k=(P=n[w]).high,C=P.low,I=s[w];I<32?(d=k<<I|C>>>32-I,p=C<<I|k>>>32-I):(d=C<<I-32|k>>>64-I,p=k<<I-32|C>>>64-I);var E=h[u[w]];E.high=d,E.low=p}var S=h[0],T=n[0];for(S.high=T.high,S.low=T.low,f=0;f<5;f++)for(v=0;v<5;v++){var A=h[w=f+5*v],O=h[(f+1)%5+5*v],x=h[(f+2)%5+5*v];(P=n[w]).high=A.high^~O.high&x.high,P.low=A.low^~O.low&x.low}var P,N=c[l];(P=n[0]).high^=N.high,P.low^=N.low}},_doFinalize:function(){var t=this._data,n=t.words,r=8*t.sigBytes,o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,l=this.cfg.outputLength/8,s=l/8,u=[],c=0;c<s;c++){var h=a[c],f=h.high,d=h.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),u.push(d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)),u.push(f)}return new i.init(u,l)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=o._createHelper(f),t.HmacSHA3=o._createHmacHelper(f)}(Math),r.SHA3)},"5x/H":function(e,t,n){"use strict";var r=n("zIRd"),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(kd){o(kd)}}function l(e){try{s(r.throw(e))}catch(kd){o(kd)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(kd){o=[6,kd],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var u=n("qOnz"),c=n("q/0M"),h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var d,p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},v=v||{},g=p||self;function m(){}function y(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var _="closure_uid_"+(1e9*Math.random()>>>0),w=0;function k(e,t,n){return e.call.apply(e.bind,arguments)}function C(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function I(e,t,n){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:C).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function S(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function T(){this.s=this.s,this.o=this.o}var A={};T.prototype.s=!1,T.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,_)&&e[_]||(e[_]=++w)}(this);delete A[e]}},T.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var O=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},x=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function P(e){return Array.prototype.concat.apply([],arguments)}function N(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function R(e){return/^[\s\xa0]*$/.test(e)}var D,M=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function j(e,t){return-1!=e.indexOf(t)}function L(e,t){return e<t?-1:e>t?1:0}e:{var B=g.navigator;if(B){var F=B.userAgent;if(F){D=F;break e}}D=""}function V(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function U(e){var t={};for(var n in e)t[n]=e[n];return t}var q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<q.length;o++)n=q[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function z(e){return z[" "](e),e}z[" "]=m;var G,W,K=j(D,"Opera"),J=j(D,"Trident")||j(D,"MSIE"),Q=j(D,"Edge"),Y=Q||J,$=j(D,"Gecko")&&!(j(D.toLowerCase(),"webkit")&&!j(D,"Edge"))&&!(j(D,"Trident")||j(D,"MSIE"))&&!j(D,"Edge"),X=j(D.toLowerCase(),"webkit")&&!j(D,"Edge");function Z(){var e=g.document;return e?e.documentMode:void 0}e:{var ee="",te=(W=D,$?/rv:([^\);]+)(\)|;)/.exec(W):Q?/Edge\/([\d\.]+)/.exec(W):J?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(W):X?/WebKit\/(\S+)/.exec(W):K?/(?:Version)[ \/]?(\S+)/.exec(W):void 0);if(te&&(ee=te?te[1]:""),J){var ne=Z();if(null!=ne&&ne>parseFloat(ee)){G=String(ne);break e}}G=ee}var re={},ie=g.document&&J&&(Z()||parseInt(G,10))||void 0,oe=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{g.addEventListener("test",m,t),g.removeEventListener("test",m,t)}catch(n){}return e}();function ae(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function le(e,t){if(ae.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($){e:{try{z(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:se[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&le.Z.h.call(this)}}ae.prototype.h=function(){this.defaultPrevented=!0},S(le,ae);var se={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),ce=0;function he(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ce,this.ca=this.fa=!1}function fe(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function de(e){this.src=e,this.g={},this.h=0}function pe(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=O(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(fe(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ve(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}de.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ve(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new he(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var ge="closure_lm_"+(1e6*Math.random()|0),me={};function ye(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=Ee(r),t&&t[ue]?t.O(n,r,b(i)?!!i.capture:!!i,o):be(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ye(e,t[o],n,r,i);return null}return n=Ee(n),e&&e[ue]?e.N(t,n,b(r)?!!r.capture:!!r,i):be(e,t,n,!1,r,i)}function be(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=b(i)?!!i.capture:!!i,l=Ce(e);if(l||(e[ge]=l=new de(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=ke;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)oe||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _e(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ue])pe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ce(t))?(pe(n,e),0==n.h&&(n.src=null,t[ge]=null)):fe(e)}}}function we(e){return e in me?me[e]:me[e]="on"+e}function ke(e,t){if(e.ca)e=!0;else{t=new le(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&_e(e),e=n.call(r,t)}return e}function Ce(e){return(e=e[ge])instanceof de?e:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(e){return"function"==typeof e?e:(e[Ie]||(e[Ie]=function(t){return e.handleEvent(t)}),e[Ie])}function Se(){T.call(this),this.i=new de(this),this.P=this,this.I=null}function Te(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new ae(t,e);else if(t instanceof ae)t.target=t.target||e;else{var i=t;H(t=new ae(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Ae(a,r,!0,t)&&i}if(i=Ae(a=t.g=e,r,!0,t)&&i,i=Ae(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ae(a=t.g=n[o],r,!1,t)&&i}function Ae(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var l=a.listener,s=a.ia||a.src;a.fa&&pe(e.i,a),i=!1!==l.call(s,r)&&i}}return i&&!r.defaultPrevented}S(Se,T),Se.prototype[ue]=!0,Se.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=b(i)?!!i.capture:!!i,r=Ee(r),t&&t[ue]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=ve(a=t.g[n],r,i,o))&&(fe(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):t&&(t=Ce(t))&&(n=t.g[n.toString()],t=-1,n&&(t=ve(n,r,i,o)),(r=-1<t?n[t]:null)&&_e(r))}(this,e,t,n,r)},Se.prototype.M=function(){if(Se.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fe(n[r]);delete t.g[e],t.h--}}this.I=null},Se.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Se.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Oe=g.JSON.stringify;function xe(){var e=Be,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Pe,Ne=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Re.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Re=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},e}())((function(){return new De}),(function(e){return e.reset()})),De=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Me(e){g.setTimeout((function(){throw e}),0)}function je(e,t){Pe||function(){var e=g.Promise.resolve(void 0);Pe=function(){e.then(Fe)}}(),Le||(Pe(),Le=!0),Be.add(e,t)}var Le=!1,Be=new Ne;function Fe(){for(var e;e=xe();){try{e.h.call(e.g)}catch(n){Me(n)}var t=Re;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Le=!1}function Ve(e,t){Se.call(this),this.h=e||1,this.g=t||g,this.j=I(this.kb,this),this.l=Date.now()}function Ue(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qe(e,t,n){if("function"==typeof e)n&&(e=I(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=I(e.handleEvent,e)}return 2147483647<Number(t)?-1:g.setTimeout(e,t||0)}function He(e){e.g=qe((function(){e.g=null,e.i&&(e.i=!1,He(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}S(Ve,Se),(d=Ve.prototype).da=!1,d.S=null,d.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Te(this,"tick"),this.da&&(Ue(this),this.start()))}},d.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},d.M=function(){Ve.Z.M.call(this),Ue(this),delete this.g};var ze=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:He(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(T);function Ge(e){T.call(this),this.h=e,this.g={}}S(Ge,T);var We=[];function Ke(e,t,n,r){Array.isArray(n)||(n&&(We[0]=n.toString()),n=We);for(var i=0;i<n.length;i++){var o=ye(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Je(e){V(e.g,(function(e,t){this.g.hasOwnProperty(t)&&_e(e)}),e),e.g={}}function Qe(){this.g=!0}function Ye(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Oe(n)}catch(l){return t}}(e,n)+(r?" "+r:"")}))}Ge.prototype.M=function(){Ge.Z.M.call(this),Je(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qe.prototype.Aa=function(){this.g=!1},Qe.prototype.info=function(){};var $e={},Xe=null;function Ze(){return Xe=Xe||new Se}function et(e){ae.call(this,$e.Ma,e)}function tt(e){var t=Ze();Te(t,new et(t,e))}function nt(e,t){ae.call(this,$e.STAT_EVENT,e),this.stat=t}function rt(e){var t=Ze();Te(t,new nt(t,e))}function it(e,t){ae.call(this,$e.Na,e),this.size=t}function ot(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return g.setTimeout((function(){e()}),t)}$e.Ma="serverreachability",S(et,ae),$e.STAT_EVENT="statevent",S(nt,ae),$e.Na="timingevent",S(it,ae);var at={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function st(){}function ut(){}st.prototype.h=null;var ct,ht={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ft(){ae.call(this,"d")}function dt(){ae.call(this,"c")}function pt(){}function vt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ge(this),this.P=mt,this.W=new Ve(e=Y?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}S(ft,ae),S(dt,ae),S(pt,st),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},ct=new pt;var mt=45e3,yt={},bt={};function _t(e,t,n){e.K=1,e.v=Ht(Lt(t)),e.s=n,e.U=!0,wt(e,null)}function wt(e,t){e.F=Date.now(),Et(e),e.A=Lt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),nn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new gt,e.g=ir(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ze(I(e.Ia,e,e.g),e.O)),Ke(e.V,e.g,"readystatechange",e.gb),t=e.H?U(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),tt(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",l=o.split("&"),s=0;s<l.length;s++){var u=l[s].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function kt(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Ct(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=It(e,n))==bt){4==t&&(e.o=4,rt(14),i=!1),Ye(e.j,e.m,null,"[Incomplete Response]");break}if(r==yt){e.o=4,rt(15),Ye(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ye(e.j,e.m,r,null),xt(e,r)}kt(e)&&r!=bt&&r!=yt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yn(t),t.L=!0,rt(11))):(Ye(e.j,e.m,n,"[Invalid Chunked Response]"),Ot(e),At(e))}function It(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?bt:(n=Number(t.substring(n,r)),isNaN(n)?yt:(r+=1)+n>t.length?bt:(t=t.substr(r,n),e.C=r+n,t))}function Et(e){e.Y=Date.now()+e.P,St(e,e.P)}function St(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ot(I(e.eb,e),t)}function Tt(e){e.B&&(g.clearTimeout(e.B),e.B=null)}function At(e){0==e.l.G||e.I||Zn(e.l,e)}function Ot(e){Tt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ue(e.W),Je(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function xt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||cn(n.i,e)))if(n.I=e.N,!e.J&&cn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Xn(n),Un(n)}Qn(n),rt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ot(I(n.ab,n),6e3));if(1>=un(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else tr(n,11)}else if((e.J||n.g==e)&&Xn(n),!R(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var l=o[4];null!=l&&(n.za=l,n.h.info("SVER="+n.za));var s=o[5];null!=s&&"number"==typeof s&&0<s&&(n.K=r=1.5*s,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=e.g;if(u){var c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(j(c,"spdy")||j(c,"quic")||j(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(hn(h,h.h),h.h=null))}if(r.D){var f=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,qt(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=rr(r,r.H?r.la:null,r.W),d.J){fn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Tt(p),Et(p)),r.g=d}else Jn(r);0<n.l.length&&zn(n)}else"stop"!=o[0]&&"close"!=o[0]||tr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?tr(n,7):Vn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}tt(4)}catch(o){}}function Pt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(y(e)||"string"==typeof e)x(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(y(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(y(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Nt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Dt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Dt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Dt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(d=vt.prototype).setTimeout=function(e){this.P=e},d.gb=function(e){e=e.target;var t=this.L;t&&3==Mn(e)?t.l():this.Ia(e)},d.Ia=function(e){try{if(e==this.g)e:{var t=Mn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Y||this.g&&(this.h.h||this.g.ga()||jn(this.g)))){this.I||4!=t||7==n||tt(8==n||0>=r?3:2),Tt(this);var i=this.g.ba();this.N=i;t:if(kt(this)){var o=jn(this.g);e="";var a=o.length,l=4==Mn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ot(this),At(this);var s="";break t}this.h.i=new g.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:l&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(u)){var h=u;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,rt(12),Ot(this),At(this);break e}Ye(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xt(this,i)}this.U?(Ct(this,t,s),Y&&this.i&&3==t&&(Ke(this.V,this.W,"tick",this.fb),this.W.start())):(Ye(this.j,this.m,s,null),xt(this,s)),4==t&&Ot(this),this.i&&!this.I&&(4==t?Zn(this.l,this):(this.i=!1,Et(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,rt(12)):(this.o=0,rt(13)),Ot(this),At(this)}}}catch(t){}},d.fb=function(){if(this.g){var e=Mn(this.g),t=this.g.ga();this.C<t.length&&(Tt(this),Ct(this,e,t),this.i&&4!=e&&Et(this))}},d.cancel=function(){this.I=!0,Ot(this)},d.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(tt(3),rt(17)),Ot(this),this.o=2,At(this)):St(this,this.Y-e)},(d=Nt.prototype).R=function(){Rt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},d.T=function(){return Rt(this),this.g.concat()},d.get=function(e,t){return Dt(this.h,e)?this.h[e]:t},d.set=function(e,t){Dt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},d.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Mt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof jt){this.g=void 0!==t?t:e.g,Bt(this,e.j),this.s=e.s,Ft(this,e.i),Vt(this,e.m),this.l=e.l,t=e.h;var n=new Xt;n.i=t.i,t.g&&(n.g=new Nt(t.g),n.h=t.h),Ut(this,n),this.o=e.o}else e&&(n=String(e).match(Mt))?(this.g=!!t,Bt(this,n[1]||"",!0),this.s=zt(n[2]||""),Ft(this,n[3]||"",!0),Vt(this,n[4]),this.l=zt(n[5]||"",!0),Ut(this,n[6]||"",!0),this.o=zt(n[7]||"")):(this.g=!!t,this.h=new Xt(null,this.g))}function Lt(e){return new jt(e)}function Bt(e,t,n){e.j=n?zt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ft(e,t,n){e.i=n?zt(t,!0):t}function Vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ut(e,t,n){t instanceof Xt?(e.h=t,function(e,t){t&&!e.j&&(Zt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(en(this,t),nn(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Gt(t,Yt)),e.h=new Xt(t,e.g))}function qt(e,t,n){e.h.set(t,n)}function Ht(e){return qt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gt(t,Kt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gt(t,Kt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gt(n,"/"==n.charAt(0)?Qt:Jt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Gt(n,$t)),e.join("")};var Kt=/[#\/\?@]/g,Jt=/[#\?:]/g,Qt=/[#\?]/g,Yt=/[#\?@]/g,$t=/#/g;function Xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zt(e){e.g||(e.g=new Nt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function en(e,t){Zt(e),t=rn(e,t),Dt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Dt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Rt(e)))}function tn(e,t){return Zt(e),t=rn(e,t),Dt(e.g.h,t)}function nn(e,t,n){en(e,t),0<n.length&&(e.i=null,e.g.set(rn(e,t),N(n)),e.h+=n.length)}function rn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(d=Xt.prototype).add=function(e,t){Zt(this),this.i=null,e=rn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},d.forEach=function(e,t){Zt(this),this.g.forEach((function(n,r){x(n,(function(n){e.call(t,n,r,this)}),this)}),this)},d.T=function(){Zt(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},d.R=function(e){Zt(this);var t=[];if("string"==typeof e)tn(this,e)&&(t=P(t,this.g.get(rn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=P(t,e[n])}return t},d.set=function(e,t){return Zt(this),this.i=null,tn(this,e=rn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},d.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var on=function(e,t){this.h=e,this.g=t};function an(e){this.l=e||ln,e=g.PerformanceNavigationTiming?0<(e=g.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(g.g&&g.g.Ea&&g.g.Ea()&&g.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ln=10;function sn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function un(e){return e.h?1:e.g?e.g.size:0}function cn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function hn(e,t){e.g?e.g.add(t):e.h=t}function fn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dn(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=f(e.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return N(e.i)}function pn(){}function vn(){this.g=new pn}function gn(e,t,n){var r=n||"";try{Pt(e,(function(e,n){var i=e;b(e)&&(i=Oe(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(kd){throw t.push(r+"type="+encodeURIComponent("_badmap")),kd}}function mn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function yn(e){this.l=e.$b||null,this.j=e.ib||!1}function bn(e,t){Se.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_n,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}an.prototype.cancel=function(){var e,t;if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=f(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},pn.prototype.stringify=function(e){return g.JSON.stringify(e,void 0)},pn.prototype.parse=function(e){return g.JSON.parse(e,void 0)},S(yn,st),yn.prototype.g=function(){return new bn(this.l,this.j)},yn.prototype.i=function(e){return function(){return e}}({}),S(bn,Se);var _n=0;function wn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function kn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cn(e)}function Cn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(d=bn.prototype).open=function(e,t){if(this.readyState!=_n)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cn(this)},d.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||g).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},d.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kn(this)),this.readyState=_n},d.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cn(this)),this.g&&(this.readyState=3,Cn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==g.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},d.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?kn(this):Cn(this),3==this.readyState&&wn(this)}},d.Ua=function(e){this.g&&(this.response=this.responseText=e,kn(this))},d.Ta=function(e){this.g&&(this.response=e,kn(this))},d.ha=function(){this.g&&kn(this)},d.setRequestHeader=function(e,t){this.v.append(e,t)},d.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(bn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var In=g.JSON.parse;function En(e){Se.call(this),this.headers=new Nt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Sn,this.K=this.L=!1}S(En,Se);var Sn="",Tn=/^https?$/i,An=["POST","PUT"];function On(e){return"content-type"==e.toLowerCase()}function xn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pn(e),Rn(e)}function Pn(e){e.D||(e.D=!0,Te(e,"complete"),Te(e,"error"))}function Nn(e){if(e.h&&void 0!==v&&(!e.C[1]||4!=Mn(e)||2!=e.ba()))if(e.v&&4==Mn(e))qe(e.Fa,0,e);else if(Te(e,"readystatechange"),4==Mn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Mt)[1]||null;if(!o&&g.self&&g.self.location){var a=g.self.location.protocol;o=a.substr(0,a.length-1)}i=!Tn.test(o?o.toLowerCase():"")}t=i}if(t)Te(e,"complete"),Te(e,"success");else{e.m=6;try{var l=2<Mn(e)?e.g.statusText:""}catch(s){l=""}e.j=l+" ["+e.ba()+"]",Pn(e)}}finally{Rn(e)}}}function Rn(e,t){if(e.g){Dn(e);var n=e.g,r=e.C[0]?m:null;e.g=null,e.C=null,t||Te(e,"ready");try{n.onreadystatechange=r}catch(kd){}}}function Dn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(g.clearTimeout(e.A),e.A=null)}function Mn(e){return e.g?e.g.readyState:0}function jn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Sn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ln(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return V(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):qt(e,t,n))}function Bn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fn(e){this.za=0,this.l=[],this.h=new Qe,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bn("baseRetryDelayMs",5e3,e),this.$a=Bn("retryDelaySeedMs",1e4,e),this.Ya=Bn("forwardChannelMaxRetries",2,e),this.ra=Bn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new an(e&&e.concurrentRequestLimit),this.Ca=new vn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Vn(e){if(qn(e),3==e.G){var t=e.V++,n=Lt(e.F);qt(n,"SID",e.J),qt(n,"RID",t),qt(n,"TYPE","terminate"),Wn(e,n),(t=new vt(e,e.h,t,void 0)).K=2,t.v=Ht(Lt(n)),n=!1,g.navigator&&g.navigator.sendBeacon&&(n=g.navigator.sendBeacon(t.v.toString(),"")),!n&&g.Image&&((new Image).src=t.v,n=!0),n||(t.g=ir(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Et(t)}nr(e)}function Un(e){e.g&&(Yn(e),e.g.cancel(),e.g=null)}function qn(e){Un(e),e.u&&(g.clearTimeout(e.u),e.u=null),Xn(e),e.i.cancel(),e.m&&("number"==typeof e.m&&g.clearTimeout(e.m),e.m=null)}function Hn(e,t){e.l.push(new on(e.Za++,t)),3==e.G&&zn(e)}function zn(e){sn(e.i)||e.m||(e.m=!0,je(e.Ha,e),e.C=0)}function Gn(e,t){var n;n=t?t.m:e.V++;var r=Lt(e.F);qt(r,"SID",e.J),qt(r,"RID",n),qt(r,"AID",e.U),Wn(e,r),e.o&&e.s&&Ln(r,e.o,e.s),n=new vt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Kn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),hn(e.i,n),_t(n,r,t)}function Wn(e,t){e.j&&Pt({},(function(e,n){qt(t,n,e)}))}function Kn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?I(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].h)):o=0:a.push("ofs="+o);for(var l=!0,s=0;s<n;s++){var u=i[s].h,c=i[s].g;if(0>(u-=o))o=Math.max(0,i[s].h-100),l=!1;else try{gn(c,a,"req"+u+"_")}catch(Lr){r&&r(c)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Jn(e){e.g||e.u||(e.Y=1,je(e.Ga,e),e.A=0)}function Qn(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=ot(I(e.Ga,e),er(e,e.A)),e.A++,0))}function Yn(e){null!=e.B&&(g.clearTimeout(e.B),e.B=null)}function $n(e){e.g=new vt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Lt(e.oa);qt(t,"RID","rpc"),qt(t,"SID",e.J),qt(t,"CI",e.N?"0":"1"),qt(t,"AID",e.U),Wn(e,t),qt(t,"TYPE","xmlhttp"),e.o&&e.s&&Ln(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ht(Lt(t)),n.s=null,n.U=!0,wt(n,e)}function Xn(e){null!=e.v&&(g.clearTimeout(e.v),e.v=null)}function Zn(e,t){var n=null;if(e.g==t){Xn(e),Yn(e),e.g=null;var r=2}else{if(!cn(e.i,t))return;n=t.D,fn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Te(r=Ze(),new it(r,n,t,i)),zn(e)}else Jn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(un(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=ot(I(e.Ha,e,t),er(e,e.C)),e.C++,0)))}(e,t)||2==r&&Qn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:tr(e,5);break;case 4:tr(e,10);break;case 3:tr(e,6);break;default:tr(e,2)}}function er(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function tr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=I(e.jb,e);n||(n=new jt("//www.google.com/images/cleardot.gif"),g.location&&"http"==g.location.protocol||Bt(n,"https"),Ht(n)),function(e,t){var n=new Qe;if(g.Image){var r=new Image;r.onload=E(mn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=E(mn,n,r,"TestLoadImage: error",!1,t),r.onabort=E(mn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=E(mn,n,r,"TestLoadImage: timeout",!1,t),g.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rt(2);e.G=0,e.j&&e.j.va(t),nr(e),qn(e)}function nr(e){e.G=0,e.I=-1,e.j&&(0==dn(e.i).length&&0==e.l.length||(e.i.i.length=0,N(e.l),e.l.length=0),e.j.ua())}function rr(e,t,n){var r=function(e){return e instanceof jt?Lt(e):new jt(e,void 0)}(n);if(""!=r.i)t&&Ft(r,t+"."+r.i),Vt(r,r.m);else{var i=g.location;r=function(e,t,n,r){var i=new jt(null,void 0);return e&&Bt(i,e),t&&Ft(i,t),n&&Vt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&V(e.aa,(function(e,t){qt(r,t,e)})),n=e.sa,(t=e.D)&&n&&qt(r,t,n),qt(r,"VER",e.ma),Wn(e,r),r}function ir(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new En(n&&e.Ba&&!e.qa?new yn({ib:!0}):e.qa)).L=e.H,t}function or(){}function ar(){if(J&&!(10<=Number(ie)))throw Error("Environmental error: no available transport.")}function lr(e,t){Se.call(this),this.g=new Fn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!R(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!R(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new cr(this)}function sr(e){ft.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ur(){dt.call(this),this.status=1}function cr(e){this.g=e}(d=En.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ct.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:ct),this.g.onreadystatechange=I(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void xn(this,o)}e=n||"";var i=new Nt(this.headers);r&&Pt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=On,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=g.FormData&&e instanceof g.FormData,!(0<=O(An,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dn(this),0<this.B&&((this.K=function(e){return J&&function(){return e=re,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=M(String(G)).split("."),n=M("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=L(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||L(0==o[2].length,0==a[2].length)||L(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=I(this.pa,this)):this.A=qe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){xn(this,o)}},d.pa=function(){void 0!==v&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Te(this,"timeout"),this.abort(8))},d.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Te(this,"complete"),Te(this,"abort"),Rn(this))},d.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rn(this,!0)),En.Z.M.call(this)},d.Fa=function(){this.s||(this.F||this.v||this.l?Nn(this):this.cb())},d.cb=function(){Nn(this)},d.ba=function(){try{return 2<Mn(this)?this.g.status:-1}catch(W){return-1}},d.ga=function(){try{return this.g?this.g.responseText:""}catch(W){return""}},d.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),In(t)}},d.Da=function(){return this.m},d.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(d=Fn.prototype).ma=8,d.G=1,d.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},d.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new vt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?H(n=U(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Kn(this,t,r),qt(i=Lt(this.F),"RID",e),qt(i,"CVER",22),this.D&&qt(i,"X-HTTP-Session-Id",this.D),Wn(this,i),this.o&&n&&Ln(i,this.o,n),hn(this.i,t),this.Ra&&qt(i,"TYPE","init"),this.ja?(qt(i,"$req",r),qt(i,"SID","null"),t.$=!0,_t(t,i,null)):_t(t,i,r),this.G=2}}else 3==this.G&&(e?Gn(this,e):0==this.l.length||sn(this.i)||Gn(this))},d.Ga=function(){if(this.u=null,$n(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ot(I(this.bb,this),e)}},d.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rt(10),Un(this),$n(this))},d.ab=function(){null!=this.v&&(this.v=null,Un(this),Qn(this),rt(19))},d.jb=function(e){e?(this.h.info("Successfully pinged google.com"),rt(2)):(this.h.info("Failed to ping google.com"),rt(1))},(d=or.prototype).xa=function(){},d.wa=function(){},d.va=function(){},d.ua=function(){},d.Oa=function(){},ar.prototype.g=function(e,t){return new lr(e,t)},S(lr,Se),lr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),je(I(e.hb,e,t))),rt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=rr(e,null,e.W),zn(e)},lr.prototype.close=function(){Vn(this.g)},lr.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Hn(this.g,t)}else this.v?((t={}).__data__=Oe(e),Hn(this.g,t)):Hn(this.g,e)},lr.prototype.M=function(){this.g.j=null,delete this.j,Vn(this.g),delete this.g,lr.Z.M.call(this)},S(sr,ft),S(ur,dt),S(cr,or),cr.prototype.xa=function(){Te(this.g,"a")},cr.prototype.wa=function(e){Te(this.g,new sr(e))},cr.prototype.va=function(e){Te(this.g,new ur(e))},cr.prototype.ua=function(){Te(this.g,"b")},ar.prototype.createWebChannel=ar.prototype.g,lr.prototype.send=lr.prototype.u,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,lt.COMPLETE="complete",ut.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",Se.prototype.listen=Se.prototype.N,En.prototype.listenOnce=En.prototype.O,En.prototype.getLastError=En.prototype.La,En.prototype.getLastErrorCode=En.prototype.Da,En.prototype.getStatus=En.prototype.ba,En.prototype.getResponseJson=En.prototype.Qa,En.prototype.getResponseText=En.prototype.ga,En.prototype.send=En.prototype.ea;var hr=at,fr=lt,dr=$e,pr=yn,vr=ut,gr=En,mr=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();mr.o=-1;var yr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},br=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o(t,e),t}(Error),_r=new c.b("@firebase/firestore");function wr(){return _r.logLevel}function kr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(_r.logLevel<=c.a.DEBUG){var r=t.map(Er);_r.debug.apply(_r,s(["Firestore (8.8.0): "+e],r))}}function Cr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(_r.logLevel<=c.a.ERROR){var r=t.map(Er);_r.error.apply(_r,s(["Firestore (8.8.0): "+e],r))}}function Ir(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(_r.logLevel<=c.a.WARN){var r=t.map(Er);_r.warn.apply(_r,s(["Firestore (8.8.0): "+e],r))}}function Er(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(kd){return e}}function Sr(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.8.0) INTERNAL ASSERTION FAILED: "+e;throw Cr(t),new Error(t)}function Tr(e,t){e||Sr()}function Ar(e,t){return e}function Or(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var xr=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Or(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Pr(e,t){return e<t?-1:e>t?1:0}function Nr(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Rr(e){return e+"\0"}var Dr=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new br(yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new br(yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new br(yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new br(yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Pr(this.nanoseconds,e.nanoseconds):Pr(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Mr=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Dr(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function jr(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Lr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Br(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Fr=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Sr(),void 0===n?n=e.length-t:n>e.length-t&&Sr(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Vr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new br(yr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Fr),Ur=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Ur.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new br(yr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var l=e[i];if("\\"===l){if(i+1===e.length)throw new br(yr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new br(yr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===l?(a=!a,i++):"."!==l||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new br(yr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Fr),Hr=function(){function e(e){this.fields=e,e.sort(qr.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Nr(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),zr=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Pr(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();zr.EMPTY_BYTE_STRING=new zr("");var Gr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(e){if(Tr(!!e),"string"==typeof e){var t=0,n=Gr.exec(e);if(Tr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Kr(e.seconds),nanos:Kr(e.nanos)}}function Kr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Jr(e){return"string"==typeof e?zr.fromBase64String(e):zr.fromUint8Array(e)}function Qr(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yr(e){var t=Wr(e.mapValue.fields.__local_write_time__.timestampValue);return new Dr(t.seconds,t.nanos)}function $r(e){return null==e}function Xr(e){return 0===e&&1/e==-1/0}function Zr(e){return"number"==typeof e&&Number.isInteger(e)&&!Xr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ei=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Vr.fromString(t))},e.fromName=function(t){return new e(Vr.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Vr.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Vr.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Vr(t.slice()))},e}();function ti(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qr(e)?4:10:Sr()}function ni(e,t){var n=ti(e);if(n!==ti(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yr(e).isEqual(Yr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Wr(e.timestampValue),r=Wr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Jr(e.bytesValue).isEqual(Jr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Kr(e.geoPointValue.latitude)===Kr(t.geoPointValue.latitude)&&Kr(e.geoPointValue.longitude)===Kr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Kr(e.integerValue)===Kr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Kr(e.doubleValue),r=Kr(t.doubleValue);return n===r?Xr(n)===Xr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Nr(e.arrayValue.values||[],t.arrayValue.values||[],ni);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jr(n)!==jr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ni(n[i],r[i])))return!1;return!0}(e,t);default:return Sr()}}function ri(e,t){return void 0!==(e.values||[]).find((function(e){return ni(e,t)}))}function ii(e,t){var n=ti(e),r=ti(t);if(n!==r)return Pr(n,r);switch(n){case 0:return 0;case 1:return Pr(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Kr(e.integerValue||e.doubleValue),r=Kr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return oi(e.timestampValue,t.timestampValue);case 4:return oi(Yr(e),Yr(t));case 5:return Pr(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Jr(e),r=Jr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Pr(n[i],r[i]);if(0!==o)return o}return Pr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Pr(Kr(e.latitude),Kr(t.latitude));return 0!==n?n:Pr(Kr(e.longitude),Kr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=ii(n[i],r[i]);if(o)return o}return Pr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var l=Pr(r[a],o[a]);if(0!==l)return l;var s=ii(n[r[a]],i[o[a]]);if(0!==s)return s}return Pr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Sr()}}function oi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pr(e,t);var n=Wr(e),r=Wr(t),i=Pr(n.seconds,r.seconds);return 0!==i?i:Pr(n.nanos,r.nanos)}function ai(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=Wr(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jr(t.bytesValue).toBase64():"referenceValue"in t?ei.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):Sr();var n}(e)}function li(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function si(e){return!!e&&"integerValue"in e}function ui(e){return!!e&&"arrayValue"in e}function ci(e){return!!e&&"nullValue"in e}function hi(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fi(e){return!!e&&"mapValue"in e}function di(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Lr(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=di(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=di(e.arrayValue.values[r]);return n}return Object.assign({},e)}var pi=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!fi(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=di(t)},e.prototype.setAll=function(e){var t=this,n=qr.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=di(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());fi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return ni(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];fi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Lr(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++)delete e[i[r]]},e.prototype.clone=function(){return new e(di(this.value))},e}();function vi(e){var t=[];return Lr(e.fields,(function(e,n){var r=new qr([e]);if(fi(n)){var i=vi(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++)t.push(r.child(a[o]))}else t.push(r)})),new Hr(t)}var gi=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Mr.min(),pi.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,pi.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,pi.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),mi=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function yi(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new mi(e,t,n,r,i,o,a)}function bi(e){var t=Ar(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ai(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),$r(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ni(t.startAt)),t.endAt&&(n+="|ub:",n+=Ni(t.endAt)),t.h=n}return t.h}function _i(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Di(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!ni(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ji(e.startAt,t.startAt)&&ji(e.endAt,t.endAt)}function wi(e){return ei.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ki=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return o(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Ci(e,n,r):"array-contains"===n?new Ti(e,r):"in"===n?new Ai(e,r):"not-in"===n?new Oi(e,r):"array-contains-any"===n?new xi(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Ii(e,n):new Ei(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(ii(t,this.value)):null!==t&&ti(this.value)===ti(t)&&this.m(ii(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Sr()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Ci=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=ei.fromName(r.referenceValue),i}return o(t,e),t.prototype.matches=function(e){var t=ei.comparator(e.key,this.key);return this.m(t)},t}(ki),Ii=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Si(0,n),r}return o(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(ki),Ei=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Si(0,n),r}return o(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(ki);function Si(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ei.fromName(e.referenceValue)}))}var Ti=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return o(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return ui(t)&&ri(t.arrayValue,this.value)},t}(ki),Ai=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return o(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&ri(this.value.arrayValue,t)},t}(ki),Oi=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return o(t,e),t.prototype.matches=function(e){if(ri(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ri(this.value.arrayValue,t)},t}(ki),xi=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return o(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!ui(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ri(t.value.arrayValue,e)}))},t}(ki),Pi=function(e,t){this.position=e,this.before=t};function Ni(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ai(e)})).join(",")}var Ri=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Di(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Mi(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ei.comparator(ei.fromName(a.referenceValue),n.key):ii(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ji(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ni(e.position[n],t.position[n]))return!1;return!0}var Li=function(e,t,n,r,i,o,a,l){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===l&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.p=null,this.T=null};function Bi(e,t,n,r,i,o,a,l){return new Li(e,t,n,r,i,o,a,l)}function Fi(e){return new Li(e)}function Vi(e){return!$r(e.limit)&&"F"===e.limitType}function Ui(e){return!$r(e.limit)&&"L"===e.limitType}function qi(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Hi(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function zi(e){return null!==e.collectionGroup}function Gi(e){var t=Ar(e);if(null===t.p){t.p=[];var n=Hi(t),r=qi(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Ri(n)),t.p.push(new Ri(qr.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var l=a[o];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ri(qr.keyField(),s))}}}return t.p}function Wi(e){var t=Ar(e);if(!t.T)if("F"===t.limitType)t.T=yi(t.path,t.collectionGroup,Gi(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Gi(t);r<i.length;r++){var o=i[r];n.push(new Ri(o.field,"desc"===o.dir?"asc":"desc"))}var a=t.endAt?new Pi(t.endAt.position,!t.endAt.before):null,l=t.startAt?new Pi(t.startAt.position,!t.startAt.before):null;t.T=yi(t.path,t.collectionGroup,n,t.filters,t.limit,a,l)}return t.T}function Ki(e,t,n){return new Li(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ji(e,t){return _i(Wi(e),Wi(t))&&e.limitType===t.limitType}function Qi(e){return bi(Wi(e))+"|lt:"+e.limitType}function Yi(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ai(t.value);var t})).join(", ")+"]"),$r(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ni(e.startAt)),e.endAt&&(t+=", endAt: "+Ni(e.endAt)),"Target("+t+")"}(Wi(e))+"; limitType="+e.limitType+")"}function $i(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ei.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Mi(e.startAt,Gi(e),t)||e.endAt&&Mi(e.endAt,Gi(e),t))}(e,t)}function Xi(e){return function(t,n){for(var r=!1,i=0,o=Gi(e);i<o.length;i++){var a=o[i],l=Zi(a,t,n);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function Zi(e,t,n){var r=e.field.isKeyField()?ei.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ii(r,i):Sr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Sr()}}function eo(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xr(t)?"-0":t}}function to(e){return{integerValue:""+e}}function no(e,t){return Zr(t)?to(t):eo(e,t)}var ro=function(){this._=void 0};function io(e,t,n){return e instanceof lo?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof so?uo(e,t):e instanceof co?ho(e,t):function(e,t){var n=ao(e,t),r=po(n)+po(e.A);return si(n)&&si(e.A)?to(r):eo(e.R,r)}(e,t)}function oo(e,t,n){return e instanceof so?uo(e,t):e instanceof co?ho(e,t):n}function ao(e,t){return e instanceof fo?si(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var lo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(ro),so=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return o(t,e),t}(ro);function uo(e,t){for(var n=vo(t),r=function(e){n.some((function(t){return ni(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var co=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return o(t,e),t}(ro);function ho(e,t){for(var n=vo(t),r=function(e){n=n.filter((function(t){return!ni(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return o(t,e),t}(ro);function po(e){return Kr(e.integerValue||e.doubleValue)}function vo(e){return ui(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var go=function(e,t){this.field=e,this.transform=t},mo=function(e,t){this.version=e,this.transformResults=t},yo=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function bo(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var _o=function(){};function wo(e,t,n){e instanceof So?function(e,t,n){var r=e.value.clone(),i=Oo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof To?function(e,t,n){if(bo(e.precondition,t)){var r=Oo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ao(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ko(e,t,n){e instanceof So?function(e,t,n){if(bo(e.precondition,t)){var r=e.value.clone(),i=xo(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Eo(t),r).setHasLocalMutations()}}(e,t,n):e instanceof To?function(e,t,n){if(bo(e.precondition,t)){var r=xo(e.fieldTransforms,n,t),i=t.data;i.setAll(Ao(e)),i.setAll(r),t.convertToFoundDocument(Eo(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){bo(e.precondition,t)&&t.convertToNoDocument(Mr.min())}(e,t)}function Co(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),l=ao(o.transform,a||null);null!=l&&(null==n&&(n=pi.empty()),n.set(o.field,l))}return n||null}function Io(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Nr(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof so&&t instanceof so||e instanceof co&&t instanceof co?Nr(e.elements,t.elements,ni):e instanceof fo&&t instanceof fo?ni(e.A,t.A):e instanceof lo&&t instanceof lo}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Eo(e){return e.isFoundDocument()?e.version:Mr.min()}var So=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return o(t,e),t}(_o),To=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return o(t,e),t}(_o);function Ao(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Oo(e,t,n){var r=new Map;Tr(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,l=t.data.field(o.field);r.set(o.field,oo(a,l,n[i]))}return r}function xo(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],l=a.transform,s=n.data.field(a.field);r.set(a.field,io(l,s,t))}return r}var Po,No,Ro=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return o(t,e),t}(_o),Do=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return o(t,e),t}(_o),Mo=function(e){this.count=e};function jo(e){switch(e){case yr.OK:return Sr();case yr.CANCELLED:case yr.UNKNOWN:case yr.DEADLINE_EXCEEDED:case yr.RESOURCE_EXHAUSTED:case yr.INTERNAL:case yr.UNAVAILABLE:case yr.UNAUTHENTICATED:return!1;case yr.INVALID_ARGUMENT:case yr.NOT_FOUND:case yr.ALREADY_EXISTS:case yr.PERMISSION_DENIED:case yr.FAILED_PRECONDITION:case yr.ABORTED:case yr.OUT_OF_RANGE:case yr.UNIMPLEMENTED:case yr.DATA_LOSS:return!0;default:return Sr()}}function Lo(e){if(void 0===e)return Cr("GRPC error has no .code"),yr.UNKNOWN;switch(e){case Po.OK:return yr.OK;case Po.CANCELLED:return yr.CANCELLED;case Po.UNKNOWN:return yr.UNKNOWN;case Po.DEADLINE_EXCEEDED:return yr.DEADLINE_EXCEEDED;case Po.RESOURCE_EXHAUSTED:return yr.RESOURCE_EXHAUSTED;case Po.INTERNAL:return yr.INTERNAL;case Po.UNAVAILABLE:return yr.UNAVAILABLE;case Po.UNAUTHENTICATED:return yr.UNAUTHENTICATED;case Po.INVALID_ARGUMENT:return yr.INVALID_ARGUMENT;case Po.NOT_FOUND:return yr.NOT_FOUND;case Po.ALREADY_EXISTS:return yr.ALREADY_EXISTS;case Po.PERMISSION_DENIED:return yr.PERMISSION_DENIED;case Po.FAILED_PRECONDITION:return yr.FAILED_PRECONDITION;case Po.ABORTED:return yr.ABORTED;case Po.OUT_OF_RANGE:return yr.OUT_OF_RANGE;case Po.UNIMPLEMENTED:return yr.UNIMPLEMENTED;case Po.DATA_LOSS:return yr.DATA_LOSS;default:return Sr()}}(No=Po||(Po={}))[No.OK=0]="OK",No[No.CANCELLED=1]="CANCELLED",No[No.UNKNOWN=2]="UNKNOWN",No[No.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",No[No.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",No[No.NOT_FOUND=5]="NOT_FOUND",No[No.ALREADY_EXISTS=6]="ALREADY_EXISTS",No[No.PERMISSION_DENIED=7]="PERMISSION_DENIED",No[No.UNAUTHENTICATED=16]="UNAUTHENTICATED",No[No.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",No[No.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",No[No.ABORTED=10]="ABORTED",No[No.OUT_OF_RANGE=11]="OUT_OF_RANGE",No[No.UNIMPLEMENTED=12]="UNIMPLEMENTED",No[No.INTERNAL=13]="INTERNAL",No[No.UNAVAILABLE=14]="UNAVAILABLE",No[No.DATA_LOSS=15]="DATA_LOSS";var Bo=function(){function e(e,t){this.comparator=e,this.root=t||Vo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Vo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vo.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Fo(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Fo(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Fo(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Fo(this.root,e,this.comparator,!0)},e}(),Fo=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Vo=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Sr();if(this.right.isRed())throw Sr();var e=this.left.check();if(e!==this.right.check())throw Sr();return e+(this.isRed()?0:1)},e}();Vo.EMPTY=null,Vo.RED=!0,Vo.BLACK=!1,Vo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Sr()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Vo(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Uo=function(){function e(e){this.comparator=e,this.data=new Bo(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new qo(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new qo(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),qo=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Ho=new Bo(ei.comparator);function zo(){return Ho}var Go=new Bo(ei.comparator);function Wo(){return Go}var Ko=new Bo(ei.comparator);function Jo(){return Ko}var Qo=new Uo(ei.comparator);function Yo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Qo,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var $o=new Uo(Pr);function Xo(){return $o}var Zo=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,ea.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Mr.min(),r,Xo(),zo(),Yo())},e}(),ea=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(zr.EMPTY_BYTE_STRING,n,Yo(),Yo(),Yo())},e}(),ta=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},na=function(e,t){this.targetId=e,this.V=t},ra=function(e,t,n,r){void 0===n&&(n=zr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ia=function(){function e(){this.S=0,this.D=la(),this.C=zr.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Yo(),t=Yo(),n=Yo();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Sr()}})),new ea(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=la()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),oa=function(){function e(e){this.W=e,this.G=new Map,this.H=zo(),this.J=aa(),this.Y=new Uo(Pr)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.tt(r=o[i],e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Sr()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(wi(i))if(0===n){var o=new ei(i.path);this.tt(t,o,gi.newNoDocument(o,Mr.min()))}else Tr(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&wi(o.target)){var a=new ei(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,gi.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Yo();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Zo(e,n,this.Y,this.H,r);return this.H=zo(),this.J=aa(),this.Y=new Uo(Pr),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new ia,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Uo(Pr),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||kr("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new ia),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function aa(){return new Bo(ei.comparator)}function la(){return new Bo(ei.comparator)}var sa={asc:"ASCENDING",desc:"DESCENDING"},ua={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ca=function(e,t){this.databaseId=e,this.I=t};function ha(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function fa(e,t){return e.I?t.toBase64():t.toUint8Array()}function da(e,t){return ha(e,t.toTimestamp())}function pa(e){return Tr(!!e),Mr.fromTimestamp(function(e){var t=Wr(e);return new Dr(t.seconds,t.nanos)}(e))}function va(e,t){return function(e){return new Vr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ga(e){var t=Vr.fromString(e);return Tr(Fa(t)),t}function ma(e,t){return va(e.databaseId,t.path)}function ya(e,t){var n=ga(t);if(n.get(1)!==e.databaseId.projectId)throw new br(yr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new br(yr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ei(ka(n))}function ba(e,t){return va(e.databaseId,t)}function _a(e){var t=ga(e);return 4===t.length?Vr.emptyPath():ka(t)}function wa(e){return new Vr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ka(e){return Tr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ca(e,t,n){return{name:ma(e,t),fields:n.value.mapValue.fields}}function Ia(e,t,n){var r=ya(e,t.name),i=pa(t.updateTime),o=new pi({mapValue:{fields:t.fields}}),a=gi.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ea(e,t){var n;if(t instanceof So)n={update:Ca(e,t.key,t.value)};else if(t instanceof Ro)n={delete:ma(e,t.key)};else if(t instanceof To)n={update:Ca(e,t.key,t.data),updateMask:Ba(t.fieldMask)};else{if(!(t instanceof Do))return Sr();n={verify:ma(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof lo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof so)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof co)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fo)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Sr()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:da(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Sr()}(e,t.precondition)),n}function Sa(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?yo.updateTime(pa(e.updateTime)):void 0!==e.exists?yo.exists(e.exists):yo.none()}(t.currentDocument):yo.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(Tr("REQUEST_TIME"===t.setToServerValue),n=new lo):"appendMissingElements"in t?n=new so(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new co(t.removeAllFromArray.values||[]):"increment"in t?n=new fo(e,t.increment):Sr();var r=qr.fromServerFormat(t.fieldPath);return new go(r,n)}(e,t)})):[];if(t.update){var i=ya(e,t.update.name),o=new pi({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){return new Hr((e.fieldPaths||[]).map((function(e){return qr.fromServerFormat(e)})))}(t.updateMask);return new To(i,o,a,n,r)}return new So(i,o,n,r)}if(t.delete){var l=ya(e,t.delete);return new Ro(l,n)}if(t.verify){var s=ya(e,t.verify);return new Do(s,n)}return Sr()}function Ta(e,t){return{documents:[ba(e,t.path)]}}function Aa(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ba(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ba(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(hi(e.value))return{unaryFilter:{field:Da(e.field),op:"IS_NAN"}};if(ci(e.value))return{unaryFilter:{field:Da(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hi(e.value))return{unaryFilter:{field:Da(e.field),op:"IS_NOT_NAN"}};if(ci(e.value))return{unaryFilter:{field:Da(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(e.field),op:Ra(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Da(e.field),direction:Na(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||$r(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=xa(t.startAt)),t.endAt&&(n.structuredQuery.endAt=xa(t.endAt)),n}function Oa(e){var t=_a(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Tr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[La(t)]:void 0!==t.fieldFilter?[ja(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):Sr():[]}(n.where));var l=[];n.orderBy&&(l=n.orderBy.map((function(e){return function(e){return new Ri(Ma(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return $r(t="object"==typeof e?e.value:e)?null:t}(n.limit));var u=null;n.startAt&&(u=Pa(n.startAt));var c=null;return n.endAt&&(c=Pa(n.endAt)),Bi(t,i,l,a,s,"F",u,c)}function xa(e){return{before:e.before,values:e.position}}function Pa(e){return new Pi(e.values||[],!!e.before)}function Na(e){return sa[e]}function Ra(e){return ua[e]}function Da(e){return{fieldPath:e.canonicalString()}}function Ma(e){return qr.fromServerFormat(e.fieldPath)}function ja(e){return ki.create(Ma(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Sr()}}(e.fieldFilter.op),e.fieldFilter.value)}function La(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ma(e.unaryFilter.field);return ki.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ma(e.unaryFilter.field);return ki.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ma(e.unaryFilter.field);return ki.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ma(e.unaryFilter.field);return ki.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Sr()}}function Ba(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Fa(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Va(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=qa(t)),t=Ua(e.get(n),t);return qa(t)}function Ua(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function qa(e){return e+"\x01\x01"}function Ha(e){var t=e.length;if(Tr(t>=2),2===t)return Tr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Vr.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Sr(),e.charAt(a+1)){case"\x01":var l=e.substring(o,a),s=void 0;0===i.length?s=l:(s=i+=l,i=""),r.push(s);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Sr()}o=a+2}return new Vr(r)}var za=function(e,t){this.seconds=e,this.nanoseconds=t},Ga=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ga.store="owner",Ga.key="owner";var Wa=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Wa.store="mutationQueues",Wa.keyPath="userId";var Ka=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ka.store="mutations",Ka.keyPath="batchId",Ka.userMutationsIndex="userMutationsIndex",Ka.userMutationsKeyPath=["userId","batchId"];var Ja=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Va(t)]},e.key=function(e,t,n){return[e,Va(t),n]},e}();Ja.store="documentMutations",Ja.PLACEHOLDER=new Ja;var Qa=function(e,t){this.path=e,this.readTime=t},Ya=function(e,t){this.path=e,this.version=t},$a=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};$a.store="remoteDocuments",$a.readTimeIndex="readTimeIndex",$a.readTimeIndexPath="readTime",$a.collectionReadTimeIndex="collectionReadTimeIndex",$a.collectionReadTimeIndexPath=["parentPath","readTime"];var Xa=function(e){this.byteSize=e};Xa.store="remoteDocumentGlobal",Xa.key="remoteDocumentGlobalKey";var Za=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Za.store="targets",Za.keyPath="targetId",Za.queryTargetsIndexName="queryTargetsIndex",Za.queryTargetsKeyPath=["canonicalId","targetId"];var el=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};el.store="targetDocuments",el.keyPath=["targetId","path"],el.documentTargetsIndex="documentTargetsIndex",el.documentTargetsKeyPath=["path","targetId"];var tl=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};tl.key="targetGlobalKey",tl.store="targetGlobal";var nl=function(e,t){this.collectionId=e,this.parent=t};nl.store="collectionParents",nl.keyPath=["collectionId","parent"];var rl=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};rl.store="clientMetadata",rl.keyPath="clientId";var il=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};il.store="bundles",il.keyPath="bundleId";var ol=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ol.store="namedQueries",ol.keyPath="name";var al=s(s([],s(s([],s(s([],s(s([],[Wa.store,Ka.store,Ja.store,$a.store,Za.store,Ga.store,tl.store,el.store]),[rl.store])),[Xa.store])),[nl.store])),[il.store,ol.store]),ll="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sl=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),ul=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},cl=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Sr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),hl=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new ul,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new pl(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=bl(t.target.error);n.ft.reject(new pl(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new pl(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(kr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new gl(t)},e}(),fl=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Object(u.r)())&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return kr("SimpleDb","Removing database:",e),ml(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Object(u.r)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return a(this,void 0,void 0,(function(){var t,n=this;return l(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(kr("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new pl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new br(yr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new pl(e,n))},i.onupgradeneeded=function(e){kr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.wt.Rt(e.target.result,i.transaction,e.oldVersion,n.version).next((function(){kr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return a(this,void 0,void 0,(function(){var i,o,a,s,u;return l(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,h;return l(this,(function(l){switch(l.label){case 0:++o,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=l.sent(),t=hl.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),cl.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(l.sent(),a),u)];case 4:return kr("SimpleDb","Transaction failed with error:",(c=l.sent()).message,"Retrying:",h="FirebaseError"!==c.name&&o<3),s.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),dl=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return ml(this.Pt.delete())},e}(),pl=function(e){function t(t,n){var r=this;return(r=e.call(this,yr.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return o(t,e),t}(br);function vl(e){return"IndexedDbTransactionError"===e.name}var gl=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(kr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(kr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ml(n)},e.prototype.add=function(e){return kr("SimpleDb","ADD",this.store.name,e,e),ml(this.store.add(e))},e.prototype.get=function(e){var t=this;return ml(this.store.get(e)).next((function(n){return void 0===n&&(n=null),kr("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return kr("SimpleDb","DELETE",this.store.name,e),ml(this.store.delete(e))},e.prototype.count=function(){return kr("SimpleDb","COUNT",this.store.name),ml(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){kr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new cl((function(n,r){t.onerror=function(e){var t=bl(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new cl((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new dl(i),a=t(i.primaryKey,i.value,o);if(a instanceof cl){var l=a.catch((function(e){return o.done(),cl.reject(e)}));n.push(l)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return cl.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function ml(e){return new cl((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=bl(e.target.error);n(t)}}))}var yl=!1;function bl(e){var t=fl._t(Object(u.r)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new br("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return yl||(yl=!0,setTimeout((function(){throw r}),0)),r}}return e}var _l=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return o(t,e),t}(sl);function wl(e,t){var n=Ar(e);return fl.It(n.Mt,t)}var kl=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&wo(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&ko(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&ko(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Mr.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Yo())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Nr(this.mutations,e.mutations,(function(e,t){return Io(e,t)}))&&Nr(this.baseMutations,e.baseMutations,(function(e,t){return Io(e,t)}))},e}(),Cl=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Tr(t.mutations.length===r.length);for(var i=Jo(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Il=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Mr.min()),void 0===o&&(o=Mr.min()),void 0===a&&(a=zr.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),El=function(e){this.Lt=e};function Sl(e,t){if(t.document)return Ia(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ei.fromSegments(t.noDocument.path),r=Pl(t.noDocument.readTime),i=gi.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=ei.fromSegments(t.unknownDocument.path);return r=Pl(t.unknownDocument.version),gi.newUnknownDocument(o,r)}return Sr()}function Tl(e,t,n){var r=Al(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:ma(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ha(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new $a(null,null,o,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),s=xl(t.version);return a=t.hasCommittedMutations,new $a(null,new Qa(l,s),null,a,r,i)}if(t.isUnknownDocument()){var u=t.key.path.toArray(),c=xl(t.version);return new $a(new Ya(u,c),null,null,!0,r,i)}return Sr()}function Al(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ol(e){var t=new Dr(e[0],e[1]);return Mr.fromTimestamp(t)}function xl(e){var t=e.toTimestamp();return new za(t.seconds,t.nanoseconds)}function Pl(e){var t=new Dr(e.seconds,e.nanoseconds);return Mr.fromTimestamp(t)}function Nl(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Sa(e.Lt,t)})),r=0;r<t.mutations.length-1;++r)r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(t.mutations[r].updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r);var i=t.mutations.map((function(t){return Sa(e.Lt,t)})),o=Dr.fromMillis(t.localWriteTimeMs);return new kl(t.batchId,o,n,i)}function Rl(e){var t,n,r=Pl(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Pl(e.lastLimboFreeSnapshotVersion):Mr.min();return void 0!==e.query.documents?(Tr(1===(n=e.query).documents.length),t=Wi(Fi(_a(n.documents[0])))):t=function(e){return Wi(Oa(e))}(e.query),new Il(t,e.targetId,0,e.lastListenSequenceNumber,r,i,zr.fromBase64String(e.resumeToken))}function Dl(e,t){var n,r=xl(t.snapshotVersion),i=xl(t.lastLimboFreeSnapshotVersion);n=wi(t.target)?Ta(e.Lt,t.target):Aa(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Za(t.targetId,bi(t.target),r,o,t.sequenceNumber,i,n)}function Ml(e){var t=Oa({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ki(t,t.limit,"L"):t}var jl=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Ll(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Pl(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Ll(e).put({bundleId:(n=t).id,createTime:xl(pa(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Bl(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ml(t.bundledQuery),readTime:Pl(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Bl(e).put(function(e){return{name:e.name,readTime:xl(pa(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Ll(e){return wl(e,il.store)}function Bl(e){return wl(e,ol.store)}var Fl=function(){function e(){this.Bt=new Vl}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),cl.resolve()},e.prototype.getCollectionParents=function(e,t){return cl.resolve(this.Bt.getEntries(t))},e}(),Vl=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Uo(Vr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Uo(Vr.comparator)).toArray()},e}(),Ul=function(){function e(){this.qt=new Vl}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Va(i)};return ql(e).put(o)}return cl.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Rr(t),""],!1,!0);return ql(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ha(o.parent))}return n}))},e}();function ql(e){return wl(e,nl.store)}var Hl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zl=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Gl(e,t,n){var r=e.store(Ka.store),i=e.store(Ja.store),o=[],a=IDBKeyRange.only(n.batchId),l=0,s=r.$t({range:a},(function(e,t,n){return l++,n.delete()}));o.push(s.next((function(){Tr(1===l)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=Ja.key(t,f.key.path,n.batchId);o.push(i.delete(d)),u.push(f.key)}return cl.waitFor(o).next((function(){return u}))}function Wl(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Sr();t=e.noDocument}return JSON.stringify(t).length}zl.DEFAULT_COLLECTION_PERCENTILE=10,zl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zl.DEFAULT=new zl(41943040,zl.DEFAULT_COLLECTION_PERCENTILE,zl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zl.DISABLED=new zl(-1,0,0);var Kl=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Tr(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ql(e).$t({index:Ka.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Yl(e),a=Ql(e);return a.add({}).next((function(l){Tr("number"==typeof l);for(var s=new kl(l,t,n,r),u=function(e,t,n){var r=n.baseMutations.map((function(t){return Ea(e.Lt,t)})),i=n.mutations.map((function(t){return Ea(e.Lt,t)}));return new Ka(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,s),c=[],h=new Uo((function(e,t){return Pr(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Ja.key(i.userId,p.key.path,l);h=h.add(p.key.path.popLast()),c.push(a.put(u)),c.push(o.put(v,Ja.PLACEHOLDER))}return h.forEach((function(t){c.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[l]=s.keys()})),cl.waitFor(c).next((function(){return s}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Ql(e).get(t).next((function(e){return e?(Tr(e.userId===n.userId),Nl(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?cl.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ql(e).$t({index:Ka.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Tr(t.batchId>=r),o=Nl(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ql(e).$t({index:Ka.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ql(e).Nt(Ka.userMutationsIndex,n).next((function(e){return e.map((function(e){return Nl(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Ja.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Yl(e).$t({range:i},(function(r,i,a){var l=r[0],s=r[2],u=Ha(r[1]);if(l===n.userId&&t.path.isEqual(u))return Ql(e).get(s).next((function(e){if(!e)throw Sr();Tr(e.userId===n.userId),o.push(Nl(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Uo(Pr),i=[];return t.forEach((function(t){var o=Ja.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),l=Yl(e).$t({range:a},(function(e,i,o){var a=e[0],l=e[2],s=Ha(e[1]);a===n.userId&&t.path.isEqual(s)?r=r.add(l):o.done()}));i.push(l)})),cl.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Ja.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),l=new Uo(Pr);return Yl(e).$t({range:a},(function(e,t,o){var a=e[0],s=e[2],u=Ha(e[1]);a===n.userId&&r.isPrefixOf(u)?u.length===i&&(l=l.add(s)):o.done()})).next((function(){return n.Wt(e,l)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ql(e).get(t).next((function(e){if(null===e)throw Sr();Tr(e.userId===n.userId),r.push(Nl(n.R,e))})))})),cl.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Gl(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),cl.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return cl.resolve();var r=IDBKeyRange.lowerBound(Ja.prefixForUser(t.userId)),i=[];return Yl(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Ha(e[1]);i.push(o)}else r.done()})).next((function(){Tr(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Jl(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return $l(e).get(this.userId).next((function(e){return e||new Wa(t.userId,-1,"")}))},e}();function Jl(e,t,n){var r=Ja.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Yl(e).$t({range:o,kt:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function Ql(e){return wl(e,Ka.store)}function Yl(e){return wl(e,Ja.store)}function $l(e){return wl(e,Wa.store)}var Xl=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Zl=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Xl(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Mr.fromTimestamp(new Dr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return es(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Tr(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return es(e).$t((function(a,l){var s=Rl(l);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return cl.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return es(e).$t((function(e,n){var r=Rl(n);t(r)}))},e.prototype.Xt=function(e){return ts(e).get(tl.key).next((function(e){return Tr(null!==e),e}))},e.prototype.Zt=function(e,t){return ts(e).put(tl.key,t)},e.prototype.te=function(e,t){return es(e).put(Dl(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=bi(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return es(e).$t({range:r,index:Za.queryTargetsIndexName},(function(e,n,r){var o=Rl(n);_i(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=ns(e);return t.forEach((function(t){var a=Va(t.path);i.push(o.put(new el(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),cl.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=ns(e);return cl.forEach(t,(function(t){var o=Va(t.path);return cl.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=ns(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ns(e),i=Yo();return r.$t({range:n,kt:!0},(function(e,t,n){var r=Ha(e[1]),o=new ei(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Va(t.path),r=IDBKeyRange.bound([n],[Rr(n)],!1,!0),i=0;return ns(e).$t({index:el.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return es(e).get(t).next((function(e){return e?Rl(e):null}))},e}();function es(e){return wl(e,Za.store)}function ts(e){return wl(e,tl.store)}function ns(e){return wl(e,el.store)}function rs(e){return a(this,void 0,void 0,(function(){return l(this,(function(t){if(e.code!==yr.FAILED_PRECONDITION||e.message!==ll)throw e;return kr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function is(e,t){var n=e[1],r=t[1],i=Pr(e[0],t[0]);return 0===i?Pr(n,r):i}var os=function(){function e(e){this.ne=e,this.buffer=new Uo(is),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();is(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),as=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;kr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return a(t,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return vl(t=n.sent())?(kr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,rs(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),ls=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return cl.resolve(mr.o);var r=new os(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(kr("LruGarbageCollector","Garbage collection skipped; disabled"),cl.resolve(Hl)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(kr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Hl):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,l,s,u=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>u.params.maximumSequenceNumbersToCollect?(kr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+t),r=u.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),u.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),u.removeTargets(e,n,t)})).next((function(t){return i=t,l=Date.now(),u.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),wr()<=c.a.DEBUG&&kr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(l-a)+"ms\n\tRemoved "+e+" documents in "+(s-l)+"ms\nTotal Duration: "+(s-h)+"ms"),cl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),ss=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new ls(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return us(e,n)},e.prototype.removeReference=function(e,t,n){return us(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return us(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return $l(e).Ot((function(r){return Jl(e,r,t).next((function(e){return e&&(n=!0),cl.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,l){if(l<=t){var s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),ns(e).delete([0,Va(a.path)])}))}));i.push(s)}})).next((function(){return cl.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return us(e,t)},e.prototype.we=function(e,t){var n,r=ns(e),i=mr.o;return r.$t({index:el.documentTargetsIndex},(function(e,r){var o=r.path,a=r.sequenceNumber;0===e[0]?(i!==mr.o&&t(new ei(Ha(n)),i),i=a,n=o):i=mr.o})).next((function(){i!==mr.o&&t(new ei(Ha(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function us(e,t){return ns(e).put(function(e,t){return new el(0,Va(e.path),t)}(t,e.currentSequenceNumber))}var cs=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Lr(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.isEmpty=function(){return Br(this.inner)},e}(),hs=function(){function e(){this.changes=new cs((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Mr.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:gi.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?cl.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),fs=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return vs(e).put(gs(t),n)},e.prototype.removeEntry=function(e,t){var n=vs(e),r=gs(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return vs(e).get(gs(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return vs(e).get(gs(t)).next((function(e){return{document:n.ye(t,e),size:Wl(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=zo();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=zo(),i=new Bo(ei.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Wl(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return cl.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return vs(e).$t({range:r},(function(e,t,r){for(var a=ei.fromSegments(e);o&&ei.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=zo(),o=t.path.length+1,a={};if(n.isEqual(Mr.min())){var l=t.path.toArray();a.range=IDBKeyRange.lowerBound(l)}else{var s=t.path.toArray(),u=Al(n);a.range=IDBKeyRange.lowerBound([s,u],!0),a.index=$a.collectionReadTimeIndex}return vs(e).$t(a,(function(e,n,a){if(e.length===o){var l=Sl(r.R,n);t.path.isPrefixOf(l.key.path)?$i(t,l)&&(i=i.insert(l.key,l)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new ds(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return ps(e).get(Xa.key).next((function(e){return Tr(!!e),e}))},e.prototype.me=function(e,t){return ps(e).put(Xa.key,t)},e.prototype.ye=function(e,t){if(t){var n=Sl(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Mr.min()))return n}return gi.newInvalidDocument(e)},e}(),ds=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new cs((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return o(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Uo((function(e,t){return Pr(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var l=t.Ae.get(o);if(a.document.isValidDocument()){var s=Tl(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var u=Wl(s);r+=u-l,n.push(t.Ie.addEntry(e,o,s))}else if(r-=l,t.trackRemovals){var c=Tl(t.Ie.R,gi.newNoDocument(o,Mr.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,c))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),cl.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(hs);function ps(e){return wl(e,Xa.store)}function vs(e){return wl(e,$a.store)}function gs(e){return e.path.toArray()}var ms=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Tr(n<r&&n>=0&&r<=11);var o=new hl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ga.store)}(e),function(e){e.createObjectStore(Wa.store,{keyPath:Wa.keyPath}),e.createObjectStore(Ka.store,{keyPath:Ka.keyPath,autoIncrement:!0}).createIndex(Ka.userMutationsIndex,Ka.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ja.store)}(e),ys(e),function(e){e.createObjectStore($a.store)}(e));var a=cl.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(el.store),e.deleteObjectStore(Za.store),e.deleteObjectStore(tl.store)}(e),ys(e)),a=a.next((function(){return function(e){var t=e.store(tl.store),n=new tl(0,0,Mr.min().toTimestamp(),0);return t.put(tl.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Ka.store).Nt().next((function(n){e.deleteObjectStore(Ka.store),e.createObjectStore(Ka.store,{keyPath:Ka.keyPath,autoIncrement:!0}).createIndex(Ka.userMutationsIndex,Ka.userMutationsKeyPath,{unique:!0});var r=t.store(Ka.store),i=n.map((function(e){return r.put(e)}));return cl.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(rl.store,{keyPath:rl.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Xa.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore($a.store);t.createIndex($a.readTimeIndex,$a.readTimeIndexPath,{unique:!1}),t.createIndex($a.collectionReadTimeIndex,$a.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(il.store,{keyPath:il.keyPath})}(e),function(e){e.createObjectStore(ol.store,{keyPath:ol.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store($a.store).$t((function(e,n){t+=Wl(n)})).next((function(){var n=new Xa(t);return e.store(Xa.store).put(Xa.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Wa.store),r=e.store(Ka.store);return n.Nt().next((function(n){return cl.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ka.userMutationsIndex,i).next((function(r){return cl.forEach(r,(function(r){Tr(r.userId===n.userId);var i=Nl(t.R,r);return Gl(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(el.store),n=e.store($a.store);return e.store(tl.store).get(tl.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Vr(n),a=function(e){return[0,Va(e)]}(o);r.push(t.get(a).next((function(n){return n?cl.resolve():function(n){return t.put(new el(0,Va(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return cl.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(nl.store,{keyPath:nl.keyPath});var n=t.store(nl.store),r=new Vl,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Va(i)})}};return t.store($a.store).$t({kt:!0},(function(e,t){var n=new Vr(e);return i(n.popLast())})).next((function(){return t.store(Ja.store).$t({kt:!0},(function(e,t){var n=Ha(e[1]);return i(n.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Za.store);return n.$t((function(e,r){var i=Rl(r),o=Dl(t.R,i);return n.put(o)}))},e}();function ys(e){e.createObjectStore(el.store,{keyPath:el.keyPath}).createIndex(el.documentTargetsIndex,el.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Za.store,{keyPath:Za.keyPath}).createIndex(Za.queryTargetsIndexName,Za.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(tl.store)}var bs="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_s=function(){function e(t,n,r,i,o,a,l,s,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=l,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new br(yr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ss(this,i),this.Le=n+"main",this.R=new El(s),this.Be=new fl(this.Le,11,new ms(this.R)),this.qe=new Zl(this.referenceDelegate,this.R),this.Ut=new Ul,this.Ue=function(e,t){return new fs(e,t)}(this.R,this.Ut),this.Ke=new jl,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===c&&Cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new br(yr.FAILED_PRECONDITION,bs);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new mr(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return a(t,void 0,void 0,(function(){return l(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return a(t,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return a(t,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return ks(t).put(new rl(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(vl(t))return kr("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return kr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return ws(e).get(Ga.key).next((function(e){return cl.resolve(t.tn(e))}))},e.prototype.en=function(e){return ks(e).delete(this.clientId)},e.prototype.nn=function(){return a(this,void 0,void 0,(function(){var e,t,n,r=this;return l(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=wl(e,rl.store);return t.Nt().next((function(e){var n=r.rn(e,18e5),i=e.filter((function(e){return-1===n.indexOf(e)}));return cl.forEach(i,(function(e){return t.delete(e.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)this.Qe.removeItem(this.on(n[t].clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?cl.resolve(!0):ws(e).get(Ga.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new br(yr.FAILED_PRECONDITION,bs);return!1}}return!(!t.networkEnabled||!t.inForeground)||ks(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&kr("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return a(this,void 0,void 0,(function(){var e=this;return l(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ga.store,rl.store],(function(t){var n=new _l(t,mr.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return ks(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Kl.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r,i=this;return kr("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",al,(function(o){return r=new _l(o,i.Ne?i.Ne.next():mr.o),"readwrite-primary"===t?i.Je(r).next((function(e){return!!e||i.Ye(r)})).next((function(t){if(!t)throw Cr("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new br(yr.FAILED_PRECONDITION,ll);return n(r)})).next((function(e){return i.Ze(r).next((function(){return e}))})):i.dn(r).next((function(){return n(r)}))})).then((function(e){return r.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return ws(e).get(Ga.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new br(yr.FAILED_PRECONDITION,bs)}))},e.prototype.Ze=function(e){var t=new Ga(this.clientId,this.allowTabSynchronization,Date.now());return ws(e).put(Ga.key,t)},e.yt=function(){return fl.yt()},e.prototype.Xe=function(e){var t=this,n=ws(e);return n.get(Ga.key).next((function(e){return t.tn(e)?(kr("IndexedDbPersistence","Releasing primary lease."),n.delete(Ga.key)):cl.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Cr("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),Object(u.D)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return kr("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Cr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Cr("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function ws(e){return wl(e,Ga.store)}function ks(e){return wl(e,rl.store)}function Cs(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Is=function(e,t){this.progress=e,this.wn=t},Es=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return ei.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):zi(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new ei(t)).next((function(e){var t=Wo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Wo();return this.Ut.getCollectionParents(e,i).next((function(a){return cl.forEach(a,(function(a){var l=function(e,t){return new Li(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,l,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o.Rn(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,l=o.mutations;a<l.length;a++){var s=l[a],u=s.key,c=r.get(u);null==c&&(c=gi.newInvalidDocument(u),r=r.insert(u,c)),ko(s,c,o.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}))})).next((function(){return r.forEach((function(e,n){$i(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Yo(),i=0,o=t;i<o.length;i++)for(var a=0,l=o[i].mutations;a<l.length;a++){var s=l[a];s instanceof To&&null===n.get(s.key)&&(r=r.add(s.key))}var u=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(u=u.insert(e,t))})),u}))},e}(),Ss=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Yo(),i=Yo(),o=0,a=n.docChanges;o<a.length;o++){var l=a[o];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Ts=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Mr.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Vi(t)||Ui(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(wr()<=c.a.DEBUG&&kr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yi(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Uo(Xi(e));return t.forEach((function(t,r){$i(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return wr()<=c.a.DEBUG&&kr("QueryEngine","Using full collection scan to execute query:",Yi(t)),this.Sn.getDocumentsMatchingQuery(e,t,Mr.min())},e}(),As=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Bo(Pr),this.kn=new cs((function(e){return bi(e)}),_i),this.$n=Mr.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Es(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function Os(e,t,n,r){return new As(e,t,n,r)}function xs(e,t){return a(this,void 0,void 0,(function(){var n,r,i,o;return l(this,(function(a){switch(a.label){case 0:return n=Ar(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Es(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Yo(),l=0,s=o;l<s.length;l++){var u=s[l];n.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++)a=a.add(h[c].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)a=a.add(g[v].key)}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Ps(e,t){var n=Ar(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=cl.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Tr(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Ns(e){var t=Ar(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Rs(e,t){var n=Ar(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var l=i.get(o);if(l){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var u=l.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,u),function(e,t,n){return Tr(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,t)&&a.push(n.qe.updateTargetData(e,u))}}}));var l=zo();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Ds(e,o,t.documentUpdates,r,void 0).next((function(e){l=e}))),!r.isEqual(Mr.min())){var s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(s)}return cl.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,l)})).next((function(){return l}))})).then((function(e){return n.Fn=i,e}))}function Ds(e,t,n,r,i){var o=Yo();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=zo();return n.forEach((function(n,a){var l=e.get(n),s=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Mr.min())?(t.removeEntry(n,s),o=o.insert(n,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||0===a.version.compareTo(l.version)&&l.hasPendingWrites?(t.addEntry(a,s),o=o.insert(n,a)):kr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",l.version," Watch version:",a.version)})),o}))}function Ms(e,t){var n=Ar(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function js(e,t){var n=Ar(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?cl.resolve(r=i):n.qe.allocateTargetId(e).next((function(i){return r=new Il(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Ls(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o,a;return l(this,(function(l){switch(l.label){case 0:r=Ar(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!vl(a=l.sent()))throw a;return kr("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Bs(e,t,n){var r=Ar(e),i=Mr.min(),o=Yo();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ar(e),i=r.kn.get(n);return void 0!==i?cl.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Wi(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Mr.min(),n?o:Yo())})).next((function(e){return{documents:e,Bn:o}}))}))}function Fs(e,t){var n=Ar(e),r=Ar(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Vs(e){var t=Ar(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Ar(e),i=zo(),o=Al(n),a=vs(t),l=IDBKeyRange.lowerBound(o,!0);return a.$t({index:$a.readTimeIndex,range:l},(function(e,t){var n=Sl(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Ol(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn;return t.$n=e.readTime,n}))}function Us(e){return a(this,void 0,void 0,(function(){var t;return l(this,(function(n){return[2,(t=Ar(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=vs(e),n=Mr.min();return t.$t({index:$a.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Ol(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function qs(e,t,n,r){return a(this,void 0,void 0,(function(){var i,o,a,s,u,c,h,f,d,p;return l(this,(function(l){switch(l.label){case 0:for(i=Ar(e),o=Yo(),a=zo(),s=Jo(),u=0,c=n;u<c.length;u++)f=t.qn((h=c[u]).metadata.name),h.document&&(o=o.add(f)),a=a.insert(f,t.Un(h)),s=s.insert(f,t.Kn(h.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,js(i,function(e){return Wi(Fi(Vr.fromString("__bundle__/docs/"+e)))}(r))];case 1:return p=l.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ds(e,d,a,Mr.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return i.qe.addMatchingKeys(e,o,p.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Hs(e,t,n){return void 0===n&&(n=Yo()),a(this,void 0,void 0,(function(){var r,i;return l(this,(function(o){switch(o.label){case 0:return[4,js(e,Wi(Ml(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ar(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=pa(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(zr.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var zs=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return cl.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:pa(n.createTime)}),cl.resolve()},e.prototype.getNamedQuery=function(e,t){return cl.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Ml(e.bundledQuery),readTime:pa(e.readTime)}}(t)),cl.resolve()},e}(),Gs=function(){function e(){this.Wn=new Uo(Ws.Gn),this.zn=new Uo(Ws.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Ws(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Ws(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new ei(new Vr([])),r=new Ws(n,e),i=new Ws(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new ei(new Vr([])),n=new Ws(t,e),r=new Ws(t,e+1),i=Yo();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Ws(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Ws=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return ei.comparator(e.key,t.key)||Pr(e.ns,t.ns)},e.Hn=function(e,t){return Pr(e.ns,t.ns)||ei.comparator(e.key,t.key)},e}(),Ks=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Uo(Ws.Gn)}return e.prototype.checkEmpty=function(e){return cl.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++;var o=new kl(i,t,n,r);this._n.push(o);for(var a=0,l=r;a<l.length;a++){var s=l[a];this.rs=this.rs.add(new Ws(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return cl.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return cl.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.cs(t+1),r=n<0?0:n;return cl.resolve(this._n.length>r?this._n[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return cl.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return cl.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Ws(t,0),i=new Ws(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),cl.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Uo(Pr);return t.forEach((function(e){var t=new Ws(e,0),i=new Ws(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),cl.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;ei.isDocumentKey(i)||(i=i.child(""));var o=new Ws(new ei(i),0),a=new Uo(Pr);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),cl.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Tr(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return cl.forEach(t.mutations,(function(i){var o=new Ws(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Ws(t,0),r=this.rs.firstAfterOrEqual(n);return cl.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return cl.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Js=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Bo(ei.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return cl.resolve(n?n.document.clone():gi.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=zo();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():gi.newInvalidDocument(e))})),cl.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=zo(),i=new ei(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),l=a.value,s=l.document,u=l.readTime;if(!t.path.isPrefixOf(a.key.path))break;u.compareTo(n)<=0||$i(t,s)&&(r=r.insert(s.key,s.clone()))}return cl.resolve(r)},e.prototype.fs=function(e,t){return cl.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Qs(this)},e.prototype.getSize=function(e){return cl.resolve(this.size)},e}(),Qs=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return o(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),cl.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(hs),Ys=function(){function e(e){this.persistence=e,this.ds=new cs((function(e){return bi(e)}),_i),this.lastRemoteSnapshotVersion=Mr.min(),this.highestTargetId=0,this.ws=0,this._s=new Gs,this.targetCount=0,this.ys=Xl.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),cl.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return cl.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return cl.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),cl.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),cl.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Xl(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,cl.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),cl.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,cl.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,l){l.sequenceNumber<=t&&null===n.get(l.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),cl.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return cl.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return cl.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),cl.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),cl.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),cl.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return cl.resolve(n)},e.prototype.containsKey=function(e,t){return cl.resolve(this._s.containsKey(t))},e}(),$s=function(){function e(e,t){var n=this;this.gs={},this.Ne=new mr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Ys(this),this.Ut=new Fl,this.Ue=function(e,t){return new Js(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new El(t),this.Ke=new zs(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Ks(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;kr("MemoryPersistence","Starting transaction:",e);var i=new Xs(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return cl.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Xs=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return o(t,e),t}(sl),Zs=function(){function e(e){this.persistence=e,this.As=new Gs,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Sr()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),cl.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),cl.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),cl.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cl.forEach(this.vs,(function(r){var i=ei.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return cl.or([function(){return cl.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),eu=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function tu(e,t){return"firestore_clients_"+e+"_"+t}function nu(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function ru(e,t){return"firestore_targets_"+e+"_"+t}eu.UNAUTHENTICATED=new eu(null),eu.GOOGLE_CREDENTIALS=new eu("google-credentials-uid"),eu.FIRST_PARTY=new eu("first-party-uid");var iu=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new br(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Cr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ou=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new br(i.error.code,i.error.message)),o?new e(t,i.state,r):(Cr("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),au=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Xo(),a=0;i&&a<r.activeTargetIds.length;++a)i=Zr(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Cr("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),lu=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Cr("SharedClientState","Failed to parse online state: "+t),null)},e}(),su=function(){function e(){this.activeTargetIds=Xo()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),uu=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Bo(Pr),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=tu(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new su),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return a(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,h=this;return l(this,(function(l){switch(l.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=l.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(tu(this.persistenceKey,r)))&&(o=au.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ru(this.persistenceKey,e));if(n){var r=ou.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(ru(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return kr("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){kr("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){kr("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(kr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return a(t,void 0,void 0,(function(){var e,t,r,i,o,a;return l(this,(function(l){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=mr.o;if(null!=e)try{var n=JSON.parse(e);Tr("number"==typeof n),t=n}catch(e){Cr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==mr.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new iu(this.currentUser,e,t,n),i=nu(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=nu(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},e.prototype.Ys=function(e,t,n){var r=ru(this.persistenceKey,e),i=new ou(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return au.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]);return iu.Vs(new eu(void 0!==n[2]?n[2]:null),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return ou.Vs(r,t)},e.prototype.js=function(e){return lu.Vs(e)},e.prototype.ii=function(e){return a(this,void 0,void 0,(function(){return l(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(kr("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],l=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||l.push(e)})),this.syncEngine.hi(a,l).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Xo();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),cu=function(){function e(){this.li=new su,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new su,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),hu=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),fu=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){kr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){kr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),du={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},pu=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),vu=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return o(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new gr;a.listenOnce(fr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case hr.NO_ERROR:var t=a.getResponseJson();kr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case hr.TIMEOUT:kr("Connection",'RPC "'+e+'" timed out'),o(new br(yr.DEADLINE_EXCEEDED,"Request time out"));break;case hr.HTTP_ERROR:var n=a.getStatus();if(kr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(yr).indexOf(t)>=0?t:yr.UNKNOWN}(r.status);o(new br(l,r.message))}else o(new br(yr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new br(yr.UNAVAILABLE,"Connection failed."));break;default:Sr()}}finally{kr("Connection",'RPC "'+e+'" completed.')}}));var l=JSON.stringify(r);a.send(t,"POST",l,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new ar,i=Ze(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new pr({})),this.Fi(o.initMessageHeaders,t),Object(u.z)()||Object(u.C)()||Object(u.v)()||Object(u.x)()||Object(u.E)()||Object(u.u)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");kr("Connection","Creating WebChannel: "+a,o);var l=r.createWebChannel(a,o),s=!1,c=!1,h=new pu({Ei:function(e){c?kr("Connection","Not sending because WebChannel is closed:",e):(s||(kr("Connection","Opening WebChannel transport."),l.open(),s=!0),kr("Connection","WebChannel sending:",e),l.send(e))},Ti:function(){return l.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(l,vr.EventType.OPEN,(function(){c||kr("Connection","WebChannel transport opened.")})),f(l,vr.EventType.CLOSE,(function(){c||(c=!0,kr("Connection","WebChannel transport closed"),h.Vi())})),f(l,vr.EventType.ERROR,(function(e){c||(c=!0,Ir("Connection","WebChannel transport errored:",e),h.Vi(new br(yr.UNAVAILABLE,"The operation could not be completed")))})),f(l,vr.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Tr(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){kr("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=Po[e];if(void 0!==t)return Lo(t)}(i),a=r.message;void 0===o&&(o=yr.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,h.Vi(new br(o,a)),l.close()}else kr("Connection","WebChannel received:",n),h.Si(n)}})),f(i,dr.STAT_EVENT,(function(e){10===e.stat?kr("Connection","Detected buffering proxy"):11===e.stat&&kr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);kr("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return kr("RestConnection","Received: ",e),e}),(function(t){throw Ir("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.8.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+du[e]},e}());function gu(){return"undefined"!=typeof window?window:null}function mu(){return"undefined"!=typeof document?document:null}function yu(e){return new ca(e,!0)}var bu=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&kr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),_u=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new bu(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return a(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===yr.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===yr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new br(yr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return a(e,void 0,void 0,(function(){return l(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return kr("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(kr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),wu=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return o(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Sr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Tr(void 0===t||"string"==typeof t),zr.fromBase64String(t||"")):(Tr(void 0===t||t instanceof Uint8Array),zr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(l=t.targetChange.cause)&&function(e){var t=void 0===e.code?yr.UNKNOWN:Lo(e.code);return new br(t,e.message||"")}(l);n=new ra(r,i,o,a||null)}else if("documentChange"in t){i=ya(e,(r=t.documentChange).document.name),o=pa(r.document.updateTime);var l=new pi({mapValue:{fields:r.document.fields}}),s=(a=gi.newFoundDocument(i,o,l),r.targetIds||[]);n=new ta(s,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t)i=ya(e,(r=t.documentDelete).document),o=r.readTime?pa(r.readTime):Mr.min(),l=gi.newNoDocument(i,o),n=new ta([],a=r.removedTargetIds||[],l.key,l);else if("documentRemove"in t)i=ya(e,(r=t.documentRemove).document),n=new ta([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in t))return Sr();var u=t.filter;i=new Mo(r=u.count||0),n=new na(o=u.targetId,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Mr.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Mr.min():t.readTime?pa(t.readTime):Mr.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=wa(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=wi(r)?{documents:Ta(e,r)}:{query:Aa(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=fa(e,t.resumeToken):t.snapshotVersion.compareTo(Mr.min())>0&&(n.readTime=ha(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=wa(this.R),t.removeTarget=e,this.cr(t)},t}(_u),ku=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return o(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Tr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Tr(void 0!==t),e.map((function(e){return function(e,t){var n=pa(e.updateTime?e.updateTime:t);return n.isEqual(Mr.min())&&(n=pa(t)),new mo(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=pa(e.commitTime);return this.listener.Tr(n,t)}return Tr(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=wa(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ea(t.R,e)}))};this.cr(n)},t}(_u),Cu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return o(t,e),t.prototype.br=function(){if(this.Rr)throw new br(yr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new br(yr.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new br(yr.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Iu=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Cr(t),this.Vr=!1):kr("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Eu=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return a(o,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return Du(this)?(kr("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return a(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return(t=Ar(e)).Or.add(4),[4,Tu(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Su(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Iu(n,r)};function Su(e){return a(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:if(!Du(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Tu(e){return a(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Au(e,t){var n=Ar(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ru(n)?Nu(n):Qu(n).er()&&xu(n,t))}function Ou(e,t){var n=Ar(e),r=Qu(n);n.$r.delete(t),r.er()&&Pu(n,t),0===n.$r.size&&(r.er()?r.ir():Du(n)&&n.Br.set("Unknown"))}function xu(e,t){e.qr.U(t.targetId),Qu(e).mr(t)}function Pu(e,t){e.qr.U(t),Qu(e).yr(t)}function Nu(e){e.qr=new oa({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Qu(e).start(),e.Br.Sr()}function Ru(e){return Du(e)&&!Qu(e).tr()&&e.$r.size>0}function Du(e){return 0===Ar(e).Or.size}function Mu(e){e.qr=void 0}function ju(e){return a(this,void 0,void 0,(function(){return l(this,(function(t){return e.$r.forEach((function(t,n){xu(e,t)})),[2]}))}))}function Lu(e,t){return a(this,void 0,void 0,(function(){return l(this,(function(n){return Mu(e),Ru(e)?(e.Br.Nr(t),Nu(e)):e.Br.set("Unknown"),[2]}))}))}function Bu(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o;return l(this,(function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof ra&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return a(this,void 0,void 0,(function(){var n,r,i,o;return l(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?e.$r.has(o=i[r])?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),kr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Fu(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ta?e.qr.X(t):t instanceof na?e.qr.rt(t):e.qr.et(t),n.isEqual(Mr.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Ns(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(zr.EMPTY_BYTE_STRING,n.snapshotVersion)),Pu(e,t);var r=new Il(n.target,t,1,n.sequenceNumber);xu(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return kr("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Fu(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Fu(e,t,n){return a(this,void 0,void 0,(function(){var r=this;return l(this,(function(i){switch(i.label){case 0:if(!vl(t))throw t;return e.Or.add(1),[4,Tu(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Ns(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return a(r,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return kr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Su(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Vu(e,t){return t().catch((function(n){return Fu(e,n,t)}))}function Uu(e){return a(this,void 0,void 0,(function(){var t,n,r,i,o;return l(this,(function(a){switch(a.label){case 0:t=Ar(e),n=Yu(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Du(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Ms(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Yu(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Fu(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return qu(t)&&Hu(t),[2]}}))}))}function qu(e){return Du(e)&&!Yu(e).tr()&&e.kr.length>0}function Hu(e){Yu(e).start()}function zu(e){return a(this,void 0,void 0,(function(){return l(this,(function(t){return Yu(e).Ar(),[2]}))}))}function Gu(e){return a(this,void 0,void 0,(function(){var t,n,r;return l(this,(function(i){for(t=Yu(e),n=0,r=e.kr;n<r.length;n++)t.Er(r[n].mutations);return[2]}))}))}function Wu(e,t,n){return a(this,void 0,void 0,(function(){var r,i;return l(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=Cl.from(r,t,n),[4,Vu(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Uu(e)];case 2:return o.sent(),[2]}}))}))}function Ku(e,t){return a(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return t&&Yu(e).pr?[4,function(e,t){return a(this,void 0,void 0,(function(){var n,r;return l(this,(function(i){switch(i.label){case 0:return jo(r=t.code)&&r!==yr.ABORTED?(n=e.kr.shift(),Yu(e).sr(),[4,Vu(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Uu(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return qu(e)&&Hu(e),[2]}}))}))}function Ju(e,t){return a(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return n=Ar(e),t?(n.Or.delete(2),[4,Su(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Tu(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Qu(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Ar(e);return r.br(),new wu(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:ju.bind(null,e),Ri:Lu.bind(null,e),_r:Bu.bind(null,e)}),e.Mr.push((function(n){return a(t,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Ru(e)?Nu(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Mu(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Yu(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Ar(e);return r.br(),new ku(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:zu.bind(null,e),Ri:Ku.bind(null,e),Ir:Gu.bind(null,e),Tr:Wu.bind(null,e)}),e.Mr.push((function(n){return a(t,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Uu(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.kr.length>0&&(kr("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var $u=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ul,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new br(yr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Xu(e,t){if(Cr("AsyncQueue",t+": "+e),vl(e))return new br(yr.UNAVAILABLE,t+": "+e);throw e}var Zu=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ei.comparator(t.key,n.key)}:function(e,t){return ei.comparator(e.key,t.key)},this.keyedMap=Wo(),this.sortedSet=new Bo(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),ec=function(){function e(){this.Qr=new Bo(ei.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Sr():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),tc=function(){function e(e,t,n,r,i,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Zu.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ji(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),nc=function(){this.Wr=void 0,this.listeners=[]},rc=function(){this.queries=new cs((function(e){return Qi(e)}),Ji),this.onlineState="Unknown",this.Gr=new Set};function ic(e,t){return a(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return l(this,(function(l){switch(l.label){case 0:if(n=Ar(e),i=!1,(o=n.queries.get(r=t.query))||(i=!0,o=new nc),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=l.sent(),[3,4];case 3:return s=l.sent(),u=Xu(s,"Initialization of query '"+Yi(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&sc(n),[2]}}))}))}function oc(e,t){return a(this,void 0,void 0,(function(){var n,r,i,o,a;return l(this,(function(l){return n=Ar(e),i=!1,(o=n.queries.get(r=t.query))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function ac(e,t){for(var n=Ar(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],l=n.queries.get(a.query);if(l){for(var s=0,u=l.listeners;s<u.length;s++)u[s].Hr(a)&&(r=!0);l.Wr=a}}r&&sc(n)}function lc(e,t,n){var r=Ar(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function sc(e){e.Gr.forEach((function(e){e.next()}))}var uc=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new tc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),cc=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),hc=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ya(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Ia(this.R,e.document,!1):gi.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return pa(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new hc(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),l=0,s=o.metadata.queries;l<s.length;l++){var u=s[l],c=(t.get(u)||Yo()).add(a);t.set(u,c)}}return t},e.prototype.complete=function(){return a(this,void 0,void 0,(function(){var e,t,n,r,i;return l(this,(function(o){switch(o.label){case 0:return[4,qs(this.localStore,new hc(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Hs(this.localStore,i=r[n],t.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Is(Object.assign({},this.progress),e))]}}))}))}}();var fc=function(e){this.key=e},dc=function(e){this.key=e},pc=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Yo(),this.mutatedKeys=Yo(),this.lo=Xi(e),this.fo=new Zu(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new ec,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,l=!1,s=Vi(this.query)&&i.size===this.query.limit?i.last():null,u=Ui(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),h=$i(n.query,t)?t:null,f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(c,h)||(r.track({type:2,doc:h}),p=!0,(s&&n.lo(h,s)>0||u&&n.lo(h,u)<0)&&(l=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(s||u)&&(l=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Vi(this.query)||Ui(this.query))for(;a.size>this.query.limit;){var c=Vi(this.query)?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fo:a,mo:r,Nn:l,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sr()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],l=0===this.ho.size&&this.current?1:0,s=l!==this.ao;return this.ao=l,0!==o.length||s?{snapshot:new tc(this.query,e.fo,i,o,e.mutatedKeys,0===l,s,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ec,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Yo(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new dc(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new fc(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Yo();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return tc.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),vc=function(e,t,n){this.query=e,this.targetId=t,this.view=n},gc=function(e){this.key=e,this.bo=!1},mc=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new cs((function(e){return Qi(e)}),Ji),this.Vo=new Map,this.So=new Set,this.Do=new Bo(ei.comparator),this.Co=new Map,this.No=new Gs,this.xo={},this.Fo=new Map,this.ko=Xl.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function yc(e,t){return a(this,void 0,void 0,(function(){var n,r,i,o,a;return l(this,(function(l){switch(l.label){case 0:return n=Kc(e),(i=n.Po.get(t))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,js(n.localStore,Wi(t))];case 2:return o=l.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,bc(n,t,o.targetId,"current"===a)];case 3:r=l.sent(),n.isPrimaryClient&&Au(n.remoteStore,o),l.label=4;case 4:return[2,r]}}))}))}function bc(e,t,n,r){return a(this,void 0,void 0,(function(){var i,o,s,u,c,h;return l(this,(function(f){switch(f.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return a(this,void 0,void 0,(function(){var i,o,a;return l(this,(function(l){switch(l.label){case 0:return(i=t.view._o(n)).Nn?[4,Bs(e.localStore,t.query,!1).then((function(e){return t.view._o(e.documents,i)}))]:[3,2];case 1:i=l.sent(),l.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Nc(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Bs(e.localStore,t,!0)];case 1:return i=f.sent(),o=new pc(t,i.Bn),s=o._o(i.documents),u=ea.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=o.applyChanges(s,e.isPrimaryClient,u),Nc(e,n,c.To),h=new vc(t,n,o),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}}))}))}function _c(e,t){return a(this,void 0,void 0,(function(){var n,r,i;return l(this,(function(o){switch(o.label){case 0:return n=Ar(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Ji(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ls(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Ou(n.remoteStore,r.targetId),xc(n,r.targetId)})).catch(rs)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return xc(n,r.targetId),[4,Ls(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function wc(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o,a;return l(this,(function(l){switch(l.label){case 0:r=Jc(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(e,t){var n,r=Ar(e),i=Dr.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Yo());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],l=0,s=t;l<s.length;l++){var u=s[l],c=Co(u,n.get(u.key));null!=c&&a.push(new To(u.key,c,vi(c.value.mapValue),yo.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Bo(Pr)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Mc(r,i.changes)];case 3:return l.sent(),[4,Uu(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return o=l.sent(),a=Xu(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function kc(e,t){return a(this,void 0,void 0,(function(){var n,r;return l(this,(function(i){switch(i.label){case 0:n=Ar(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Rs(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Tr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Tr(r.bo):e.removedDocuments.size>0&&(Tr(r.bo),r.bo=!1))})),[4,Mc(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,rs(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Cc(e,t,n){var r=Ar(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ar(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&sc(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ic(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o,a,s,u;return l(this,(function(l){switch(l.label){case 0:return(r=Ar(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Bo(ei.comparator)).insert(o,gi.newNoDocument(o,Mr.min())),s=Yo().add(o),u=new Zo(Mr.min(),new Map,new Uo(Pr),a,s),[4,kc(r,u)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Dc(r),[3,4];case 2:return[4,Ls(r.localStore,t,!1).then((function(){return xc(r,t,n)})).catch(rs)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}function Ec(e,t){return a(this,void 0,void 0,(function(){var n,r,i;return l(this,(function(o){switch(o.label){case 0:n=Ar(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ps(n.localStore,t)];case 2:return i=o.sent(),Oc(n,r,null),Ac(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Mc(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,rs(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Sc(e,t,n){return a(this,void 0,void 0,(function(){var r,i;return l(this,(function(o){switch(o.label){case 0:r=Ar(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Ar(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Tr(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Oc(r,t,n),Ac(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Mc(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,rs(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Tc(e,t){return a(this,void 0,void 0,(function(){var n,r,i,o,a;return l(this,(function(l){switch(l.label){case 0:Du((n=Ar(e)).remoteStore)||kr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(e){var t=Ar(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=l.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=l.sent(),a=Xu(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Ac(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Oc(e,t,n){var r=Ar(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function xc(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Pc(e,t)}))}function Pc(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Ou(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Dc(e))}function Nc(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof fc?(e.No.addReference(o.key,t),Rc(e,o)):o instanceof dc?(kr("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Pc(e,o.key)):Sr()}}function Rc(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(kr("SyncEngine","New document in limbo: "+n),e.So.add(r),Dc(e))}function Dc(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ei(Vr.fromString(t)),r=e.ko.next();e.Co.set(r,new gc(n)),e.Do=e.Do.insert(n,r),Au(e.remoteStore,new Il(Wi(Fi(n.path)),r,2,mr.o))}}function Mc(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o,s;return l(this,(function(u){switch(u.label){case 0:return r=Ar(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,a){s.push(r.Oo(a,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Ss.Pn(a.targetId,e);o.push(t)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(i),[4,function(e,t){return a(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return l(this,(function(l){switch(l.label){case 0:n=Ar(e),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return cl.forEach(t,(function(t){return cl.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return cl.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!vl(r=l.sent()))throw r;return kr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function jc(e,t){return a(this,void 0,void 0,(function(){var n,r;return l(this,(function(i){switch(i.label){case 0:return(n=Ar(e)).currentUser.isEqual(t)?[3,3]:(kr("SyncEngine","User change. New user:",t.toKey()),[4,xs(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new br(yr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Mc(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Lc(e,t){var n=Ar(e),r=n.Co.get(t);if(r&&r.bo)return Yo().add(r.key);var i=Yo(),o=n.Vo.get(t);if(!o)return i;for(var a=0,l=o;a<l.length;a++){var s=n.Po.get(l[a]);i=i.unionWith(s.view.wo)}return i}function Bc(e,t){return a(this,void 0,void 0,(function(){var n,r,i;return l(this,(function(o){switch(o.label){case 0:return[4,Bs((n=Ar(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Nc(n,t.targetId,i.To),i)]}}))}))}function Fc(e){return a(this,void 0,void 0,(function(){var t;return l(this,(function(n){return[2,Vs((t=Ar(e)).localStore).then((function(e){return Mc(t,e)}))]}))}))}function Vc(e,t,n,r){return a(this,void 0,void 0,(function(){var i,o;return l(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Ar(e),r=Ar(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):cl.resolve(null)}))}))}((i=Ar(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Uu(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Oc(i,t,r||null),Ac(i,t),function(e,t){Ar(Ar(e)._n).Gt(t)}(i.localStore,t)):Sr(),a.label=4;case 4:return[4,Mc(i,o)];case 5:return a.sent(),[3,7];case 6:kr("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Uc(e,t){return a(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return l(this,(function(l){switch(l.label){case 0:return Kc(n=Ar(e)),Jc(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,qc(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Ju(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)Au(n.remoteStore,a[o]);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):u=u.then((function(){return xc(n,t),Ls(n.localStore,t,!0)})),Ou(n.remoteStore,t)})),[4,u]);case 4:return l.sent(),[4,qc(n,s)];case 5:return l.sent(),function(e){var t=Ar(e);t.Co.forEach((function(e,n){Ou(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Bo(ei.comparator)}(n),n.$o=!1,[4,Ju(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function qc(e,t,n){return a(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,h,f,d,p,v;return l(this,(function(l){switch(l.label){case 0:n=Ar(e),r=[],i=[],o=0,a=t,l.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,js(n.localStore,Wi(c[0]))]:[3,7]):[3,13];case 2:u=l.sent(),h=0,f=c,l.label=3;case 3:return h<f.length?(d=n.Po.get(f[h]),[4,Bc(n,d)]):[3,6];case 4:(p=l.sent()).snapshot&&i.push(p.snapshot),l.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Fs(n.localStore,s)];case 8:return v=l.sent(),[4,js(n.localStore,v)];case 9:return u=l.sent(),[4,bc(n,Hc(v),s,!1)];case 10:l.sent(),l.label=11;case 11:r.push(u),l.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Hc(e){return Bi(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function zc(e){var t=Ar(e);return Ar(Ar(t.localStore).persistence).fn()}function Gc(e,t,n,r){return a(this,void 0,void 0,(function(){var i,o,a;return l(this,(function(l){switch(l.label){case 0:return(i=Ar(e)).$o?(kr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Vs(i.localStore)];case 3:return o=l.sent(),a=Zo.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Mc(i,o,a)];case 4:return l.sent(),[3,8];case 5:return[4,Ls(i.localStore,t,!0)];case 6:return l.sent(),xc(i,t,r),[3,8];case 7:Sr(),l.label=8;case 8:return[2]}}))}))}function Wc(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,h,f;return l(this,(function(d){switch(d.label){case 0:if(!(r=Kc(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(kr("SyncEngine","Adding an already active target "+a),[3,5]):[4,Fs(r.localStore,a)]:[3,6];case 2:return s=d.sent(),[4,js(r.localStore,s)];case 3:return u=d.sent(),[4,bc(r,Hc(s),u.targetId,!1)];case 4:d.sent(),Au(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return l(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Ls(r.localStore,e,!1).then((function(){Ou(r.remoteStore,e),xc(r,e)})).catch(rs)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,c(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Kc(e){var t=Ar(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ic.bind(null,t),t.vo._r=ac.bind(null,t.eventManager),t.vo.Mo=lc.bind(null,t.eventManager),t}function Jc(e){var t=Ar(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ec.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sc.bind(null,t),t}var Qc=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return a(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return this.R=yu(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Os(this.persistence,new Ts,e.initialUser,this.R)},e.prototype.qo=function(e){return new $s(Zs.bs,this.R)},e.prototype.Bo=function(e){return new cu},e.prototype.terminate=function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Yc=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return o(t,e),t.prototype.initialize=function(t){return a(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Us(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,Jc(this.Qo.syncEngine)];case 4:return n.sent(),[4,Uu(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Os(this.persistence,new Ts,e.initialUser,this.R)},t.prototype.Uo=function(e){return new as(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var t=Cs(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?zl.withCacheSize(this.cacheSizeBytes):zl.DEFAULT;return new _s(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,gu(),mu(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new cu},t}(Qc),$c=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return o(t,e),t.prototype.initialize=function(t){return a(this,void 0,void 0,(function(){var n,r=this;return l(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof uu?(this.sharedClientState.syncEngine={ui:Vc.bind(null,n),ai:Gc.bind(null,n),hi:Wc.bind(null,n),fn:zc.bind(null,n),ci:Fc.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return a(r,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,Uc(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=gu();if(!uu.yt(t))throw new br(yr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Cs(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uu(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Yc),Xc=function(){function e(){}return e.prototype.initialize=function(e,t){return a(this,void 0,void 0,(function(){var n=this;return l(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Cc(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=jc.bind(null,this.syncEngine),[4,Ju(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new rc},e.prototype.createDatastore=function(e){var t=yu(e.databaseInfo.databaseId),n=new vu(e.databaseInfo);return function(e,t,n){return new Cu(e,t,n)}(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Cc(a.syncEngine,e,0)},o=fu.yt()?new fu:new hu,new Eu(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var l=new mc(e,t,n,r,i,o);return a&&(l.$o=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return a(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return t=Ar(e),kr("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Tu(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),Zc=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),eh=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new ul,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return a(this,void 0,void 0,(function(){var e,t,n,r;return l(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new cc(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return a(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return a(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return a(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return a(this,void 0,void 0,(function(){var t,n=this;return l(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new br(yr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return a(this,void 0,void 0,(function(){var n,r,i,o,a,s;return l(this,(function(l){switch(l.label){case 0:return n=Ar(e),r=wa(n.R)+"/documents",i={documents:t.map((function(e){return ma(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=l.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Tr(!!t.found);var n=ya(e,t.found.name),r=pa(t.found.updateTime),i=new pi({mapValue:{fields:t.found.fields}});return gi.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Tr(!!t.missing),Tr(!!t.readTime);var n=ya(e,t.missing),r=pa(t.readTime);return gi.newNoDocument(n,r)}(e,t):Sr()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Tr(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Ro(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return a(this,void 0,void 0,(function(){var e,t=this;return l(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=ei.fromPath(n);t.mutations.push(new Do(r,t.precondition(r)))})),[4,function(e,t){return a(this,void 0,void 0,(function(){var n,r,i;return l(this,(function(o){switch(o.label){case 0:return n=Ar(e),r=wa(n.R)+"/documents",i={writes:t.map((function(e){return Ea(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Sr();t=Mr.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new br(yr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?yo.updateTime(t):yo.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mr.min()))throw new br(yr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yo.updateTime(t)}return yo.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),th=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new bu(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return a(e,void 0,void 0,(function(){var e,t,n=this;return l(this,(function(r){return e=new eh(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!$r(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!jo(t)}return!1},e}(),nh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=eu.UNAUTHENTICATED,this.clientId=xr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return a(r,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return kr("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new br(yr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ul;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return a(e,void 0,void 0,(function(){var e,n;return l(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Xu(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function rh(e,t){return a(this,void 0,void 0,(function(){var n,r,i=this;return l(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),kr("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return a(i,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,xs(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function ih(e,t){return a(this,void 0,void 0,(function(){var n,r;return l(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,oh(e)];case 1:return n=i.sent(),kr("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return a(this,void 0,void 0,(function(){var n,r;return l(this,(function(i){switch(i.label){case 0:return(n=Ar(e)).asyncQueue.verifyOperationInProgress(),kr("RemoteStore","RemoteStore received new credentials"),r=Du(n),n.Or.add(3),[4,Tu(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Su(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function oh(e){return a(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(kr("FirestoreClient","Using default OfflineComponentProvider"),[4,rh(e,new Qc)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function ah(e){return a(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(kr("FirestoreClient","Using default OnlineComponentProvider"),[4,ih(e,new Xc)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function lh(e){return oh(e).then((function(e){return e.persistence}))}function sh(e){return oh(e).then((function(e){return e.localStore}))}function uh(e){return ah(e).then((function(e){return e.remoteStore}))}function ch(e){return ah(e).then((function(e){return e.syncEngine}))}function hh(e){return a(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return[4,ah(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=yc.bind(null,t.syncEngine),n.onUnlisten=_c.bind(null,t.syncEngine),n)]}}))}))}function fh(e,t,n){var r=this;void 0===n&&(n={});var i=new ul;return e.asyncQueue.enqueueAndForget((function(){return a(r,void 0,void 0,(function(){var r;return l(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Zc({next:function(o){t.enqueueAndForget((function(){return oc(e,a)}));var l=o.docs.has(n);!l&&o.fromCache?i.reject(new br(yr.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new br(yr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new uc(Fi(n.path),o,{includeMetadataChanges:!0,so:!0});return ic(e,a)},[4,hh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function dh(e,t,n){var r=this;void 0===n&&(n={});var i=new ul;return e.asyncQueue.enqueueAndForget((function(){return a(r,void 0,void 0,(function(){var r;return l(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Zc({next:function(n){t.enqueueAndForget((function(){return oc(e,a)})),n.fromCache&&"server"===r.source?i.reject(new br(yr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new uc(n,o,{includeMetadataChanges:!0,so:!0});return ic(e,a)},[4,hh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var ph=function(e,t,n,r,i,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l},vh=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),gh=new Map,mh=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},yh=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(eu.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),bh=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),_h=function(){function e(e){var t=this;this.currentUser=eu.UNAUTHENTICATED,this.oc=new ul,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){kr("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(kr("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(kr("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Tr("string"==typeof n.accessToken),new mh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return a(n,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Tr(null===e||"string"==typeof e),new eu(e)},e}(),wh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=eu.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),kh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new wh(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(eu.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Ch(e,t,n){if(!n)throw new br(yr.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Ih(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new br(yr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Eh(e,t,n,r){if(!0===t&&!0===r)throw new br(yr.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Sh(e){if(!ei.isDocumentKey(e))throw new br(yr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Th(e){if(ei.isDocumentKey(e))throw new br(yr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Ah(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Sr()}function Oh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new br(yr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ah(e);throw new br(yr.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function xh(e,t){if(t<=0)throw new br(yr.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Ph=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new br(yr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new br(yr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Eh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Nh=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ph({}),this._settingsFrozen=!1,e instanceof vh?(this._databaseId=e,this._credentials=new yh):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new br(yr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vh(e.options.projectId)}(e),this._credentials=new _h(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new br(yr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new br(yr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ph(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new yh;switch(e.type){case"gapi":var t=e.client;return Tr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new kh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new br(yr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=gh.get(this))&&(kr("ComponentProvider","Removing Datastore"),gh.delete(this),e.terminate()),Promise.resolve();var e},e}(),Rh=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Mh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Dh=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Mh=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Fi(r))||this)._path=r,i.type="collection",i}return o(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Rh(this.firestore,null,new ei(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Dh);function jh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(u.q)(e),Ch("collection","path",t),e instanceof Nh)return Th(n=Vr.fromString.apply(Vr,s([t],r))),new Mh(e,null,n);if(!(e instanceof Rh||e instanceof Mh))throw new br(yr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Th(n=Vr.fromString.apply(Vr,s([e.path],r)).child(Vr.fromString(t))),new Mh(e.firestore,null,n)}function Lh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(u.q)(e),1===arguments.length&&(t=xr.u()),Ch("doc","path",t),e instanceof Nh)return Sh(n=Vr.fromString.apply(Vr,s([t],r))),new Rh(e,null,new ei(n));if(!(e instanceof Rh||e instanceof Mh))throw new br(yr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sh(n=e._path.child(Vr.fromString.apply(Vr,s([t],r)))),new Rh(e.firestore,e instanceof Mh?e.converter:null,new ei(n))}function Bh(e,t){return e=Object(u.q)(e),t=Object(u.q)(t),(e instanceof Rh||e instanceof Mh)&&(t instanceof Rh||t instanceof Mh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Fh(e,t){return e=Object(u.q)(e),t=Object(u.q)(t),e instanceof Dh&&t instanceof Dh&&e.firestore===t.firestore&&Ji(e._query,t._query)&&e.converter===t.converter}var Vh=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new bu(this,"async_queue_retry"),this.Ic=function(){var t=mu();t&&kr("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=mu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=mu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new ul;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return a(this,void 0,void 0,(function(){var e,t=this;return l(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!vl(e=n.sent()))throw e;return kr("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=$u.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Sr()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return a(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Uh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new ul,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var qh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Vh,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return o(t,e),t.prototype._terminate=function(){return this._firestoreClient||zh(this),this._firestoreClient.terminate()},t}(Nh);function Hh(e){return e._firestoreClient||zh(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zh(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ph(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new nh(e._credentials,e._queue,r)}function Gh(e,t,n){var r=this,i=new ul;return e.asyncQueue.enqueue((function(){return a(r,void 0,void 0,(function(){var r;return l(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,rh(e,n)];case 1:return o.sent(),[4,ih(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===yr.FAILED_PRECONDITION||e.code===yr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Wh(e){if(e._initialized||e._terminated)throw new br(yr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Kh=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new br(yr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qr(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Jh=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(zr.fromBase64String(t))}catch(t){throw new br(yr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(zr.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Qh=function(e){this._methodName=e},Yh=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new br(yr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new br(yr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Pr(this._lat,e._lat)||Pr(this._long,e._long)},e}(),$h=/^__.*__$/,Xh=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new To(e,this.data,this.fieldMask,t,this.fieldTransforms):new So(e,this.data,t,this.fieldTransforms)},e}(),Zh=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new To(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function ef(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sr()}}var tf=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Fc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,kc:!0})},e.prototype.Lc=function(e){return kf(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(ef(this.Nc)&&$h.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),nf=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||yu(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new tf({Nc:e,methodName:t,qc:n,path:qr.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function rf(e){var t=e._freezeSettings(),n=yu(e._databaseId);return new nf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function of(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);yf("Data must be an object, but it was:",a,r);var l,s,u=gf(r,a);if(o.merge)l=new Hr(a.fieldMask),s=a.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,f=o.mergeFields;h<f.length;h++){var d=bf(t,f[h],n);if(!a.contains(d))throw new br(yr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Cf(c,d)||c.push(d)}l=new Hr(c),s=a.fieldTransforms.filter((function(e){return l.covers(e.field)}))}else l=null,s=a.fieldTransforms;return new Xh(new pi(u),l,s)}var af=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Qh);function lf(e,t,n){return new tf({Nc:3,qc:t.settings.qc,methodName:e._methodName,kc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var sf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._toFieldTransform=function(e){return new go(e.path,new lo)},t.prototype.isEqual=function(e){return e instanceof t},t}(Qh),uf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return o(t,e),t.prototype._toFieldTransform=function(e){var t=lf(this,e,!0),n=this.Kc.map((function(e){return vf(e,t)})),r=new so(n);return new go(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Qh),cf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return o(t,e),t.prototype._toFieldTransform=function(e){var t=lf(this,e,!0),n=this.Kc.map((function(e){return vf(e,t)})),r=new co(n);return new go(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Qh),hf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return o(t,e),t.prototype._toFieldTransform=function(e){var t=new fo(e.R,no(e.R,this.Qc));return new go(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Qh);function ff(e,t,n,r){var i=e.Uc(1,t,n);yf("Data must be an object, but it was:",i,r);var o=[],a=pi.empty();Lr(r,(function(e,r){var l=wf(t,e,n);r=Object(u.q)(r);var s=i.Oc(l);if(r instanceof af)o.push(l);else{var c=vf(r,s);null!=c&&(o.push(l),a.set(l,c))}}));var l=new Hr(o);return new Zh(a,l,i.fieldTransforms)}function df(e,t,n,r,i,o){var a=e.Uc(1,t,n),l=[bf(t,r,n)],s=[i];if(o.length%2!=0)throw new br(yr.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)l.push(bf(t,o[c])),s.push(o[c+1]);for(var h=[],f=pi.empty(),d=l.length-1;d>=0;--d)if(!Cf(h,l[d])){var p=l[d],v=s[d];v=Object(u.q)(v);var g=a.Oc(p);if(v instanceof af)h.push(p);else{var m=vf(v,g);null!=m&&(h.push(p),f.set(p,m))}}var y=new Hr(h);return new Zh(f,y,a.fieldTransforms)}function pf(e,t,n,r){return void 0===r&&(r=!1),vf(n,e.Uc(r?4:3,t))}function vf(e,t){if(mf(e=Object(u.q)(e)))return yf("Unsupported field value:",t,e),gf(e,t);if(e instanceof Qh)return function(e,t){if(!ef(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=vf(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(u.q)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return no(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Dr.fromDate(e);return{timestampValue:ha(t.R,n)}}if(e instanceof Dr)return n=new Dr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:ha(t.R,n)};if(e instanceof Yh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Jh)return{bytesValue:fa(t.R,e._byteString)};if(e instanceof Rh){var r=e.firestore._databaseId;if(!r.isEqual(n=t.databaseId))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:va(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Ah(e))}(e,t)}function gf(e,t){var n={};return Br(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lr(e,(function(e,r){var i=vf(r,t.Fc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function mf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dr||e instanceof Yh||e instanceof Jh||e instanceof Rh||e instanceof Qh)}function yf(e,t,n){if(!mf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ah(n);throw t.Lc("an object"===r?e+" a custom object":e+" "+r)}}function bf(e,t,n){if((t=Object(u.q)(t))instanceof Kh)return t._internalPath;if("string"==typeof t)return wf(e,t);throw kf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var _f=new RegExp("[~\\*/\\[\\]]");function wf(e,t,n){if(t.search(_f)>=0)throw kf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Kh.bind.apply(Kh,s([void 0],t.split(".")))))._internalPath}catch(kd){throw kf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function kf(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var s="";return(o||a)&&(s+=" (found",o&&(s+=" in field "+r),a&&(s+=" in document "+i),s+=")"),new br(yr.INVALID_ARGUMENT,(l+=". ")+e+s)}function Cf(e,t){return e.some((function(e){return e.isEqual(t)}))}var If=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Rh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Ef(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Ef=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(If);function Sf(e,t){return"string"==typeof t?wf(e,t):t instanceof Kh?t._internalPath:t._delegate._internalPath}var Tf=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Af=function(e){function t(t,n,r,i,o,a){var l=this;return(l=e.call(this,t,n,r,i,a)||this)._firestore=t,l._firestoreImpl=t,l.metadata=o,l}return o(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(If),Of=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Af),xf=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Tf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Of(n._firestore,n._userDataWriter,r.key,r,new Tf(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new br(yr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Of(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Of(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Pf(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Pf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sr()}}function Nf(e,t){return e instanceof Af&&t instanceof Af?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof xf&&t instanceof xf&&e._firestore===t._firestore&&Fh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Rf(e){if(Ui(e)&&0===e.explicitOrderBy.length)throw new br(yr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Df=function(){};function Mf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var jf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return o(t,e),t.prototype._apply=function(e){var t=rf(e.firestore),n=function(e,t,n,r,i,o,a){var l;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new br(yr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Hf(a,o);for(var s=[],u=0,c=a;u<c.length;u++)s.push(qf(r,e,c[u]));l={arrayValue:{values:s}}}else l=qf(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Hf(a,o),l=pf(n,"where",a,"in"===o||"not-in"===o);var h=ki.create(i,o,l);return function(e,t){if(t.g()){var n=Hi(e);if(null!==n&&!n.isEqual(t.field))throw new br(yr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=qi(e);null!==r&&zf(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new br(yr.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Dh(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Li(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Df),Lf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return o(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new br(yr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new br(yr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ri(t,n);return function(e,t){if(null===qi(e)){var n=Hi(e);null!==n&&zf(0,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Dh(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Li(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Df),Bf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return o(t,e),t.prototype._apply=function(e){return new Dh(e.firestore,e.converter,Ki(e._query,this.Hc,this.Jc))},t}(Df),Ff=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return o(t,e),t.prototype._apply=function(e){var t=Uf(e,this.type,this.Yc,this.Xc);return new Dh(e.firestore,e.converter,function(e,t){return new Li(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Df),Vf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return o(t,e),t.prototype._apply=function(e){var t=Uf(e,this.type,this.Yc,this.Xc);return new Dh(e.firestore,e.converter,function(e,t){return new Li(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Df);function Uf(e,t,n,r){if(n[0]=Object(u.q)(n[0]),n[0]instanceof If)return function(e,t,n,r,i){if(!r)throw new br(yr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,l=Gi(e);a<l.length;a++){var s=l[a];if(s.field.isKeyField())o.push(li(t,r.key));else{var u=r.data.field(s.field);if(Qr(u))throw new br(yr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var c=s.field.canonicalString();throw new br(yr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(u)}}return new Pi(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=rf(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new br(yr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var l=[],s=0;s<i.length;s++){var u=i[s];if(a[s].field.isKeyField()){if("string"!=typeof u)throw new br(yr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!zi(e)&&-1!==u.indexOf("/"))throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var c=e.path.child(Vr.fromString(u));if(!ei.isDocumentKey(c))throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new ei(c);l.push(li(t,h))}else{var f=pf(n,r,u);l.push(f)}}return new Pi(l,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function qf(e,t,n){if("string"==typeof(n=Object(u.q)(n))){if(""===n)throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zi(t)&&-1!==n.indexOf("/"))throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Vr.fromString(n));if(!ei.isDocumentKey(r))throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return li(e,new ei(r))}if(n instanceof Rh)return li(e,n._key);throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ah(n)+".")}function Hf(e,t){if(!Array.isArray(e)||0===e.length)throw new br(yr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new br(yr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function zf(e,t,n){if(!n.isEqual(t))throw new br(yr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Gf=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Sr()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Lr(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Yh(Kr(e.latitude),Kr(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return Qr(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yr(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Wr(e);return new Dr(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Vr.fromString(e);Tr(Fa(n));var r=new vh(n.get(1),n.get(3)),i=new ei(n.popFirst(5));return r.isEqual(t)||Cr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Wf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Kf=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return o(t,e),t.prototype.convertBytes=function(e){return new Jh(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rh(this.firestore,null,t)},t}(Gf),Jf=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=rf(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Qf(e,this._firestore),i=Wf(r.converter,t,n),o=of(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,yo.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Qf(e,this._firestore);return o="string"==typeof(t=Object(u.q)(t))||t instanceof Kh?df(this._dataReader,"WriteBatch.update",a._key,t,n,r):ff(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,yo.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Qf(e,this._firestore);return this._mutations=this._mutations.concat(new Ro(t._key,yo.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new br(yr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Qf(e,t){if((e=Object(u.q)(e)).firestore!==t)throw new br(yr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Yf=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return o(t,e),t.prototype.convertBytes=function(e){return new Jh(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rh(this.firestore,null,t)},t}(Gf);function $f(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Oh(e,Rh);var o=Oh(e.firestore,qh),a=rf(o);return Zf(o,[("string"==typeof(t=Object(u.q)(t))||t instanceof Kh?df(a,"updateDoc",e._key,t,n,r):ff(a,"updateDoc",e._key,t)).toMutation(e._key,yo.exists(!0))])}function Xf(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Object(u.q)(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof i[c]||Uh(i[c])||(s=i[c],c++);var h,f,d,p={includeMetadataChanges:s.includeMetadataChanges};if(Uh(i[c])){var v=i[c];i[c]=null===(t=v.next)||void 0===t?void 0:t.bind(v),i[c+1]=null===(n=v.error)||void 0===n?void 0:n.bind(v),i[c+2]=null===(r=v.complete)||void 0===r?void 0:r.bind(v)}if(e instanceof Rh)f=Oh(e.firestore,qh),d=Fi(e._key.path),h={next:function(t){i[c]&&i[c](ed(f,e,t))},error:i[c+1],complete:i[c+2]};else{var g=Oh(e,Dh);f=Oh(g.firestore,qh),d=g._query;var m=new Yf(f);h={next:function(e){i[c]&&i[c](new xf(f,m,g,e))},error:i[c+1],complete:i[c+2]},Rf(e._query)}return function(e,t,n,r){var i=this,o=new Zc(r),s=new uc(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return a(i,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return t=ic,[4,hh(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return a(i,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return t=oc,[4,hh(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))}))}}(Hh(f),d,p,h)}function Zf(e,t){return function(e,t){var n=this,r=new ul;return e.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return n=wc,[4,ch(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Hh(e),t)}function ed(e,t,n){var r=n.docs.get(t._key),i=new Yf(e);return new Af(e,i,t._key,r,new Tf(n.hasPendingWrites,n.fromCache),t.converter)}var td=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return o(t,e),t.prototype.get=function(t){var n=this,r=Qf(t,this._firestore),i=new Yf(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Af(n._firestore,i,r._key,e._document,new Tf(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=rf(e)}return e.prototype.get=function(e){var t=this,n=Qf(e,this._firestore),r=new Kf(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Sr();var i=e[0];if(i.isFoundDocument())return new If(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new If(t._firestore,r,n._key,null,n.converter);throw Sr()}))},e.prototype.set=function(e,t,n){var r=Qf(e,this._firestore),i=Wf(r.converter,t,n),o=of(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Qf(e,this._firestore);return o="string"==typeof(t=Object(u.q)(t))||t instanceof Kh?df(this._dataReader,"Transaction.update",a._key,t,n,r):ff(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Qf(e,this._firestore);return this._transaction.delete(t._key),this},e}());function nd(){if("undefined"==typeof Uint8Array)throw new br(yr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rd(){if("undefined"==typeof atob)throw new br(yr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var id=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return rd(),new e(Jh.fromBase64String(t))},e.fromUint8Array=function(t){return nd(),new e(Jh.fromUint8Array(t))},e.prototype.toBase64=function(){return rd(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return nd(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),od=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Wh(e=Oh(e,qh));var n=Hh(e),r=e._freezeSettings(),i=new Xc;return Gh(n,i,new Yc(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Wh(e=Oh(e,qh));var t=Hh(e),n=e._freezeSettings(),r=new Xc;return Gh(t,r,new $c(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new br(yr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ul;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return a(t,void 0,void 0,(function(){var t;return l(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return a(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return fl.yt()?[4,fl.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}}))}))}(Cs(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),ad=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof vh||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ir("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Oh(e,Nh))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&Ir("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=Object(u.l)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new br(yr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new bh(new mh(o,new eu(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return a(t,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return[4,lh(e)];case 1:return t=r.sent(),[4,uh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Ar(e);return t.Or.delete(0),Su(t)}(n))]}}))}))}))}(Hh(Oh(this._delegate,qh)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return a(t,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return[4,lh(e)];case 1:return t=r.sent(),[4,uh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return a(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return(t=Ar(e)).Or.add(0),[4,Tu(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Hh(Oh(this._delegate,qh)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Eh("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new ul;return e.asyncQueue.enqueueAndForget((function(){return a(t,void 0,void 0,(function(){var t;return l(this,(function(r){switch(r.label){case 0:return t=Tc,[4,ch(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Hh(Oh(this._delegate,qh)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Zc(t);return e.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return t=function(e,t){Ar(e).Gr.add(t),t.next()},[4,hh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return t=function(e,t){Ar(e).Gr.delete(t)},[4,hh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Hh(e=Oh(e,qh)),Uh(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new br(yr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new _d(this,jh(this._delegate,e))}catch(e){throw fd(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new hd(this,Lh(this._delegate,e))}catch(e){throw fd(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new md(this,function(e,t){if(e=Oh(e,Nh),Ch("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new br(yr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Dh(e,null,function(e){return new Li(Vr.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw fd(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new ul;return e.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return[4,function(e){return ah(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new th(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Hh(e),(function(n){return t(new td(e,n))}))}(this._delegate,(function(n){return e(new sd(t,n))}))},e.prototype.batch=function(){var e=this;return Hh(this._delegate),new ud(new Jf(this._delegate,(function(t){return Zf(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new br(yr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new br(yr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),ld=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return o(t,e),t.prototype.convertBytes=function(e){return new id(new Jh(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return hd.eu(t,this.firestore,null)},t}(Gf),sd=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ld(e)}return e.prototype.get=function(e){var t=this,n=wd(e);return this._delegate.get(n).then((function(e){return new vd(t._firestore,new Af(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=wd(e);return n?(Ih("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=wd(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,s([a,t,n],i)),this},e.prototype.delete=function(e){var t=wd(e);return this._delegate.delete(t),this},e}(),ud=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=wd(e);return n?(Ih("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=wd(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,s([a,t,n],i)),this},e.prototype.delete=function(e){var t=wd(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),cd=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Of(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gd(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new ld(t),n),i.set(n,o)),o},e}();cd.su=new WeakMap;var hd=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ld(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new br(yr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Rh(n._delegate,r,new ei(t)))},e.eu=function(t,n,r){return new e(n,new Rh(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new _d(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new _d(this.firestore,jh(this._delegate,e))}catch(e){throw fd(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(u.q)(e))instanceof Rh&&Bh(this._delegate,e)},e.prototype.set=function(e,t){t=Ih("DocumentReference.set",t);try{return function(e,t,n){e=Oh(e,Rh);var r=Oh(e.firestore,qh),i=Wf(e.converter,t,n);return Zf(r,[of(rf(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,yo.none())])}(this._delegate,e,t)}catch(e){throw fd(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?$f(this._delegate,e):$f.apply(void 0,s([this._delegate,e,t],n))}catch(e){throw fd(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Zf(Oh((e=this._delegate).firestore,qh),[new Ro(e._key,yo.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=dd(t),i=pd(t,(function(t){return new vd(e.firestore,new Af(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Xf(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Oh(e,Rh);var t=Oh(e.firestore,qh),n=Hh(t),r=new Yf(t);return function(e,t){var n=this,r=new ul;return e.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i;return l(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Ar(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new br(yr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Xu(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,sh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Af(t,r,e._key,n,new Tf(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Oh(e,Rh);var t=Oh(e.firestore,qh);return fh(Hh(t),e._key,{source:"server"}).then((function(n){return ed(t,e,n)}))}(this._delegate):function(e){e=Oh(e,Rh);var t=Oh(e.firestore,qh);return fh(Hh(t),e._key).then((function(n){return ed(t,e,n)}))}(this._delegate)).then((function(e){return new vd(t.firestore,new Af(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?cd.nu(this.firestore,t):null))},e}();function fd(e,t,n){return e.message=e.message.replace(t,n),e}function dd(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Uh(r))return r}return{}}function pd(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Uh(e[0])?e[0]:Uh(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var vd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new hd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Nf(this._delegate,e._delegate)},e}(),gd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(vd),md=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ld(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Mf(this._delegate,function(e,t,n){var r=t,i=Sf("where",e);return new jf(i,r,n)}(t,n,r)))}catch(t){throw fd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Mf(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Sf("orderBy",e);return new Lf(r,n)}(t,n)))}catch(t){throw fd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Mf(this._delegate,function(e){return xh("limit",e),new Bf("limit",e,"F")}(t)))}catch(t){throw fd(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Mf(this._delegate,function(e){return xh("limitToLast",e),new Bf("limitToLast",e,"L")}(t)))}catch(t){throw fd(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mf(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ff("startAt",e,!0)}).apply(void 0,t)))}catch(t){throw fd(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mf(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ff("startAfter",e,!1)}).apply(void 0,t)))}catch(t){throw fd(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mf(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Vf("endBefore",e,!0)}).apply(void 0,t)))}catch(t){throw fd(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mf(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Vf("endAt",e,!1)}).apply(void 0,t)))}catch(t){throw fd(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Fh(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Oh(e,Dh);var t=Oh(e.firestore,qh),n=Hh(t),r=new Yf(t);return function(e,t){var n=this,r=new ul;return e.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o,a,s;return l(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Bs(e,t,!0)];case 1:return s=l.sent(),r=new pc(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=l.sent(),s=Xu(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,sh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new xf(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Oh(e,Dh);var t=Oh(e.firestore,qh),n=Hh(t),r=new Yf(t);return dh(n,e._query,{source:"server"}).then((function(n){return new xf(t,r,e,n)}))}(this._delegate):function(e){e=Oh(e,Dh);var t=Oh(e.firestore,qh),n=Hh(t),r=new Yf(t);return Rf(e._query),dh(n,e._query).then((function(n){return new xf(t,r,e,n)}))}(this._delegate)).then((function(e){return new bd(t.firestore,new xf(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=dd(t),i=pd(t,(function(t){return new bd(e.firestore,new xf(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Xf(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?cd.nu(this.firestore,t):null))},e}(),yd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new gd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),bd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new md(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new gd(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new yd(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new gd(n._firestore,r))}))},e.prototype.isEqual=function(e){return Nf(this._delegate,e._delegate)},e}(),_d=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return o(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new hd(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new hd(this.firestore,void 0===e?Lh(this._delegate):Lh(this._delegate,e))}catch(e){throw fd(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Oh(e.firestore,qh),r=Lh(e),i=Wf(e.converter,t);return Zf(n,[of(rf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,yo.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new hd(t.firestore,e)}))},t.prototype.isEqual=function(e){return Bh(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?cd.nu(this.firestore,e):null))},t}(md);function wd(e){return Oh(e,Rh)}var kd,Cd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Kh.bind.apply(Kh,s([void 0],e)))}return e.documentId=function(){return new e(qr.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(u.q)(e))instanceof Kh&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Id=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new sf("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new af("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new uf("arrayUnion",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cf("arrayRemove",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new hf("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),Ed=n("/6Yf"),Sd={Firestore:ad,GeoPoint:Yh,Timestamp:Dr,Blob:id,Transaction:sd,WriteBatch:ud,DocumentReference:hd,DocumentSnapshot:vd,Query:md,QueryDocumentSnapshot:gd,QuerySnapshot:bd,CollectionReference:_d,FieldPath:Cd,FieldValue:Id,setLogLevel:function(e){_r.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Ed.a("firestore",(function(e){return function(e,t){return new ad(e,new qh(e,t),new od)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Sd)))})(kd=r.a),kd.registerVersion("@firebase/firestore","2.3.9")},"6Uf2":function(e,t,n){"use strict";(function(e){var t=n("zIRd"),r=n("/6Yf"),i=n("qOnz"),o=n("mAIw"),a=n("q/0M"),l="";function s(e){l=e}var u,c=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(i.M)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(i.G)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(i.k)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new c(t)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),v=new a.b("@firebase/database"),g=(u=1,function(){return u++}),m=function(e){var t=Object(i.L)(e),n=new i.d;n.update(t);var r=n.digest();return i.h.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",o=0;o<t.length;o++){var a=t[o];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=e.apply(null,a):r+="object"==typeof a?Object(i.M)(a):a,r+=" "}return r},b=null,_=!0,w=function(e,t){Object(i.f)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=a.a.VERBOSE,b=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"==typeof e?b=e:(b=null,p.remove("logging_enabled"))},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===b&&!0===p.get("logging_enabled")&&w(!0)),b){var n=y.apply(null,e);b(n)}},C=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];k.apply(void 0,Object(o.f)([e],Object(o.e)(t)))}},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(o.f)([],Object(o.e)(e)));v.error(n)},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(o.f)([],Object(o.e)(e)));throw v.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,Object(o.f)([],Object(o.e)(e)));v.warn(n)},T=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},A="[MIN_NAME]",O="[MAX_NAME]",x=function(e,t){if(e===t)return 0;if(e===A||t===O)return-1;if(t===A||e===O)return 1;var n=B(e),r=B(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},P=function(e,t){return e===t?0:e<t?-1:1},N=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(i.M)(t))},R=function e(t){if("object"!=typeof t||null===t)return Object(i.M)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var o="{",a=0;a<n.length;a++)0!==a&&(o+=","),o+=Object(i.M)(n[a]),o+=":",o+=e(t[n[a]]);return o+"}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var j=function(e){var t,n,r,o,a;Object(i.f)(!T(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var l=[];for(a=52;a;a-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(t?1:0),l.reverse();var s=l.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},L=new RegExp("^-?(0*)\\d{1,10}$"),B=function(e){if(L.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},F=function(e){try{e()}catch(t){setTimeout((function(){throw S("Exception was thrown by user callback.",t.stack||""),t}),Math.floor(0))}},V=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},U=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){S('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),q=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(k("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';S(e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),H=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},e}();function W(e,t,n){var r;if(Object(i.f)("string"==typeof t,"typeof type must == string"),Object(i.f)("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var o=[];return M(n,(function(e,t){o.push(e+"="+t)})),r+o.join("&")}var K=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(i.k)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(i.n)(this.counters_)},e}(),J={},Q={};function Y(e){var t=e.toString();return J[t]||(J[t]=new K),J[t]}var $=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&F((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),X=function(){function e(e,t,n,r,i,o,a){var l=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(e),this.stats_=Y(t),this.urlFn=function(e){return l.appCheckToken&&(e.ac=l.appCheckToken),W(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new $(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(i.B)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Z((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(o.e)(e,5),i=r[0],a=r[1],l=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=a,n.password=l;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(o.e)(e,2),i=r[0],a=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(Object(i.B)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(i.M)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(i.i)(t),r=D(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(i.B)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(i.M)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Z=function(){function e(t,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.B)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(s){k("frame writing exception"),s.stack&&k(s.stack),k(s)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||k("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(i.B)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){k("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),ee=null;"undefined"!=typeof MozWebSocket?ee=MozWebSocket:"undefined"!=typeof WebSocket&&(ee=WebSocket);var te=function(){function e(t,n,r,i,o,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=Y(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var o={v:"5"};return!Object(i.B)()&&"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o.ac=r),W(e,"websocket",o)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(Object(i.B)()){var r={headers:{"User-Agent":"Firebase/5/"+l+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new ee(this.connURL,[],r)}else this.mySock=new ee(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ee&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(i.G)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(Object(i.f)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=Object(i.M)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ne=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[X,te]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=te&&te.isAvailable(),a=i&&!te.previouslyFailed();if(t.webSocketOnly&&(i||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[te];else{var l=this.transports_=[];try{for(var s=Object(o.g)(e.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&l.push(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),re=function(){function e(e,t,n,r,i,o,a,l,s,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=s,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new ne(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=V((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=N("t",e),n=N("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=N("t",e),n=N("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=N("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?I("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ie=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),oe=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(i.f)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(o.f)([],Object(o.e)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(i.f)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),ae=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(i.z)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(o.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(i.f)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(oe),le=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function se(){return new le("")}function ue(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ce(e){return e.pieces_.length-e.pieceNum_}function he(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new le(e.pieces_,t)}function fe(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function de(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function pe(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new le(t,0)}function ve(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof le)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new le(n,0)}function ge(e){return e.pieceNum_>=e.pieces_.length}function me(e,t){var n=ue(e),r=ue(t);if(null===n)return t;if(n===r)return me(he(e),he(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ye(e,t){for(var n=de(e,0),r=de(t,0),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function be(e,t){if(ce(e)!==ce(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function _e(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ce(e)>ce(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var we=function(e,t){this.errorPrefix_=t,this.parts_=de(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.K)(this.parts_[n]);ke(this)};function ke(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ce(e))}function Ce(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ie,Ee,Se=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(o.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(i.f)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(oe),Te=function(e){function t(n,r,o,a,l,s,u,c){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=o,h.onConnectStatus_=a,h.onServerInfoUpdate_=l,h.authTokenProvider_=s,h.appCheckTokenProvider_=u,h.authOverride_=c,h.id=t.nextPersistentConnectionId_++,h.log_=C("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,c&&!Object(i.B)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Se.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&ae.getInstance().on("online",h.onOnline_,h),h}return Object(o.c)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(Object(i.M)(o)),Object(i.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new i.a,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&o===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Object(i.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.f)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");var l={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var l=a.d,s=a.s;t.warnOnListenWarnings_(l,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==s&&n.removeListen_(i,o),e.onComplete&&e.onComplete(s,l))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&Object(i.k)(e,"w")){var n=Object(i.J)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(i.s)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(i.F)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(i.M)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):I("Unrecognized action received from server: "+Object(i.M)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(i.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Object(o.b)(this,void 0,void 0,(function(){var e,n,r,a,l,s,u,c,h,f,d,p,v,g=this;return Object(o.d)(this,(function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,l=this.lastSessionId,s=!1,u=null,this.realtime_={close:c=function(){u?u.close():(s=!0,r())},sendRequest:function(e){Object(i.f)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return f=o.e.apply(void 0,[m.sent(),2]),d=f[0],p=f[1],s?k("getToken() completed but was canceled"):(k("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,u=new re(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){S(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),l)),[3,4];case 3:return v=m.sent(),this.log_("Failed to get token: "+v),s||(this.repoInfo_.nodeAdmin&&S(v),c()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){k("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){k("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(i.w)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return R(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new le(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){k("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){k("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.g)(this.listens.values()),a=i.next();!a.done;a=i.next()){var l=a.value;try{for(var s=(n=void 0,Object(o.g)(l.values())),u=s.next();!u.done;u=s.next())this.sendListen_(u.value)}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(i.B)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+l.replace(/\./g,"-")]=1,Object(i.z)()?e["framework.cordova"]=1:Object(i.C)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=ae.getInstance().currentlyOnline();return Object(i.w)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ie),Ae=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Oe=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ae(A,e),r=new Ae(A,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ae.MIN},e}(),xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ie},set:function(e){Ie=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return x(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(i.g)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ae.MIN},t.prototype.maxPost=function(){return new Ae(O,Ie)},t.prototype.makePost=function(e,t){return Object(i.f)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ae(e,Ie)},t.prototype.toString=function(){return".key"},t}(Oe),Pe=new xe,Ne=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Re=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Me.EMPTY_NODE,this.right=null!=o?o:Me.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Me.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Me.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),De=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Re(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Me=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Re.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Re.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ne(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ne(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ne(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ne(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new De,e}();function je(e,t){return x(e.name,t.name)}function Le(e,t){return x(e,t)}var Be,Fe,Ve,Ue,qe,He=function(e){return"number"==typeof e?"number:"+j(e):"string:"+e},ze=function(e){if(e.isLeafNode()){var t=e.val();Object(i.f)("string"==typeof t||"number"==typeof t||"object"==typeof t&&Object(i.k)(t,".sv"),"Priority must be a string or number.")}else Object(i.f)(e===Ee||e.isEmpty(),"priority of unexpected type.");Object(i.f)(e===Ee||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ge=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(i.f)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ze(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Be},set:function(e){Be=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ge(t)?this:".priority"===ue(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ue(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.f)(".priority"!==r||1===ce(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+He(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?j(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(i.f)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(i.f)(o>=0,"Unknown leaf type: "+n),Object(i.f)(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-o},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),We=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?x(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ae.MIN},t.prototype.maxPost=function(){return new Ae(O,new Ge("[PRIORITY-POST]",Ve))},t.prototype.makePost=function(e,t){var n=Fe(e);return new Ae(t,new Ge("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Oe)),Ke=Math.log(2),Je=function(){function e(e){this.count=parseInt(Math.log(e+1)/Ke,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Qe=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,o=e.length,a=function(t,r){var i=o-t,a=o;o-=t;var s=function t(r,i){var o,a,l=i-r;if(0===l)return null;if(1===l)return o=e[r],a=n?n(o):o,new Re(a,o.node,Re.BLACK,null,null);var s=parseInt(l/2,10)+r,u=t(r,s),c=t(s+1,i);return o=e[s],a=n?n(o):o,new Re(a,o.node,Re.BLACK,u,c)}(i+1,a),u=e[i],c=n?n(u):u;l(new Re(c,u.node,r,null,s))},l=function(e){r?(r.left=e,r=e):(i=e,r=e)},s=0;s<t.count;++s){var u=t.nextBitIsOne(),c=Math.pow(2,t.count-(s+1));u?a(c,Re.BLACK):(a(c,Re.BLACK),a(c,Re.RED))}return i}(new Je(e.length));return new Me(r||t,i)},Ye={},$e=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(i.f)(Ye&&We,"ChildrenNode.ts has not been loaded"),Ue=Ue||new e({".priority":Ye},{".priority":We})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(i.J)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Me?t:null},e.prototype.hasIndex=function(e){return Object(i.k)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(i.f)(t!==Pe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],l=!1,s=n.getIterator(Ae.Wrap),u=s.getNext();u;)l=l||t.isDefinedOn(u.node),a.push(u),u=s.getNext();r=l?Qe(a,t.getCompare()):Ye;var c=t.toString(),h=Object(o.a)({},this.indexSet_);h[c]=t;var f=Object(o.a)({},this.indexes_);return f[c]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(i.H)(this.indexes_,(function(e,o){var a=Object(i.J)(r.indexSet_,o);if(Object(i.f)(a,"Missing index implementation for "+o),e===Ye){if(a.isDefinedOn(t.node)){for(var l=[],s=n.getIterator(Ae.Wrap),u=s.getNext();u;)u.name!==t.name&&l.push(u),u=s.getNext();return l.push(t),Qe(l,a.getCompare())}return Ye}var c=n.get(t.name),h=e;return c&&(h=h.remove(new Ae(t.name,c))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(i.H)(this.indexes_,(function(e){if(e===Ye)return e;var r=n.get(t.name);return r?e.remove(new Ae(t.name,r)):e})),this.indexSet_)},e}(),Xe=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ze(this.priorityNode_),this.children_.isEmpty()&&Object(i.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return qe||(qe=new e(new Me(Le),null,$e.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||qe},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?qe:t},e.prototype.getChild=function(e){var t=ue(e);return null===t?this:this.getImmediateChild(t).getChild(he(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(i.f)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ae(t,n),o=void 0,a=void 0;n.isEmpty()?(o=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var l=o.isEmpty()?qe:this.priorityNode_;return new e(o,l,a)},e.prototype.updateChild=function(e,t){var n=ue(e);if(null===n)return t;Object(i.f)(".priority"!==ue(e)||1===ce(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(he(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(We,(function(a,l){n[a]=l.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+He(this.getPriority().val())+":"),this.forEachChild(We,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ae(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ae(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ae(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ae.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ae.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ze?-1:0},e.prototype.withIndex=function(t){if(t===Pe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Pe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(We),r=t.getIterator(We),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Pe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Ze=new(function(e){function t(){return e.call(this,new Me(Le),Xe.EMPTY_NODE,$e.Default)||this}return Object(o.c)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Xe.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Xe));function et(e,t){if(void 0===t&&(t=null),null===e)return Xe.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Object(i.f)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ge(e,et(t));if(e instanceof Array){var n=Xe.EMPTY_NODE;return M(e,(function(t,r){if(Object(i.k)(e,t)&&"."!==t.substring(0,1)){var o=et(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(t,o))}})),n.updatePriority(et(t))}var r=[],o=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=et(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Ae(e,n)))}})),0===r.length)return Xe.EMPTY_NODE;var a=Qe(r,je,(function(e){return e.name}),Le);if(o){var l=Qe(r,We.getCompare());return new Xe(a,et(t),new $e({".priority":l},{".priority":We}))}return new Xe(a,et(t),$e.Default)}Object.defineProperties(Ae,{MIN:{value:new Ae(A,Xe.EMPTY_NODE)},MAX:{value:new Ae(O,Ze)}}),xe.__EMPTY_NODE=Xe.EMPTY_NODE,Ge.__childrenNodeConstructor=Xe,Ee=Ze,Ve=Ze,function(e){Fe=e}(et);var tt,nt,rt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(i.f)(!ge(t)&&".priority"!==ue(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.c)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?x(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=et(e),r=Xe.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ae(t,r)},t.prototype.maxPost=function(){var e=Xe.EMPTY_NODE.updateChild(this.indexPath_,Ze);return new Ae(O,e)},t.prototype.toString=function(){return de(this.indexPath_,0).join("/")},t}(Oe),it=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?x(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ae.MIN},t.prototype.maxPost=function(){return Ae.MAX},t.prototype.makePost=function(e,t){var n=et(e);return new Ae(t,n)},t.prototype.toString=function(){return".value"},t}(Oe)),ot="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",at=(tt=0,nt=[],function(e){var t,n=e===tt;tt=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=ot.charAt(e%64),e=Math.floor(e/64);Object(i.f)(0===e,"Cannot push at time == 0");var o=r.join("");if(n){for(t=11;t>=0&&63===nt[t];t--)nt[t]=0;nt[t]++}else for(t=0;t<12;t++)nt[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)o+=ot.charAt(nt[t]);return Object(i.f)(20===o.length,"nextPushId: Length should be 20."),o}),lt=function(e){if("2147483647"===e)return"-";var t=B(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return O;var o=ot.charAt(ot.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},st=function(e){if("-2147483648"===e)return A;var t=B(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ot.charAt(ot.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ut(e){return{type:"value",snapshotNode:e}}function ct(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ht(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ft(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var dt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,o,a){Object(i.f)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=e.getImmediateChild(t);return l.getChild(r).equals(n.getChild(r))&&l.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(ht(t,l)):Object(i.f)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(ct(t,n)):a.trackChildChange(ft(t,n,l))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(We,(function(e,r){t.hasChild(e)||n.trackChildChange(ht(e,r))})),t.isLeafNode()||t.forEachChild(We,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ft(t,r,i))}else n.trackChildChange(ct(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Xe.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),pt=function(){function e(t){this.indexedFilter_=new dt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ae(t,n))||(n=Xe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Xe.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Xe.EMPTY_NODE);var i=this;return t.forEachChild(We,(function(e,t){i.matches(new Ae(e,t))||(r=r.updateImmediateChild(e,Xe.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),vt=function(){function e(e){this.rangedFilter_=new pt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ae(t,n))||(n=Xe.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Xe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Xe.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Xe.EMPTY_NODE);var l=void 0,s=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&u(l,a)<=0&&(h=!0),h&&o<this.limit_&&u(a,s)<=0?o++:r=r.updateImmediateChild(a.name,Xe.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,o){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(e,t){return l(t,e)}}else a=this.index_.getCompare();var s=e;Object(i.f)(s.numChildren()===this.limit_,"");var u=new Ae(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name===t||s.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,u);if(h&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(ft(t,n,f)),s.updateImmediateChild(t,n);null!=o&&o.trackChildChange(ht(t,f));var v=s.updateImmediateChild(t,Xe.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=o&&o.trackChildChange(ct(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&a(c,u)>=0?(null!=o&&(o.trackChildChange(ht(c.name,c.node)),o.trackChildChange(ct(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Xe.EMPTY_NODE)):e},e}(),gt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(i.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(i.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(i.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(i.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(i.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===We},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function mt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function yt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function bt(e,t){var n=e.copy();return n.index_=t,n}function _t(e){var t,n={};return e.isDefault()||(e.index_===We?t="$priority":e.index_===it?t="$value":e.index_===Pe?t="$key":(Object(i.f)(e.index_ instanceof rt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(i.M)(t),e.startSet_&&(n.startAt=Object(i.M)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(i.M)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(i.M)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(i.M)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function wt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==We&&(t.i=e.index_.toString()),t}var kt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=C("p:rest:"),o.listens_={},o}return Object(o.c)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(i.f)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,o){var a=this,l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);var s=t.getListenId_(e,r),u={};this.listens_[s]=u;var c=_t(e._queryParams);this.restRequest_(l+".json",c,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(l,n,!1,r),Object(i.J)(a.listens_,s)===u&&o(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=_t(e._queryParams),r=e._path.toString(),o=new i.a;return this.restRequest_(r+".json",n,(function(e,n){var i=n;404===e&&(i=null,e=null),null===e?(t.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))})),o.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(a){var l=Object(o.e)(a,2),s=l[0],u=l[1];s&&s.accessToken&&(t.auth=s.accessToken),u&&u.token&&(t.ac=u.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(i.I)(t);r.log_("Sending REST request for "+c);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=Object(i.G)(h.responseText)}catch(t){S("Failed to parse JSON response for "+c+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&S("Got unsuccessful REST response for "+c+" Status: "+h.status),n(h.status);n=null}},h.open("GET",c,!0),h.send()}))},t}(ie),Ct=function(){function e(){this.rootNode_=Xe.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function It(){return{value:null,children:new Map}}function Et(e,t,n){if(ge(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ue(t);e.children.has(r)||e.children.set(r,It()),Et(e.children.get(r),t=he(t),n)}}function St(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){St(r,new le(t.toString()+"/"+e),n)}))}var Tt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(o.a)({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),At=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Tt(e);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,o){o>0&&Object(i.k)(e.statsToReport_,t)&&(n[t]=o,r=!0)})),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Ot=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({});function xt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Pt,Nt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ot.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(ge(this.path)){if(null!=this.affectedTree.value)return Object(i.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new le(t));return new e(se(),n,this.revert)}return Object(i.f)(ue(this.path)===t,"operationForChild called for unrelated child."),new e(he(this.path),this.affectedTree,this.revert)},e}(),Rt=function(){function e(e,t){this.source=e,this.path=t,this.type=Ot.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ge(this.path)?new e(this.source,se()):new e(this.source,he(this.path))},e}(),Dt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ot.OVERWRITE}return e.prototype.operationForChild=function(t){return ge(this.path)?new e(this.source,se(),this.snap.getImmediateChild(t)):new e(this.source,he(this.path),this.snap)},e}(),Mt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ot.MERGE}return e.prototype.operationForChild=function(t){if(ge(this.path)){var n=this.children.subtree(new le(t));return n.isEmpty()?null:n.value?new Dt(this.source,se(),n.value):new e(this.source,se(),n)}return Object(i.f)(ue(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,he(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),jt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;var t=ue(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Lt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Bt(e,t,n,r,o,a){var l=r.filter((function(e){return e.type===n}));l.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(i.g)("Should only compare child_ events.");var r=new Ae(t.childName,t.snapshotNode),o=new Ae(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n)})),l.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);o.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Ft(e,t){return{eventCache:e,serverCache:t}}function Vt(e,t,n,r){return Ft(new jt(t,n,r),e.serverCache)}function Ut(e,t,n,r){return Ft(e.eventCache,new jt(t,n,r))}function qt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ht(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var zt=function(){function e(e,t){void 0===t&&(Pt||(Pt=new Me(P)),t=Pt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return M(t,(function(e,t){n=n.set(new le(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:se(),value:this.value};if(ge(e))return null;var n=ue(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(he(e),t);return null!=i?{path:ve(new le(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(ge(t))return this;var n=ue(t),r=this.children.get(n);return null!==r?r.subtree(he(t)):new e(null)},e.prototype.set=function(t,n){if(ge(t))return new e(n,this.children);var r=ue(t),i=(this.children.get(r)||new e(null)).set(he(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(ge(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ue(t),r=this.children.get(n);if(r){var i=r.remove(he(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(ge(e))return this.value;var t=ue(e),n=this.children.get(t);return n?n.get(he(e)):null},e.prototype.setTree=function(t,n){if(ge(t))return n;var r,i=ue(t),o=(this.children.get(i)||new e(null)).setTree(he(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(se(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(ve(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,se(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ge(e))return null;var i=ue(e),o=this.children.get(i);return o?o.findOnPath_(he(e),ve(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,se(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(ge(t))return this;this.value&&r(n,this.value);var i=ue(t),o=this.children.get(i);return o?o.foreachOnPath_(he(t),ve(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(se(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(ve(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Gt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new zt(null))},e}();function Wt(e,t,n){if(ge(t))return new Gt(new zt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=me(i,t);return o=o.updateChild(a,n),new Gt(e.writeTree_.set(i,o))}var l=new zt(n),s=e.writeTree_.setTree(t,l);return new Gt(s)}function Kt(e,t,n){var r=e;return M(n,(function(e,n){r=Wt(r,ve(t,e),n)})),r}function Jt(e,t){if(ge(t))return Gt.empty();var n=e.writeTree_.setTree(t,new zt(null));return new Gt(n)}function Qt(e,t){return null!=Yt(e,t)}function Yt(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(me(n.path,t)):null}function $t(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(We,(function(e,n){t.push(new Ae(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ae(e,n.value))})),t}function Xt(e,t){if(ge(t))return e;var n=Yt(e,t);return new Gt(null!=n?new zt(n):e.writeTree_.subtree(t))}function Zt(e){return e.writeTree_.isEmpty()}function en(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var o=null;return n.children.inorderTraversal((function(n,a){".priority"===n?(Object(i.f)(null!==a.value,"Priority writes must always be leaf nodes"),o=a.value):r=e(ve(t,n),a,r)})),r.getChild(t).isEmpty()||null===o||(r=r.updateChild(ve(t,".priority"),o)),r}(se(),e.writeTree_,t)}function tn(e,t){return dn(t,e)}function nn(e,t){if(e.snap)return _e(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&_e(ve(e.path,n),t))return!0;return!1}function rn(e){return e.visible}function on(e,t,n){for(var r=Gt.empty(),o=0;o<e.length;++o){var a=e[o];if(t(a)){var l=a.path,s=void 0;if(a.snap)_e(n,l)?r=Wt(r,s=me(n,l),a.snap):_e(l,n)&&(s=me(l,n),r=Wt(r,se(),a.snap.getChild(s)));else{if(!a.children)throw Object(i.g)("WriteRecord should have .snap or .children");if(_e(n,l))r=Kt(r,s=me(n,l),a.children);else if(_e(l,n))if(ge(s=me(l,n)))r=Kt(r,se(),a.children);else{var u=Object(i.J)(a.children,ue(s));if(u){var c=u.getChild(he(s));r=Wt(r,se(),c)}}}}}return r}function an(e,t,n,r,i){if(r||i){var o=Xt(e.visibleWrites,t);return!i&&Zt(o)?n:i||null!=n||Qt(o,se())?en(on(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(_e(e.path,t)||_e(t,e.path))}),t),n||Xe.EMPTY_NODE):null}var a=Yt(e.visibleWrites,t);if(null!=a)return a;var l=Xt(e.visibleWrites,t);return Zt(l)?n:null!=n||Qt(l,se())?en(l,n||Xe.EMPTY_NODE):null}function ln(e,t,n,r){return an(e.writeTree,e.treePath,t,n,r)}function sn(e,t){return function(e,t,n){var r=Xe.EMPTY_NODE,i=Yt(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(We,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Xt(e.visibleWrites,t);return n.forEachChild(We,(function(e,t){var n=en(Xt(o,new le(e)),t);r=r.updateImmediateChild(e,n)})),$t(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return $t(Xt(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function un(e,t,n,r){return function(e,t,n,r,o){Object(i.f)(r||o,"Either existingEventSnap or existingServerSnap must exist");var a=ve(t,n);if(Qt(e.visibleWrites,a))return null;var l=Xt(e.visibleWrites,a);return Zt(l)?o.getChild(n):en(l,o.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function cn(e,t){return function(e,t){return Yt(e.visibleWrites,t)}(e.writeTree,ve(e.treePath,t))}function hn(e,t,n){return function(e,t,n,r){var i=ve(t,n),o=Yt(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?en(Xt(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function fn(e,t){return dn(ve(e.treePath,t),e.writeTree)}function dn(e,t){return{treePath:e,writeTree:t}}var pn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(i.f)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(i.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,ft(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,ht(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,ct(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Object(i.g)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ft(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),vn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),gn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new jt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ht(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var l,s=Xt(e.visibleWrites,t),u=Yt(s,se());if(null!=u)l=u;else{if(null==n)return[];l=en(s,n)}if((l=l.withIndex(a)).isEmpty()||l.isLeafNode())return[];for(var c=[],h=a.getCompare(),f=o?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),d=f.getNext();d&&c.length<1;)0!==h(d,r)&&c.push(d),d=f.getNext();return c}(e.writeTree,e.treePath,t,n,0,i,o)}(this.writes_,r,t,0,n,e);return 0===i.length?null:i[0]},e}();function mn(e,t,n,r,o,a){var l=t.eventCache;if(null!=cn(r,n))return t;var s=void 0,u=void 0;if(ge(n))if(Object(i.f)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Ht(t),h=sn(r,c instanceof Xe?c:Xe.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=ln(r,Ht(t));s=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=ue(n);if(".priority"===d){Object(i.f)(1===ce(n),"Can't have a priority with additional path components");var p=l.getNode(),v=un(r,n,p,u=t.serverCache.getNode());s=null!=v?e.filter.updatePriority(p,v):l.getNode()}else{var g=he(n),m=void 0;if(l.isCompleteForChild(d)){u=t.serverCache.getNode();var y=un(r,n,l.getNode(),u);m=null!=y?l.getNode().getImmediateChild(d).updateChild(g,y):l.getNode().getImmediateChild(d)}else m=hn(r,d,t.serverCache);s=null!=m?e.filter.updateChild(l.getNode(),d,m,g,o,a):l.getNode()}}return Vt(t,s,l.isFullyInitialized()||ge(n),e.filter.filtersNodes())}function yn(e,t,n,r,i,o,a,l){var s,u=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(ge(n))s=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,r);s=c.updateFullNode(u.getNode(),h,null)}else{var f=ue(n);if(!u.isCompleteForPath(n)&&ce(n)>1)return t;var d=he(n),p=u.getNode().getImmediateChild(f).updateChild(d,r);s=".priority"===f?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),f,p,d,vn,null)}var v=Ut(t,s,u.isFullyInitialized()||ge(n),c.filtersNodes());return mn(e,v,n,i,new gn(i,v,o),l)}function bn(e,t,n,r,i,o,a){var l,s,u=t.eventCache,c=new gn(i,t,o);if(ge(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=Vt(t,s,!0,e.filter.filtersNodes());else{var h=ue(n);if(".priority"===h)s=e.filter.updatePriority(t.eventCache.getNode(),r),l=Vt(t,s,u.isFullyInitialized(),u.isFiltered());else{var f=he(n),d=u.getNode().getImmediateChild(h),p=void 0;if(ge(f))p=r;else{var v=c.getCompleteChild(h);p=null!=v?".priority"===fe(f)&&v.getChild(pe(f)).isEmpty()?v:v.updateChild(f,r):Xe.EMPTY_NODE}l=d.equals(p)?t:Vt(t,e.filter.updateChild(u.getNode(),h,p,f,c,a),u.isFullyInitialized(),e.filter.filtersNodes())}}return l}function _n(e,t){return e.eventCache.isCompleteForChild(t)}function wn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function kn(e,t,n,r,i,o,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,u=t;s=ge(n)?r:new zt(null).setTree(n,r);var c=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var s=wn(0,t.serverCache.getNode().getImmediateChild(n),r);u=yn(e,u,new le(n),s,i,o,a,l)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!s){var h=wn(0,t.serverCache.getNode().getImmediateChild(n),r);u=yn(e,u,new le(n),h,i,o,a,l)}})),u}var Cn,In=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new dt(r.getIndex()),o=(n=r).loadsAllData()?new dt(n.getIndex()):n.hasLimit()?new vt(n):new pt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,l=t.eventCache,s=i.updateFullNode(Xe.EMPTY_NODE,a.getNode(),null),u=o.updateFullNode(Xe.EMPTY_NODE,l.getNode(),null),c=new jt(s,a.isFullyInitialized(),i.filtersNodes()),h=new jt(u,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ft(h,c),this.eventGenerator_=new Lt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function En(e,t){var n=Ht(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ge(t)&&!n.getImmediateChild(ue(t)).isEmpty())?n.getChild(t):null}function Sn(e){return 0===e.eventRegistrations_.length}function Tn(e,t,n){var r=[];if(n){Object(i.f)(null==t,"A cancel should cancel all event registrations.");var o=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,o);t&&r.push(t)}))}if(t){for(var a=[],l=0;l<e.eventRegistrations_.length;++l){var s=e.eventRegistrations_[l];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(l+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function An(e,t,n,r){t.type===Ot.MERGE&&null!==t.source.queryId&&(Object(i.f)(Ht(e.viewCache_),"We should always have a full cache before handling merges"),Object(i.f)(qt(e.viewCache_),"Missing event cache, even though we have a server cache"));var o,a,l=e.viewCache_,s=function(e,t,n,r,o){var a,l,s=new pn;if(n.type===Ot.OVERWRITE){var u=n;u.source.fromUser?a=bn(e,t,u.path,u.snap,r,o,s):(Object(i.f)(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!ge(u.path),a=yn(e,t,u.path,u.snap,r,o,l,s))}else if(n.type===Ot.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,o,a){var l=t;return r.foreach((function(r,s){var u=ve(n,r);_n(t,ue(u))&&(l=bn(e,l,u,s,i,o,a))})),r.foreach((function(r,s){var u=ve(n,r);_n(t,ue(u))||(l=bn(e,l,u,s,i,o,a))})),l}(e,t,c.path,c.children,r,o,s):(Object(i.f)(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered(),a=kn(e,t,c.path,c.children,r,o,l,s))}else if(n.type===Ot.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,o,a){var l;if(null!=cn(r,n))return t;var s=new gn(r,t,o),u=t.eventCache.getNode(),c=void 0;if(ge(n)||".priority"===ue(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=ln(r,Ht(t));else{var f=t.serverCache.getNode();Object(i.f)(f instanceof Xe,"serverChildren would be complete if leaf node"),h=sn(r,f)}c=e.filter.updateFullNode(u,h=h,a)}else{var d=ue(n),p=hn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=u.getImmediateChild(d)),(c=null!=p?e.filter.updateChild(u,d,p,he(n),s,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(u,d,Xe.EMPTY_NODE,he(n),s,a):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(l=ln(r,Ht(t))).isLeafNode()&&(c=e.filter.updateFullNode(c,l,a))}return l=t.serverCache.isFullyInitialized()||null!=cn(r,se()),Vt(t,c,l,e.filter.filtersNodes())}(e,t,h.path,r,o,s):function(e,t,n,r,i,o,a){if(null!=cn(i,n))return t;var l=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(ge(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return yn(e,t,n,s.getNode().getChild(n),i,o,l,a);if(ge(n)){var u=new zt(null);return s.getNode().forEachChild(Pe,(function(e,t){u=u.set(new le(e),t)})),kn(e,t,n,u,i,o,l,a)}return t}var c=new zt(null);return r.foreach((function(e,t){var r=ve(n,e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))})),kn(e,t,n,c,i,o,l,a)}(e,t,h.path,h.affectedTree,r,o,s)}else{if(n.type!==Ot.LISTEN_COMPLETE)throw Object(i.g)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return mn(e,Ut(t,o.getNode(),o.isFullyInitialized()||ge(n),o.isFiltered()),n,r,vn,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=qt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ut(qt(t)))}}(t,a,f),{viewCache:a,changes:f}}(e.processor_,l,t,n,r);return o=e.processor_,a=s.viewCache,Object(i.f)(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.f)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.f)(s.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,On(e,s.changes,s.viewCache.eventCache.getNode(),null)}function On(e,t,n,r){return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})})),Bt(e,i,"child_removed",t,r,n),Bt(e,i,"child_added",t,r,n),Bt(e,i,"child_moved",o,r,n),Bt(e,i,"child_changed",t,r,n),Bt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}var xn,Pn=function(){this.views=new Map};function Nn(e,t,n,r){var a,l,s=t.source.queryId;if(null!==s){var u=e.views.get(s);return Object(i.f)(null!=u,"SyncTree gave us an op for an invalid query."),An(u,t,n,r)}var c=[];try{for(var h=Object(o.g)(e.views.values()),f=h.next();!f.done;f=h.next())c=c.concat(An(u=f.value,t,n,r))}catch(d){a={error:d}}finally{try{f&&!f.done&&(l=h.return)&&l.call(h)}finally{if(a)throw a.error}}return c}function Rn(e,t,n,r,i){var o=e.views.get(t._queryIdentifier);if(!o){var a=ln(n,i?r:null),l=!1;a?l=!0:r instanceof Xe?(a=sn(n,r),l=!1):(a=Xe.EMPTY_NODE,l=!1);var s=Ft(new jt(a,l,!1),new jt(r,i,!1));return new In(t,s)}return o}function Dn(e){var t,n,r=[];try{for(var i=Object(o.g)(e.views.values()),a=i.next();!a.done;a=i.next()){var l=a.value;l.query._queryParams.loadsAllData()||r.push(l)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Mn(e,t){var n,r,i=null;try{for(var a=Object(o.g)(e.views.values()),l=a.next();!l.done;l=a.next())i=i||En(l.value,t)}catch(s){n={error:s}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}function jn(e,t){return t._queryParams.loadsAllData()?Fn(e):e.views.get(t._queryIdentifier)}function Ln(e,t){return null!=jn(e,t)}function Bn(e){return null!=Fn(e)}function Fn(e){var t,n;try{for(var r=Object(o.g)(e.views.values()),i=r.next();!i.done;i=r.next()){var a=i.value;if(a.query._queryParams.loadsAllData())return a}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Vn=1,Un=function(e){this.listenProvider_=e,this.syncPointTree_=new zt(null),this.pendingWriteTree_={visibleWrites:Gt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function qn(e,t,n,r,o){return function(e,t,n,r,o){Object(i.f)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=Wt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?Jn(e,new Dt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Hn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(i.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var o=r.visible,a=!1,l=e.allWrites.length-1;o&&l>=0;){var s=e.allWrites[l];s.visible&&(l>=n&&nn(s,r.path)?o=!1:_e(r.path,s.path)&&(a=!0)),l--}return!!o&&(a?(function(e){e.visibleWrites=on(e.allWrites,rn,se()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=Jt(e.visibleWrites,r.path):M(r.children,(function(t){e.visibleWrites=Jt(e.visibleWrites,ve(r.path,t))})),!0))}(e.pendingWriteTree_,t)){var o=new zt(null);return null!=r.snap?o=o.set(se(),!0):M(r.children,(function(e){o=o.set(new le(e),!0)})),Jn(e,new Nt(r.path,o,n))}return[]}function zn(e,t,n){return Jn(e,new Dt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Gn(e,t,n,r){var a=t._path,l=e.syncPointTree_.get(a),s=[];if(l&&("default"===t._queryIdentifier||Ln(l,t))){var u=function(e,t,n,r){var a,l,s=t._queryIdentifier,u=[],c=[],h=Bn(e);if("default"===s)try{for(var f=Object(o.g)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p,v=Object(o.e)(d.value,2),g=v[0];c=c.concat(Tn(p=v[1],n,r)),Sn(p)&&(e.views.delete(g),p.query._queryParams.loadsAllData()||u.push(p.query))}}catch(m){a={error:m}}finally{try{d&&!d.done&&(l=f.return)&&l.call(f)}finally{if(a)throw a.error}}else(p=e.views.get(s))&&(c=c.concat(Tn(p,n,r)),Sn(p)&&(e.views.delete(s),p.query._queryParams.loadsAllData()||u.push(p.query)));return h&&!Bn(e)&&u.push(new(Object(i.f)(Cn,"Reference.ts has not been loaded"),Cn)(t._repo,t._path)),{removed:u,events:c}}(l,t,n,r);0===l.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;s=u.events;var h=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Bn(t)}));if(h&&!f){var d=e.syncPointTree_.subtree(a);if(!d.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&Bn(t))return[Fn(t)];var r=[];return t&&(r=Dn(t)),M(n,(function(e,t){r=r.concat(t)})),r}))}(d),v=0;v<p.length;++v){var g=p[v],m=g.query,y=Qn(e,g);e.listenProvider_.startListening(tr(m),Yn(e,m),y.hashFn,y.onComplete)}}!f&&c.length>0&&!r&&(h?e.listenProvider_.stopListening(tr(t),null):c.forEach((function(t){var n=e.queryToTagMap.get($n(t));e.listenProvider_.stopListening(tr(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=$n(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,c)}return s}function Wn(e,t,n){var r=t._path,o=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=me(e,r);o=o||Mn(t,n),a=a||Bn(t)}));var l,s=e.syncPointTree_.get(r);s?(a=a||Bn(s),o=o||Mn(s,se())):(s=new Pn,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=o?l=!0:(l=!1,o=Xe.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Mn(t,se());n&&(o=o.updateImmediateChild(e,n))})));var u=Ln(s,t);if(!u&&!t._queryParams.loadsAllData()){var c=$n(t);Object(i.f)(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=Vn++;e.queryToTagMap.set(c,h),e.tagToQueryMap.set(h,c)}var f=function(e,t,n,r,i,o){var a=Rn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(We,(function(e,t){r.push(ct(e,t))})),n.isFullyInitialized()&&r.push(ut(n.getNode())),On(e,r,n.getNode(),t)}(a,n)}(s,t,n,tn(e.pendingWriteTree_,r),o,l);if(!u&&!a){var d=jn(s,t);f=f.concat(function(e,t,n){var r=t._path,o=Yn(e,t),a=Qn(e,n),l=e.listenProvider_.startListening(tr(t),o,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(o)Object(i.f)(!Bn(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!ge(e)&&t&&Bn(t))return[Fn(t).query];var r=[];return t&&(r=r.concat(Dn(t).map((function(e){return e.query})))),M(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var h=u[c];e.listenProvider_.stopListening(tr(h),Yn(e,h))}return l}(e,t,d))}return f}function Kn(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Mn(n,me(e,t));if(r)return r}));return an(r,t,i,n,!0)}function Jn(e,t){return function e(t,n,r,i){if(ge(t.path))return function e(t,n,r,i){var o=n.get(se());null==r&&null!=o&&(r=Mn(o,se()));var a=[];return n.children.inorderTraversal((function(n,o){var l=r?r.getImmediateChild(n):null,s=fn(i,n),u=t.operationForChild(n);u&&(a=a.concat(e(u,o,l,s)))})),o&&(a=a.concat(Nn(o,t,i,r))),a}(t,n,r,i);var o=n.get(se());null==r&&null!=o&&(r=Mn(o,se()));var a=[],l=ue(t.path),s=t.operationForChild(l),u=n.children.get(l);if(u&&s){var c=r?r.getImmediateChild(l):null,h=fn(i,l);a=a.concat(e(s,u,c,h))}return o&&(a=a.concat(Nn(o,t,i,r))),a}(t,e.syncPointTree_,null,tn(e.pendingWriteTree_,se()))}function Qn(e,t){var n=t.query,r=Yn(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||Xe.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Xn(e,n);if(r){var i=Zn(r),o=i.path,a=i.queryId,l=me(o,t);return er(e,o,new Rt(xt(a),l))}return[]}(e,n._path,r):function(e,t){return Jn(e,new Rt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Gn(e,n,null,i)}}}function Yn(e,t){var n=$n(t);return e.queryToTagMap.get(n)}function $n(e){return e._path.toString()+"$"+e._queryIdentifier}function Xn(e,t){return e.tagToQueryMap.get(t)}function Zn(e){var t=e.indexOf("$");return Object(i.f)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new le(e.substr(0,t))}}function er(e,t,n){var r=e.syncPointTree_.get(t);return Object(i.f)(r,"Missing sync point for query tag that we're tracking"),Nn(r,n,tn(e.pendingWriteTree_,t),null)}function tr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(i.f)(xn,"Reference.ts has not been loaded"),xn)(e._repo,e._path):e}var nr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),rr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=ve(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Kn(this.syncTree_,this.path_)},e}(),ir=function(e,t,n){return e&&"object"==typeof e?(Object(i.f)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?or(e[".sv"],t,n):"object"==typeof e[".sv"]?ar(e[".sv"],t):void Object(i.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},or=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(i.f)(!1,"Unexpected server value: "+e)}},ar=function(e,t,n){e.hasOwnProperty("increment")||Object(i.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Object(i.f)(!1,"Unexpected increment value: "+r);var o=t.node();if(Object(i.f)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var a=o.getValue();return"number"!=typeof a?r:a+r},lr=function(e,t,n,r){return ur(t,new rr(n,e),r)},sr=function(e,t,n){return ur(e,new nr(t),n)};function ur(e,t,n){var r,i=e.getPriority().val(),o=ir(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,l=ir(a.getValue(),t,n);return l!==a.getValue()||o!==a.getPriority().val()?new Ge(l,et(o)):e}var s=e;return r=s,o!==s.getPriority().val()&&(r=r.updatePriority(new Ge(o))),s.forEachChild(We,(function(e,i){var o=ur(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var cr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function hr(e,t){for(var n=t instanceof le?t:new le(t),r=e,o=ue(n);null!==o;){var a=Object(i.J)(r.node.children,o)||{children:{},childCount:0};r=new cr(o,r,a),o=ue(n=he(n))}return r}function fr(e){return e.node.value}function dr(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,n,r){var o=function(e){return void 0===fr(e)&&!pr(e)}(r),a=Object(i.k)(t.node.children,n);o&&a?(delete t.node.children[n],t.node.childCount--,e(t)):o||a||(t.node.children[n]=r.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function pr(e){return e.node.childCount>0}function vr(e,t){M(e.node.children,(function(n,r){t(new cr(n,e,r))}))}function gr(e){return new le(null===e.parent?e.name:gr(e.parent)+"/"+e.name)}var mr=/[\[\].#$\/\u0000-\u001F\u007F]/,yr=/[\[\].#$\u0000-\u001F\u007F]/,br=function(e){return"string"==typeof e&&0!==e.length&&!mr.test(e)},_r=function(e){return"string"==typeof e&&0!==e.length&&!yr.test(e)},wr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!T(e)||e&&"object"==typeof e&&Object(i.k)(e,".sv")},kr=function(e,t,n,r){r&&void 0===t||Cr(Object(i.p)(e,"value"),t,n)},Cr=function e(t,n,r){var o=r instanceof le?new we(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Ce(o));if("function"==typeof n)throw new Error(t+"contains a function "+Ce(o)+" with contents = "+n.toString());if(T(n))throw new Error(t+"contains "+n.toString()+" "+Ce(o));if("string"==typeof n&&n.length>10485760/3&&Object(i.K)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Ce(o)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,l=!1;if(M(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(l=!0,!br(n)))throw new Error(t+" contains an invalid key ("+n+") "+Ce(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(i.K)(t),ke(e)}(o,n),e(t,r,o),u=(s=o).parts_.pop(),s.byteLength_-=Object(i.K)(u),s.parts_.length>0&&(s.byteLength_-=1)})),a&&l)throw new Error(t+' contains ".value" child '+Ce(o)+" in addition to actual children.")}},Ir=function(e,t,n,r){if(!r||void 0!==t){var o=Object(i.p)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");var a=[];M(t,(function(e,t){var r=new le(e);if(Cr(o,t,ve(n,r)),".priority"===fe(r)&&!wr(t))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=de(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!br(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(ye);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&_e(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},Er=function(e,t,n){if(!n||void 0!==t){if(T(t))throw new Error(Object(i.p)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wr(t))throw new Error(Object(i.p)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Sr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.p)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Tr=function(e,t,n,r){if(!(r&&void 0===n||br(n)))throw new Error(Object(i.p)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ar=function(e,t,n,r){if(!(r&&void 0===n||_r(n)))throw new Error(Object(i.p)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Or=function(e,t){if(".info"===ue(t))throw new Error(e+" failed = Can't modify data under /.info/")},xr=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!br(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),_r(e)}(n))throw new Error(Object(i.p)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Pr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(i.p)(e,t)+"must be a boolean.")},Nr=function(){this.eventLists_=[],this.recursionDepth_=0};function Rr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||be(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Dr(e,t,n){Rr(e,n),jr(e,(function(e){return be(e,t)}))}function Mr(e,t,n){Rr(e,n),jr(e,(function(e){return _e(e,t)||_e(t,e)}))}function jr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(Lr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Lr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&k("event: "+n.toString()),F(r)}}}var Br=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Nr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=It(),this.transactionQueueTree_=new cr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Fr(e){var t=e.infoData_.getNode(new le(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Vr(e){return(t=(t={timestamp:Fr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Ur(e,t,n,r,o){e.dataUpdateCount++;var a=new le(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var l=[];if(o)if(r){var s=Object(i.H)(n,(function(e){return et(e)}));l=function(e,t,n,r){var i=Xn(e,r);if(i){var o=Zn(i),a=o.path,l=o.queryId,s=me(a,t),u=zt.fromObject(n);return er(e,a,new Mt(xt(l),s,u))}return[]}(e.serverSyncTree_,a,s,o)}else{var u=et(n);l=function(e,t,n,r){var i=Xn(e,r);if(null!=i){var o=Zn(i),a=o.path,l=o.queryId,s=me(a,t);return er(e,a,new Dt(xt(l),s,n))}return[]}(e.serverSyncTree_,a,u,o)}else if(r){var c=Object(i.H)(n,(function(e){return et(e)}));l=function(e,t,n){var r=zt.fromObject(n);return Jn(e,new Mt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var h=et(n);l=zn(e.serverSyncTree_,a,h)}var f=a;l.length>0&&(f=Zr(e,a)),Mr(e.eventQueue_,f,l)}function qr(e,t){Hr(e,"connected",t),!1===t&&function(e){Qr(e,"onDisconnectEvents");var t=Vr(e),n=It();St(e.onDisconnect_,se(),(function(r,i){var o=lr(r,i,e.serverSyncTree_,t);Et(n,r,o)}));var r=[];St(n,se(),(function(t,n){r=r.concat(zn(e.serverSyncTree_,t,n));var i=ri(e,t);Zr(e,i)})),e.onDisconnect_=It(),Mr(e.eventQueue_,se(),r)}(e)}function Hr(e,t,n){var r=new le("/.info/"+t),i=et(n);e.infoData_.updateSnapshot(r,i);var o=zn(e.infoSyncTree_,r,i);Mr(e.eventQueue_,r,o)}function zr(e){return e.nextWriteId_++}function Gr(e,t,n,r,i){Qr(e,"set",{path:t.toString(),value:n,priority:r});var o=Vr(e),a=et(n,r),l=Kn(e.serverSyncTree_,t),s=sr(a,l,o),u=zr(e),c=qn(e.serverSyncTree_,t,s,u,!0);Rr(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||S("set at "+t+" failed: "+n);var a=Hn(e.serverSyncTree_,u,!o);Mr(e.eventQueue_,t,a),Yr(0,i,n,r)}));var h=ri(e,t);Zr(e,h),Mr(e.eventQueue_,h,[])}function Wr(e,t,n,r){var i=et(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Et(e.onDisconnect_,t,i),Yr(0,r,n,o)}))}function Kr(e,t,n){var r;r=".info"===ue(t._path)?Gn(e.infoSyncTree_,t,n):Gn(e.serverSyncTree_,t,n),Dr(e.eventQueue_,t._path,r)}function Jr(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function Qr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),k.apply(void 0,Object(o.f)([r],Object(o.e)(t)))}function Yr(e,t,n,r){t&&F((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function $r(e,t,n){return Kn(e.serverSyncTree_,t,n)||Xe.EMPTY_NODE}function Xr(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||ni(e,t),fr(t)){var n=ti(e,t);Object(i.f)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),o=$r(e,t,r),a=o,l=o.hash(),s=0;s<n.length;s++){var u=n[s];Object(i.f)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=me(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){Qr(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Hn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},l=0;l<n.length;l++)a(l);for(ni(e,hr(e.transactionQueueTree_,t)),Xr(e,e.transactionQueueTree_),Mr(e.eventQueue_,t,i),l=0;l<o.length;l++)F(o[l])}else{if("datastale"===r)for(l=0;l<n.length;l++)n[l].status=3===n[l].status?4:0;else for(S("transaction at "+f.toString()+" failed: "+r),l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r;Zr(e,t)}}),l)}(e,gr(t),n)}else pr(t)&&vr(t,(function(t){Xr(e,t)}))}function Zr(e,t){var n=ei(e,t),r=gr(n);return function(e,t,n){if(0!==t.length){for(var r=[],o=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),l=function(l){var s,u=t[l],c=me(n,u.path),h=!1;if(Object(i.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,s=u.abortReason,o=o.concat(Hn(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)h=!0,s="maxretry",o=o.concat(Hn(e.serverSyncTree_,u.currentWriteId,!0));else{var f=$r(e,u.path,a);u.currentInputSnapshot=f;var d=t[l].update(f.val());if(void 0!==d){Cr("transaction failed: Data returned ",d,u.path);var p=et(d);"object"==typeof d&&null!=d&&Object(i.k)(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,g=Vr(e),m=sr(p,f,g);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=zr(e),a.splice(a.indexOf(v),1),o=(o=o.concat(qn(e.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(Hn(e.serverSyncTree_,v,!0))}else h=!0,s="nodata",o=o.concat(Hn(e.serverSyncTree_,u.currentWriteId,!0))}Mr(e.eventQueue_,n,o),o=[],h&&(t[l].status=2,setTimeout(t[l].unwatcher,Math.floor(0)),t[l].onComplete&&r.push("nodata"===s?function(){return t[l].onComplete(null,!1,t[l].currentInputSnapshot)}:function(){return t[l].onComplete(new Error(s),!1,null)}))},s=0;s<t.length;s++)l(s);for(ni(e,e.transactionQueueTree_),s=0;s<r.length;s++)F(r[s]);Xr(e,e.transactionQueueTree_)}}(e,ti(e,n),r),r}function ei(e,t){var n,r=e.transactionQueueTree_;for(n=ue(t);null!==n&&void 0===fr(r);)r=hr(r,n),n=ue(t=he(t));return r}function ti(e,t){var n=[];return function e(t,n,r){var i=fr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);vr(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function ni(e,t){var n=fr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,dr(t,n.length>0?n:void 0)}vr(t,(function(t){ni(e,t)}))}function ri(e,t){var n=gr(ei(e,t)),r=hr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){ii(e,t)})),ii(e,r),function e(t,n,r,i){r&&!i&&n(t),vr(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(r,(function(t){ii(e,t)})),n}function ii(e,t){var n=fr(t);if(n){for(var r=[],o=[],a=-1,l=0;l<n.length;l++)3===n[l].status||(1===n[l].status?(Object(i.f)(a===l-1,"All SENT items should be at beginning of queue."),a=l,n[l].status=3,n[l].abortReason="set"):(Object(i.f)(0===n[l].status,"Unexpected transaction status in abort"),n[l].unwatcher(),o=o.concat(Hn(e.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?dr(t,void 0):n.length=a+1,Mr(e.eventQueue_,gr(t),o),l=0;l<r.length;l++)F(r[l])}}var oi=function(e,t){var n=ai(e),r=n.namespace;return"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new G(n.host,n.secure,r,t,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new le(n.pathString)}},ai=function(e){var t="",n="",r="",i="",a="",l=!0,s="https",u=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(o.g)(e.split("&")),a=i.next();!a.done;a=i.next()){var l=a.value;if(0!==l.length){var s=l.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):S("Invalid query segment '"+l+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(l="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:l,scheme:s,pathString:i,namespace:a}},li=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.M)(this.snapshot.exportVal())},e}(),si=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ui=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(i.f)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),ci=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e,t,n,r=new i.a;return e=this._repo,t=this._path,n=r.wrapCallback((function(){})),e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if(ge(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(We,(function(e,n){Et(t,new le(e),n)})),e(t,n)}if(t.children.size>0){var i=ue(n);return n=he(n),t.children.has(i)&&e(t.children.get(i),n)&&t.children.delete(i),0===t.children.size}return!0}(e.onDisconnect_,t),Yr(0,n,r,i)})),r.promise},e.prototype.remove=function(){Or("OnDisconnect.remove",this._path);var e=new i.a;return Wr(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Or("OnDisconnect.set",this._path),kr("OnDisconnect.set",e,this._path,!1);var t=new i.a;return Wr(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Or("OnDisconnect.setWithPriority",this._path),kr("OnDisconnect.setWithPriority",e,this._path,!1),Er("OnDisconnect.setWithPriority",t,!1);var n=new i.a;return function(e,t,n,r,i){var o=et(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Et(e.onDisconnect_,t,o),Yr(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Or("OnDisconnect.update",this._path),Ir("OnDisconnect.update",e,this._path,!1);var t=new i.a;return function(e,t,n,r){if(Object(i.w)(n))return k("onDisconnect().update() called with empty data.  Don't do anything."),void Yr(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&M(n,(function(n,r){var i=et(r);Et(e.onDisconnect_,ve(t,n),i)})),Yr(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),hi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return ge(this._path)?null:fe(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new vi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=wt(this._queryParams),t=R(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return wt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Object(i.q)(t))instanceof e))return!1;var n=this._repo===t._repo,r=be(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function fi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function di(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Pe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==A)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!==O)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(e.getIndex()===We){if(null!=t&&!wr(t)||null!=n&&!wr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.f)(e.getIndex()instanceof rt||e.getIndex()===it,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var vi=function(e){function t(t,n){return e.call(this,t,n,new gt,!1)||this}return Object(o.c)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=pe(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(hi),gi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new le(t),r=bi(this.ref,t);return new e(this._node.getChild(n),r,We)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,bi(n.ref,r),We))}))},e.prototype.hasChild=function(e){var t=new le(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function mi(e,t){return(e=Object(i.q)(e))._checkNotDeleted("ref"),void 0!==t?bi(e._root,t):e._root}function yi(e,t){(e=Object(i.q)(e))._checkNotDeleted("refFromURL");var n=oi(t,e._repo.repoInfo_.nodeAdmin);xr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||E("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),mi(e,n.path.toString())}function bi(e,t){var n;return null===ue((e=Object(i.q)(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ar("child","path",n,!1)):Ar("child","path",t,!1),new vi(e._repo,ve(e._path,t))}function _i(e,t){e=Object(i.q)(e),Or("push",e._path),kr("push",t,e._path,!0);var n,r=Fr(e._repo),o=at(r),a=bi(e,o),l=bi(e,o);return n=null!=t?ki(l,t).then((function(){return l})):Promise.resolve(l),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function wi(e){return Or("remove",e._path),ki(e,null)}function ki(e,t){e=Object(i.q)(e),Or("set",e._path),kr("set",t,e._path,!1);var n=new i.a;return Gr(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Ci(e,t){e=Object(i.q)(e),Or("setPriority",e._path),Er("setPriority",t,!1);var n=new i.a;return Gr(e._repo,ve(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Ii(e,t,n){if(Or("setWithPriority",e._path),kr("setWithPriority",t,e._path,!1),Er("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new i.a;return Gr(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Ei(e,t){Ir("update",t,e._path,!1);var n=new i.a;return function(e,t,n,r){Qr(e,"update",{path:t.toString(),value:n});var o=!0,a=Vr(e),l={};if(M(n,(function(n,r){o=!1,l[n]=lr(ve(t,n),et(r),e.serverSyncTree_,a)})),o)k("update() called with empty data.  Don't do anything."),Yr(0,r,"ok",void 0);else{var s=zr(e),u=function(e,t,n,r){!function(e,t,n,r){Object(i.f)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Kt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var o=zt.fromObject(n);return Jn(e,new Mt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(e.serverSyncTree_,t,l,s);Rr(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||S("update at "+t+" failed: "+n);var a=Hn(e.serverSyncTree_,s,!o),l=a.length>0?Zr(e,t):t;Mr(e.eventQueue_,l,a),Yr(0,r,n,i)})),M(n,(function(n){var r=ri(e,ve(t,n));Zr(e,r)})),Mr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}var Si=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new li("value",this,new gi(e.snapshotNode,new vi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new si(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Ti=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return this.eventType===("children_removed"===t?"child_removed":t)},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new si(this,e,t):null},e.prototype.createEvent=function(e,t){Object(i.f)(null!=e.childName,"Child events should have a childName.");var n=bi(new vi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new li(e.type,this,new gi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Ai(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,l=function(t,n){Kr(e._repo,e,u),a(t,n)};l.userCallback=n.userCallback,l.context=n.context,n=l}var s=new ui(n,o||void 0),u="value"===t?new Si(s):new Ti(t,s);return function(e,t,n){var r;r=".info"===ue(t._path)?Wn(e.infoSyncTree_,t,n):Wn(e.serverSyncTree_,t,n),Dr(e.eventQueue_,t._path,r)}(e._repo,e,u),function(){return Kr(e._repo,e,u)}}function Oi(e,t,n,r){return Ai(e,"value",t,n,r)}function xi(e,t,n,r){return Ai(e,"child_added",t,n,r)}function Pi(e,t,n,r){return Ai(e,"child_changed",t,n,r)}function Ni(e,t,n,r){return Ai(e,"child_moved",t,n,r)}function Ri(e,t,n,r){return Ai(e,"child_removed",t,n,r)}function Di(e,t,n){var r=null,i=n?new ui(n):null;"value"===t?r=new Si(i):t&&(r=new Ti(t,i)),Kr(e._repo,e,r)}var Mi=function(){},ji=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){kr("endAt",this._value,e._path,!0);var t=yt(e._queryParams,this._value,this._key);if(pi(t),di(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(e._repo,e._path,t,e._orderByCalled)},t}(Mi);function Li(e,t){return Tr("endAt","key",t,!0),new ji(e,t)}var Bi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){kr("endBefore",this._value,e._path,!1);var t,n,r,i,o=(n=this._value,r=this._key,(t=e._queryParams).index_===Pe?("string"==typeof n&&(n=st(n)),i=yt(t,n,r)):i=yt(t,n,null==r?A:st(r)),i.endBeforeSet_=!0,i);if(pi(o),di(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(e._repo,e._path,o,e._orderByCalled)},t}(Mi);function Fi(e,t){return Tr("endBefore","key",t,!0),new Bi(e,t)}var Vi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){kr("startAt",this._value,e._path,!0);var t=mt(e._queryParams,this._value,this._key);if(pi(t),di(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new hi(e._repo,e._path,t,e._orderByCalled)},t}(Mi);function Ui(e,t){return void 0===e&&(e=null),Tr("startAt","key",t,!0),new Vi(e,t)}var qi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){kr("startAfter",this._value,e._path,!1);var t,n,r,i,o=(n=this._value,r=this._key,(t=e._queryParams).index_===Pe?("string"==typeof n&&(n=lt(n)),i=mt(t,n,r)):i=mt(t,n,null==r?O:lt(r)),i.startAfterSet_=!0,i);if(pi(o),di(o),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new hi(e._repo,e._path,o,e._orderByCalled)},t}(Mi);function Hi(e,t){return Tr("startAfter","key",t,!0),new qi(e,t)}var zi=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(o.c)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(e._repo,e._path,(t=this._limit,(n=e._queryParams.copy()).limitSet_=!0,n.limit_=t,n.viewFrom_="l",n),e._orderByCalled);var t,n},t}(Mi);function Gi(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new zi(e)}var Wi=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(o.c)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(e._repo,e._path,(t=this._limit,(n=e._queryParams.copy()).limitSet_=!0,n.limit_=t,n.viewFrom_="r",n),e._orderByCalled);var t,n},t}(Mi);function Ki(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Wi(e)}var Ji=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(o.c)(t,e),t.prototype._apply=function(e){fi(e,"orderByChild");var t=new le(this._path);if(ge(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new rt(t),r=bt(e._queryParams,n);return di(r),new hi(e._repo,e._path,r,!0)},t}(Mi);function Qi(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ar("orderByChild","path",e,!1),new Ji(e)}var Yi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype._apply=function(e){fi(e,"orderByKey");var t=bt(e._queryParams,Pe);return di(t),new hi(e._repo,e._path,t,!0)},t}(Mi);function $i(){return new Yi}var Xi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype._apply=function(e){fi(e,"orderByPriority");var t=bt(e._queryParams,We);return di(t),new hi(e._repo,e._path,t,!0)},t}(Mi);function Zi(){return new Xi}var eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype._apply=function(e){fi(e,"orderByValue");var t=bt(e._queryParams,it);return di(t),new hi(e._repo,e._path,t,!0)},t}(Mi);function to(){return new eo}var no=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){if(kr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ji(this._value,this._key)._apply(new Vi(this._value,this._key)._apply(e))},t}(Mi);function ro(e,t){return Tr("equalTo","key",t,!0),new no(e,t)}function io(e){for(var t,n,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var l=Object(i.q)(e);try{for(var s=Object(o.g)(r),u=s.next();!u.done;u=s.next()){var c=u.value;l=c._apply(l)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return l}!function(e){Object(i.f)(!Cn,"__referenceConstructor has already been defined"),Cn=e}(vi),function(e){Object(i.f)(!xn,"__referenceConstructor has already been defined"),xn=e}(vi);var oo={},ao=!1;function lo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),k("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,l=oi(o,i),s=l.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(a=!0,s=(l=oi(o="http://"+u+"?ns="+s.namespace,i)).repoInfo):a=!l.repoInfo.secure;var c=i&&a?new H(H.OWNER):new q(e.name,e.options,t);xr("Invalid Firebase Database URL",l),ge(l.path)||E("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=oo[t.name];i||(oo[t.name]=i={});var o=i[e.toURLString()];return o&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Br(e,ao,n,r),i[e.toURLString()]=o,o}(s,e,c,new U(e.name,n));return new so(h,e)}var so=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){if(e.stats_=Y(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new kt(e.repoInfo_,(function(t,n,r,i){Ur(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return qr(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.M)(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}e.persistentConnection_=new Te(e.repoInfo_,t,(function(t,n,r,i){Ur(e,t,n,r,i)}),(function(t){qr(e,t)}),(function(t){!function(e,t){M(t,(function(t,n){Hr(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=function(){return new At(e.stats_,e.server_)},o=e.repoInfo_.toString(),Q[o]||(Q[o]=r()),Q[o]),e.infoData_=new Ct,e.infoSyncTree_=new Un({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=zn(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Hr(e,"connected",!1),e.serverSyncTree_=new Un({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Mr(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new vi(this._repo,se())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,(n=oo[t=this.app.name])&&n[e.key]===e||E("Database "+t+"("+e.repoInfo_+") has already been deleted."),Jr(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&E("Cannot call "+e+" on a deleted database.")},e}();function uo(e){(e=Object(i.q)(e))._checkNotDeleted("goOffline"),Jr(e._repo)}function co(e){var t;(e=Object(i.q)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}var ho={".sv":"timestamp"},fo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function po(e,t,n){var r;if(e=Object(i.q)(e),Or("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new i.a,l=Oi(e,(function(){}));return function(t,n,r,o,l,s){Qr(t,"transaction on "+n);var u={path:n,update:r,onComplete:function(t,n,r){var i=null;t?a.reject(t):(i=new gi(r,new vi(e._repo,e._path),We),a.resolve(new fo(n,i)))},status:null,order:g(),applyLocally:s,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=$r(t,n,void 0);u.currentInputSnapshot=c;var h=u.update(c.val());if(void 0===h)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{Cr("transaction failed: Data returned ",h,u.path),u.status=0;var f=hr(t.transactionQueueTree_,n),d=fr(f)||[];d.push(u),dr(f,d);var p=void 0;"object"==typeof h&&null!==h&&Object(i.k)(h,".priority")?(p=Object(i.J)(h,".priority"),Object(i.f)(wr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Kn(t.serverSyncTree_,n)||Xe.EMPTY_NODE).getPriority().val();var v=Vr(t),m=et(h,p),y=sr(m,c,v);u.currentOutputSnapshotRaw=m,u.currentOutputSnapshotResolved=y,u.currentWriteId=zr(t);var b=qn(t.serverSyncTree_,n,y,u.currentWriteId,u.applyLocally);Mr(t.eventQueue_,n,b),Xr(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,l,o),a.promise}var vo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(i.N)("OnDisconnect.cancel",0,1,arguments.length),Object(i.O)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Object(i.N)("OnDisconnect.remove",0,1,arguments.length),Object(i.O)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Object(i.N)("OnDisconnect.set",1,2,arguments.length),Object(i.O)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Object(i.N)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.O)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Object(i.N)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.O)("OnDisconnect.update","onComplete",t,!0);var o=this._delegate.update(e);return t&&o.then((function(){return t(null)}),(function(e){return t(e)})),o},e}(),go=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(i.N)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),mo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(i.N)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(i.N)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(i.N)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(i.N)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(i.N)("DataSnapshot.child",0,1,arguments.length),t=String(t),Ar("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(i.N)("DataSnapshot.hasChild",1,1,arguments.length),Ar("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(i.N)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(i.N)("DataSnapshot.forEach",1,1,arguments.length),Object(i.O)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Object(i.N)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(i.N)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(i.N)("DataSnapshot.ref",0,0,arguments.length),new bo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),yo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,o){var a,l=this;Object(i.N)("Query.on",2,4,arguments.length),Object(i.O)("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,o),u=function(e,t){n.call(s.context,new mo(l.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return Oi(this._delegate,u,c),n;case"child_added":return xi(this._delegate,u,c),n;case"child_removed":return Ri(this._delegate,u,c),n;case"child_changed":return Pi(this._delegate,u,c),n;case"child_moved":return Ni(this._delegate,u,c),n;default:throw new Error(Object(i.p)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(i.N)("Query.off",0,3,arguments.length),Sr("Query.off",e,!0),Object(i.O)("Query.off","callback",t,!0),Object(i.P)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Di(this._delegate,e,r)}else Di(this._delegate,e)},e.prototype.get=function(){var e=this;return function(e){return function(e,t){var n=function(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=me(e,n);r=r||Mn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Mn(i,se()):(i=new Pn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new jt(r,!0,!1):null;return qt(Rn(i,t,tn(e.pendingWriteTree_,t._path),o?a.getNode():Xe.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=et(n).withIndex(t._queryParams.getIndex()),i=zn(e.serverSyncTree_,t._path,r);return Dr(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Qr(e,"get for query "+Object(i.M)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(i.q)(e))._repo,e).then((function(t){return new gi(t,new vi(e._repo,e._path),e._queryParams.getIndex())}))}(this._delegate).then((function(t){return new mo(e.database,t)}))},e.prototype.once=function(t,n,r,o){var a=this;Object(i.N)("Query.once",1,4,arguments.length),Object(i.O)("Query.once","callback",n,!0);var l=e.getCancelAndContextArgs_("Query.once",r,o),s=new i.a,u=function(e,t){var r=new mo(a.database,e);n&&n.call(l.context,r,t),s.resolve(r)};u.userCallback=n,u.context=l.context;var c=function(e){l.cancel&&l.cancel.call(l.context,e),s.reject(e)};switch(t){case"value":Oi(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":xi(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Ri(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Pi(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Ni(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Object(i.p)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},e.prototype.limitToFirst=function(t){return Object(i.N)("Query.limitToFirst",1,1,arguments.length),new e(this.database,io(this._delegate,Gi(t)))},e.prototype.limitToLast=function(t){return Object(i.N)("Query.limitToLast",1,1,arguments.length),new e(this.database,io(this._delegate,Ki(t)))},e.prototype.orderByChild=function(t){return Object(i.N)("Query.orderByChild",1,1,arguments.length),new e(this.database,io(this._delegate,Qi(t)))},e.prototype.orderByKey=function(){return Object(i.N)("Query.orderByKey",0,0,arguments.length),new e(this.database,io(this._delegate,$i()))},e.prototype.orderByPriority=function(){return Object(i.N)("Query.orderByPriority",0,0,arguments.length),new e(this.database,io(this._delegate,Zi()))},e.prototype.orderByValue=function(){return Object(i.N)("Query.orderByValue",0,0,arguments.length),new e(this.database,io(this._delegate,to()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(i.N)("Query.startAt",0,2,arguments.length),new e(this.database,io(this._delegate,Ui(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(i.N)("Query.startAfter",0,2,arguments.length),new e(this.database,io(this._delegate,Hi(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(i.N)("Query.endAt",0,2,arguments.length),new e(this.database,io(this._delegate,Li(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(i.N)("Query.endBefore",0,2,arguments.length),new e(this.database,io(this._delegate,Fi(t,n)))},e.prototype.equalTo=function(t,n){return Object(i.N)("Query.equalTo",1,2,arguments.length),new e(this.database,io(this._delegate,ro(t,n)))},e.prototype.toString=function(){return Object(i.N)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(i.N)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(i.N)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(i.O)(e,"cancel",r.cancel,!0),r.context=n,Object(i.P)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Object(i.p)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new bo(this.database,new vi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),bo=function(e){function t(t,n){var r=e.call(this,t,new hi(n._repo,n._path,new gt,!1))||this;return r.database=t,r._delegate=n,r}return Object(o.c)(t,e),t.prototype.getKey=function(){return Object(i.N)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(i.N)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,bi(this._delegate,e))},t.prototype.getParent=function(){Object(i.N)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(i.N)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(i.N)("Reference.set",1,2,arguments.length),Object(i.O)("Reference.set","onComplete",t,!0);var n=ki(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Object(i.N)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Or("Reference.update",this._delegate._path),Object(i.O)("Reference.update","onComplete",t,!0);var o=Ei(this._delegate,e);return t&&o.then((function(){return t(null)}),(function(e){return t(e)})),o},t.prototype.setWithPriority=function(e,t,n){Object(i.N)("Reference.setWithPriority",2,3,arguments.length),Object(i.O)("Reference.setWithPriority","onComplete",n,!0);var r=Ii(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Object(i.N)("Reference.remove",0,1,arguments.length),Object(i.O)("Reference.remove","onComplete",e,!0);var t=wi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Object(i.N)("Reference.transaction",1,3,arguments.length),Object(i.O)("Reference.transaction","transactionUpdate",e,!1),Object(i.O)("Reference.transaction","onComplete",t,!0),Pr("Reference.transaction","applyLocally",n,!0);var o=po(this._delegate,e,{applyLocally:n}).then((function(e){return new go(e.committed,new mo(r.database,e.snapshot))}));return t&&o.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),o},t.prototype.setPriority=function(e,t){Object(i.N)("Reference.setPriority",1,2,arguments.length),Object(i.O)("Reference.setPriority","onComplete",t,!0);var n=Ci(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Object(i.N)("Reference.push",0,2,arguments.length),Object(i.O)("Reference.push","onComplete",n,!0);var o=_i(this._delegate,e),a=o.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var l=new t(this.database,o);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return Or("Reference.onDisconnect",this._delegate._path),new vo(new ci(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(yo),_o=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={}),(e=Object(i.q)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&E("Cannot call useEmulator() after instance has already been initialized.");var o=e._repoInternal,a=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&E('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new H(H.OWNER);else if(r.mockUserToken){var l=Object(i.l)(r.mockUserToken,e.app.options.projectId);a=new H(l)}!function(e,t,n,r){e.repoInfo_=new G(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(o,t,n,a)}(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Object(i.N)("database.ref",0,1,arguments.length),e instanceof bo){var t=yi(this._delegate,e.toString());return new bo(this,t)}return t=mi(this._delegate,e),new bo(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Object(i.N)(t,1,1,arguments.length);var n=yi(this._delegate,e);return new bo(this,n)},e.prototype.goOffline=function(){return Object(i.N)("database.goOffline",0,0,arguments.length),uo(this._delegate)},e.prototype.goOnline=function(){return Object(i.N)("database.goOnline",0,0,arguments.length),co(this._delegate)},e.ServerValue={TIMESTAMP:ho,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}(),wo=Object.freeze({__proto__:null,forceLongPolling:function(){te.forceDisallow(),X.forceAllow()},forceWebSockets:function(){X.forceDisallow()},isWebSocketsAvailable:function(){return te.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Tt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);M(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){e.stats_.incrementCounter(t),e.statsReporter_.statsToReport_[t]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,l=void 0!==a&&a;s(e.version);var u=new r.c("auth-internal",new r.b("database-standalone"));return u.setComponent(new r.a("auth-internal",(function(){return i}),"PRIVATE")),{instance:new _o(lo(t,u,void 0,n,l),t),namespace:o}}}),ko=Te;Te.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Te.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Co=Object.freeze({__proto__:null,DataConnection:ko,RealTimeConnection:re,hijackHash:function(e){var t=Te.prototype.put;return Te.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Te.prototype.put=t}},ConnectionTarget:G,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){ao=e}(e)}}),Io=_o.ServerValue;!function(t){s(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new r.a("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new _o(lo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:bo,Query:yo,Database:_o,DataSnapshot:mo,enableLogging:w,INTERNAL:wo,ServerValue:Io,TEST_ACCESS:Co}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.10.8"),Object(i.B)()&&(e.exports=n)}(t.a)}).call(this,n("3UD+")(e))},"6nsN":function(e,t,n){"use strict";var r=n("zIRd");(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=n.setTimeout;r.prototype.c=function(e){a(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)l.b(this.a[e]);this.a=null}};var l=new r;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?l.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--l&&e(a)}}var a=[],l=0;do{a.push(void 0),l++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},l=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""}function h(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++y)}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function k(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var C=Date.now;function I(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function E(e){return e}function S(e,t,n){this.code=O+e,this.message=t||x[e]||"",this.a=n||null}function T(e){var t=e&&e.code;return t?new S(t.substring(O.length),e.message,e.serverResponse):null}I(S,Error),S.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},S.prototype.toJSON=function(){return this.w()};var A,O="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function M(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function j(e,t){throw new M("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function L(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function B(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function F(){this.b=this.a=null}A=N("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(M,D),M.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var V=new L((function(){return new q}),(function(e){e.reset()}));function U(){var e=yt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function q(){this.next=this.b=this.a=null}F.prototype.add=function(e,t){var n=V.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},z=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},G=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var l=o[a];t.call(void 0,l,a,e)&&(r[i++]=l)}return r},W=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},K=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function J(e,t){return 0<=H(e,t)}function Q(e,t){var n;return(n=0<=(t=H(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1)}))}function $(e){return Array.prototype.concat.apply([],arguments)}function X(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,le=/[\x00&<>"']/;function se(e,t){return-1!=e.indexOf(t)}function ue(e,t){return e<t?-1:e>t?1:0}e:{var ce=l.navigator;if(ce){var he=ce.userAgent;if(he){Z=he;break e}}Z=""}function fe(e){return se(Z,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ge.length;o++)n=ge[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ye(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||l).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===Ce&&t||"",this.b=ke}function _e(e){return e instanceof be&&e.constructor===be&&e.b===ke?e.a:(j("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.ta=!0,be.prototype.sa=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var we,ke={},Ce={};function Ie(){if(void 0===we){var e=null,t=l.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){l.console&&l.console.error(n.message)}we=e}else we=e}return we}function Ee(e,t){this.a=t===xe?e:""}function Se(e){return e instanceof Ee&&e.constructor===Ee?e.a:(j("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function Te(e,t){var n=_e(e);if(!Oe.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Ie();return new Ee(e=t?t.createScriptURL(e):e,xe)}(e=n.replace(Ae,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?_e(e):encodeURIComponent(String(e))})))}Ee.prototype.ta=!0,Ee.prototype.sa=function(){return this.a.toString()},Ee.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ae=/%{(\w+)}/g,Oe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xe={};function Pe(e,t){this.a=t===Be?e:""}function Ne(e){return e instanceof Pe&&e.constructor===Pe?e.a:(j("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}Pe.prototype.ta=!0,Pe.prototype.sa=function(){return this.a.toString()},Pe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Re=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,De=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Me=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function je(e){if(e instanceof Pe)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Me.test(e))e=new Pe(e,Be);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(De);e=t&&Re.test(t[1])?new Pe(e,Be):null}return e}function Le(e){return e instanceof Pe?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Me.test(e)||(e="about:invalid#zClosurez"),new Pe(e,Be))}var Be={},Fe=new Pe("about:invalid#zClosurez",Be);function Ve(e,t,n){this.a=n===Ue?e:""}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ue={};function qe(e,t,n,r){return e=e instanceof Pe?e:Le(e),t=t||l,n=n instanceof be?_e(n):n||"",t.open(Ne(e),n,r,void 0)}function He(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function ze(e){return le.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function Ge(e){return Ge[" "](e),e}Ge[" "]=h;var We,Ke,Je=fe("Opera"),Qe=fe("Trident")||fe("MSIE"),Ye=fe("Edge"),$e=Ye||Qe,Xe=fe("Gecko")&&!(se(Z.toLowerCase(),"webkit")&&!fe("Edge"))&&!(fe("Trident")||fe("MSIE"))&&!fe("Edge"),Ze=se(Z.toLowerCase(),"webkit")&&!fe("Edge");function et(){var e=l.document;return e?e.documentMode:void 0}e:{var tt="",nt=(Ke=Z,Xe?/rv:([^\);]+)(\)|;)/.exec(Ke):Ye?/Edge\/([\d\.]+)/.exec(Ke):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ke):Ze?/WebKit\/(\S+)/.exec(Ke):Je?/(?:Version)[ \/]?(\S+)/.exec(Ke):void 0);if(nt&&(tt=nt?nt[1]:""),Qe){var rt=et();if(null!=rt&&rt>parseFloat(tt)){We=String(rt);break e}}We=tt}var it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=ee(String(We)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",l=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;t=ue(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||ue(0==a[2].length,0==l[2].length)||ue(a[2],l[2]),a=a[3],l=l[3]}while(0==t)}return 0<=t}))}var at=l.document&&Qe&&(et()||parseInt(We,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ke){}var lt=!Qe||9<=Number(at);function st(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ut(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ft.hasOwnProperty(n)?e.setAttribute(ft[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ct,ht,ft={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function dt(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}z(a?X(o):o,r)}}}function pt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function vt(e){l.setTimeout((function(){throw e}),0)}function gt(e,t){ht||function(){if(l.Promise&&l.Promise.resolve){var e=l.Promise.resolve(void 0);ht=function(){e.then(bt)}}else ht=function(){var e=bt;!p(l.setImmediate)||l.Window&&l.Window.prototype&&!fe("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(ct||(ct=function(){var e=l.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!fe("Presto")&&(e=function(){var e=pt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!fe("Trident")&&!fe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){l.setTimeout(e,0)}}()),ct(e)):l.setImmediate(e)}}(),mt||(ht(),mt=!0),yt.add(e,t)}var mt=!1,yt=new F;function bt(){for(var e;e=U();){try{e.a.call(e.b)}catch(t){vt(t)}B(V,e)}mt=!1}function _t(e,t){if(this.a=wt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Rt(n,kt,e)}),(function(e){if(!(e instanceof Vt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Rt(n,Ct,e)}))}catch(r){Rt(this,Ct,r)}}var wt=0,kt=2,Ct=3;function It(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}It.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Et=new L((function(){return new It}),(function(e){e.reset()}));function St(e,t,n){var r=Et.get();return r.g=e,r.b=t,r.f=n,r}function Tt(e){if(e instanceof _t)return e;var t=new _t(h);return Rt(t,kt,e),t}function At(e){return new _t((function(t,n){n(e)}))}function Ot(e,t,n){Dt(e,t,n,null)||gt(k(t,e))}function xt(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Ot(e[o],k(i,o,!0),k(i,o,!1));else t(r)}))}function Pt(e,t){e.b||e.a!=kt&&e.a!=Ct||Mt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Nt(e,t,n,r){var i=St(null,null,null);return i.a=new _t((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Vt?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,Pt(e,i),i.a}function Rt(e,t,n){e.a==wt&&(e===n&&(t=Ct,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Dt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Mt(e),t!=Ct||n instanceof Vt||function(e,t){e.g=!0,gt((function(){e.g&&Ft.call(null,t)}))}(e,n)))}function Dt(e,t,n,r){if(e instanceof _t)return Pt(e,St(t||h,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(l){o(l)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Mt(e){e.h||(e.h=!0,gt(e.gc,e))}function jt(e){var t=null;return e.b&&(e.b=(t=e.b).next,t.next=null),e.b||(e.f=null),t}function Lt(e,t,n,r){if(n==Ct&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Bt(t,n,r);else try{t.c?t.g.call(t.f):Bt(t,n,r)}catch(i){Ft.call(null,i)}B(Et,t)}function Bt(e,t,n){t==kt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return Nt(this,p(e)?e:null,p(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(e=_t.prototype).oa=function(e,t){return(e=St(e,e,t)).c=!0,Pt(this,e),this},e.o=function(e,t){return Nt(this,null,e,t)},e.cancel=function(e){if(this.a==wt){var t=new Vt(e);gt((function(){!function e(t,n){if(t.a==wt)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,l=r.b;l&&(l.c||(i++,l.a==t&&(o=l),!(o&&1<i)));l=l.next)o||(a=l);o&&(r.a==wt&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):jt(r),Lt(r,o,Ct,n)))}t.c=null}else Rt(t,Ct,n)}(this,t)}),this)}},e.$c=function(e){this.a=wt,Rt(this,kt,e)},e.ad=function(e){this.a=wt,Rt(this,Ct,e)},e.gc=function(){for(var e;e=jt(this);)Lt(this,e,this.a,this.i);this.h=!1};var Ft=vt;function Vt(e){D.call(this,e)}function Ut(){0!=qt&&(Ht[g(this)]=this),this.ya=this.ya,this.pa=this.pa}I(Vt,D),Vt.prototype.name="cancel";var qt=0,Ht={};function zt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=qt)){var t=g(e);if(0!=qt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ht[t]}}Ut.prototype.ya=!1,Ut.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Gt=Object.freeze||function(e){return e},Wt=!Qe||9<=Number(at),Kt=Qe&&!ot("9"),Jt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{l.addEventListener("test",h,t),l.removeEventListener("test",h,t)}catch(n){}return e}();function Qt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Yt(e,t){if(Qt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Xe){e:{try{Ge(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:$t[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Qt.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Yt,Qt);var $t=Gt({2:"touch",3:"pen",4:"mouse"});Yt.prototype.preventDefault=function(){Yt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Kt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Yt.prototype.g=function(){return this.a};var Xt="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function en(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Zt,this.wa=this.Qa=!1}function tn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function nn(e){this.src=e,this.a={},this.b=0}function rn(e,t){var n=t.type;n in e.a&&Q(e.a[n],t)&&(tn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function on(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}nn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=on(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new en(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var an="closure_lm_"+(1e6*Math.random()|0),ln={};function sn(e,t,n,r,i){if(r&&r.once)cn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)sn(e,t[o],n,r,i);else n=bn(n),e&&e[Xt]?wn(e,t,n,v(r)?!!r.capture:!!r,i):un(e,t,n,!1,r,i)}function un(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,l=mn(e);if(l||(e[an]=l=new nn(e)),!(n=l.add(t,n,r,a,o)).proxy)if(r=function(){var e=gn,t=Wt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Jt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(dn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function cn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=bn(n),e&&e[Xt]?kn(e,t,n,v(r)?!!r.capture:!!r,i):un(e,t,n,!0,r,i)}function hn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=bn(n),e&&e[Xt]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=on(o=e.a[t],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=mn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=on(t,n,r,i)),(n=-1<e?t[e]:null)&&fn(n))}function fn(e){if("number"!=typeof e&&e&&!e.wa){var t=e.src;if(t&&t[Xt])rn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(dn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=mn(t))?(rn(n,e),0==n.b&&(n.src=null,t[an]=null)):tn(e)}}}function dn(e){return e in ln?ln[e]:ln[e]="on"+e}function pn(e,t,n,r){var i=!0;if((e=mn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&fn(e),n.call(r,t)}function gn(e,t){if(e.wa)return!0;if(!Wt){if(!t)e:{t=["window","event"];for(var n=l,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Yt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=pn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=pn(r[i],e,!1,t),n=n&&o}return n}return vn(e,new Yt(t,this))}function mn(e){return(e=e[an])instanceof nn?e:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(e){return p(e)?e:(e[yn]||(e[yn]=function(t){return e.handleEvent(t)}),e[yn])}function _n(){Ut.call(this),this.v=new nn(this),this.bc=this,this.hb=null}function wn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function kn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Cn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var l=a.listener,s=a.Wa||a.src;a.Qa&&rn(e.v,a),i=!1!==l.call(s,r)&&i}}return i&&!r.defaultPrevented}function In(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:l.setTimeout(e,t||0)}function En(e){var t=null;return new _t((function(n,r){-1==(t=In((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw l.clearTimeout(t),e}))}function Sn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Tn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function An(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof An)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function On(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];xn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)xn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function xn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I(_n,Ut),_n.prototype[Xt]=!0,_n.prototype.addEventListener=function(e,t,n,r){sn(this,e,t,n,r)},_n.prototype.removeEventListener=function(e,t,n,r){hn(this,e,t,n,r)},_n.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"==typeof e)e=new Qt(e,n);else if(e instanceof Qt)e.target=e.target||n;else{var i=e;me(e=new Qt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Cn(a,r,!0,e)&&i}if(i=Cn(a=e.b=n,r,!0,e)&&i,i=Cn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Cn(a=e.b=t[o],r,!1,e)&&i;return i},_n.prototype.Da=function(){if(_n.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)tn(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=An.prototype).X=function(){On(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return On(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return xn(this.b,e)?this.b[e]:t},e.set=function(e,t){xn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Nn?(this.i=void 0!==t?t:e.i,Rn(this,e.c),this.l=e.l,this.a=e.a,Dn(this,e.g),this.f=e.f,Mn(this,er(e.b)),this.h=e.h):e&&(n=String(e).match(Pn))?(this.i=!!t,Rn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Dn(this,n[4]),this.f=Vn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!t,this.b=new Jn(null,this.i))}function Rn(e,t,n){e.c=n?Vn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Dn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Mn(e,t,n){t instanceof Jn?(e.b=t,function(e,t){t&&!e.f&&(Qn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&($n(this,t),Zn(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Un(t,Wn)),e.b=new Jn(t,e.i))}function jn(e,t,n){e.b.set(t,n)}function Ln(e,t){return e.b.get(t)}function Bn(e){return e instanceof Nn?new Nn(e):new Nn(e,void 0)}function Fn(e,t,n,r){var i=new Nn(null,void 0);return e&&Rn(i,e),t&&(i.a=t),n&&Dn(i,n),r&&(i.f=r),i}function Vn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Un(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,qn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Un(t,Hn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Un(t,Hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Un(n,"/"==n.charAt(0)?Gn:zn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Un(n,Kn)),e.join("")},Nn.prototype.resolve=function(e){var t=new Nn(this),n=!!e.c;n?Rn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Dn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(se(i,"./")||se(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var l=i[a++];"."==l?r&&a==i.length&&o.push(""):".."==l?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(l),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Mn(t,er(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Hn=/[#\/\?@]/g,zn=/[#\?:]/g,Gn=/[#\?]/g,Wn=/[#\?@]/g,Kn=/#/g;function Jn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Qn(e){e.a||(e.a=new An,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yn(e){var t=Tn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Jn(null,void 0);e=Sn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function $n(e,t){Qn(e),t=tr(e,t),xn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,xn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&On(e)))}function Xn(e,t){return Qn(e),t=tr(e,t),xn(e.a.b,t)}function Zn(e,t,n){$n(e,t),0<n.length&&(e.c=null,e.a.set(tr(e,t),X(n)),e.b+=n.length)}function er(e){var t=new Jn;return t.c=e.c,e.a&&(t.a=new An(e.a),t.b=e.b),t}function tr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function nr(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),ar(i,r),r.push(":"),e(t,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ar(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new rr,e,t),t.join("")}function rr(){}(e=Jn.prototype).add=function(e,t){Qn(this),this.c=null,e=tr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Qn(this),this.a.forEach((function(n,r){z(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Qn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Qn(this);var t=[];if("string"==typeof e)Xn(this,e)&&(t=$(t,this.a.get(tr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=$(t,e[n])}return t},e.set=function(e,t){return Qn(this),this.c=null,Xn(this,e=tr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(e,t){t.push('"',e.replace(or,(function(e){var t=ir[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ir[e]=t),t})),'"')}function lr(){var e=Er();return Qe&&!!at&&11==at||/Edge\/\d+/.test(e)}function sr(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function ur(e,t){t=t||l.window;var n="about:blank";e&&(n=Ne(je(e)||Fe)),t.location.href=n}function cr(e){return!!((e=(e||Er()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function hr(e){e=e||l.window;try{e.close()}catch(t){}}function fr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(t.target=r,se(n,"crios/")&&(t.target="_blank")),kr(Er())==wr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Pe?n:je(void 0!==n.href?n.href:String(n))||Fe,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((fe("iPhone")&&!fe("iPod")&&!fe("iPad")||fe("iPad")||fe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ye(a=pt(document,"A"),"HTMLAnchorElement"),t=t instanceof Pe?t:Le(t),a.href=Ne(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=qe("",r,n,a),e=Ne(t),a&&($e&&se(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ze(e)+'">',e=new Ve(e=(r=Ie())?r.createHTML(e):e,null,Ue),r=a.document)&&(r.write(function(e){return e instanceof Ve&&e.constructor===Ve?e.a:(j("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}(e)),r.close())):(a=qe(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(l){}return a}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function vr(){var e=null;return new _t((function(t){"complete"==l.document.readyState?t():(e=function(){t()},cn(window,"load",e))})).o((function(t){throw hn(window,"load",e),t}))}function gr(e){return e=e||Er(),!("file:"!==xr()&&"ionic:"!==xr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){var e=l.window;try{return!(!e||e==e.top)}catch(t){return!1}}function yr(){return void 0!==l.WorkerGlobalScope&&"function"==typeof l.importScripts}function br(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function _r(){var e=br();return"ReactNative"===e||"Node"===e}var wr="Firefox";function kr(e){var t=e.toLowerCase();return se(t,"opera/")||se(t,"opr/")||se(t,"opios/")?"Opera":se(t,"iemobile")?"IEMobile":se(t,"msie")||se(t,"trident/")?"IE":se(t,"edge/")?"Edge":se(t,"firefox/")?wr:se(t,"silk/")?"Silk":se(t,"blackberry")?"Blackberry":se(t,"webos")?"Webos":!se(t,"safari/")||se(t,"chrome/")||se(t,"crios/")||se(t,"android")?!se(t,"chrome/")&&!se(t,"crios/")||se(t,"edge/")?se(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"}var Cr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ir(e,t){t=t||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=br())?r=kr(i=Er()):"Worker"===r&&(r=kr(i=Er())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Er(){return l.navigator&&l.navigator.userAgent||""}function Sr(e,t){e=e.split("."),t=t||l;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Tr(){try{var e=l.localStorage,t=Mr();if(e)return e.setItem(t,"1"),e.removeItem(t),!lr()||!!l.indexedDB}catch(n){return yr()&&!!l.indexedDB}return!1}function Ar(){return(Or()||"chrome-extension:"===xr()||gr())&&!_r()&&Tr()&&!yr()}function Or(){return"http:"===xr()||"https:"===xr()}function xr(){return l.location&&l.location.protocol||null}function Pr(e){return!cr(e=e||Er())&&kr(e)!=wr}function Nr(e){return void 0===e?null:nr(e)}function Rr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[t]=e[t]);return n}function Dr(e){if(null!==e)return JSON.parse(e)}function Mr(e){return e||Math.floor(1e9*Math.random()).toString()}function jr(e){return"Safari"!=kr(e=e||Er())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Lr(){var e=l.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Br(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Er(),t=br(),this.b=cr(e)||"ReactNative"===t}function Fr(){var e=l.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Vr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Ur(){return!(!Sr("fireauth.oauthhelper",l)&&!Sr("fireauth.iframe",l))}Br.prototype.get=function(){var e=l.navigator;return!e||"boolean"!=typeof e.onLine||!Or()&&"chrome-extension:"!==xr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var qr,Hr={};function zr(e){Hr[e]||(Hr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),qr=2==Gr.abcd}catch(Ke){qr=!1}function Wr(e,t,n){qr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Kr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Wr(e,n,t[n])}function Jr(e){var t={};return Kr(t,e),t}function Qr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Wr(t,n,Qr(e[n]));return t}function Yr(e){var t=e&&(e[ti]?"phone":null);if(!(t&&e&&e[ei]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",e[ei]),Wr(this,"displayName",e[Xr]||null);var n=null;e[Zr]&&(n=new Date(e[Zr]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",t)}function $r(e){try{var t=new ni(e)}catch(n){t=null}return t}Yr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Xr="displayName",Zr="enrolledAt",ei="mfaEnrollmentId",ti="phoneInfo";function ni(e){Yr.call(this,e),Wr(this,"phoneNumber",e[ti])}function ri(e){var t={},n=e[li],r=e[ui],i=e[ci];if(e=$r(e[si]),!i||i!=oi&&i!=ai&&!n||i==ai&&!r||i==ii&&!e)throw Error("Invalid checkActionCode response!");i==ai?(t[fi]=n||null,t[pi]=n||null,t[hi]=r):(t[fi]=r||null,t[pi]=r||null,t[hi]=n||null),t[di]=e||null,Wr(this,gi,i),Wr(this,vi,Qr(t))}I(ni,Yr),ni.prototype.w=function(){var e=ni.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",li="email",si="mfaInfo",ui="newEmail",ci="requestType",hi="email",fi="fromEmail",di="multiFactorInfo",pi="previousEmail",vi="data",gi="operation";function mi(e){var t=Ln(e=Bn(e),yi)||null,n=Ln(e,bi)||null,r=Ln(e,ki)||null;if(r=r&&Ii[r]||null,!t||!n||!r)throw new S("argument-error",yi+", "+bi+"and "+ki+" are required in a valid action code URL.");Kr(this,{apiKey:t,operation:r,code:n,continueUrl:Ln(e,_i)||null,languageCode:Ln(e,wi)||null,tenantId:Ln(e,Ci)||null})}var yi="apiKey",bi="oobCode",_i="continueUrl",wi="languageCode",ki="mode",Ci="tenantId",Ii={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ei(e){try{return new mi(e)}catch(t){return null}}function Si(e){var t=e[Pi];if(void 0===t)throw new S("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new S("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ti];if(n&&"object"==typeof n){t=n[Di];var r=n[Ni];if(n=n[Ri],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Ni+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Ri+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new S("argument-error",Di+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Ti+" property must be a non null object when specified.");if(this.f=null,(t=e[xi])&&"object"==typeof t){if("string"==typeof(t=t[Mi])&&t.length)this.f=t;else if(void 0!==t)throw new S("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new S("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(t=e[Oi])&&"boolean"!=typeof t)throw new S("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Ai])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new S("argument-error",Ai+" property must be a non empty string when specified.");this.i=e||null}var Ti="android",Ai="dynamicLinkDomain",Oi="handleCodeInApp",xi="iOS",Pi="url",Ni="installApp",Ri="minimumVersion",Di="packageName",Mi="bundleId";function ji(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Li=null;function Bi(e){var t=Vi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Fi(e){try{return new Bi(e)}catch(t){return null}}function Vi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Li[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Li){Li={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Li[o]&&(Li[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),l=n(64);if(64===l&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=l&&t(a<<6&192|l))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],l=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(1023&l))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(s){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var Ui="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ui},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function zi(e){for(var t in Hi)if(Hi[t].fa==e)return Hi[t];return null}function Gi(e){var t={};t["facebook.com"]=Yi,t["google.com"]=Xi,t["github.com"]=$i,t["twitter.com"]=Zi;var n=e&&e[Ki];try{if(n)return t[n]?new t[n](e):new Qi(e);if(void 0!==e[Wi])return new Ji(e)}catch(r){}return null}var Wi="idToken",Ki="providerId";function Ji(e){var t=e[Ki];if(!t&&e[Wi]){var n=Fi(e[Wi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Wr(this,"providerId",t),Wr(this,"isNewUser",n)}function Qi(e){Ji.call(this,e),Wr(this,"profile",Qr((e=Dr(e.rawUserInfo||"{}"))||{}))}function Yi(e){if(Qi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function $i(e){if(Qi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function Xi(e){if(Qi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(e){if(Qi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",e.screenName||null)}function eo(e){var t=Bn(e),n=Ln(t,"link"),r=Ln(Bn(n),"link");return t=Ln(t,"deep_link_id"),Ln(Bn(t),"link")||t||r||n||e}function to(e,t){if(!e&&!t)throw new S("internal-error","Internal assert: no raw session string available");if(e&&t)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?no:ro}I(Qi,Ji),I(Yi,Qi),I($i,Qi),I(Xi,Qi),I(Zi,Qi);var no="enroll",ro="signin";function io(){}function oo(e,t){return e.then((function(e){if(e[Ga]){var n=Fi(e[Ga]);if(!n||t!=n.i)throw new S("user-mismatch");return e}throw new S("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==O+"user-not-found"?new S("user-mismatch"):e}))}function ao(e,t){if(!t)throw new S("internal-error","failed to construct a credential");this.a=t,Wr(this,"providerId",e),Wr(this,"signInMethod",e)}function lo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function so(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new ao(e.providerId,e.pendingToken)}catch(t){}return null}function uo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Wr(this,"idToken",t.idToken),t.accessToken&&Wr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Wr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Wr(this,"accessToken",t.oauthToken),Wr(this,"secret",t.oauthTokenSecret)}Wr(this,"providerId",e),Wr(this,"signInMethod",n)}function co(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Yn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function ho(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new uo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function fo(e,t){this.Qc=t||[],Kr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(zi(e)||{}).Ja||null,this.pb=null}function po(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,e,[])}function vo(e){fo.call(this,e,qi),this.a=[]}function go(){vo.call(this,"facebook.com")}function mo(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new go).credential({accessToken:t})}function yo(){vo.call(this,"github.com")}function bo(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new yo).credential({accessToken:t})}function _o(){vo.call(this,"google.com"),this.Ca("profile")}function wo(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new _o).credential({idToken:n,accessToken:t})}function ko(){fo.call(this,"twitter.com",Ui)}function Co(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new uo("twitter.com",n,"twitter.com")}function Io(e,t,n){this.a=e,this.f=t,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===So.EMAIL_LINK_SIGN_IN_METHOD?So.EMAIL_LINK_SIGN_IN_METHOD:So.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Eo(e){return e&&e.email&&e.password?new Io(e.email,e.password,e.signInMethod):null}function So(){Kr(this,{providerId:"password",isOAuthProvider:!1})}function To(e,t){if(!(t=Ao(t)))throw new S("argument-error","Invalid email link!");return new Io(e,t.code,So.EMAIL_LINK_SIGN_IN_METHOD)}function Ao(e){return(e=Ei(e=eo(e)))&&e.operation===oi?e:null}function Oo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new S("internal-error");this.a=e,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function xo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Oo(t)}return null}function Po(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function No(e){try{this.a=e||r.a.auth()}catch(t){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Kr(this,{providerId:"phone",isOAuthProvider:!1})}function Ro(e,t){if(!e)throw new S("missing-verification-id");if(!t)throw new S("missing-verification-code");return new Oo({fb:e,eb:t})}function Do(e){if(e.temporaryProof&&e.phoneNumber)return new Oo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return wo(o,n);case"facebook.com":return mo(n);case"github.com":return bo(n);case"twitter.com":return Co(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new ao(t,a):new uo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new vo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(l){return null}}function Mo(e){if(!e.isOAuthProvider)throw new S("invalid-oauth-provider")}function jo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Lo(e){return(e=e||{}).type?new jo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&T(e.error),e.postBody,e.tenantId):null}function Bo(){this.b=null,this.a=[]}to.prototype.Ha=function(){return Tt(this.a?this.a:this.b)},to.prototype.w=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ka=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.w=function(){},ao.prototype.ka=function(e){return fl(e,lo(this))},ao.prototype.b=function(e,t){var n=lo(this);return n.idToken=t,dl(e,n)},ao.prototype.c=function(e,t){return oo(pl(e,lo(this)),t)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},uo.prototype.ka=function(e){return fl(e,co(this))},uo.prototype.b=function(e,t){var n=co(this);return n.idToken=t,dl(e,n)},uo.prototype.c=function(e,t){return oo(pl(e,co(this)),t)},uo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},fo.prototype.Ka=function(e){return this.Jb=ve(e),this},I(po,fo),I(vo,fo),vo.prototype.Ca=function(e){return J(this.a,e)||this.a.push(e),this},vo.prototype.Rb=function(){return X(this.a)},vo.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new uo(this.providerId,n,this.providerId)},I(go,vo),Wr(go,"PROVIDER_ID","facebook.com"),Wr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(yo,vo),Wr(yo,"PROVIDER_ID","github.com"),Wr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),I(_o,vo),Wr(_o,"PROVIDER_ID","google.com"),Wr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),I(ko,fo),Wr(ko,"PROVIDER_ID","twitter.com"),Wr(ko,"TWITTER_SIGN_IN_METHOD","twitter.com"),Io.prototype.ka=function(e){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Ql(e,kl,{email:this.a,oobCode:this.f}):Ql(e,zl,{email:this.a,password:this.f})},Io.prototype.b=function(e,t){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Ql(e,Cl,{idToken:t,email:this.a,oobCode:this.f}):Ql(e,jl,{idToken:t,email:this.a,password:this.f})},Io.prototype.c=function(e,t){return oo(this.ka(e),t)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Kr(So,{PROVIDER_ID:"password"}),Kr(So,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Kr(So,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ka=function(e){return e.gb(Po(this))},Oo.prototype.b=function(e,t){var n=Po(this);return n.idToken=t,Ql(e,Wl,n)},Oo.prototype.c=function(e,t){var n=Po(this);return n.operation="REAUTH",oo(e=Ql(e,Kl,n),t)},Oo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},No.prototype.gb=function(e,t){var n=this.a.a;return Tt(t.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=v(e)?e.session:null,o=v(e)?e.phoneNumber:e;return(i&&i.type==no?i.Ha().then((function(e){return function(e,t){return Ql(e,Bl,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ro?i.Ha().then((function(t){return function(e,t){return Ql(e,Fl,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return Ql(e,Dl,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Kr(No,{PROVIDER_ID:"phone"}),Kr(No,{PHONE_SIGN_IN_METHOD:"phone"}),jo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},jo.prototype.T=function(){return this.h},jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Fo,Vo=null;function Uo(e){var t="unauthorized-domain",n=void 0,r=Bn(e);e=r.a,"chrome-extension"==(r=r.c)?n=He("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=He("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",S.call(this,t,n)}function qo(e,t,n){S.call(this,e,n),(e=t||{}).Kb&&Wr(this,"email",e.Kb),e.ea&&Wr(this,"phoneNumber",e.ea),e.credential&&Wr(this,"credential",e.credential),e.$b&&Wr(this,"tenantId",e.$b)}function Ho(e){if(e.code){var t=e.code||"";0==t.indexOf(O)&&(t=t.substring(O.length));var n={credential:Do(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new S(t,e.message||void 0);return new qo(t,n,e.message)}return null}function zo(){}function Go(){}function Wo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Ko(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Qo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Yo(e,t,n){this.reset(e,t,n,void 0,void 0)}function $o(e){this.f=e,this.b=this.c=this.a=null}function Xo(e,t){this.name=e,this.value=t}I(Uo,S),I(qo,S),qo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&me(e,t),e},qo.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,I(Go,zo),Go.prototype.a=function(){var e=Wo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Go.prototype.b=function(){var e={};return Wo(this)&&(e[0]=!0,e[1]=!0),e},Fo=new Go,I(Ko,zo),Ko.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(e=Jo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Qo(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Qo(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Qo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Yo.prototype.a=null,Yo.prototype.reset=function(e,t,n,r,i){r||C(),delete this.a},Xo.prototype.toString=function(){return this.name};var Zo=new Xo("SEVERE",1e3),ea=new Xo("WARNING",900),ta=new Xo("CONFIG",700),na=new Xo("FINE",500);$o.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(j("Root logger has no level set."),null)}(this).value)for(p(t)&&(t=t()),e=new Yo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ra={},ia=null;function oa(e){var t;if(ia||(ia=new $o(""),ra[""]=ia,ia.c=ta),!(t=ra[e])){t=new $o(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=oa(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ra[e]=t}return t}function aa(e,t){e&&e.log(na,t,void 0)}function la(e){this.f=e}function sa(e){_n.call(this),this.u=e,this.h=void 0,this.readyState=ua,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=oa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(la,zo),la.prototype.a=function(){return new sa(this.f)},la.prototype.b=function(e){return function(){return e}}({}),I(sa,_n);var ua=0;function ca(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function ha(e){e.readyState=4,e.g=null,e.c=null,e.m=null,fa(e)}function fa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function da(e){_n.call(this),this.headers=new An,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=pa,this.u=this.S=!1}(e=sa.prototype).open=function(e,t){if(this.readyState!=ua)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,fa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ha(this)),this.readyState=ua},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,fa(this)),this.a&&(this.readyState=3,fa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==l.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ca(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ha(this):fa(this),3==this.readyState&&ca(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ha(this))},e.sc=function(e){this.a&&(this.response=e,ha(this))},e.Va=function(e){var t=this.i;t&&t.log(ea,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ha(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ea,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ea,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),I(da,_n);var pa="";da.prototype.b=oa("goog.net.XhrIo");var va=/^https?$/i,ga=["POST","PUT"];function ma(e){return"content-type"==e.toLowerCase()}function ya(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ba(e),wa(e)}function ba(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function _a(e){if(e.c&&void 0!==a)if(e.C[1]&&4==Ca(e)&&2==Ia(e))aa(e.b,Ea(e,"Local request error detected and ignored"));else if(e.i&&4==Ca(e))In(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ca(e)){aa(e.b,Ea(e,"Request complete")),e.c=!1;try{var t,n=Ia(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Pn)[1]||null;if(!o&&l.self&&l.self.location){var s=l.self.location.protocol;o=s.substr(0,s.length-1)}i=!va.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var u=2<Ca(e)?e.a.statusText:""}catch(c){aa(e.b,"Can not get status: "+c.message),u=""}e.h=u+" ["+Ia(e)+"]",ba(e)}}finally{wa(e)}}}function wa(e,t){if(e.a){ka(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(Zo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ka(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(l.clearTimeout(e.s),e.s=null)}function Ca(e){return e.a?e.a.readyState:0}function Ia(e){try{return 2<Ca(e)?e.a.status:-1}catch(t){return-1}}function Ea(e,t){return t+" ["+e.P+" "+e.l+" "+Ia(e)+"]"}function Sa(e){var t=La;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ta(e,t,n){e.a=!0,e.c=n,e.f=!t,Pa(e)}function Aa(e){if(e.a){if(!e.v)throw new Na(e);e.v=!1}}function Oa(e,t,n,r){e.g.push([t,n,r]),e.a&&Pa(e)}function xa(e){return K(e.g,(function(e){return p(e[1])}))}function Pa(e){if(e.h&&e.a&&xa(e)){var t=e.h,n=Ma[t];n&&(l.clearTimeout(n.a),delete Ma[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(R(t)||"function"==typeof l.Promise&&t instanceof l.Promise)&&(r=!0,e.i=!0)}catch(u){t=u,e.f=!0,xa(e)||(n=!0)}}e.c=t,r&&(s=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof Sa?(Oa(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new Da(t),Ma[t.a]=t,e.h=t.a)}function Na(){D.call(this)}function Ra(){D.call(this)}function Da(e){this.a=l.setTimeout(w(this.c,this),0),this.b=e}(e=da.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",aa(this.b,Ea(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(aa(this.b,Ea(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),wa(this,!0)),da.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?_a(this):this.Jc())},e.Jc=function(){_a(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case pa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return aa(this.b,"Can not get response: "+t.message),null}},Sa.prototype.cancel=function(e){if(this.a)this.c instanceof Sa&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ra(this),Aa(this),Ta(this,!1,e))}},Sa.prototype.m=function(e,t){this.i=!1,Ta(this,e,t)},Sa.prototype.then=function(e,t,n){var r,i,o=new _t((function(e,t){r=e,i=t}));return Oa(this,r,(function(e){e instanceof Ra?o.cancel():i(e)})),o.then(e,t,n)},Sa.prototype.$goog_Thenable=!0,I(Na,D),Na.prototype.message="Deferred has already fired",Na.prototype.name="AlreadyCalledError",I(Ra,D),Ra.prototype.message="Deferred was canceled",Ra.prototype.name="CanceledError",Da.prototype.c=function(){throw delete Ma[this.a],this.b};var Ma={};function ja(e){var t={},n=t.document||document,r=Se(e).toString(),i=pt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Sa(o),s=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(s=window.setTimeout((function(){Ba(i,!0);var e=new Ua(Va,"Timeout reached for loading script "+r);Aa(a),Ta(a,!1,e)}),h),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ba(i,t.xd||!1,s),Aa(a),Ta(a,!0,null))},i.onerror=function(){Ba(i,!0,s);var e=new Ua(Fa,"Error while loading script "+r);Aa(a),Ta(a,!1,e)},me(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ut(i,o),function(e,t){ye(e,"HTMLScriptElement"),e.src=Se(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=l?t=c(t.document):(null===u&&(u=c(l.document)),t=u),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function La(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Ba(e,!0,this.Ma)}}function Ba(e,t,n){null!=n&&l.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Fa=0,Va=1;function Ua(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function qa(e){this.f=e}function Ha(e,t,n){if(this.c=e,this.l=(e=t||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Wa,this.g=ve(e.secureTokenHeaders||Ka),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||Ja,this.a=ve(e.firebaseHeaders||Qa),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=l.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!yr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=yr()?new la(self):_r()?new qa(n):new Ko,this.b=null}I(Ua,D),I(qa,zo),qa.prototype.a=function(){return new this.f},qa.prototype.b=function(){return{}};var za,Ga="idToken",Wa=new Br(3e4,6e4),Ka={"Content-Type":"application/x-www-form-urlencoded"},Ja=new Br(3e4,6e4),Qa={"Content-Type":"application/json"};function Ya(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function $a(e,t){t&&(e.l=Xa("https://securetoken.googleapis.com/v1/token",t),e.h=Xa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=Xa("https://identitytoolkit.googleapis.com/v2/",t))}function Xa(e,t){return e=Bn(e),t=Bn(t.url),e.f=e.a+e.f,Rn(e,t.c),e.a=t.a,Dn(e,t.g),e.toString()}function Za(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function el(e,t,n,r,i,o,a){(function(){var e=Er();return!((e="Chrome"!=kr(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Qe&&at&&!(9<at))})()||yr()?e=w(e.u,e):(za||(za=new _t((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(l[nl]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Oa(e,null,t,void 0)}(ja(Te(tl,{onload:nl})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}Ha.prototype.T=function(){return this.b},Ha.prototype.u=function(e,t,n,r,i,o){if(yr()&&(void 0===l.fetch||void 0===l.Headers||void 0===l.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new da(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}wn(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return aa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),kn(a,"ready",(function(){s&&clearTimeout(s),zt(this)})),kn(a,"timeout",(function(){s&&clearTimeout(s),zt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Fo.a(),e.C=function(e){return e.c||(e.c=e.b())}(e.D?e.D:Fo),e.a.onreadystatechange=w(e.Wb,e);try{aa(e.b,Ea(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return aa(e.b,Ea(e,"Error opening Xhr: "+a.message)),void ya(e,a)}t=r||"";var o=new An(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"==typeof e)z(e,t,void 0);else for(var n=Tn(e),r=Sn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=ma,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=l.FormData&&t instanceof l.FormData,!J(ga,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{ka(e),0<e.g&&(e.u=function(e){return Qe&&ot(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),aa(e.b,Ea(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=In(e.Ma,e.g,e)),aa(e.b,Ea(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){aa(e.b,Ea(e,"Send error: "+a.message)),ya(e,a)}}(a,e,n,r,i)};var tl=new be(Ce,"https://apis.google.com/js/client.js?onload=%{onload}"),nl="__fcb"+Math.floor(1e6*Math.random()).toString();function rl(e){if("string"!=typeof(e=e.email)||!pr.test(e))throw new S("invalid-email")}function il(e){"email"in e&&rl(e)}function ol(e){if(!e[Ga]){if(e.mfaPendingCredential)throw new S("multi-factor-auth-required",null,ve(e));throw new S("internal-error")}}function al(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new S("internal-error")}else{if(!e.sessionInfo)throw new S("missing-verification-id");if(!e.code)throw new S("missing-verification-code")}}Ha.prototype.s=function(e,t,n,r,i){var o=this;za.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ha.prototype.Ab=function(){return Ql(this,Ll,{})},Ha.prototype.Cb=function(e,t){return Ql(this,Ml,{idToken:e,email:t})},Ha.prototype.Db=function(e,t){return Ql(this,jl,{idToken:e,password:t})};var ll={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function sl(e){if(!e.phoneVerificationInfo)throw new S("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new S("missing-verification-code")}function ul(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new S("internal-error")}function cl(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&Xn(e=new Jn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function hl(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ho(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ho(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ho(e)):e.errorMessage&&(t=Yl(e.errorMessage)),t)throw t;ol(e)}function fl(e,t){return t.returnIdpCredential=!0,Ql(e,Vl,t)}function dl(e,t){return t.returnIdpCredential=!0,Ql(e,ql,t)}function pl(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ql(e,Ul,t)}function vl(e){if(!e.oobCode)throw new S("invalid-action-code")}(e=Ha.prototype).Eb=function(e,t){var n={idToken:e},r=[];return de(ll,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ql(this,Ml,n)},e.wb=function(e,t){return me(e={requestType:"PASSWORD_RESET",email:e},t),Ql(this,xl,e)},e.xb=function(e,t){return me(e={requestType:"EMAIL_SIGNIN",email:e},t),Ql(this,Tl,e)},e.vb=function(e,t){return me(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ql(this,Al,e)},e.Fb=function(e,t,n){return me(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),Ql(this,Ol,e)},e.gb=function(e){return Ql(this,Gl,e)},e.ob=function(e,t){return Ql(this,Rl,{oobCode:e,newPassword:t})},e.Sa=function(e){return Ql(this,ml,{oobCode:e})},e.kb=function(e){return Ql(this,gl,{oobCode:e})};var gl={endpoint:"setAccountInfo",A:vl,Z:"email",B:!0},ml={endpoint:"resetPassword",A:vl,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new S("internal-error")},B:!0},yl={endpoint:"signupNewUser",A:function(e){if(rl(e),!e.password)throw new S("weak-password")},G:ol,V:!0,B:!0},bl={endpoint:"createAuthUri",B:!0},_l={endpoint:"deleteAccount",O:["idToken"]},wl={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new S("internal-error")}},kl={endpoint:"emailLinkSignin",O:["email","oobCode"],A:rl,G:ol,V:!0,B:!0},Cl={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:rl,G:ol,V:!0},Il={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:sl,G:ol,B:!0,Na:!0},El={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:sl,G:ol,B:!0,Na:!0},Sl={endpoint:"getAccountInfo"},Tl={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new S("internal-error");rl(e)},Z:"email",B:!0},Al={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},Ol={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},xl={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new S("internal-error");rl(e)},Z:"email",B:!0},Pl={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Nl={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new S("internal-error")}},Rl={endpoint:"resetPassword",A:vl,Z:"email",B:!0},Dl={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ml={endpoint:"setAccountInfo",O:["idToken"],A:il,V:!0},jl={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(il(e),!e.password)throw new S("weak-password")},G:ol,V:!0},Ll={endpoint:"signupNewUser",G:ol,V:!0,B:!0},Bl={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new S("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Fl={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Vl={endpoint:"verifyAssertion",A:ul,Za:cl,G:hl,V:!0,B:!0},Ul={endpoint:"verifyAssertion",A:ul,Za:cl,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new S("user-not-found");if(e.errorMessage)throw Yl(e.errorMessage);ol(e)},V:!0,B:!0},ql={endpoint:"verifyAssertion",A:function(e){if(ul(e),!e.idToken)throw new S("internal-error")},Za:cl,G:hl,V:!0},Hl={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new S("invalid-custom-token")},G:ol,V:!0,B:!0},zl={endpoint:"verifyPassword",A:function(e){if(rl(e),!e.password)throw new S("wrong-password")},G:ol,V:!0,B:!0},Gl={endpoint:"verifyPhoneNumber",A:al,G:ol,B:!0},Wl={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new S("internal-error");al(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ho(e);ol(e)}},Kl={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:al,G:ol,B:!0},Jl={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Ga]^!!e.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Ql(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.O))return At(new S("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Tt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var l=Bn(t+n);jn(l,"key",e.c),a&&jn(l,"cb",Date.now().toString());var s="GET"==r;if(s)for(var u in i)i.hasOwnProperty(u)&&jn(l,u,i[u]);return new _t((function(t,n){el(e,l.toString(),(function(e){e?e.error?n($l(e,o||{})):t(e):n(new S("network-request-failed"))}),r,s?void 0:nr(Rr(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new S("internal-error");return r[t.Z]}))}function Yl(e){return $l({error:{errors:[{message:e}],code:400,message:e}})}function $l(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",me(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],t);return!t&&e&&(t=Nr(e)),new S("internal-error",t)}function Xl(e){this.b=e,this.a=null,this.sb=function(e){return(ns||(ns=new _t((function(e,t){function n(){Lr(),Sr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Lr(),t(Error("Network Error"))},timeout:es.get()})}if(Sr("gapi.iframes.Iframe"))e();else if(Sr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[r]=function(){Sr("gapi.load")?n():t(Error("Network Error"))},Tt(ja(r=Te(Zl,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw ns=null,e})))).then((function(){return new _t((function(t,n){Sr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ts.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Zl=new be(Ce,"https://apis.google.com/js/api.js?onload=%{onload}"),es=new Br(3e4,6e4),ts=new Br(5e3,15e3),ns=null;function rs(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?Fn((e=Bn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):Fn("https",this.l,null,"/__/auth/iframe"),this.a=e,jn(this.a,"apiKey",this.h),jn(this.a,"appName",this.i),this.b=null,this.c=[]}function is(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function os(e){try{return r.a.app(e).auth().Ga()}catch(t){return[]}}function as(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ls(e){var t=sr();return function(e){return Ql(e,Pl,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Bn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,l=r;if(0==o.indexOf("chrome-extension://")?a=Bn(o).a==a&&"chrome-extension"==l:"http"!=l&&"https"!=l?a=!1:dr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Uo(sr())}))}function ss(e){return e.m||(e.m=vr().then((function(){if(!e.u){var t=e.c,n=e.i,r=os(e.b),i=new rs(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=X(r||[]),e.u=i.toString()}e.v=new Xl(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Lo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Tt(n)}return n.status="ERROR",Tt(n)}))}(e)}))),e.m}function us(e){return e.l||(e.C=e.c?Ir(e.c,os(e.b)):null,e.l=new Ha(e.g,N(e.i),e.C),e.f&&$a(e.l,e.f)),e.l}function cs(e,t,n,r,i,o,a,l,s,u,c,h){return(e=new is(e,t,n,r,i,h)).l=o,e.g=a,e.i=l,e.b=ve(s||null),e.f=u,e.zb(c).toString()}function hs(e){if(this.a=e||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fs(e){this.b=e,this.a={},this.f=w(this.c,this)}rs.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):$n(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):$n(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):$n(this.a.b,"fw"),this.a.toString()},is.prototype.zb=function(e){return this.h=e,this},is.prototype.toString=function(){if(this.v){var e=Bn(this.v.url);e=Fn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Fn("https",this.u,null,"/__/auth/handler");if(jn(e,"apiKey",this.s),jn(e,"appName",this.c),jn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.a.app(this.c).auth().la()}catch(s){n=null}for(var i in t.pb=n,jn(e,"providerId",this.a.providerId),t=Rr((n=this.a).Jb))t[i]=t[i].toString();i=n.Qc,t=ve(t);for(var o=0;o<i.length;o++){var a=i[o];a in t&&delete t[a]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||jn(e,"customParameters",Nr(t))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&jn(e,"scopes",n.join(",")),this.l?jn(e,"redirectUrl",this.l):$n(e.b,"redirectUrl"),this.g?jn(e,"eventId",this.g):$n(e.b,"eventId"),this.i?jn(e,"v",this.i):$n(e.b,"v"),this.b)for(var l in this.b)this.b.hasOwnProperty(l)&&!Ln(e,l)&&jn(e,l,this.b[l]);return this.h?jn(e,"tid",this.h):$n(e.b,"tid"),this.f?jn(e,"eid",this.f):$n(e.b,"eid"),(l=os(this.c)).length&&jn(e,"fw",l.join(",")),e.toString()},(e=as.prototype).Pb=function(e,t,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return ss(e).then((function(){return function(e,t){return e.sb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&hr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new _t((function(t){return function n(){En(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return En(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Er();return!Pr(e)&&!jr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,l){if(!e)return At(new S("popup-blocked"));if(a&&!Pr())return this.ma().o((function(t){hr(e),i(t)})),r(),Tt();this.a||(this.a=ls(us(this)));var s=this;return this.a.then((function(){var t=s.ma().o((function(t){throw hr(e),i(t),t}));return r(),t})).then((function(){Mo(n),a||ur(cs(s.s,s.g,s.b,t,n,null,o,s.c,void 0,s.i,l,s.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(s.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=ls(us(this)));var i=this;return this.a.then((function(){Mo(t),ur(cs(i.s,i.g,i.b,e,t,sr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return ss(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new S("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Y(this.h,(function(t){return t==e}))},(e=hs.prototype).get=function(e){return Tt(this.a.getItem(e)).then((function(e){return e&&Dr(e)}))},e.set=function(e,t){return Tt(this.a.setItem(e,Nr(t)))},e.U=function(e){return Tt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var ds,ps=[];function vs(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function gs(e){this.a=e}function ms(e){this.c=e,this.b=!1,this.a=[]}function ys(e,t,n,r){var i,o,a,l,s=n||{},u=null;if(e.b)return At(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),e.a.push(u={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),l=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(l),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(l),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:s},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return bs(e,u),t})).o((function(t){throw bs(e,u),t}))}function bs(e,t){if(t){var n=t.messageChannel;n&&(n.port1.removeEventListener("message",t.onMessage),n.port1.close()),Y(e.a,(function(e){return e==t}))}}function _s(){if(!Cs())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;yr()&&self?(this.v=function(){var e=yr()?self:null;if(z(ps,(function(n){n.b==e&&(t=n)})),!t){var t=new fs(e);ps.push(t)}return t}(),vs(this.v,"keyChanged",(function(t,n){return As(e).then((function(t){return 0<t.length&&z(e.a,(function(e){e(t)})),{keyProcessed:J(t,n.key)}}))})),vs(this.v,"ping",(function(){return Tt(["keyChanged"])}))):function(){var e=l.navigator;return e&&e.serviceWorker?Tt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Tt(null)}().then((function(t){(e.h=t)&&(e.g=new ms(new gs(t)),ys(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&J(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function ws(e){return e.i||(e.i=function e(t){return new _t((function(n,r){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(t){}r(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(e){return new _t((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(t).then((function(){return e(t)})).then((function(e){n(e)})).o((function(e){r(e)}))}}))}(e)),e.i}function ks(e,t){var n=0;return new _t((function r(i,o){ws(e).then(t).then(i).o((function(t){if(!(3<++n))return ws(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Cs(){try{return!!l.indexedDB}catch(Ke){return!1}}function Is(e){return e.objectStore("firebaseLocalStorage")}function Es(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Ss(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Ts(e,t){return e.g&&e.h&&function(){var e=l.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?ys(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Tt()}function As(e){return ws(e).then((function(e){var t=Is(Es(e,!1));return t.getAll?Ss(t.getAll()):new _t((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function Os(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function xs(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Tt().then((function(){if(Cs()){var e=Mr(),r="__sak"+e;return ds||(ds=new _s),(n=ds).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){z(t.a,(function(t){t(e)}))})),e}))}function Ps(){this.a={},this.type="inMemory"}function Ns(){if(!function(){var e="Node"==br();if(!(e=Rs()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Rs()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Rs(){try{var e=l.localStorage,t=Mr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Ds(){this.type="nullStorage"}function Ms(){if(!function(){var e="Node"==br();if(!(e=js()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=js()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function js(){try{var e=l.sessionStorage,t=Mr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Ls(){var e={};e.Browser=Vs,e.Node=Us,e.ReactNative=qs,e.Worker=Hs,this.a=e[br()]}fs.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];z(r,(function(t){i.push(Tt().then((function(){return t(e.origin,e.data.data)})))})),xt(i).then((function(r){var i=[];z(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),z(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},gs.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},ms.prototype.close=function(){for(;0<this.a.length;)bs(this,this.a[0]);this.b=!0},(e=_s.prototype).set=function(e,t){var n=this,r=!1;return ks(this,(function(t){return Ss((t=Is(Es(t,!0))).get(e))})).then((function(i){return ks(n,(function(o){if(o=Is(Es(o,!0)),i)return i.value=t,Ss(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Ss(o.add(a))}))})).then((function(){return n.c[e]=t,Ts(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return ks(this,(function(t){return Ss(Is(Es(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return ks(this,(function(r){return n=!0,t.b++,Ss(Is(Es(r,!0)).delete(e))})).then((function(){return delete t.c[e],Ts(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){Os(e),function t(){e.f=setTimeout((function(){e.l=As(e).then((function(t){0<t.length&&z(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e})),0==this.a.length&&Os(this)},(e=xs.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e}))},(e=Ps.prototype).get=function(e){return Tt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Tt()},e.U=function(e){return delete this.a[e],Tt()},e.ca=function(){},e.ia=function(){},(e=Ns.prototype).get=function(e){var t=this;return Tt().then((function(){return Dr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Tt().then((function(){var r=Nr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Tt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){l.window&&sn(l.window,"storage",e)},e.ia=function(e){l.window&&hn(l.window,"storage",e)},(e=Ds.prototype).get=function(){return Tt(null)},e.set=function(){return Tt()},e.U=function(){return Tt()},e.ca=function(){},e.ia=function(){},(e=Ms.prototype).get=function(e){var t=this;return Tt().then((function(){return Dr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Tt().then((function(){var r=Nr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Tt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Bs,Fs,Vs={F:Ns,cb:Ms},Us={F:Ns,cb:Ms},qs={F:hs,cb:Ds},Hs={F:Ns,cb:Ds},zs={rd:"local",NONE:"none",td:"session"};function Gs(){var e=!(jr(Er())||!mr()),t=Pr(),n=Tr();this.m=e,this.h=t,this.l=n,this.a={},Bs||(Bs=new Ls),e=Bs;try{this.g=!lr()&&Ur()||!l.indexedDB?new e.a.F:new xs(yr()?new Ps:new e.a.F)}catch(r){this.g=new Ps,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Ps}this.v=new Ps,this.f=w(this.Zb,this),this.b={}}function Ws(){return Fs||(Fs=new Gs),Fs}function Ks(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function Js(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Qs(e,t,n){return n=Js(t,n),"local"==t.F&&(e.b[n]=null),Ks(e,t.F).U(n)}function Ys(e){e.c&&(clearInterval(e.c),e.c=null)}function $s(e){this.a=e,this.b=Ws()}(e=Gs.prototype).get=function(e,t){return Ks(this,e.F).get(Js(e,t))},e.set=function(e,t,n){var r=Js(e,n),i=this,o=Ks(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=Js(e,t),this.l&&(this.b[e]=l.localStorage.getItem(e)),pe(this.a)&&(Ks(this,"local").ca(this.f),this.h||(lr()||!Ur())&&l.indexedDB||!this.l||function(e){Ys(e),e.c=setInterval((function(){for(var t in e.a){var n=l.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Yt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Js(e,t),this.a[e]&&(Y(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(Ks(this,"local").ia(this.f),Ys(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=l.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Ks(this,"local").ia(this.f):Ys(this),this.m)if(n=l.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?l.localStorage.setItem(t,r):l.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===l.localStorage.getItem(t)||(o.b[t]=l.localStorage.getItem(t),o.nb(t))},Qe&&at&&10==at&&l.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else z(e,w(this.nb,this))},e.nb=function(e){this.a[e]&&z(this.a[e],(function(e){e()}))};var Xs,Zs={name:"authEvent",F:"local"};function eu(){this.a=Ws()}function tu(e,t){this.b=nu,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=l.Int32Array?new Int32Array(64):Array(64),void 0===Xs&&(Xs=l.Int32Array?new Int32Array(uu):uu),this.reset()}I(tu,(function(){this.b=-1}));for(var nu=64,ru=nu-1,iu=[],ou=0;ou<ru;ou++)iu[ou]=0;var au=$(128,iu);function lu(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){var o=(0|n[t-16])+(((i=0|n[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+(((r=0|n[t-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var l=0|e.a[2],s=0|e.a[3],u=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&l^i&l)|0;a=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&c^~u&h)+(0|Xs[t])|0)+(0|n[t])|0)|0,o=h,h=c,c=u,u=s+a|0,s=l,l=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+l|0,e.a[3]=e.a[3]+s|0,e.a[4]=e.a[4]+u|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function su(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(lu(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(lu(e),i=0)}}e.c=i,e.g+=n}tu.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):X(this.h)};var uu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cu(){tu.call(this,8,hu)}I(cu,tu);var hu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fu(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new eu,this.g=new $s(this.h),this.f=null,this.b=[],this.a=this.c=null}function du(e){return new S("invalid-cordova-configuration",e)}function pu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function vu(e){return e.f||(e.f=e.ma().then((function(){return new _t((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),gu(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=eo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Dr(Ln(o=Bn(i),"firebaseError")||null))?T(o):null)?new jo(r.c,r.b,null,null,o,null,r.T()):new jo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}pu(e,i)}))}var n=new jo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=En(500).then((function(){return gu(e).then((function(){r||pu(e,n)}))})),o=l.handleOpenURL;l.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Sr("BuildInfo.packageName",l).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},Vo||(Vo=new Bo),function(e){var t=Vo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Sr("universalLinks.subscribe",l))&&e(null,t.b))}(t)}(e)}))}))),e.f}function gu(e){var t=null;return function(e){return e.b.get(Zs,e.a).then((function(e){return Lo(e)}))}(e.g).then((function(n){return t=n,Qs((n=e.g).b,Zs,n.a)})).then((function(){return t}))}function mu(e){this.a=e,this.b=Ws()}(e=fu.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?vr().then((function(){return new _t((function(e,t){var n=l.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):At(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Sr("universalLinks.subscribe",l))throw du("cordova-universal-links-plugin-fix is not installed");if(void 0===Sr("BuildInfo.packageName",l))throw du("cordova-plugin-buildinfo is not installed");if("function"!=typeof Sr("cordova.plugins.browsertab.openUrl",l))throw du("cordova-plugin-browsertab is not installed");if("function"!=typeof Sr("cordova.InAppBrowser.open",l))throw du("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},e.Pb=function(e,t){return t(new S("operation-not-supported-in-this-environment")),Tt()},e.Nb=function(){return At(new S("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return At(new S("redirect-operation-pending"));var i=this,o=l.document,a=null,s=null,u=null,c=null;return this.c=Tt().then((function(){return Mo(t),vu(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new jo(t,r,null,o,new S("no-auth-event"),null,i),s=Sr("BuildInfo.packageName",l);if("string"!=typeof s)throw new S("invalid-cordova-configuration");var u=Sr("BuildInfo.displayName",l),c={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!Er().toLowerCase().match(/android/))return At(new S("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=function(e){var t=new cu;su(t,e),e=[];var n=8*t.g;su(t,au,56>t.c?56-t.c:t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(lu(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return W(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),c.sessionId=o;var h=cs(e.v,e.i,e.l,t,n,null,r,e.m,c,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(Zs,a.w(),t)})).then((function(){var t=Sr("cordova.plugins.browsertab.isAvailable",l);if("function"!=typeof t)throw new S("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Sr("cordova.plugins.browsertab.openUrl",l)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Sr("cordova.InAppBrowser.open",l)))throw new S("invalid-cordova-configuration");t=Er(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new _t((function(e,t){s=function(){var t=Sr("cordova.plugins.browsertab.close",l);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){Fr()&&u()},o.addEventListener("resume",u=function(){a||(a=En(2e3).then((function(){t(new S("redirect-cancelled-by-user"))})))},!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(e){return gu(i).then((function(){throw e}))}))})).oa((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null}))},e.Ea=function(e){this.b.push(e),vu(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new jo("unknown",null,null,null,new S("no-auth-event")),e(t))}))},e.Ta=function(e){Y(this.b,(function(t){return t==e}))};var yu={name:"pendingRedirect",F:"session"};function bu(e){return Qs(e.b,yu,e.a)}function _u(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Mu,this.C=new Vu,this.g=new mu(Ru(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=wu(this.D,this.v,this.m,A,this.J)}function wu(e,t,n,i,o){var a=r.a.SDK_VERSION||null;return gr()?new fu(e,t,n,a,i,o):new as(e,t,n,a,i,o)}function ku(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Cu(e){e.a.Yb()&&ku(e).o((function(t){var n=new jo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Ou(t)&&e.s(n)})),e.a.Ub()||ju(e.b)}function Iu(e,t){J(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(yu,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?bu(e.g).then((function(){ku(e).o((function(t){var n=new jo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Ou(t)&&e.s(n)}))})):Cu(e)})).o((function(){Cu(e)}))}function Eu(e,t){Y(e.h,(function(e){return e==t}))}_u.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=wu(this.D,this.v,this.m,null,this.J),this.i={}},_u.prototype.s=function(e){if(!e)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return ju(this.b),t};var Su=new Br(2e3,1e4),Tu=new Br(3e4,6e4);function Au(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Ou(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function xu(e,t,n,r,i){var o;return function(e){return e.b.set(yu,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Ou(t))throw new S("operation-not-supported-in-this-environment");return o=t,bu(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new _t((function(){})):bu(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Pu(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Su.get())}_u.prototype.ra=function(){return this.b.ra()};var Nu={};function Ru(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Du(e,t,n,r){var i=Ru(t,n,r);return Nu[i]||(Nu[i]=new _u(e,t,n,r)),Nu[i]}function Mu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ju(e){e.g||(e.g=!0,Fu(e,!1,null,null))}function Lu(e){e.g&&!e.i&&Fu(e,!1,null,null)}function Bu(e,t){if(e.b=function(){return Tt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Fu(e,t,n,r){t?r?function(e,t){if(e.b=function(){return At(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Bu(e,n):Bu(e,{user:null}),e.f=[],e.c=[]}function Vu(){}function Uu(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function qu(e,t){this.a=t,Wr(this,"verificationId",e)}function Hu(e,t,n,r){return new No(e).gb(t,n).then((function(e){return new qu(e,r)}))}function zu(e){var t=Vi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Kr(this,{token:e,expirationTime:Vr(1e3*t.exp),authTime:Vr(1e3*t.auth_time),issuedAtTime:Vr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Gu(e,t,n){var r=t&&t[Ku];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new to(null,r),this.b=[];var i=this;z(t[Wu]||[],(function(e){(e=$r(e))&&i.b.push(e)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Mu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Mu.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Fu(this,!0,null,e.a),Tt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),l=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Fu(e,l,t,null)})).o((function(t){Fu(e,l,null,t)}))}(this,e,t):At(new S("invalid-auth-event")):(Fu(this,!1,null,null),Tt())}else At(new S("invalid-auth-event"))},Mu.prototype.ra=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new S("timeout");e.a&&e.a.cancel(),e.a=En(Tu.get()).then((function(){e.b||(e.g=!0,Fu(e,!0,null,t))}))}(e))}))},Vu.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Tt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):At(new S("invalid-auth-event"))}else At(new S("invalid-auth-event"))},qu.prototype.confirm=function(e){return e=Ro(this.verificationId,e),this.a(e)};var Wu="mfaInfo",Ku="mfaPendingCredential";function Ju(e,t,n,r){S.call(this,"multi-factor-auth-required",r,t),this.b=new Gu(e,t,n),Wr(this,"resolver",this.b)}function Qu(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new Ju(t,e.serverResponse,n,e.message)}catch(r){}return null}function Yu(){}function $u(e){Wr(this,"factorId",e.fa),this.a=e}function Xu(e){if($u.call(this,e),this.a.fa!=No.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zu(e,t){for(var n in Qt.call(this,e),t)this[n]=t[n]}function ec(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),sn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&z(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ei]=e.uid),e.displayName&&(r[Xr]=e.displayName),e.enrollmentTime&&(r[Zr]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ti]=e.phoneNumber);try{t=new ni(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),tc(this,n)}function tc(e,t){e.b=t,Wr(e,"enrolledFactors",t)}function nc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rc(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function ic(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function oc(e,t){e.b=Fi(t[Ga]||""),e.a=t.refreshToken,ic(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function ac(e,t){this.a=e||null,this.b=t||null,Kr(this,{lastSignInTime:Vr(t||null),creationTime:Vr(e||null)})}function lc(e,t,n,r,i,o){Kr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function sc(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=r.a.SDK_VERSION?Ir(r.a.SDK_VERSION):null;this.a=new Ha(this.l,N(A),i),(this.u=e.emulatorConfig||null)&&$a(this.a,this.u),this.h=new rc(this.a),mc(this,t[Ga]),oc(this.h,t),Wr(this,"refreshToken",this.h.a),_c(this,n||{}),_n.call(this),this.P=!1,this.s&&Ar()&&(this.b=Du(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new nc((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=w(this.ib,this);var o=this;this.za=null,this.Pa=function(e){o.xa(e.h)},this.qa=null,this.Ba=function(e){uc(o,e.c)},this.$=null,this.aa=[],this.Oa=function(e){fc(o,e.f)},this.ja=null,this.S=new ec(this,n),Wr(this,"multiFactor",this.S)}function uc(e,t){e.u=t,$a(e.a,t),e.b&&(t=e.b,e.b=Du(e.s,e.l,e.m,e.u),e.P&&(Eu(t,e),Iu(e.b,e)))}function cc(e,t){e.qa&&hn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&sn(t,"languageCodeChanged",e.Pa)}function hc(e,t){e.$&&hn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&sn(t,"emulatorConfigChanged",e.Ba)}function fc(e,t){e.aa=t,Za(e.a,r.a.SDK_VERSION?Ir(r.a.SDK_VERSION,e.aa):null)}function dc(e,t){e.ja&&hn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&sn(t,"frameworkChanged",e.Oa)}function pc(e){try{return r.a.app(e.m).auth()}catch(t){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function vc(e){e.J||e.D.b||(e.D.start(),hn(e,"tokenChanged",e.ba),sn(e,"tokenChanged",e.ba))}function gc(e){hn(e,"tokenChanged",e.ba),e.D.stop()}function mc(e,t){e.Aa=t,Wr(e,"_lat",t)}function yc(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return xt(t).then((function(){return e}))}function bc(e){e.b&&!e.P&&(e.P=!0,Iu(e.b,e))}function _c(e,t){Kr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new ac(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function wc(){}function kc(e){return Tt().then((function(){if(e.J)throw new S("app-deleted")}))}function Cc(e){return W(e.providerData,(function(e){return e.providerId}))}function Ic(e,t){t&&(Ec(e,t.providerId),e.providerData.push(t))}function Ec(e,t){Y(e.providerData,(function(e){return e.providerId==t}))}function Sc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Wr(e,t,n)}function Tc(e,t){e!=t&&(Kr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),Wr(e,"metadata",t.metadata?function(e){return new ac(e.a,e.b)}(t.metadata):new ac),z(t.providerData,(function(t){Ic(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Wr(e,"refreshToken",e.h.a),tc(e.S,t.S.b))}function Ac(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return Ql(e.a,Sl,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||Sc(e,"isAnonymous",!1),t}))}))}function Oc(e,t){t[Ga]&&e.Aa!=t[Ga]&&(oc(e.h,t),e.dispatchEvent(new Zu("tokenChanged")),mc(e,t[Ga]),Sc(e,"refreshToken",e.h.a))}function xc(e,t){return Ac(e).then((function(){if(J(Cc(e),t))return yc(e).then((function(){throw new S("provider-already-linked")}))}))}function Pc(e,t,n){return Jr({user:e,credential:Do(t),additionalUserInfo:t=Gi(t),operationType:n})}function Nc(e,t){return Oc(e,t),e.reload().then((function(){return e}))}function Rc(e,t,n,i,o){if(!Ar())return At(new S("operation-not-supported-in-this-environment"));if(e.i&&!o)return At(e.i);var a=zi(n.providerId),l=Mr(e.uid+":::"),s=null;(!Pr()||mr())&&e.s&&n.isOAuthProvider&&(s=cs(e.s,e.l,e.m,t,n,null,l,r.a.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=fr(s,a&&a.va,a&&a.ua);return i=i().then((function(){if(Mc(e),!o)return e.I().then((function(){}))})).then((function(){return Au(e.b,u,t,n,l,!!s,e.tenantId)})).then((function(){return new _t((function(n,r){e.na(t,null,new S("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=l,e.c=Pu(e.b,e,t,u,l)}))})).then((function(e){return u&&hr(u),e?Jr(e):null})).o((function(e){throw u&&hr(u),e})),jc(e,i,o)}function Dc(e,t,n,r,i){if(!Ar())return At(new S("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=null,a=Mr(e.uid+":::");return r=r().then((function(){if(Mc(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,yc(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Fc,e.w(),t.a)),t})).then((function(){return xu(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Vc(e.ha);throw o})).then((function(){if(o)throw o})),jc(e,r,i)}function Mc(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function jc(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),At(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new Zu("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){Q(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=Qu(t.w(),pc(e),w(e.jc,e))),n||t}))}function Lc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Ga]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new sc(t,n,e);return e.providerData&&z(e.providerData,(function(e){e&&Ic(i,Jr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Bc(e){this.a=e,this.b=Ws()}Gu.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[Wu],delete n[Ku],me(n,e),t.g(n)}))},I(Ju,S),Yu.prototype.tb=function(e,t,n){return t.type==no?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),me(n,{phoneVerificationInfo:Po(e.a)}),Ql(t,Il,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return me(n={mfaPendingCredential:n},{phoneVerificationInfo:Po(e.a)}),Ql(t,El,n)}))}(this,e,t)},I($u,Yu),I(Xu,$u),I(Zu,Qt),(e=ec.prototype).yc=function(e){tc(this,function(e){var t=[];return z(e.mfaInfo||[],(function(e){(e=$r(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new to(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Oc(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return Ql(r,Jl,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=G(t.b,(function(e){return e.uid!=n}));return tc(t,r),Oc(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(e){return e.w()}))}}},nc.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=En(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=l.document,t=null;return Fr()||!e?Tt():new _t((function(n){t=function(){Fr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).o((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},nc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},rc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?At(new S("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?el(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r($l(e)):e.access_token&&e.refresh_token?n(e):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",Yn(t).toString(),e.g,e.m.get()):r(new S("internal-error"))}))}(e.f,t).then((function(t){return e.b=Fi(t.access_token),e.a=t.refresh_token,ic(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Tt(null):Tt({accessToken:this.b.toString(),refreshToken:this.a})},ac.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(sc,_n),sc.prototype.xa=function(e){this.za=e,Ya(this.a,e)},sc.prototype.la=function(){return this.za},sc.prototype.Ga=function(){return X(this.aa)},sc.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Wr(sc.prototype,"providerId","firebase"),(e=sc.prototype).reload=function(){var e=this;return jc(this,kc(this).then((function(){return Ac(e).then((function(){return yc(e)})).then(wc)})))},e.oc=function(e){return this.I(e).then((function(e){return new zu(e)}))},e.I=function(e){var t=this;return jc(this,kc(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new S("internal-error");return e.accessToken!=t.Aa&&(mc(t,e.accessToken),t.dispatchEvent(new Zu("tokenChanged"))),Sc(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new S("internal-error");_c(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?W(e,(function(e){return new lc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Ic(this,t[n]);Sc(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zu("userReloaded",{hd:e}))},e.Lc=function(e){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return jc(this,e.c(this.a,this.uid).then((function(e){return Oc(t,e),n=Pc(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return jc(this,xc(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Pc(t,e,"link"),Nc(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return jc(this,xc(this,"phone").then((function(){return Hu(pc(n),e,t,w(n.rb,n))})))},e.Mc=function(e,t){var n=this;return jc(this,Tt().then((function(){return Hu(pc(n),e,t,w(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return jc(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Oc(t,e),t.reload()})))},e.ed=function(e){var t=this;return jc(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Oc(t,e),t.reload()})))},e.Db=function(e){var t=this;return jc(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Oc(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return kc(this);var t=this;return jc(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Oc(t,e),Sc(t,"displayName",e.displayName||null),Sc(t,"photoURL",e.photoUrl||null),z(t.providerData,(function(e){"password"===e.providerId&&(Wr(e,"displayName",t.displayName),Wr(e,"photoURL",t.photoURL))})),yc(t)})).then(wc))},e.cd=function(e){var t=this;return jc(this,Ac(this).then((function(n){return J(Cc(t),e)?function(e,t,n){return Ql(e,wl,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return z(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),z(Cc(t),(function(e){n[e]||Ec(t,e)})),n[No.PROVIDER_ID]||Wr(t,"phoneNumber",null),yc(t)})):yc(t).then((function(){throw new S("no-such-provider")}))})))},e.delete=function(){var e=this;return jc(this,this.I().then((function(t){return Ql(e.a,_l,{idToken:t})})).then((function(){e.dispatchEvent(new Zu("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");cc(e,null),hc(e,null),dc(e,null),e.N=[],e.J=!0,gc(e),Wr(e,"refreshToken",null),e.b&&Eu(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Mb,this):null},e.Ec=function(e){var t=this;return Rc(this,"linkViaPopup",e,(function(){return xc(t,e.providerId).then((function(){return yc(t)}))}),!1)},e.Nc=function(e){return Rc(this,"reauthViaPopup",e,(function(){return Tt()}),!0)},e.Fc=function(e){var t=this;return Dc(this,"linkViaRedirect",e,(function(){return xc(t,e.providerId)}),!1)},e.Oc=function(e){return Dc(this,"reauthViaRedirect",e,(function(){return Tt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return jc(this,this.I().then((function(n){return dl(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Pc(i,e,"link"),Nc(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return jc(this,Tt().then((function(){return oo(pl(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Pc(i,e,"reauthenticate"),Oc(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return jc(this,this.I().then((function(t){return n=t,void 0===e||pe(e)?{}:ji(new Si(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return jc(this,this.I().then((function(e){return r=e,void 0===t||pe(t)?{}:ji(new Si(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return jc(this,e=oo(Tt(e),n.uid).then((function(e){return t=Pc(n,e,"reauthenticate"),Oc(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&me(e,this.metadata.w()),z(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),me(e,this.S.w()),e};var Fc={name:"redirectUser",F:"session"};function Vc(e){return Qs(e.b,Fc,e.a)}function Uc(e){this.a=e,this.b=Ws(),this.c=null,this.f=function(e){var t=zc("local"),n=zc("session"),r=zc("none");return function(e,t,n){var r=Js(t,n),i=Ks(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Dr(l.localStorage.getItem(r))}catch(s){}if(a&&!o)return l.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&l.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(Hc,e.a).then((function(e){return e?zc(e):t}))}))}))})).then((function(t){return e.c=t,qc(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(zc("local"),this.a,w(this.g,this))}function qc(e,t){var n,r=[];for(n in zs)zs[n]!==t&&r.push(Qs(e.b,zc(zs[n]),e.a));return r.push(Qs(e.b,Hc,e.a)),function(e){return new _t((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},l=0;l<e.length;l++)Ot(e[l],k(o,l),a);else t(i)}))}(r)}Uc.prototype.g=function(){var e=this,t=zc("local");Jc(this,(function(){return Tt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return qc(e,"local").then((function(){e.c=t}))}))}))};var Hc={name:"persistence",F:"session"};function zc(e){return{name:"authUser",F:e}}function Gc(e,t){return Jc(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function Wc(e){return Jc(e,(function(){return Qs(e.b,e.c,e.a)}))}function Kc(e,t,n){return Jc(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Lc(e||{})}))}))}function Jc(e,t){return e.f=e.f.then(t,t),e.f}function Qc(e){if(this.l=!1,Wr(this,"settings",new Uu),Wr(this,"app",e),!rh(this).options||!rh(this).options.apiKey)throw new S("invalid-api-key");e=r.a.SDK_VERSION?Ir(r.a.SDK_VERSION):null,this.a=new Ha(rh(this).options&&rh(this).options.apiKey,N(A),e),this.P=[],this.s=[],this.N=[],this.Pa=r.a.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=r.a.INTERNAL.createSubscribe(w(this.Ac,this)),th(this,null),this.i=new Uc(rh(this).options.apiKey+":"+rh(this).name),this.D=new Bc(rh(this).options.apiKey+":"+rh(this).name),this.$=lh(this,function(e){var t=rh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Fc,e.a).then((function(e){return e&&t&&(e.authDomain=t),Lc(e||{})}))}(e.D,rh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Vc(e.D)}));return lh(e,t)}(e).then((function(){return Kc(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Gc(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:Wc(e.i)}))):null})).then((function(t){th(e,t||null)}));return lh(e,n)}(this)),this.h=lh(this,function(e){return e.$.then((function(){return eh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(zc("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=rh(e).options.authDomain,n=rh(e).options.apiKey;t&&Ar()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Du(t,n,rh(e).name,e.R),Iu(e.b,e),ih(e)&&bc(ih(e)),e.m){bc(e.m);var r=e.m;r.xa(e.la()),cc(r,e),fc(r=e.m,e.J),dc(r,e),uc(r=e.m,e.R),hc(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,_n.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Bn(this.R.url);e=Jr({protocol:e.c,host:e.a,port:e.g,options:Jr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function Yc(e){Qt.call(this,"languageCodeChanged"),this.h=e}function $c(e){Qt.call(this,"emulatorConfigChanged"),this.c=e}function Xc(e){Qt.call(this,"frameworkChanged"),this.f=e}function Zc(e){return e.Oa||At(new S("auth-domain-config-required"))}function eh(e){if(!Ar())return At(new S("operation-not-supported-in-this-environment"));var t=Zc(e).then((function(){return e.b.ra()})).then((function(e){return e?Jr(e):null}));return lh(e,t)}function th(e,t){ih(e)&&(function(e,t){Y(e.W,(function(e){return e==t}))}(ih(e),e.Ba),hn(ih(e),"tokenChanged",e.qa),hn(ih(e),"userDeleted",e.za),hn(ih(e),"userInvalidated",e.Aa),gc(ih(e))),t&&(t.W.push(e.Ba),sn(t,"tokenChanged",e.qa),sn(t,"userDeleted",e.za),sn(t,"userInvalidated",e.Aa),0<e.u&&vc(t)),Wr(e,"currentUser",t),t&&(t.xa(e.la()),cc(t,e),fc(t,e.J),dc(t,e),uc(t,e.R),hc(t,e))}function nh(e,t){var n=null,r=null;return lh(e,t.then((function(t){return n=Do(t),r=Gi(t),function(e,t){var n={};return n.apiKey=rh(e).options.apiKey,n.authDomain=rh(e).options.authDomain,n.appName=rh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new sc(e,t);return n&&(i.ha=n),r&&fc(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return ih(e)&&t.uid==ih(e).uid?(Tc(ih(e),t),e.da(t)):(th(e,t),bc(t),e.da(t))})).then((function(){ah(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=Qu(t.w(),e,w(e.kc,e))),n||t})).then((function(){return Jr({user:ih(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rh(e){return e.app}function ih(e){return e.currentUser}function oh(e){return ih(e)&&ih(e)._lat||null}function ah(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](oh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](oh(e))}}function lh(e,t){return e.P.push(t),t.oa((function(){Q(e.P,t)})),t}function sh(){}function uh(){this.a={},this.b=1e12}Uc.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");e:{for(r in zs)if(zs[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(br()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Cs()&&"none"!==e)throw n;break;default:if(!Tr()&&"none"!==e)throw n}}(e),Jc(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,qc(n,e)})).then((function(){if(n.c=zc(e),t)return n.b.set(n.c,t,n.a)})):Tt()}))},I(Qc,_n),I(Yc,Qt),I($c,Qt),I(Xc,Qt),(e=Qc.prototype).yb=function(e){return lh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,Ya(this.a,this.aa),this.dispatchEvent(new Yc(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=l.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!e&&vr().then((function(){var e=l.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),l.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,$a(this.a,this.R),this.dispatchEvent(new $c(this.R))}},e.Gc=function(e){this.J.push(e),Za(this.a,r.a.SDK_VERSION?Ir(r.a.SDK_VERSION,this.J):null),this.dispatchEvent(new Xc(this.J))},e.Ga=function(){return X(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:rh(this).options.apiKey,authDomain:rh(this).options.authDomain,appName:rh(this).name,currentUser:ih(this)&&ih(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return nh(i,fl(i.a,o))}))},e.Xc=function(e){if(!Ar())return At(new S("operation-not-supported-in-this-environment"));var t=this,n=zi(e.providerId),i=Mr(),o=null;(!Pr()||mr())&&rh(this).options.authDomain&&e.isOAuthProvider&&(o=cs(rh(this).options.authDomain,rh(this).options.apiKey,rh(this).name,"signInViaPopup",e,null,i,r.a.SDK_VERSION||null,null,null,this.T(),this.R));var a=fr(o,n&&n.va,n&&n.ua);return lh(this,n=Zc(this).then((function(n){return Au(n,a,"signInViaPopup",e,i,!!o,t.T())})).then((function(){return new _t((function(e,n){t.na("signInViaPopup",null,new S("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=i,t.c=Pu(t.b,t,"signInViaPopup",a,i)}))})).then((function(e){return a&&hr(a),e?Jr(e):null})).o((function(e){throw a&&hr(a),e})))},e.Yc=function(e){if(!Ar())return At(new S("operation-not-supported-in-this-environment"));var t=this;return lh(this,Zc(this).then((function(){return function(e){return Jc(e,(function(){return e.b.set(Hc,e.c.F,e.a)}))}(t.i)})).then((function(){return xu(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.ra=function(){var e=this;return eh(this).then((function(t){return e.b&&Lu(e.b.b),t})).o((function(t){throw e.b&&Lu(e.b.b),t}))},e.dd=function(e){if(!e)return At(new S("null-user"));if(this.S!=e.tenantId)return At(new S("tenant-id-mismatch"));var t=this,n={};n.apiKey=rh(this).options.apiKey,n.authDomain=rh(this).options.authDomain,n.appName=rh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[Ga]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new sc(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&fc(t,r),Tc(t,e),t}(e,n,t.D,t.Ga());return lh(this,this.h.then((function(){if(rh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return ih(t)&&e.uid==ih(t).uid?(Tc(ih(t),e),t.da(e)):(th(t,r),bc(r),t.da(r))})).then((function(){ah(t)})))},e.Bb=function(){var e=this;return lh(this,this.h.then((function(){return e.b&&Lu(e.b.b),ih(e)?(th(e,null),Wc(e.i).then((function(){ah(e)}))):Tt()})))},e.Zc=function(){var e=this;return Kc(this.i,rh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=ih(e)&&t){n=ih(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Tc(ih(e),t),ih(e).I();(ih(e)||t)&&(th(e,t),t&&(bc(t),t.ha=e.D),e.b&&Iu(e.b,e),ah(e))}}))},e.da=function(e){return Gc(this.i,e)},e.mc=function(){ah(this),this.da(ih(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return nh(t,Tt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(ih(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),lh(e,e.h.then((function(){!e.l&&J(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(oh(e)))})))}(this,(function(){e.next(ih(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(ih(r)):"function"==typeof e.next&&e.next(ih(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof e?e(ih(r)):"function"==typeof e.next&&e.next(ih(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return lh(this,this.h.then((function(){return ih(t)?ih(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return nh(t,Ql(t.a,Hl,{token:e}))})).then((function(e){var n=e.user;return Sc(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return nh(n,Ql(n.a,zl,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return nh(n,Ql(n.a,yl,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return nh(t,e.ka(t.a))}))},e.Sc=function(e){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=ih(e);if(t&&t.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nh(e,e.a.Ab()).then((function(t){var n=t.user;return Sc(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return ih(this)&&ih(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&ih(this)&&vc(ih(this))},e.Pc=function(e){var t=this;z(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&ih(this)&&gc(ih(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),lh(this,this.h.then((function(){t.l||J(t.s,e)&&e(oh(t))})))},e.removeAuthTokenListener=function(e){Y(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(zc("local"),e.a,this.ja),this.b&&(Eu(this.b,this),Lu(this.b.b)),Promise.resolve()},e.hc=function(e){return lh(this,function(e,t){return Ql(e,bl,{identifier:t,continueUri:Or()?sr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Ao(e)},e.xb=function(e,t){var n=this;return lh(this,Tt().then((function(){var e=new Si(t);if(!e.c)throw new S("argument-error",Oi+" must be true when sending sign in link to email");return ji(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return lh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return lh(this,this.a.Sa(e).then((function(e){return new ri(e)})))},e.kb=function(e){return lh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return lh(this,Tt().then((function(){return void 0===t||pe(t)?{}:ji(new Si(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return lh(this,Hu(this,e,t,w(this.ab,this)))},e.Vc=function(e,t){var n=this;return lh(this,Tt().then((function(){var r=t||sr(),i=To(e,r);if(!(r=Ao(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.ab(i)})))},sh.prototype.render=function(){},sh.prototype.reset=function(){},sh.prototype.getResponse=function(){},sh.prototype.execute=function(){};var ch=null;function hh(e,t){return(t=fh(t))&&e.a[t]||null}function fh(e){return(e=void 0===e?1e12:e)?e.toString():null}function dh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=st(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function ph(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function vh(){}function gh(){}uh.prototype.render=function(e,t){return this.a[this.b.toString()]=new dh(e,t),this.b++},uh.prototype.reset=function(e){var t=hh(this,e);e=fh(e),t&&e&&(t.delete(),delete this.a[e])},uh.prototype.getResponse=function(e){return(e=hh(this,e))?e.getResponse():null},uh.prototype.execute=function(e){(e=hh(this,e))&&e.execute()},dh.prototype.getResponse=function(){return ph(this),this.b},dh.prototype.execute=function(){ph(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},dh.prototype.delete=function(){ph(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Wr(vh,"FACTOR_ID","phone"),gh.prototype.g=function(){return ch||(ch=new uh),Tt(ch)},gh.prototype.c=function(){};var mh=null;function yh(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bh=new be(Ce,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_h=new Br(3e4,6e4);yh.prototype.g=function(e){var t=this;return new _t((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),_h.get());!l.grecaptcha||e!==t.f&&!t.b?(l[t.a]=function(){if(l.grecaptcha){t.f=e;var o=l.grecaptcha.render;l.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(l.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete l[t.a]},Tt(ja(Te(bh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(l.grecaptcha))}))},yh.prototype.c=function(){this.b--};var wh=null;function kh(e,t,n,r,i,o,a){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(mh||(mh=new gh),a=mh):(wh||(wh=new yh),a=wh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Eh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Sh],!l.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!st(t)||!this.i&&st(t).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ha(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var u=this.a[Ch];this.a[Ch]=function(e){if(Th(s,e),"function"==typeof u)u(e);else if("string"==typeof u){var t=Sr(u,l);"function"==typeof t&&t(e)}};var c=this.a[Ih];this.a[Ih]=function(){if(Th(s,null),"function"==typeof c)c();else if("string"==typeof c){var e=Sr(c,l);"function"==typeof e&&e()}}}var Ch="callback",Ih="expired-callback",Eh="sitekey",Sh="size";function Th(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Ah(e,t){return e.h.push(t),t.oa((function(){Q(e.h,t)})),t}function Oh(e){if(e.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function xh(e,t,n){var i=!1;try{this.b=n||r.a.app()}catch(l){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(l){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(l){}a=r.a.SDK_VERSION?Ir(r.a.SDK_VERSION,a):null,kh.call(this,n,e,t,(function(){try{var e=o.b.auth().la()}catch(t){e=null}return e}),a,N(A),i)}function Ph(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Nh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Nh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new S("argument-error",e+" failed: "+r)}(e=kh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Ah(this,Tt().then((function(){if(Or()&&!yr())return vr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,Ql(e.s,Nl,{})})).then((function(t){e.a[Eh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Oh(this);var e=this;return Ah(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=st(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!lt&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',ze(a.name),'"'),a.type){o.push(' type="',ze(a.type),'"');var l={};me(l,a),delete l.type,a=l}o.push(">"),o=o.join("")}return o=pt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ut(o,a)),2<r.length&&dt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Oh(this);var e=this;return Ah(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Y(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Oh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Oh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=st(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},I(xh,kh);var Nh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Rh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Dh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Mh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function jh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Lh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Bh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){return!!t&&!(!t.ka||e&&t.providerId!==e)}}}function Fh(e,t){return v(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Vh(e){return v(e)&&"string"==typeof e.uid}function Uh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function qh(e,t){for(var n in t){var r=t[n].name;e[r]=Gh(r,e[n],t[n].j)}}function Hh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:k((function(e){return this[e]}),n),set:k((function(e,t,n,r){Ph(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function zh(e,t,n,r){e[t]=Gh(t,n,r)}function Gh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Ph(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}qh(Qc.prototype,{kb:{name:"applyActionCode",j:[Rh("code")]},Sa:{name:"checkActionCode",j:[Rh("code")]},ob:{name:"confirmPasswordReset",j:[Rh("code"),Rh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Rh("email"),Rh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Rh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Rh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Uh(Mh(),jh(),"nextOrObserver"),jh("opt_error",!0),jh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Uh(Mh(),jh(),"nextOrObserver"),jh("opt_error",!0),jh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Rh("email"),Uh(Mh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Rh("email"),Mh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Rh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Bh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Bh()]},Tc:{name:"signInWithCustomToken",j:[Rh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Rh("email"),Rh("password")]},Vc:{name:"signInWithEmailLink",j:[Rh("email"),Rh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Rh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Uh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof sc)}},Lh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Rh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Rh("url"),Mh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Rh("code")]}}),Hh(Qc.prototype,{lc:{name:"languageCode",lb:Uh(Rh(),Lh(),"languageCode")},ti:{name:"tenantId",lb:Uh(Rh(),Lh(),"tenantId")}}),(Qc.Persistence=zs).LOCAL="local",Qc.Persistence.SESSION="session",Qc.Persistence.NONE="none",qh(sc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Dh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Dh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Bh()]},rb:{name:"linkWithCredential",j:[Bh()]},Dc:{name:"linkWithPhoneNumber",j:[Rh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Bh()]},ub:{name:"reauthenticateWithCredential",j:[Bh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Rh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Uh(Mh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Rh(null,!0)]},cd:{name:"unlink",j:[Rh("provider")]},Cb:{name:"updateEmail",j:[Rh("email")]},Db:{name:"updatePassword",j:[Rh("password")]},ed:{name:"updatePhoneNumber",j:[Bh("phone")]},Eb:{name:"updateProfile",j:[Mh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Rh("email"),Uh(Mh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]}}),qh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(_t.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Hh(Uu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Dh("appVerificationDisabledForTesting")}}),qh(qu.prototype,{confirm:{name:"confirm",j:[Rh("verificationCode")]}}),zh(io,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[ho,Eo,xo,so],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Uh(Rh(),Mh(),"json")]),zh(So,"credential",(function(e,t){return new Io(e,t)}),[Rh("email"),Rh("password")]),qh(Io.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),qh(go.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),zh(go,"credential",mo,[Uh(Rh(),Mh(),"token")]),zh(So,"credentialWithLink",To,[Rh("email"),Rh("emailLink")]),qh(yo.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),zh(yo,"credential",bo,[Uh(Rh(),Mh(),"token")]),qh(_o.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),zh(_o,"credential",wo,[Uh(Rh(),Uh(Mh(),Lh()),"idToken"),Uh(Rh(),Lh(),"accessToken",!0)]),qh(ko.prototype,{Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),zh(ko,"credential",Co,[Uh(Rh(),Mh(),"token"),Rh("secret",!0)]),qh(vo.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},credential:{name:"credential",j:[Uh(Rh(),Uh(Mh(),Lh()),"optionsOrIdToken"),Uh(Rh(),Lh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),qh(uo.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),qh(ao.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),zh(No,"credential",Ro,[Rh("verificationId"),Rh("verificationCode")]),qh(No.prototype,{gb:{name:"verifyPhoneNumber",j:[Uh(Rh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Fh(e.session,no)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Fh(e.session,ro)&&Vh(e.multiFactorHint):e.session&&e.multiFactorUid?Fh(e.session,ro)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),qh(Oo.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),qh(S.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),qh(qo.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),qh(Uo.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),qh(Ju.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),qh(Gu.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),qh(ec.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Rh("displayName",!0)]},bd:{name:"unenroll",j:[Uh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Vh},Rh(),"multiFactorInfoIdentifier")]}}),qh(xh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),zh(mi,"parseLink",Ei,[Rh("link")]),zh(vh,"assertion",(function(e){return new Xu(e)}),[Bh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Qc,AuthCredential:io,Error:S};zh(e,"EmailAuthProvider",So,[]),zh(e,"FacebookAuthProvider",go,[]),zh(e,"GithubAuthProvider",yo,[]),zh(e,"GoogleAuthProvider",_o,[]),zh(e,"TwitterAuthProvider",ko,[]),zh(e,"OAuthProvider",vo,[Rh("providerId")]),zh(e,"SAMLAuthProvider",po,[Rh("providerId")]),zh(e,"PhoneAuthProvider",No,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Qc)}}]),zh(e,"RecaptchaVerifier",xh,[Uh(Rh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Mh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.a.app.App)}}]),zh(e,"ActionCodeURL",mi,[]),zh(e,"PhoneMultiFactorGenerator",vh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new Qc(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.8"),r.a.INTERNAL.extendNamespace({User:sc})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"7GFr":function(e,t,n){"use strict";var r=n("8Y7J"),i=n("s7LF"),o=n("SVse"),a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isValid",get:function(){return this.form.controls[this.elementoFormulario.key]?this.form.controls[this.elementoFormulario.key].valid:null}}]),e}(),l=r.nb({encapsulation:2,styles:[],data:{}});function s(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,5,"input",[],[[8,"id",0],[8,"type",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==r.Bb(e,1)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,1).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,1)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,1)._compositionEnd(n.target.value)&&i),i}),null,null)),r.ob(1,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.d]),r.ob(3,671744,null,0,i.g,[[3,i.c],[8,null],[8,null],[6,i.k],[2,i.y]],{name:[0,"name"]},null),r.Eb(2048,null,i.l,null,[i.g]),r.ob(5,16384,null,0,i.m,[[4,i.l]],null,null)],(function(e,t){e(t,3,0,t.component.elementoFormulario.key)}),(function(e,t){var n=t.component;e(t,0,0,n.elementoFormulario.key,n.elementoFormulario.type,r.Bb(t,5).ngClassUntouched,r.Bb(t,5).ngClassTouched,r.Bb(t,5).ngClassPristine,r.Bb(t,5).ngClassDirty,r.Bb(t,5).ngClassValid,r.Bb(t,5).ngClassInvalid,r.Bb(t,5).ngClassPending)}))}function u(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,6,"input",[["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["placeholder","Escriba la dimension en mm"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[8,"id",0],[8,"type",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==r.Bb(e,1)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,1).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,1)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,1)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,2).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,2).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,2).onTouched()&&i),i}),null,null)),r.ob(1,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(2,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(4,671744,null,0,i.g,[[3,i.c],[8,null],[8,null],[6,i.k],[2,i.y]],{name:[0,"name"]},null),r.Eb(2048,null,i.l,null,[i.g]),r.ob(6,16384,null,0,i.m,[[4,i.l]],null,null)],(function(e,t){e(t,4,0,t.component.elementoFormulario.key)}),(function(e,t){var n=t.component;e(t,0,0,n.elementoFormulario.key,n.elementoFormulario.type,r.Bb(t,6).ngClassUntouched,r.Bb(t,6).ngClassTouched,r.Bb(t,6).ngClassPristine,r.Bb(t,6).ngClassDirty,r.Bb(t,6).ngClassValid,r.Bb(t,6).ngClassInvalid,r.Bb(t,6).ngClassPending)}))}function c(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,3,0,t.context.$implicit.value)}))}function h(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,7,"select",[],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==r.Bb(e,1).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,1).onTouched()&&i),i}),null,null)),r.ob(1,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(3,671744,null,0,i.g,[[3,i.c],[8,null],[8,null],[6,i.k],[2,i.y]],{name:[0,"name"]},null),r.Eb(2048,null,i.l,null,[i.g]),r.ob(5,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,c)),r.ob(7,278528,null,0,o.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.elementoFormulario.key),e(t,7,0,n.elementoFormulario.options)}),(function(e,t){e(t,0,0,t.component.elementoFormulario.key,r.Bb(t,5).ngClassUntouched,r.Bb(t,5).ngClassTouched,r.Bb(t,5).ngClassPristine,r.Bb(t,5).ngClassDirty,r.Bb(t,5).ngClassValid,r.Bb(t,5).ngClassInvalid,r.Bb(t,5).ngClassPending)}))}function f(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],[[8,"id",0]],null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[8,null]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[2,i.u]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,0,0,t.context.$implicit.key),e(t,3,0,t.context.$implicit.value)}))}function d(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,7,"select",[["class","btn-group-vertical"],["data-toggle","buttons"],["multiple",""]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==r.Bb(e,2).onChange(n.target)&&i),"blur"===t&&(i=!1!==r.Bb(e,2).onTouched()&&i),i}),null,null)),r.ob(2,16384,null,0,i.u,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.u]),r.ob(4,671744,null,0,i.g,[[3,i.c],[8,null],[8,null],[6,i.k],[2,i.y]],{name:[0,"name"]},null),r.Eb(2048,null,i.l,null,[i.g]),r.ob(6,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,f)),r.ob(8,278528,null,0,o.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.elementoFormulario.key),e(t,8,0,n.elementoFormulario.options)}),(function(e,t){e(t,1,0,t.component.elementoFormulario.key,r.Bb(t,6).ngClassUntouched,r.Bb(t,6).ngClassTouched,r.Bb(t,6).ngClassPristine,r.Bb(t,6).ngClassDirty,r.Bb(t,6).ngClassValid,r.Bb(t,6).ngClassInvalid,r.Bb(t,6).ngClassPending)}))}function p(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,5,"textarea",[["cols","30"],["rows","10"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==r.Bb(e,1)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,1).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,1)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,1)._compositionEnd(n.target.value)&&i),i}),null,null)),r.ob(1,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.d]),r.ob(3,671744,null,0,i.g,[[3,i.c],[8,null],[8,null],[6,i.k],[2,i.y]],{name:[0,"name"]},null),r.Eb(2048,null,i.l,null,[i.g]),r.ob(5,16384,null,0,i.m,[[4,i.l]],null,null)],(function(e,t){e(t,3,0,t.component.elementoFormulario.key)}),(function(e,t){e(t,0,0,t.component.elementoFormulario.key,r.Bb(t,5).ngClassUntouched,r.Bb(t,5).ngClassTouched,r.Bb(t,5).ngClassPristine,r.Bb(t,5).ngClassDirty,r.Bb(t,5).ngClassValid,r.Bb(t,5).ngClassInvalid,r.Bb(t,5).ngClassPending)}))}function v(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"div",[["class","errorMessage"]],null,null,null,null,null)),(e()(),r.Hb(1,null,[" "," is required "]))],null,(function(e,t){e(t,1,0,t.component.elementoFormulario.label)}))}function g(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,21,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.Bb(e,1).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Bb(e,1).onReset()&&i),i}),null,null)),r.ob(1,540672,null,0,i.i,[[8,null],[8,null]],{form:[0,"form"]},null),r.Eb(2048,null,i.c,null,[i.i]),r.ob(3,16384,null,0,i.n,[[4,i.c]],null,null),(e()(),r.pb(4,0,null,null,1,"label",[],[[1,"for",0]],null,null,null,null)),(e()(),r.Hb(5,null,[" "," "])),(e()(),r.pb(6,0,null,null,15,"div",[],null,null,null,null,null)),r.ob(7,16384,null,0,o.m,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),r.eb(16777216,null,null,1,null,s)),r.ob(9,278528,null,0,o.n,[r.M,r.J,o.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r.pb(10,0,null,null,9,"div",[],null,null,null,null,null)),r.ob(11,16384,null,0,o.m,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),r.eb(16777216,null,null,1,null,u)),r.ob(13,278528,null,0,o.n,[r.M,r.J,o.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r.eb(16777216,null,null,1,null,h)),r.ob(15,278528,null,0,o.n,[r.M,r.J,o.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r.eb(16777216,null,null,1,null,d)),r.ob(17,278528,null,0,o.n,[r.M,r.J,o.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r.eb(16777216,null,null,1,null,p)),r.ob(19,278528,null,0,o.n,[r.M,r.J,o.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r.eb(16777216,null,null,1,null,v)),r.ob(21,16384,null,0,o.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.form),e(t,7,0,n.elementoFormulario.controlType),e(t,9,0,"textbox"),e(t,11,0,n.elementoFormulario.controlType),e(t,13,0,"number"),e(t,15,0,"dropdown"),e(t,17,0,"checkBoxes"),e(t,19,0,"textarea"),e(t,21,0,!n.isValid)}),(function(e,t){var n=t.component;e(t,0,0,r.Bb(t,3).ngClassUntouched,r.Bb(t,3).ngClassTouched,r.Bb(t,3).ngClassPristine,r.Bb(t,3).ngClassDirty,r.Bb(t,3).ngClassValid,r.Bb(t,3).ngClassInvalid,r.Bb(t,3).ngClassPending),e(t,4,0,n.elementoFormulario.key),e(t,5,0,n.elementoFormulario.label)}))}n("aoek"),n("L2hg"),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var m=r.nb({encapsulation:2,styles:[],data:{}});function y(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[["class","form-row"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"app-elemento-formulario",[],null,null,null,g,l)),r.ob(2,49152,null,0,a,[],{elementoFormulario:[0,"elementoFormulario"],form:[1,"form"]},null)],(function(e,t){e(t,2,0,t.context.$implicit,t.component.form)}),null)}function b(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,o=e.component;return"submit"===t&&(i=!1!==r.Bb(e,3).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Bb(e,3).onReset()&&i),"change"===t&&(i=!1!==o.emitirPayload()&&i),i}),null,null)),r.ob(2,16384,null,0,i.A,[],null,null),r.ob(3,540672,null,0,i.i,[[8,null],[8,null]],{form:[0,"form"]},null),r.Eb(2048,null,i.c,null,[i.i]),r.ob(5,16384,null,0,i.n,[[4,i.c]],null,null),(e()(),r.eb(16777216,null,null,1,null,y)),r.ob(7,278528,null,0,o.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.form),e(t,7,0,n.elementosForm)}),(function(e,t){e(t,1,0,r.Bb(t,5).ngClassUntouched,r.Bb(t,5).ngClassTouched,r.Bb(t,5).ngClassPristine,r.Bb(t,5).ngClassDirty,r.Bb(t,5).ngClassValid,r.Bb(t,5).ngClassInvalid,r.Bb(t,5).ngClassPending)}))}},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),l=n("2fFW"),s=n("NJ4a"),u=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(e,t,o){var a;switch(_classCallCheck(this,r),(a=n.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!e){a.destination=i.a;break}if("object"==typeof e){e instanceof r?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new c(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new c(_assertThisInitialized(a),e,t,o)}return a}return _createClass(r,[{key:t,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(r.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}],[{key:"create",value:function(e,t,n){var i=new r(e,t,n);return i.syncErrorThrowable=!1,i}}]),r}(o.a,a.a),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,l){var s,u;_classCallCheck(this,n),(s=t.call(this))._parentSubscriber=e;var c=_assertThisInitialized(s);return Object(r.a)(o)?u=o:o&&(u=o.next,a=o.error,l=o.complete,o!==i.a&&(c=Object.create(o),Object(r.a)(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(_assertThisInitialized(s)))),s._context=c,s._next=u,s._error=a,s._complete=l,s}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=l.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(s.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(s.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),l.a.useDeprecatedSynchronousErrorHandling)throw n;Object(s.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!l.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return l.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(s.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(u)},"8Y7J":function(e,t,n){"use strict";var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("z+Ro"),l=n("bHdf"),s=n("yCtX"),u=n("7o/Q");function c(){return function(e){return e.lift(new h(e))}}var h=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new f(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(u.a),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new i.a).add(this.source.subscribe(new v(this.getSubject(),this))),e.closed?(this._connection=null,e=i.a.EMPTY):this._connection=e),e}},{key:"refCount",value:function(){return c()(this)}}]),n}(o.a).prototype,p={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:d._subscribe},_isComplete:{value:d._isComplete,writable:!0},getSubject:{value:d.getSubject},connect:{value:d.connect},refCount:{value:d.refCount}},v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(r.b);function g(){return new r.a}function m(e,t,n){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}n.d(t,"hb",(function(){return ia})),n.d(t,"ib",(function(){return oa})),n.d(t,"jb",(function(){return aa})),n.d(t,"kb",(function(){return la})),n.d(t,"gb",(function(){return to})),n.d(t,"fb",(function(){return qi})),n.d(t,"g",(function(){return zo})),n.d(t,"P",(function(){return Fo})),n.d(t,"w",(function(){return Bo})),n.d(t,"Q",(function(){return Ke})),n.d(t,"T",(function(){return We})),n.d(t,"c",(function(){return eo})),n.d(t,"A",(function(){return ro})),n.d(t,"z",(function(){return io})),n.d(t,"b",(function(){return oo})),n.d(t,"d",(function(){return Xi})),n.d(t,"e",(function(){return Zi})),n.d(t,"S",(function(){return ta})),n.d(t,"K",(function(){return No})),n.d(t,"V",(function(){return Do})),n.d(t,"s",(function(){return lo})),n.d(t,"f",(function(){return sa})),n.d(t,"m",(function(){return Qi})),n.d(t,"l",(function(){return He})),n.d(t,"E",(function(){return mt})),n.d(t,"F",(function(){return gt})),n.d(t,"a",(function(){return $t})),n.d(t,"N",(function(){return $})),n.d(t,"L",(function(){return Nn})),n.d(t,"Nb",(function(){return I})),n.d(t,"R",(function(){return O})),n.d(t,"p",(function(){return Ht})),n.d(t,"Ob",(function(){return H})),n.d(t,"o",(function(){return j})),n.d(t,"n",(function(){return y})),n.d(t,"y",(function(){return b})),n.d(t,"G",(function(){return w})),n.d(t,"x",(function(){return Eo})),n.d(t,"B",(function(){return xn})),n.d(t,"C",(function(){return An})),n.d(t,"D",(function(){return On})),n.d(t,"i",(function(){return go})),n.d(t,"j",(function(){return kn})),n.d(t,"k",(function(){return Sn})),n.d(t,"t",(function(){return K})),n.d(t,"v",(function(){return W})),n.d(t,"u",(function(){return Wo})),n.d(t,"H",(function(){return Qo})),n.d(t,"I",(function(){return Ko})),n.d(t,"J",(function(){return Qn})),n.d(t,"M",(function(){return $n})),n.d(t,"h",(function(){return Ft})),n.d(t,"q",(function(){return zn})),n.d(t,"r",(function(){return Gn})),n.d(t,"O",(function(){return rn})),n.d(t,"U",(function(){return ra})),n.d(t,"ub",(function(){return on})),n.d(t,"Y",(function(){return ao})),n.d(t,"W",(function(){return Ut})),n.d(t,"X",(function(){return Cn})),n.d(t,"bb",(function(){return pt})),n.d(t,"cb",(function(){return _t})),n.d(t,"db",(function(){return $e})),n.d(t,"sb",(function(){return M})),n.d(t,"xb",(function(){return tn})),n.d(t,"Gb",(function(){return T})),n.d(t,"vb",(function(){return gn})),n.d(t,"wb",(function(){return vn})),n.d(t,"rb",(function(){return Ki})),n.d(t,"qb",(function(){return Ji})),n.d(t,"Z",(function(){return Hi})),n.d(t,"ab",(function(){return zi})),n.d(t,"Mb",(function(){return se})),n.d(t,"Kb",(function(){return Xt})),n.d(t,"Qb",(function(){return ln})),n.d(t,"Pb",(function(){return sn})),n.d(t,"Lb",(function(){return un})),n.d(t,"Rb",(function(){return hn})),n.d(t,"eb",(function(){return ua})),n.d(t,"lb",(function(){return ti})),n.d(t,"mb",(function(){return Pl})),n.d(t,"nb",(function(){return pr})),n.d(t,"ob",(function(){return Ei})),n.d(t,"pb",(function(){return ca})),n.d(t,"tb",(function(){return Ur})),n.d(t,"yb",(function(){return Jr})),n.d(t,"zb",(function(){return Kr})),n.d(t,"Ab",(function(){return _a})),n.d(t,"Bb",(function(){return fi})),n.d(t,"Db",(function(){return Si})),n.d(t,"Eb",(function(){return Ti})),n.d(t,"Cb",(function(){return ka})),n.d(t,"Fb",(function(){return va})),n.d(t,"Hb",(function(){return Ca})),n.d(t,"Ib",(function(){return dr})),n.d(t,"Jb",(function(){return Sa}));var y=m("Inject",(function(e){return{token:e}})),b=m("Optional"),_=m("Self"),w=m("SkipSelf"),k=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function C(e){for(var t in e)if(e[t]===C)return t;throw Error("Could not find renamed property on target object.")}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function E(e){var t=e[S];return t&&t.token===e?t:null}var S=C({ngInjectableDef:C});function T(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(T).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var A=C({__forward_ref__:C});function O(e){return e.__forward_ref__=O,e.toString=function(){return T(this())},e}function x(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(A)&&t.__forward_ref__===O?t():e}var P="undefined"!=typeof globalThis&&globalThis,N="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,D="undefined"!=typeof global&&global,M=P||D||N||R,j=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),L=new j("INJECTOR",-1),B=new Object,F=/\n/gm,V=C({provide:String,useValue:C}),U=void 0;function q(e){var t=U;return U=e,t}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;if(void 0===U)throw new Error("inject() must be called from an injection context");return null===U?function(e,t,n){var r=E(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(T(e),"]"))}(e,0,t):U.get(e,t&k.Optional?null:void 0,t)}(e,t)}var z=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;if(t===B){var n=new Error("NullInjectorError: No provider for ".concat(T(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}();function G(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=T(t);if(t instanceof Array)i=t.map(T).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var l=t[a];o.push(a+":"+("string"==typeof l?JSON.stringify(l):T(l)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(F,"\n  "))}var W=function e(){_classCallCheck(this,e)},K=function e(){_classCallCheck(this,e)};function J(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Q(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Y=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),$=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),X={},Z=[],ee=C({ngComponentDef:C}),te=C({ngDirectiveDef:C}),ne=C({ngPipeDef:C}),re=0;function ie(e){return function(e){return e[ee]||null}(e)||function(e){return e[te]||null}(e)}function oe(e){return function(e){return e[ne]||null}(e)}function ae(e,t){if(null==e)return X;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var le,se=function(e){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,consts:e.consts,vars:e.vars,factory:e.factory,template:e.template||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===Y.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||$.Emulated,id:"c",styles:e.styles||Z,_:null,setInput:null,schemas:e.schemas||null,tView:null};return i._=""+{toString:function(){var n=e.directives,o=e.features,a=e.pipes;i.id+=re++,i.inputs=ae(e.inputs,r),i.outputs=ae(e.outputs),o&&o.forEach((function(e){return e(i)})),i.directiveDefs=n?function(){return("function"==typeof n?n():n).map(ie)}:null,i.pipeDefs=a?function(){return("function"==typeof a?a():a).map(oe)}:null,t.hasOwnProperty(S)||(t[S]=I({token:t,factory:e.factory}))}},i},ue=null,ce=new Map,he=null;function fe(e,t){return he&&e===he||(he=e,t&&(ue=ce.get(e)||null),ue=ue||{classesBitMask:0,classesIndex:1,stylesBitMask:0,stylesIndex:1}),ue}function de(e,t){return function(e){for(;Array.isArray(e);)e=e[0];return e}(t[e.index])}function pe(e,t){return t[1].data[e+19]}function ve(){return le}var ge=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M);function me(e,t){0===t?e[2]>0&&function(e){be(e,2|ye(e))}(e):e[2]=t}function ye(e){return e[1]}function be(e,t){e[1]=t}function _e(e,t){return e[t+2]}function we(e,t){return 1&e[t+0]}function ke(e,t){return(1&we(e,t))>0}function Ce(e,t){return e[t+0]>>1}function Ie(e,t,n){var r=we(e,t);e[t+0]=r|n<<1}function Ee(e,t){return e[t+1]}function Se(e,t,n){return e[t+3+n]}function Te(e,t){return!(!e||t!==e[2])}function Ae(e){return(1&ye(e))>0}function Oe(e){return(2&ye(e))>0}function xe(e){return 6+e[4]}function Pe(e,t){var n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),function(e,t){return!(e!=e&&t!=t)&&e!==t}(n,r)}function Ne(e){return null!=e&&""!==e}function Re(e){return e.replace(/[a-z][A-Z]/g,(function(e){return e.charAt(0)+"-"+e.charAt(1)})).toLowerCase()}function De(e){return Array.isArray(e)&&e.length>=6&&"string"!=typeof e[1]}function Me(e,t){return e[t+0]}function je(e,t,n){e[t+1]=n}function Le(e,t){return e[t+1]}var Be=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();function Fe(e){return!!e.listen}function Ve(e){return e.ngDebugContext}function Ue(e){return e.ngOriginalError}function qe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var He=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||qe}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Ve(e)?Ve(e):this._findContext(Ue(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Ue(e);t&&Ue(t);)t=Ue(t);return t}}]),e}(),ze=!0,Ge=!1;function We(){return Ge=!0,ze}function Ke(){if(Ge)throw new Error("Cannot enable prod mode after platform setup.");ze=!1}var Je=function(){function e(t){if(_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),Qe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ye=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $e(e){return(e=String(e)).match(Qe)||e.match(Ye)?e:(We()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Xe(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Ze(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var l in a)a.hasOwnProperty(l)&&(e[l]=!0)}return e}var et,tt=Xe("area,br,col,hr,img,wbr"),nt=Xe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rt=Xe("rp,rt"),it=Ze(rt,nt),ot=Ze(tt,Ze(nt,Xe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ze(rt,Xe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),it),at=Xe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lt=Xe("srcset"),st=Ze(at,lt,Xe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ut=Xe("script,style,template"),ct=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!ot.hasOwnProperty(t))return this.sanitizedSomething=!0,!ut.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,l=a.toLowerCase();if(st.hasOwnProperty(l)){var s=o.value;at[l]&&(s=$e(s)),lt[l]&&(n=s,s=(n=String(n)).split(",").map((function(e){return $e(e.trim())})).join(", ")),this.buf.push(" ",a,'="',dt(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();ot.hasOwnProperty(t)&&!tt.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(dt(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),ht=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ft=/([^\#-~ |!])/g;function dt(e){return e.replace(/&/g,"&amp;").replace(ht,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ft,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pt(e,t){var n=null;try{et=et||new Je(e);var r=t?String(t):"";n=et.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=et.getInertBodyElement(r)}while(r!==o);var a=new ct,l=a.sanitizeChildren(vt(n)||n);return We()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),l}finally{if(n)for(var s=vt(n)||n;s.firstChild;)s.removeChild(s.firstChild)}}function vt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var gt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),mt=function e(){_classCallCheck(this,e)},yt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),bt=/^url\(([^)]+)\)$/;function _t(e){if(!(e=String(e).trim()))return"";var t=e.match(bt);return t&&$e(t[1])===t[1]||e.match(yt)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(We()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}var wt=/([A-Z])/g;function kt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}var Ct=[];function It(e,t,n,r,i,o,a,l,s){Ae(e)||(a?function(e,t,n,r,i){Ct.unshift(e,t,n,r,i)}(e,n,r,i,s):(Ct.length&&Et(),St(e,n,r,i,s)));var u=l||Pe(t[i],o);return u&&(t[i]=o),u}function Et(){for(var e=0;e<Ct.length;)St(Ct[e++],Ct[e++],Ct[e++],Ct[e++],Ct[e++]);Ct.length=0}function St(e,t,n,r,i){var o=!1;if(n){for(var a=!1,l=xe(e);l<e.length;){var s=Ee(e,l),u=_e(e,l);if(a=n<=u){n<u&&Tt(e,l,n,i),At(e,!1,l,r,t);break}l+=3+s}a||(Tt(e,e.length,n,i),At(e,!1,l,r,t),o=!0)}else At(e,!0,3,r,t),o=!0;return o}function Tt(e,t,n,r){e.splice(t,0,r?1:0,1,n,null),Ie(e,t,1)}function At(e,t,n,r,i){var o=n+3,a=o+Ee(e,n);if(t||a--,"number"==typeof r){for(var l=o;l<=a;l++)if(e[l]===r)return;e.splice(a,0,r),e[n+1]++,Ie(e,n,Ce(e,n)|1<<i)}else null!==r&&null==e[a]&&(e[a]=r)}function Ot(e,t,n,r,i,o,a,l){return i&&r&&(function(e){if(!Ae(e)){var t=De(n=e)?n[0]:n;t&&function(e,t){for(var n=1;n<t.length;n+=2){var r=Le(t,n);r&&St(e,-1,Me(t,n),r,!1)}}(e,t),function(e){be(e,1|ye(e))}(e)}var n}(r),function(e,t){return e&&t>0}(r,o))?(function(e,t,n,r,i,o,a){for(var l,s=!0===(l=i)?-1:!1===l?0:l,u=xt,c=(s&Ce(e,3))>0?1:0,h=xe(e);h<e.length;){var f=Ee(e,h);if(s&Ce(e,h)){for(var d=!1,p=_e(e,h),v=f-1,g=Se(e,h,v),m=0;m<v;m++){var y=Se(e,h,m),b=r[y];if(Ne(b)){o(t,n,p,a&&ke(e,h)?a(p,b,2):b,y),d=!0;break}}if(u){var _=u(e,t,n,r,o,a,c|(d?4:2),p,g);d=d||_}d||o(t,n,p,g)}h+=3+f}u&&u(e,t,n,r,o,a,c)}(r,e,t,n,o,a,l),!0):i}var xt=null,Pt=function(e,t,n,r){var i=t.style;r?(r=r.toString(),e&&Fe(e)?e.setStyle(t,n,r,Be.DashCase):i&&i.setProperty(n,r)):e&&Fe(e)?e.removeStyle(t,n,Be.DashCase):i&&i.removeProperty(n)},Nt=function(e,t,n,r){if(""!==n){var i=t.classList;r?e&&Fe(e)?e.addClass(t,n):i&&i.add(n):e&&Fe(e)?e.removeClass(t,n):i&&i.remove(n)}},Rt={},Dt=function(e,t,n,r,i,o,a,l,s){var u=!1;if(Ee(e,3)){var c=!0,h=!l;h&&-2&a&&(c=!1,u=!0),c&&(u=function e(t,n,r,i,o,a,l,s,u,c){var h,f=!1;if(u<Ee(t,3)){for(var d=Se(t,3,u),p=i[d],v=((h=u)>=Lt.length&&Lt.push(1),Lt[h]);v<p.length;){var g=Me(p,v),m=s&&g>s,y=!m&&g===s,b=Le(p,v),_=Ne(b),w=e(t,n,r,i,o,a,m?l:Mt(l,_,y),m?s:g,u+1,c);if(m){f||(f=w);break}if(!w&&jt(l,y)){var k=y&&!_,C=k?c:b,I=k?d:null;o(n,r,g,a?a(g,C,3):C,I),w=!0}f=w&&y,v+=2}if(Lt[u]=v,1===p.length||!s)return e(t,n,r,i,o,a,l,s,u+1,c)}return f}(e,t,n,r,i,o,a,l||null,0,s||null)),h&&function(){for(var e=0;e<Lt.length;e++)Lt[e]=1}()}return u};function Mt(e,t,n){var r=e;return t||4&e||!(n||1&e)?(r|=4,r&=-3):(r|=2,r&=-5),r}function jt(e,t){var n=(1&e)>0;return n?4&e&&t&&(n=!1):2&e&&(n=t),n}var Lt=[];function Bt(e,t,n,r){for(var i=1;i<e.length;i+=2){var o=Me(e,i);if(t<=o){var a=!1;if(o===t){var l=e[i];!r&&Ne(l)||(a=!0,je(e,i,n))}else a=!0,e.splice(i,0,t,n);return a}}return e.push(t,n),!0}var Ft=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Vt()},e}(),Vt=function(){},Ut=new j("The presence of this token marks an injector as being the root injector."),qt=function(e,t,n){return new Jt(e,t,n)},Ht=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?qt(e,t,""):qt(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=B,e.NULL=new z,e.ngInjectableDef=I({token:e,providedIn:"any",factory:function(){return H(L)}}),e.__NG_ELEMENT_ID__=-1,e}(),zt=function(e){return e},Gt=[],Wt=zt,Kt=function(){return Array.prototype.slice.call(arguments)},Jt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.parent=n,this.source=r;var i=this._records=new Map;i.set(Ht,{token:Ht,fn:zt,deps:Gt,value:this,useNew:!1}),i.set(L,{token:L,fn:zt,deps:Gt,value:this,useNew:!1}),function e(t,n){if(n)if((n=x(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Yt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Yt("Unexpected provider",n);var i=x(n.provide),o=function(e){var t=function(e){var t=Gt,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var i=6,o=x(n[r]);if(o instanceof Array)for(var a=0,l=o;a<l.length;a++){var s=l[a];s instanceof b||s==b?i|=1:s instanceof w||s==w?i&=-3:s instanceof _||s==_?i&=-5:o=s instanceof y?s.token:x(s)}t.push({token:o,options:i})}}else if(e.useExisting)t=[{token:x(e.useExisting),options:6}];else if(!(n||V in e))throw Yt("'deps' required",e);return t}(e),n=zt,r=Gt,i=!1,o=x(e.provide);if(V in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=x(e.useClass);else{if("function"!=typeof o)throw Yt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=t.get(i);if(a){if(a.fn!==Kt)throw Qt(i)}else t.set(i,a={token:n.provide,deps:[],useNew:!1,fn:Kt,value:Gt});i=n,a.deps.push({token:i,options:6})}var l=t.get(i);if(l&&l.fn==Kt)throw Qt(i);t.set(i,o)}}(i,t)}return _createClass(e,[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default,r=this._records.get(e);try{return function e(t,n,r,i,o,a){try{return function(t,n,r,i,o,a){var l;if(!n||a&k.SkipSelf)a&k.Self||(l=i.get(t,o,k.Default));else{if((l=n.value)==Wt)throw Error("\u0275Circular dependency");if(l===Gt){n.value=Wt;var s=n.useNew,u=n.fn,c=n.deps,h=Gt;if(c.length){h=[];for(var f=0;f<c.length;f++){var d=c[f],p=d.options,v=2&p?r.get(d.token):void 0;h.push(e(d.token,v,r,v||4&p?i:Ht.NULL,1&p?null:Ht.THROW_IF_NOT_FOUND,k.Default))}}n.value=l=s?_construct(u,_toConsumableArray2(h)):u.apply(void 0,h)}}return l}(t,n,r,i,o,a)}catch(l){throw l instanceof Error||(l=new Error(l)),(l.ngTempTokenPath=l.ngTempTokenPath||[]).unshift(t),n&&n.value==Wt&&(n.value=Gt),l}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=G("\n"+e.message,i,"StaticInjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(i,e,0,this.source)}}},{key:"toString",value:function(){var e=[];return this._records.forEach((function(t,n){return e.push(T(n))})),"StaticInjector[".concat(e.join(", "),"]")}}]),e}();function Qt(e){return Yt("Cannot mix multi providers and regular providers",e)}function Yt(e,t){return new Error(G(e,t,"StaticInjectorError"))}var $t=new j("AnalyzeForEntryComponents");function Xt(e){var t=(void 0)[1];t.firstTemplatePass&&(function(e,t,n){var r=e.expandoInstructions,i=r.length;i>=2&&r[i-2]===null.hostBindings?r[i-1]=r[i-1]+n:r.push(null.hostBindings,n)}(t,0,e),function(e,t,n){for(var r=0;r<n;r++)(void 0).push(Rt),e.blueprint.push(Rt),e.data.push(null)}(t,0,e))}var Zt=null;function en(){if(!Zt){var e=M.Symbol;if(e&&e.iterator)Zt=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Zt=r)}}return Zt}function tn(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function nn(e,t){var n=on(e),r=on(t);return n&&r?function(e,t,n){for(var r=e[en()](),i=t[en()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(e,t,nn):!(n||!(e&&("object"==typeof e||"function"==typeof e))||r||!(t&&("object"==typeof t||"function"==typeof t)))||tn(e,t)}var rn=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function on(e){return!!an(e)&&(Array.isArray(e)||!(e instanceof Map)&&en()in e)}function an(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ln(){(void 0)[1].firstTemplatePass&&(me(dn(void 0),1),me(fn(void 0),1))}function sn(e){cn(-1,fn(pe(-1,void 0)),(void 0)[7]++,e,!1,!1)}function un(e){!function(e,t){cn(-1,dn(pe(-1,void 0)),(void 0)[7]++,t,!0,!1)}(0,e)}function cn(e,t,n,r,i,o){xt=Dt;var a=!1;if(r!==Rt){var l=de(pe(e,void 0),void 0),s=(void 0)[n];a=Pe(s,r);var u=function(e,t,n){var r=Array.isArray(e)?e:[null];r[0]=t||null;for(var i=1;i<r.length;i+=2)je(r,i,null);var o,a=null,l=!1;if("string"==typeof t?t.length&&(a=t.split(/\s+/),l=!0):(a=t?Object.keys(t):null,o=t),a)for(var s=0;s<a.length;s++){var u=a[s];Bt(r,n?Re(u):u,!!l||o[u],!0)}return r}(s,r,!i);i?function(e,t,n,r,i,o,a,l){var s=fe(n,Oe(e));!It(e,void 0,0,null,i,o,a,l,!1)&&!l||(s.classesBitMask|=1)}(t,0,l,0,n,u,o,a):function(e,t,n,r,i,o,a,l,s){var u=fe(n,Oe(e));!It(e,void 0,0,null,i,o,l,s,!0)&&!s||(u.stylesBitMask|=1)}(t,0,l,0,n,u,ve(),o,a)}return a}function hn(){var e=pe(-1,void 0),t=function(e,t){return 3===e.type?(void 0)[12]:null}(e),n=de(e,void 0),r=ve();(function(e,t,n,r,i,o,a){var l=n?Oe(n):!!r&&Oe(r),s=Te(n,1),u=Te(r,1);Ct.length&&(s||u)&&Et();var c=fe(i,l),h=Ot(e,i,void 0,n,s,c.classesBitMask,Nt,null),f=Ot(e,i,void 0,r,u,c.stylesBitMask,Pt,a);h&&f?(ue=null,he=null,l&&function(e){ce.delete(e)}(i)):l&&function(e,t){ce.set(e,t)}(i,c)})(t,0,dn(e),fn(e),n,0,r),le=null}function fn(e){return pn(e,!1)}function dn(e){return pn(e,!0)}function pn(e,t){var n=t?e.classes:e.styles;return De(n)||(n=[n||[""],0,0,1,0,"--MAP--"],t?e.classes=n:e.styles=n),n}function vn(e){return!!e&&"function"==typeof e.then}function gn(e){return!!e&&"function"==typeof e.subscribe}var mn=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}(),yn=function e(){_classCallCheck(this,e)};function bn(e){var t=Error("No component factory found for ".concat(T(e),". Did you add it to @NgModule.entryComponents?"));return t[_n]=e,t}var _n="ngComponent",wn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw bn(e)}}]),e}(),kn=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new wn,e}(),Cn=function(){function e(t,n,r){_classCallCheck(this,e),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<t.length;i++){var o=t[i];this._factories.set(o.componentType,o)}}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw bn(e);return new In(t,this._ngModule)}}]),e}(),In=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).factory=e,i.ngModule=r,i.selector=e.selector,i.componentType=e.componentType,i.ngContentSelectors=e.ngContentSelectors,i.inputs=e.inputs,i.outputs=e.outputs,i}return _createClass(n,[{key:"create",value:function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}]),n}(yn);function En(){}var Sn=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return Tn(e)},e}(),Tn=En,An=function e(){_classCallCheck(this,e)},On=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),xn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Pn()},e}(),Pn=En,Nn=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Rn=new Nn("8.2.14"),Dn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return on(e)}},{key:"create",value:function(e){return new jn(e)}}]),e}(),Mn=function(e,t){return t},jn=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Mn}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Vn(n,r,i)?t:n,a=Vn(o,r,i),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var s=a-r,u=l-r;if(s!=u){for(var c=0;c<s;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;u<=f&&f<s&&(i[c]=h+1)}i[o.previousIndex]=u-s}}a!==l&&e(o,a,l)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!on(e))throw new Error("Error trying to diff '".concat(T(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var l=0;l<this.length;l++)r=e[l],i=this._trackByFn(l,r),null!==o&&tn(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,l)),tn(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,l),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[en()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&tn(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),tn(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(tn(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(tn(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Ln(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Fn),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Ln=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Bn=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&tn(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Fn=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Bn,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function Vn(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Un=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||an(e)}},{key:"create",value:function(){return new qn}}]),e}(),qn=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||an(e)))throw new Error("Error trying to diff '".concat(T(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Hn(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){tn(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}}]),e}(),Hn=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},zn=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new w,new b]]}}}]),e}();return e.ngInjectableDef=I({token:e,providedIn:"root",factory:function(){return new e([new Dn])}}),e}(),Gn=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new w,new b]]}}}]),e}();return e.ngInjectableDef=I({token:e,providedIn:"root",factory:function(){return new e([new Un])}}),e}(),Wn=[new Un],Kn=new zn([new Dn]),Jn=new Gn(Wn),Qn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Yn(e,Sn)},e}(),Yn=En,$n=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Xn(e,Sn)},e}(),Xn=En;function Zn(e,t,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(t,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return er(n,t),n}(i,e)}function er(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function tr(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}function nr(e,t,n){var r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function rr(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function ir(e,t){return e.nodes[t]}function or(e,t){return e.nodes[t]}function ar(e,t){return e.nodes[t]}function lr(e,t){return e.nodes[t]}function sr(e,t){return e.nodes[t]}var ur={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},cr=function(){},hr=new Map;function fr(e){var t=hr.get(e);return t||(t=T(e)+"_"+hr.size,hr.set(e,t)),t}function dr(e,t,n,r){if(rn.isWrapped(r)){r=rn.unwrap(r);var i=e.def.nodes[t].bindingIndex+n,o=rn.unwrap(e.oldValues[i]);e.oldValues[i]=new rn(o)}return r}function pr(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var vr=0;function gr(e,t,n,r){return!(!(2&e.state)&&tn(e.oldValues[t.bindingIndex+n],r))}function mr(e,t,n,r){return!!gr(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function yr(e,t,n,r){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!nn(i,r)){var o=t.bindings[n].name;throw Zn(ur.createDebugContext(e,t.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&e.state))}}function br(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function _r(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function wr(e,t,n,r){try{return br(33554432&e.def.nodes[t].flags?or(e,t).componentView:e),ur.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function kr(e){return e.parent?or(e.parent,e.parentNodeDef.nodeIndex):null}function Cr(e){return e.parent?e.parentNodeDef.parent:null}function Ir(e,t){switch(201347067&t.flags){case 1:return or(e,t.nodeIndex).renderElement;case 2:return ir(e,t.nodeIndex).renderText}}function Er(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Sr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Tr(e){return 1<<e%32}function Ar(e){var t={},n=0,r={};return e&&e.forEach((function(e){var i=_slicedToArray2(e,2),o=i[0],a=i[1];"number"==typeof o?(t[o]=a,n|=Tr(o)):r[o]=a})),{matchedQueries:t,references:r,matchedQueryIds:n}}function Or(e,t){return e.map((function(e){var n,r,i;return Array.isArray(e)?(i=(n=_slicedToArray2(e,2))[0],r=n[1]):(i=0,r=e),r&&("function"==typeof r||"object"==typeof r)&&t&&Object.defineProperty(r,"__source",{value:t,configurable:!0}),{flags:i,token:r,tokenKey:fr(r)}}))}function xr(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===$.Native?or(e,n.renderParent.nodeIndex).renderElement:void 0:t}var Pr=new WeakMap;function Nr(e){var t=Pr.get(e);return t||((t=e((function(){return cr}))).factory=e,Pr.set(e,t)),t}function Rr(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Ir(e,e.def.lastRenderRootNode))),Dr(e,t,0,e.def.nodes.length-1,n,r,i)}function Dr(e,t,n,r,i,o,a){for(var l=n;l<=r;l++){var s=e.def.nodes[l];11&s.flags&&jr(e,s,t,i,o,a),l+=s.childCount}}function Mr(e,t,n,r,i,o){for(var a=e;a&&!Er(a);)a=a.parent;for(var l=a.parent,s=Cr(a),u=s.nodeIndex+s.childCount,c=s.nodeIndex+1;c<=u;c++){var h=l.def.nodes[c];h.ngContentIndex===t&&jr(l,h,n,r,i,o),c+=h.childCount}if(!l.parent){var f=e.root.projectableNodes[t];if(f)for(var d=0;d<f.length;d++)Lr(e,f[d],n,r,i,o)}}function jr(e,t,n,r,i,o){if(8&t.flags)Mr(e,t.ngContent.index,n,r,i,o);else{var a=Ir(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Lr(e,a,n,r,i,o),32&t.bindingFlags&&Lr(or(e,t.nodeIndex).componentView,a,n,r,i,o)):Lr(e,a,n,r,i,o),16777216&t.flags)for(var l=or(e,t.nodeIndex).viewContainer._embeddedViews,s=0;s<l.length;s++)Rr(l[s],n,r,i,o);1&t.flags&&!t.element.name&&Dr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Lr(e,t,n,r,i,o){var a=e.renderer;switch(n){case 1:a.appendChild(r,t);break;case 2:a.insertBefore(r,t,i);break;case 3:a.removeChild(r,t);break;case 0:o.push(t)}}var Br=/^:([^:]+):(.+)$/;function Fr(e){if(":"===e[0]){var t=e.match(Br);return[t[1],t[2]]}return["",e]}function Vr(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function Ur(e,t,n,r,i,o,a,l,s,u,c,h,f,d,p,v,g,m,y,b){switch(e){case 1:return t+qr(n)+r;case 2:return t+qr(n)+r+qr(i)+o;case 3:return t+qr(n)+r+qr(i)+o+qr(a)+l;case 4:return t+qr(n)+r+qr(i)+o+qr(a)+l+qr(s)+u;case 5:return t+qr(n)+r+qr(i)+o+qr(a)+l+qr(s)+u+qr(c)+h;case 6:return t+qr(n)+r+qr(i)+o+qr(a)+l+qr(s)+u+qr(c)+h+qr(f)+d;case 7:return t+qr(n)+r+qr(i)+o+qr(a)+l+qr(s)+u+qr(c)+h+qr(f)+d+qr(p)+v;case 8:return t+qr(n)+r+qr(i)+o+qr(a)+l+qr(s)+u+qr(c)+h+qr(f)+d+qr(p)+v+qr(g)+m;case 9:return t+qr(n)+r+qr(i)+o+qr(a)+l+qr(s)+u+qr(c)+h+qr(f)+d+qr(p)+v+qr(g)+m+qr(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function qr(e){return null!=e?e.toString():""}var Hr=new Object,zr=fr(Ht),Gr=fr(L),Wr=fr(W);function Kr(e,t,n,r){return n=x(n),{index:-1,deps:Or(r,T(t)),flags:e,token:t,value:n}}function Jr(e){for(var t={},n=[],r=!1,i=0;i<e.length;i++){var o=e[i];o.token===Ut&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[fr(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}function Qr(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ht.THROW_IF_NOT_FOUND,o=q(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(i=null),1&t.flags)return e._parent.get(t.token,i);var a=t.tokenKey;switch(a){case zr:case Gr:case Wr:return e}var l,s=e._def.providersByKey[a];if(s){var u=e._providers[s.index];return void 0===u&&(u=e._providers[s.index]=Yr(e,s)),u===Hr?void 0:u}if((l=E(t.token))&&(n=e,null!=(r=l).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var c=e._providers.length;return e._def.providers[c]=e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:c,token:t.token},e._providers[c]=Hr,e._providers[c]=Yr(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?i:e._parent.get(t.token,i)}finally{q(o)}}function Yr(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Qr(e,n[0]));case 2:return new t(Qr(e,n[0]),Qr(e,n[1]));case 3:return new t(Qr(e,n[0]),Qr(e,n[1]),Qr(e,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Qr(e,n[o]);return _construct(t,i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Qr(e,n[0]));case 2:return t(Qr(e,n[0]),Qr(e,n[1]));case 3:return t(Qr(e,n[0]),Qr(e,n[1]),Qr(e,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Qr(e,n[o]);return t.apply(void 0,i)}}(e,t.value,t.deps);break;case 2048:n=Qr(e,t.deps[0]);break;case 256:n=t.value}return n===Hr||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Hr:n}function $r(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,Q(n,t),ur.dirtyParentQueries(r),Zr(r),r}function Xr(e,t,n){var r=t?Ir(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Rr(n,2,i,o,void 0)}function Zr(e){Rr(e,3,null,null,void 0)}var ei=new Object;function ti(e,t,n,r,i,o){return new ni(e,t,n,r,i,o)}var ni=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,l){var s;return _classCallCheck(this,n),(s=t.call(this)).selector=e,s.componentType=r,s._inputs=o,s._outputs=a,s.ngContentSelectors=l,s.viewDefFactory=i,s}return _createClass(n,[{key:"inputs",get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e}},{key:"outputs",get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}},{key:"create",value:function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var i=Nr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=ur.createRootView(e,t||[],n,i,r,ei),l=ar(a,o).instance;return n&&a.renderer.setAttribute(or(a,0).renderElement,"ng-version",Rn.full),new ri(a,new li(a),l)}}]),n}(yn),ri=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._view=e,o._viewRef=r,o._component=i,o._elDef=o._view.def.nodes[0],o.hostView=r,o.changeDetectorRef=r,o.instance=i,o}return _createClass(n,[{key:"location",get:function(){return new Sn(or(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new hi(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}},{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(e){this._viewRef.onDestroy(e)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}());function ii(e,t,n){return new oi(e,t,n)}var oi=function(){function e(t,n,r){_classCallCheck(this,e),this._view=t,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(e,[{key:"element",get:function(){return new Sn(this._data.renderElement)}},{key:"injector",get:function(){return new hi(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=Cr(e),e=e.parent;return e?new hi(e,t):new hi(this._view,null)}},{key:"clear",value:function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=$r(this._data,e);ur.destroyView(t)}}},{key:"get",value:function(e){var t=this._embeddedViews[e];if(t){var n=new li(t);return n.attachToViewContainerRef(this),n}return null}},{key:"length",get:function(){return this._embeddedViews.length}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;i||e instanceof In||(i=o.get(W));var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a,l=e;return n=this._view,r=this._data,i=t,o=l._view,a=r.viewContainer._embeddedViews,null==i&&(i=a.length),o.viewContainerParent=n,J(a,i,o),function(e,t){var n=kr(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}(t.parent.def,t.parentNodeDef)}}(r,o),ur.dirtyParentQueries(o),Xr(r,i>0?a[i-1]:null,o),l.attachToViewContainerRef(this),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,l=this._embeddedViews.indexOf(e._view);return n=this._data,r=l,i=t,o=n.viewContainer._embeddedViews,a=o[r],Q(o,r),null==i&&(i=o.length),J(o,i,a),ur.dirtyParentQueries(a),Zr(a),Xr(n,i>0?o[i-1]:null,a),e}},{key:"indexOf",value:function(e){return this._embeddedViews.indexOf(e._view)}},{key:"remove",value:function(e){var t=$r(this._data,e);t&&ur.destroyView(t)}},{key:"detach",value:function(e){var t=$r(this._data,e);return t?new li(t):null}}]),e}();function ai(e){return new li(e)}var li=function(){function e(t){_classCallCheck(this,e),this._view=t,this._viewContainerRef=null,this._appRef=null}return _createClass(e,[{key:"rootNodes",get:function(){return Rr(this._view,0,void 0,void 0,e=[]),e;var e}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}},{key:"markForCheck",value:function(){br(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{ur.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}},{key:"checkNoChanges",value:function(){ur.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ur.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Zr(this._view),ur.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}]),e}();function si(e,t){return new ui(e,t)}var ui=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._parentView=e,i._def=r,i}return _createClass(n,[{key:"createEmbeddedView",value:function(e){return new li(ur.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}},{key:"elementRef",get:function(){return new Sn(or(this._parentView,this._def.nodeIndex).renderElement)}}]),n}(Qn);function ci(e,t){return new hi(e,t)}var hi=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.elDef=n}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht.THROW_IF_NOT_FOUND;return ur.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:fr(e)},t)}}]),e}();function fi(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=or(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return ir(e,n.nodeIndex).renderText;if(20240&n.flags)return ar(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function di(e){return new pi(e.renderer)}var pi=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"selectRootElement",value:function(e){return this.delegate.selectRootElement(e)}},{key:"createElement",value:function(e,t){var n=_slicedToArray2(Fr(t),2),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return e&&this.delegate.appendChild(e,o),o}},{key:"createViewRoot",value:function(e){return e}},{key:"createTemplateAnchor",value:function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}},{key:"createText",value:function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}},{key:"projectNodes",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}},{key:"attachViewAfter",value:function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}},{key:"detachView",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"listenGlobal",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"setElementProperty",value:function(e,t,n){this.delegate.setProperty(e,t,n)}},{key:"setElementAttribute",value:function(e,t,n){var r=_slicedToArray2(Fr(t),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(e,o,n,i):this.delegate.removeAttribute(e,o,i)}},{key:"setBindingDebugInfo",value:function(e,t,n){}},{key:"setElementClass",value:function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}},{key:"setElementStyle",value:function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"setText",value:function(e,t){this.delegate.setValue(e,t)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),e}();function vi(e,t,n,r){return new gi(e,t,n,r)}var gi=function(){function e(t,n,r,i){_classCallCheck(this,e),this._moduleType=t,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Yr(e,i))}}(this)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default,r=0;return n&k.SkipSelf?r|=1:n&k.Self&&(r|=4),Qr(this,{token:e,tokenKey:fr(e),flags:r},t)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(kn)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(T(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=e._providers[i];if(o&&o!==Hr){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(e){return e()}))}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}}]),e}(),mi=fr((function e(){_classCallCheck(this,e)})),yi=fr(xn),bi=fr(Sn),_i=fr($n),wi=fr(Qn),ki=fr(Ft),Ci=fr(Ht),Ii=fr(L);function Ei(e,t,n,r,i,o,a,l){var s=[];if(a)for(var u in a){var c=_slicedToArray2(a[u],2),h=c[0],f=c[1];s[h]={flags:8,name:u,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(l)for(var p in l)d.push({type:1,propName:p,target:null,eventName:l[p]});return Ai(e,t|=16384,n,r,i,i,o,s,d)}function Si(e,t,n){return Ai(-1,e|=16,null,0,t,t,n)}function Ti(e,t,n,r,i){return Ai(-1,e,t,0,n,r,i)}function Ai(e,t,n,r,i,o,a,l,s){var u=Ar(n),c=u.matchedQueries,h=u.references,f=u.matchedQueryIds;s||(s=[]),l||(l=[]),o=x(o);var d=Or(a,T(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:l,bindingFlags:Vr(l),outputs:s,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Oi(e,t){return Ri(e,t)}function xi(e,t){for(var n=e;n.parent&&!Er(n);)n=n.parent;return Di(n.parent,Cr(n),!0,t.provider.value,t.provider.deps)}function Pi(e,t){var n=Di(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],o=n[i.propName];if(!gn(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var a=o.subscribe(Ni(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=a.unsubscribe.bind(a)}return n}function Ni(e,t,n){return function(r){return wr(e,t,n,r)}}function Ri(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Di(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(ji(e,t,n,i[0]));case 2:return r(ji(e,t,n,i[0]),ji(e,t,n,i[1]));case 3:return r(ji(e,t,n,i[0]),ji(e,t,n,i[1]),ji(e,t,n,i[2]));default:for(var a=Array(o),l=0;l<o;l++)a[l]=ji(e,t,n,i[l]);return r.apply(void 0,a)}}(e,t.parent,n,r.value,r.deps);case 2048:return ji(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Di(e,t,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(ji(e,t,n,i[0]));case 2:return new r(ji(e,t,n,i[0]),ji(e,t,n,i[1]));case 3:return new r(ji(e,t,n,i[0]),ji(e,t,n,i[1]),ji(e,t,n,i[2]));default:for(var a=new Array(o),l=0;l<o;l++)a[l]=ji(e,t,n,i[l]);return _construct(r,a)}}var Mi={};function ji(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ht.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var o=e;2&r.flags&&(i=null);var a=r.tokenKey;a===ki&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var l=e;l;){if(t)switch(a){case mi:return di(Li(l,t,n));case yi:return Li(l,t,n).renderer;case bi:return new Sn(or(l,t.nodeIndex).renderElement);case _i:return or(l,t.nodeIndex).viewContainer;case wi:if(t.element.template)return or(l,t.nodeIndex).template;break;case ki:return ai(Li(l,t,n));case Ci:case Ii:return ci(l,t);default:var s=(n?t.element.allProviders:t.element.publicProviders)[a];if(s){var u=ar(l,s.nodeIndex);return u||(u={instance:Ri(l,s)},l.nodes[s.nodeIndex]=u),u.instance}}n=Er(l),t=Cr(l),l=l.parent,4&r.flags&&(l=null)}var c=o.root.injector.get(r.token,Mi);return c!==Mi||i===Mi?c:o.root.ngModule.injector.get(r.token,i)}function Li(e,t,n){var r;if(n)r=or(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Er(r);)r=r.parent;return r}function Bi(e,t,n,r,i,o){if(32768&n.flags){var a=or(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var l=rn.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new mn(l,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Fi(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&t&&Ui(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(r=Vi(e,a,t,r)),a=a.parent}}function Vi(e,t,n,r){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var o=e.def.nodes[i];o.flags&n&&Ui(e,i,o.flags&n,r++),i+=o.childCount}return r}function Ui(e,t,n,r){var i=ar(e,t);if(i){var o=i.instance;o&&(ur.setCurrentNode(e,t),1048576&n&&rr(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&rr(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var qi=new j("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return ge}}),Hi={},zi=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Gi=void 0,Wi=["en",[["a","p"],["AM","PM"],Gi],[["AM","PM"],Gi,Gi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gi,"{1} 'at' {0}",Gi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function Ki(e){return Ji(e)[zi.PluralCase]}function Ji(e){var t=e.toLowerCase().replace(/_/g,"-"),n=Hi[t];if(n)return n;var r=t.split("-")[0];if(n=Hi[r])return n;if("en"===r)return Wi;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}var Qi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,a=function(e){return null},l=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(l=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(l=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,l);return e instanceof i.a&&e.add(s),s}}]),n}(r.a);function Yi(){return this._results[en()]()}var $i=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new Qi,this.length=0;var t=en(),n=e.prototype;n[t]||(n[t]=Yi)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Xi=new j("Application Initializer"),Zi=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();vn(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}(),eo=new j("AppId");function to(){return"".concat(no()).concat(no()).concat(no())}function no(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var ro=new j("Platform Initializer"),io=new j("Platform ID"),oo=new j("appBootstrapListener"),ao=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}(),lo=new j("LocaleId");function so(){throw new Error("Runtime compiler is not loaded")}var uo,co,ho=so,fo=so,po=so,vo=so,go=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=ho,this.compileModuleAsync=fo,this.compileModuleAndAllComponentsSync=po,this.compileModuleAndAllComponentsAsync=vo}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}(),mo=function e(){_classCallCheck(this,e)};var yo,bo=!(!(yo=M.wtf)||(uo=yo.trace,!uo)||(co=uo.events,0));function _o(e,t){return null}var wo=bo?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return co.createScope(e,t)}:function(e,t){return _o},ko=bo?function(e,t){return uo.leaveScope(e,t),t}:function(e,t){return t},Co=Promise.resolve(0);function Io(e){"undefined"==typeof Zone?Co.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Eo=function(){function e(t){var n,r=t.enableLongStackTrace,i=void 0!==r&&r;if(_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qi(!1),this.onMicrotaskEmpty=new Qi(!1),this.onStable=new Qi(!1),this.onError=new Qi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,r,i,o,a){try{return Oo(n),e.invokeTask(r,i,o,a)}finally{xo(n)}},onInvoke:function(e,t,r,i,o,a,l){try{return Oo(n),e.invoke(r,i,o,a,l)}finally{xo(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,Ao(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,To,So,So);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function So(){}var To={};function Ao(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Oo(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xo(e){e._nesting--,Ao(e)}var Po=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qi,this.onMicrotaskEmpty=new Qi,this.onStable=new Qi,this.onError=new Qi}return _createClass(e,[{key:"run",value:function(e){return e()}},{key:"runGuarded",value:function(e){return e()}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e){return e()}}]),e}(),No=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Eo.assertNotInAngularZone(),Io((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Io((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}(),Ro=function(){function e(){_classCallCheck(this,e),this._applications=new Map,jo.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return jo.findTestabilityInTree(this,e,t)}}]),e}();function Do(e){jo=e}var Mo,jo=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Lo=new j("AllowMultipleToken"),Bo=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function Fo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new j(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Vo();if(!o||o.injector.get(Lo,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(Mo&&!Mo.destroyed&&!Mo.injector.get(Lo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Mo=e.get(Uo);var t=e.get(ro,null);t&&t.forEach((function(e){return e()}))}(Ht.create({providers:a,name:r}))}return function(e){var t=Vo();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Vo(){return Mo&&!Mo.destroyed?Mo:null}var Uo=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r=this,i="noop"===(n=t?t.ngZone:void 0)?new Po:("zone.js"===n?void 0:n)||new Eo({enableLongStackTrace:We()}),o=[{provide:Eo,useValue:i}];return i.run((function(){var t=Ht.create({providers:o,parent:r.injector,name:e.moduleType.name}),n=e.create(t),a=n.injector.get(He,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Go(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(e){a.handleError(e)}})})),function(e,t,i){try{var o=((a=n.injector.get(Zi)).runInitializers(),a.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return vn(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(l){throw t.runOutsideAngular((function(){return e.handleError(l)})),l}var a}(a,i)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=qo({},n);return function(e,t,n){return e.get(mo).createCompiler([t]).compileModuleAsync(n)}(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(zo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(T(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function qo(e,t){return Array.isArray(t)?t.reduce(qo,e):Object.assign({},e,t)}var Ho,zo=((Ho=function(){function e(t,n,r,i,u,h){var f=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=u,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=We(),this._zone.onMicrotaskEmpty.subscribe({next:function(){f._zone.run((function(){f.tick()}))}});var d=new o.a((function(e){f._stable=f._zone.isStable&&!f._zone.hasPendingMacrotasks&&!f._zone.hasPendingMicrotasks,f._zone.runOutsideAngular((function(){e.next(f._stable),e.complete()}))})),v=new o.a((function(e){var t;f._zone.runOutsideAngular((function(){t=f._zone.onStable.subscribe((function(){Eo.assertNotInAngularZone(),Io((function(){f._stable||f._zone.hasPendingMacrotasks||f._zone.hasPendingMicrotasks||(f._stable=!0,e.next(!0))}))}))}));var n=f._zone.onUnstable.subscribe((function(){Eo.assertInAngularZone(),f._stable&&(f._stable=!1,f._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,u=t[t.length-1];return Object(a.a)(u)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof u&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof o.a?t[0]:Object(l.a)(r)(Object(s.a)(t,i))}(d,v.pipe((function(e){return c()((t=g,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,p);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof yn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n instanceof In?null:this._injector.get(W),o=n.create(Ht.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(No,null);return a&&o.injector.get(Ro).registerApplication(o.location.nativeElement,a),this._loadComponent(o),We()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0;var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.detectChanges()}catch(l){i.e(l)}finally{i.f()}if(this._enforceNoNewChanges){var o,a=_createForOfIteratorHelper(this._views);try{for(a.s();!(o=a.n()).done;)o.value.checkNoChanges()}catch(l){a.e(l)}finally{a.f()}}}catch(s){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1,ko(n)}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Go(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(oo,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Go(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}())._tickScope=wo("ApplicationRef#tick()"),Ho);function Go(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Wo=function e(){_classCallCheck(this,e)},Ko=function e(){_classCallCheck(this,e)},Jo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Qo=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||Jo}return _createClass(e,[{key:"load",value:function(e){return this._compiler instanceof go?this.loadFactory(e):this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray2(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return Yo(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray2(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return Yo(e,r,i)}))}}]),e}();function Yo(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var $o=function e(t,n){_classCallCheck(this,e),this.name=t,this.callback=n},Xo=function(){function e(t,n,r){_classCallCheck(this,e),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=t,n&&n instanceof Zo&&n.addChild(this)}return _createClass(e,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),e}(),Zo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,i)).properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return _createClass(n,[{key:"addChild",value:function(e){e&&(this.childNodes.push(e),e.parent=this)}},{key:"removeChild",value:function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}},{key:"insertChildrenAfter",value:function(e,t){var n,r=this,i=this.childNodes.indexOf(e);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray2(t))),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=r})))}},{key:"insertBefore",value:function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}},{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var t=[];return function e(t,r,i){t.childNodes.forEach((function(t){t instanceof n&&(r(t)&&i.push(t),e(t,r,i))}))}(this,e,t),t}},{key:"queryAllNodes",value:function(e){var t=[];return function e(t,r,i){t instanceof n&&t.childNodes.forEach((function(t){r(t)&&i.push(t),t instanceof n&&e(t,r,i)}))}(this,e,t),t}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e instanceof n}))}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name==e&&n.callback(t)}))}}]),n}(Xo),ea=new Map,ta=function(e){return ea.get(e)||null};function na(e){ea.set(e.nativeNode,e)}var ra=Fo(null,"core",[{provide:io,useValue:"unknown"},{provide:Uo,deps:[Ht]},{provide:Ro,deps:[]},{provide:ao,deps:[]}]);function ia(){return Kn}function oa(){return Jn}function aa(e){return e||"en-US"}function la(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}var sa=function e(t){_classCallCheck(this,e)};function ua(e,t,n,r,i,o){e|=1;var a=Ar(t),l=a.matchedQueries,s=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:a.matchedQueryIds,references:s,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Nr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||cr},provider:null,text:null,query:null,ngContent:null}}function ca(e,t,n,r,i,o){var a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;c||(c=cr);var d=Ar(n),p=d.matchedQueries,v=d.references,g=d.matchedQueryIds,m=null,y=null;o&&(m=(a=_slicedToArray2(Fr(o),2))[0],y=a[1]),s=s||[];for(var b=new Array(s.length),_=0;_<s.length;_++){var w=_slicedToArray2(s[_],3),k=w[0],C=w[1],I=w[2],E=Fr(C),S=_slicedToArray2(E,2),T=S[0],A=S[1],O=void 0,x=void 0;switch(15&k){case 4:x=I;break;case 1:case 8:O=I}b[_]={flags:k,ns:T,name:A,nonMinifiedName:A,securityContext:O,suffix:x}}u=u||[];for(var P=new Array(u.length),N=0;N<u.length;N++){var R=_slicedToArray2(u[N],2),D=R[0],M=R[1];P[N]={type:0,target:D,eventName:M,propName:null}}var j=(l=l||[]).map((function(e){var t=_slicedToArray2(e,2),n=t[0],r=t[1],i=_slicedToArray2(Fr(n),2);return[i[0],i[1],r]}));return f=function(e){if(e&&"$$undefined"===e.id){var t=null!=e.encapsulation&&e.encapsulation!==$.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+vr++:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(f),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:g,references:v,ngContentIndex:r,childCount:i,bindings:b,bindingFlags:Vr(b),outputs:P,element:{ns:m,name:y,attrs:j,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||cr},provider:null,text:null,query:null,ngContent:null}}function ha(e,t,n){var r,i=n.element,o=e.root.selectorOrNode,a=e.renderer;if(e.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var l=xr(e,t,n);l&&a.appendChild(l,r)}else r=a.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===$.ShadowDom);if(i.attrs)for(var s=0;s<i.attrs.length;s++){var u=_slicedToArray2(i.attrs[s],3),c=u[0],h=u[1],f=u[2];a.setAttribute(r,h,f,c)}return r}function fa(e,t,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=da(e,n.nodeIndex,(h=o.eventName,(c=o.target)?"".concat(c,":").concat(h):h)),l=o.target,s=e;"component"===o.target&&(l=null,s=t);var u=s.renderer.listen(l||r,o.eventName,a);e.disposables[n.outputIndex+i]=u}var c,h}function da(e,t,n){return function(r){return wr(e,t,n,r)}}function pa(e,t,n,r){if(!mr(e,t,n,r))return!1;var i=t.bindings[n],o=or(e,t.nodeIndex),a=o.renderElement,l=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){var a=t.securityContext,l=a?e.root.sanitizer.sanitize(a,o):o;l=null!=l?l.toString():null;var s=e.renderer;null!=o?s.setAttribute(n,i,l,r):s.removeAttribute(n,i,r)}(e,i,a,i.ns,l,r);break;case 2:!function(e,t,n,r){var i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,a,l,r);break;case 4:!function(e,t,n,r,i){var o=e.root.sanitizer.sanitize(gt.STYLE,i);if(null!=o){o=o.toString();var a=t.suffix;null!=a&&(o+=a)}else o=null;var l=e.renderer;null!=o?l.setStyle(n,r,o):l.removeStyle(n,r)}(e,i,a,l,r);break;case 8:!function(e,t,n,r,i){var o=t.securityContext,a=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,a)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,a,l,r)}return!0}function va(e,t,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Tr(t),bindings:r},ngContent:null}}function ga(e){for(var t=e.def.nodeMatchedQueries;e.parent&&Sr(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var o=e.def.nodes[i];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&sr(e,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&e.def.nodeFlags)for(var a=0;a<e.def.nodes.length;a++){var l=e.def.nodes[a];134217728&l.flags&&536870912&l.flags&&sr(e,a).setDirty(),a+=l.childCount}}function ma(e,t){var n=sr(e,t.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&t.flags){var o=t.parent.parent;i=ya(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),r=ar(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=ya(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);for(var a=t.query.bindings,l=!1,s=0;s<a.length;s++){var u=a[s],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,l=!0}r[u.propName]=c}l&&n.notifyOnChanges()}}function ya(e,t,n,r,i){for(var o=t;o<=n;o++){var a=e.def.nodes[o],l=a.matchedQueries[r.id];if(null!=l&&i.push(ba(e,a,l)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var s=or(e,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(ya(e,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var u=s.viewContainer._embeddedViews,c=0;c<u.length;c++){var h=u[c],f=kr(h);f&&f===s&&ya(h,0,h.def.nodes.length-1,r,i)}var d=s.template._projectedViews;if(d)for(var p=0;p<d.length;p++){var v=d[p];ya(v,0,v.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function ba(e,t,n){if(null!=n)switch(n){case 1:return or(e,t.nodeIndex).renderElement;case 0:return new Sn(or(e,t.nodeIndex).renderElement);case 2:return or(e,t.nodeIndex).template;case 3:return or(e,t.nodeIndex).viewContainer;case 4:return ar(e,t.nodeIndex).instance}}function _a(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function wa(e,t,n){var r=xr(e,t,n);r&&Mr(e,n.ngContent.index,1,r,null,void 0)}function ka(e,t){return function(e,t,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:32,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Vr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,e,new Array(t))}function Ca(e,t,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ia(e,t,n){var r,i=e.renderer;r=i.createText(n.text.prefix);var o=xr(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function Ea(e,t){return(null!=e?e.toString():"")+t.suffix}function Sa(e,t,n,r){for(var i=0,o=0,a=0,l=0,s=0,u=null,c=null,h=!1,f=!1,d=null,p=0;p<t.length;p++){var v=t[p];if(v.nodeIndex=p,v.parent=u,v.bindingIndex=i,v.outputIndex=o,v.renderParent=c,a|=v.flags,s|=v.matchedQueryIds,v.element){var g=v.element;g.publicProviders=u?u.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,f=!1,v.element.template&&(s|=v.element.template.nodeMatchedQueries)}if(Aa(u,v,t.length),i+=v.bindings.length,o+=v.outputs.length,!c&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var m=0!=(32768&v.flags);0==(8192&v.flags)||m?u.element.publicProviders[fr(v.provider.token)]=v:(f||(f=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[fr(v.provider.token)]=v),m&&(u.element.componentProvider=v)}if(u?(u.childFlags|=v.flags,u.directChildFlags|=v.flags,u.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(u.childMatchedQueries|=v.element.template.nodeMatchedQueries)):l|=v.flags,v.childCount>0)u=v,Ta(v)||(c=v);else for(;u&&p===u.nodeIndex+u.childCount;){var y=u.parent;y&&(y.childFlags|=u.childFlags,y.childMatchedQueries|=u.childMatchedQueries),c=(u=y)&&Ta(u)?u.renderParent:u}}return{factory:null,nodeFlags:a,rootNodeFlags:l,nodeMatchedQueries:s,flags:e,nodes:t,updateDirectives:n||cr,updateRenderer:r||cr,handleEvent:function(e,n,r,i){return t[n].element.handleEvent(e,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function Ta(e){return 0!=(1&e.flags)&&null===e.element.name}function Aa(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(t.nodeIndex,"!"))}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(t.nodeIndex,"!"));if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(t.nodeIndex,"!"));if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(t.nodeIndex,"!"))}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(t.nodeIndex,"!"))}}function Oa(e,t,n,r){var i=Na(e.root,e.renderer,e,t,n);return Ra(i,e.component,r),Da(i),i}function xa(e,t,n){var r=Na(e,e.renderer,null,null,t);return Ra(r,n,n),Da(r),r}function Pa(e,t,n,r){var i,o=t.element.componentRendererType;return i=o?e.root.rendererFactory.createRenderer(r,o):e.root.renderer,Na(e.root,i,e,t.element.componentProvider,n)}function Na(e,t,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Ra(e,t,n){e.component=t,e.context=n}function Da(e){var t;Er(e)&&(t=or(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],a=void 0;switch(ur.setCurrentNode(e,i),201347067&o.flags){case 1:var l=ha(e,t,o),s=void 0;if(33554432&o.flags){var u=Nr(o.element.componentView);s=ur.createComponentView(e,o,u,l)}fa(e,s,o,l),a={renderElement:l,componentView:s,viewContainer:null,template:o.element.template?si(e,o):void 0},16777216&o.flags&&(a.viewContainer=ii(e,o,a));break;case 2:a=Ia(e,t,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Oi(e,o)});break;case 16:a={instance:xi(e,o)};break;case 16384:(a=r[i])||(a={instance:Pi(e,o)}),32768&o.flags&&Ra(or(e,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new $i;break;case 8:wa(e,t,o),a=void 0}r[i]=a}Ha(e,qa.CreateViewNodes),Ka(e,201326592,268435456,0)}function Ma(e){Ba(e),ur.updateDirectives(e,1),za(e,qa.CheckNoChanges),ur.updateRenderer(e,1),Ha(e,qa.CheckNoChanges),e.state&=-97}function ja(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,nr(e,0,256),Ba(e),ur.updateDirectives(e,0),za(e,qa.CheckAndUpdate),Ka(e,67108864,536870912,0);var t=nr(e,256,512);Fi(e,2097152|(t?1048576:0)),ur.updateRenderer(e,0),Ha(e,qa.CheckAndUpdate),Ka(e,134217728,536870912,0),Fi(e,8388608|((t=nr(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,nr(e,768,1024)}function La(e,t,n,r,i,o,a,l,s,u,c,h,f){return 0===n?function(e,t,n,r,i,o,a,l,s,u,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,a,l,s,u,c,h){var f=t.bindings.length,d=!1;return f>0&&pa(e,t,0,n)&&(d=!0),f>1&&pa(e,t,1,r)&&(d=!0),f>2&&pa(e,t,2,i)&&(d=!0),f>3&&pa(e,t,3,o)&&(d=!0),f>4&&pa(e,t,4,a)&&(d=!0),f>5&&pa(e,t,5,l)&&(d=!0),f>6&&pa(e,t,6,s)&&(d=!0),f>7&&pa(e,t,7,u)&&(d=!0),f>8&&pa(e,t,8,c)&&(d=!0),f>9&&pa(e,t,9,h)&&(d=!0),d}(e,t,n,r,i,o,a,l,s,u,c,h);case 2:return function(e,t,n,r,i,o,a,l,s,u,c,h){var f=!1,d=t.bindings,p=d.length;if(p>0&&mr(e,t,0,n)&&(f=!0),p>1&&mr(e,t,1,r)&&(f=!0),p>2&&mr(e,t,2,i)&&(f=!0),p>3&&mr(e,t,3,o)&&(f=!0),p>4&&mr(e,t,4,a)&&(f=!0),p>5&&mr(e,t,5,l)&&(f=!0),p>6&&mr(e,t,6,s)&&(f=!0),p>7&&mr(e,t,7,u)&&(f=!0),p>8&&mr(e,t,8,c)&&(f=!0),p>9&&mr(e,t,9,h)&&(f=!0),f){var v=t.text.prefix;p>0&&(v+=Ea(n,d[0])),p>1&&(v+=Ea(r,d[1])),p>2&&(v+=Ea(i,d[2])),p>3&&(v+=Ea(o,d[3])),p>4&&(v+=Ea(a,d[4])),p>5&&(v+=Ea(l,d[5])),p>6&&(v+=Ea(s,d[6])),p>7&&(v+=Ea(u,d[7])),p>8&&(v+=Ea(c,d[8])),p>9&&(v+=Ea(h,d[9]));var g=ir(e,t.nodeIndex).renderText;e.renderer.setValue(g,v)}return f}(e,t,n,r,i,o,a,l,s,u,c,h);case 16384:return function(e,t,n,r,i,o,a,l,s,u,c,h){var f=ar(e,t.nodeIndex),d=f.instance,p=!1,v=void 0,g=t.bindings.length;return g>0&&gr(e,t,0,n)&&(p=!0,v=Bi(e,f,t,0,n,v)),g>1&&gr(e,t,1,r)&&(p=!0,v=Bi(e,f,t,1,r,v)),g>2&&gr(e,t,2,i)&&(p=!0,v=Bi(e,f,t,2,i,v)),g>3&&gr(e,t,3,o)&&(p=!0,v=Bi(e,f,t,3,o,v)),g>4&&gr(e,t,4,a)&&(p=!0,v=Bi(e,f,t,4,a,v)),g>5&&gr(e,t,5,l)&&(p=!0,v=Bi(e,f,t,5,l,v)),g>6&&gr(e,t,6,s)&&(p=!0,v=Bi(e,f,t,6,s,v)),g>7&&gr(e,t,7,u)&&(p=!0,v=Bi(e,f,t,7,u,v)),g>8&&gr(e,t,8,c)&&(p=!0,v=Bi(e,f,t,8,c,v)),g>9&&gr(e,t,9,h)&&(p=!0,v=Bi(e,f,t,9,h,v)),v&&d.ngOnChanges(v),65536&t.flags&&rr(e,256,t.nodeIndex)&&d.ngOnInit(),262144&t.flags&&d.ngDoCheck(),p}(e,t,n,r,i,o,a,l,s,u,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,a,l,s,u,c,h){var f=t.bindings,d=!1,p=f.length;if(p>0&&mr(e,t,0,n)&&(d=!0),p>1&&mr(e,t,1,r)&&(d=!0),p>2&&mr(e,t,2,i)&&(d=!0),p>3&&mr(e,t,3,o)&&(d=!0),p>4&&mr(e,t,4,a)&&(d=!0),p>5&&mr(e,t,5,l)&&(d=!0),p>6&&mr(e,t,6,s)&&(d=!0),p>7&&mr(e,t,7,u)&&(d=!0),p>8&&mr(e,t,8,c)&&(d=!0),p>9&&mr(e,t,9,h)&&(d=!0),d){var v,g=lr(e,t.nodeIndex);switch(201347067&t.flags){case 32:v=new Array(f.length),p>0&&(v[0]=n),p>1&&(v[1]=r),p>2&&(v[2]=i),p>3&&(v[3]=o),p>4&&(v[4]=a),p>5&&(v[5]=l),p>6&&(v[6]=s),p>7&&(v[7]=u),p>8&&(v[8]=c),p>9&&(v[9]=h);break;case 64:v={},p>0&&(v[f[0].name]=n),p>1&&(v[f[1].name]=r),p>2&&(v[f[2].name]=i),p>3&&(v[f[3].name]=o),p>4&&(v[f[4].name]=a),p>5&&(v[f[5].name]=l),p>6&&(v[f[6].name]=s),p>7&&(v[f[7].name]=u),p>8&&(v[f[8].name]=c),p>9&&(v[f[9].name]=h);break;case 128:var m=n;switch(p){case 1:v=m.transform(n);break;case 2:v=m.transform(r);break;case 3:v=m.transform(r,i);break;case 4:v=m.transform(r,i,o);break;case 5:v=m.transform(r,i,o,a);break;case 6:v=m.transform(r,i,o,a,l);break;case 7:v=m.transform(r,i,o,a,l,s);break;case 8:v=m.transform(r,i,o,a,l,s,u);break;case 9:v=m.transform(r,i,o,a,l,s,u,c);break;case 10:v=m.transform(r,i,o,a,l,s,u,c,h)}}g.value=v}return d}(e,t,n,r,i,o,a,l,s,u,c,h);default:throw"unreachable"}}(e,t,r,i,o,a,l,s,u,c,h,f):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,i=0;i<n.length;i++)pa(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)mr(e,t,o,n[o])&&(i=!0);if(i){for(var a="",l=0;l<n.length;l++)a+=Ea(n[l],r[l]);a=t.text.prefix+a;var s=ir(e,t.nodeIndex).renderText;e.renderer.setValue(s,a)}return i}(e,t,n);case 16384:return function(e,t,n){for(var r=ar(e,t.nodeIndex),i=r.instance,o=!1,a=void 0,l=0;l<n.length;l++)gr(e,t,l,n[l])&&(o=!0,a=Bi(e,r,t,l,n[l],a));return a&&i.ngOnChanges(a),65536&t.flags&&rr(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)mr(e,t,o,n[o])&&(i=!0);if(i){var a,l=lr(e,t.nodeIndex);switch(201347067&t.flags){case 32:a=n;break;case 64:a={};for(var s=0;s<n.length;s++)a[r[s].name]=n[s];break;case 128:var u=n[0],c=n.slice(1);a=u.transform.apply(u,_toConsumableArray2(c))}l.value=a}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function Ba(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var i=or(e,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,_r(a,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Fa(e,t,n,r,i,o,a,l,s,u,c,h,f){return 0===n?function(e,t,n,r,i,o,a,l,s,u,c,h){var f=t.bindings.length;f>0&&yr(e,t,0,n),f>1&&yr(e,t,1,r),f>2&&yr(e,t,2,i),f>3&&yr(e,t,3,o),f>4&&yr(e,t,4,a),f>5&&yr(e,t,5,l),f>6&&yr(e,t,6,s),f>7&&yr(e,t,7,u),f>8&&yr(e,t,8,c),f>9&&yr(e,t,9,h)}(e,t,r,i,o,a,l,s,u,c,h,f):function(e,t,n){for(var r=0;r<n.length;r++)yr(e,t,r,n[r])}(e,t,r),!1}function Va(e,t){if(sr(e,t.nodeIndex).dirty)throw Zn(ur.createDebugContext(e,t.nodeIndex),"Query ".concat(t.query.id," not dirty"),"Query ".concat(t.query.id," dirty"),0!=(1&e.state))}function Ua(e){if(!(128&e.state)){if(za(e,qa.Destroy),Ha(e,qa.Destroy),Fi(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=kr(e);if(t){var n=t.template._projectedViews;n&&(Q(n,n.indexOf(e)),ur.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(or(e,n).renderElement):2&r.flags?e.renderer.destroyNode(ir(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&sr(e,n).destroy()}}(e),Er(e)&&e.renderer.destroy(),e.state|=128}}var qa=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Ha(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Ga(or(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function za(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=or(e,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Ga(o[a],t);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Ga(e,t){var n=e.state;switch(t){case qa.CheckNoChanges:0==(128&n)&&(12==(12&n)?Ma(e):64&n&&Wa(e,qa.CheckNoChangesProjectedViews));break;case qa.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Ma(e):64&n&&Wa(e,t));break;case qa.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ja(e):64&n&&Wa(e,qa.CheckAndUpdateProjectedViews));break;case qa.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ja(e):64&n&&Wa(e,t));break;case qa.Destroy:Ua(e);break;case qa.CreateViewNodes:Da(e)}}function Wa(e,t){za(e,t),Ha(e,t)}function Ka(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,o=0;o<i;o++){var a=e.def.nodes[o];if(a.flags&t&&a.flags&n)switch(ur.setCurrentNode(e,a.nodeIndex),r){case 0:ma(e,a);break;case 1:Va(e,a)}a.childFlags&t&&a.childFlags&n||(o+=a.childCount)}}var Ja=!1;function Qa(e,t,n,r,i,o){var a=i.injector.get(An);return xa($a(e,i,a,t,n),r,o)}function Ya(e,t,n,r,i,o){var a=i.injector.get(An),l=$a(e,i,new Ol(a),t,n),s=ll(r);return Tl(gl.create,xa,null,[l,s,o])}function $a(e,t,n,r,i){var o=t.injector.get(mt),a=t.injector.get(He),l=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:l,errorHandler:a}}function Xa(e,t,n,r){var i=ll(n);return Tl(gl.create,Oa,null,[e,t,i,r])}function Za(e,t,n,r){return n=rl.get(t.element.componentProvider.provider.token)||ll(n),Tl(gl.create,Pa,null,[e,t,n,r])}function el(e,t,n,r){return vi(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===tl.size||(e.providers.forEach((function(e){var r=tl.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)})),e.modules.forEach((function(e){nl.forEach((function(r,i){E(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)}))}))),{hasOverrides:t,hasDeprecatedOverrides:n}}(e),n=t.hasOverrides,r=t.hasDeprecatedOverrides;return n?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var i=tl.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=Or(i.deps),n.value=i.value)}if(nl.size>0){var o=new Set(e.modules);nl.forEach((function(t,n){if(o.has(E(n).providedIn)){var i={token:n,flags:t.flags|(r?4096:0),deps:Or(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[fr(n)]=i}}))}}(e=e.factory((function(){return cr}))),e):e}(r))}var tl=new Map,nl=new Map,rl=new Map;function il(e){var t;tl.set(e.token,e),"function"==typeof e.token&&(t=E(e.token))&&"function"==typeof t.providedIn&&nl.set(e.token,e)}function ol(e,t){var n=Nr(t.viewDefFactory),r=Nr(n.nodes[0].element.componentView);rl.set(e,r)}function al(){tl.clear(),nl.clear(),rl.clear()}function ll(e){if(0===tl.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&tl.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return cr}));for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=tl.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Or(o.deps),i.value=o.value)}}}}function sl(e,t,n,r,i,o,a,l,s,u,c,h,f){var d=e.def.nodes[t];return La(e,d,n,r,i,o,a,l,s,u,c,h,f),224&d.flags?lr(e,t).value:void 0}function ul(e,t,n,r,i,o,a,l,s,u,c,h,f){var d=e.def.nodes[t];return Fa(e,d,n,r,i,o,a,l,s,u,c,h,f),224&d.flags?lr(e,t).value:void 0}function cl(e){return Tl(gl.detectChanges,ja,null,[e])}function hl(e){return Tl(gl.checkNoChanges,Ma,null,[e])}function fl(e){return Tl(gl.destroy,Ua,null,[e])}var dl,pl,vl,gl=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function ml(e,t){pl=e,vl=t}function yl(e,t,n,r){return ml(e,t),Tl(gl.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function bl(e,t){if(128&e.state)throw tr(gl[dl]);return ml(e,Cl(e,0)),e.def.updateDirectives((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return 0===t?wl(e,i,r,a):kl(e,i,r,a),16384&i.flags&&ml(e,Cl(e,n)),224&i.flags?lr(e,i.nodeIndex).value:void 0}),e)}function _l(e,t){if(128&e.state)throw tr(gl[dl]);return ml(e,Il(e,0)),e.def.updateRenderer((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return 0===t?wl(e,i,r,a):kl(e,i,r,a),3&i.flags&&ml(e,Il(e,n)),224&i.flags?lr(e,i.nodeIndex).value:void 0}),e)}function wl(e,t,n,r){if(La.apply(void 0,[e,t,n].concat(_toConsumableArray2(r)))){var i=1===n?r[0]:r;if(16384&t.flags){for(var o={},a=0;a<t.bindings.length;a++){var l=t.bindings[a],s=i[a];8&l.flags&&(o[(d=l.nonMinifiedName,"ng-reflect-"+d.replace(/[$@]/g,"_").replace(wt,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"-"+t[1].toLowerCase()})))]=kt(s))}var u=t.parent,c=or(e,u.nodeIndex).renderElement;if(u.element.name)for(var h in o){var f=o[h];null!=f?e.renderer.setAttribute(c,h,f):e.renderer.removeAttribute(c,h)}else e.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}var d}function kl(e,t,n,r){Fa.apply(void 0,[e,t,n].concat(_toConsumableArray2(r)))}function Cl(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Il(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var El=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=t.def.nodes[n];for(var r=this.nodeDef,i=t;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=Cr(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass(e,[{key:"elOrCompView",get:function(){return or(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return ci(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}},{key:"references",get:function(){var e={};if(this.elDef){Sl(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&Sl(this.elView,n,e),t+=n.childCount}}return e}},{key:"componentRenderElement",get:function(){var e=function(e){for(;e&&!Er(e);)e=e.parent;return e.parent?or(e.parent,Cr(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?Ir(this.view,this.nodeDef):Ir(this.elView,this.elDef)}},{key:"logError",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;2&this.nodeDef.flags?(i=this.view.def,o=this.nodeDef.nodeIndex):(i=this.elView.def,o=this.elDef.nodeIndex);var a=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(i,o),l=-1;i.factory((function(){var t;return++l===a?(t=e.error).bind.apply(t,[e].concat(n)):cr})),l<a&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,n))}}]),e}();function Sl(e,t,n){for(var r in t.references)n[r]=ba(e,t,t.references[r])}function Tl(e,t,n,r){var i,o,a=dl,l=pl,s=vl;try{dl=e;var u=t.apply(n,r);return pl=l,vl=s,dl=a,u}catch(c){if(Ve(c)||!pl)throw c;throw i=c,o=Al(),i instanceof Error||(i=new Error(i.toString())),er(i,o),i}}function Al(){return pl?new El(pl,vl):null}var Ol=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"createRenderer",value:function(e,t){return new xl(this.delegate.createRenderer(e,t))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),e}(),xl=function(){function e(t){_classCallCheck(this,e),this.delegate=t,this.debugContextFactory=Al,this.data=this.delegate.data}return _createClass(e,[{key:"createDebugContext",value:function(e){return this.debugContextFactory(e)}},{key:"destroyNode",value:function(e){var t=ta(e);!function(e){ea.delete(e.nativeNode)}(t),t instanceof Xo&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var i=new Zo(n,null,r);i.name=e,na(i)}return n}},{key:"createComment",value:function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&na(new Xo(t,null,n)),t}},{key:"createText",value:function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&na(new Xo(t,null,n)),t}},{key:"appendChild",value:function(e,t){var n=ta(e),r=ta(t);n&&r&&n instanceof Zo&&n.addChild(r),this.delegate.appendChild(e,t)}},{key:"insertBefore",value:function(e,t,n){var r=ta(e),i=ta(t),o=ta(n);r&&i&&r instanceof Zo&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}},{key:"removeChild",value:function(e,t){var n=ta(e),r=ta(t);n&&r&&n instanceof Zo&&n.removeChild(r),this.delegate.removeChild(e,t)}},{key:"selectRootElement",value:function(e,t){var n=this.delegate.selectRootElement(e,t),r=Al();return r&&na(new Zo(n,null,r)),n}},{key:"setAttribute",value:function(e,t,n,r){var i=ta(e);i&&i instanceof Zo&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){var r=ta(e);r&&r instanceof Zo&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){var n=ta(e);n&&n instanceof Zo&&(n.classes[t]=!0),this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){var n=ta(e);n&&n instanceof Zo&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){var i=ta(e);i&&i instanceof Zo&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){var r=ta(e);r&&r instanceof Zo&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){var r=ta(e);r&&r instanceof Zo&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){if("string"!=typeof e){var r=ta(e);r&&r.listeners.push(new $o(t,n))}return this.delegate.listen(e,t,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setValue",value:function(e,t){return this.delegate.setValue(e,t)}}]),e}();function Pl(e,t,n){return new Nl(e,t,n)}var Nl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).moduleType=e,o._bootstrapComponents=r,o._ngModuleDefFactory=i,o}return _createClass(n,[{key:"create",value:function(e){!function(){if(!Ja){Ja=!0;var e=We()?{setCurrentNode:ml,createRootView:Ya,createEmbeddedView:Xa,createComponentView:Za,createNgModuleRef:el,overrideProvider:il,overrideComponentView:ol,clearOverrides:al,checkAndUpdateView:cl,checkNoChangesView:hl,destroyView:fl,createDebugContext:function(e,t){return new El(e,t)},handleEvent:yl,updateDirectives:bl,updateRenderer:_l}:{setCurrentNode:function(){},createRootView:Qa,createEmbeddedView:Oa,createComponentView:Pa,createNgModuleRef:vi,overrideProvider:cr,overrideComponentView:cr,clearOverrides:cr,checkAndUpdateView:ja,checkNoChangesView:Ma,destroyView:Ua,createDebugContext:function(e,t){return new El(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?sl:ul,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?sl:ul,e)}};ur.setCurrentNode=e.setCurrentNode,ur.createRootView=e.createRootView,ur.createEmbeddedView=e.createEmbeddedView,ur.createComponentView=e.createComponentView,ur.createNgModuleRef=e.createNgModuleRef,ur.overrideProvider=e.overrideProvider,ur.overrideComponentView=e.overrideComponentView,ur.clearOverrides=e.clearOverrides,ur.checkAndUpdateView=e.checkAndUpdateView,ur.checkNoChangesView=e.checkNoChangesView,ur.destroyView=e.destroyView,ur.resolveDep=ji,ur.createDebugContext=e.createDebugContext,ur.handleEvent=e.handleEvent,ur.updateDirectives=e.updateDirectives,ur.updateRenderer=e.updateRenderer,ur.dirtyParentQueries=ga}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(Nr(this._ngModuleDefFactory));return ur.createNgModuleRef(this.moduleType,e||Ht.NULL,this._bootstrapComponents,t)}}]),n}(K)},"9OqN":function(e,t,n){var r,i,o;e.exports=(o=n("Ib8C"),n("OLod"),o.mode.CTR=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var l=0;l<r;l++)e[t+l]^=a[l]}}),r.Decryptor=i,r),o.mode.CTR)},"9ppp":function(e,t,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(t,"a",(function(){return i})),r.prototype=Object.create(Error.prototype);var i=r},"9vzP":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e)}},AAub:function(e,t,n){"use strict";var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function l(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var a=n("zIRd"),l=n("/6Yf"),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function l(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var f,d=n("qOnz"),p=n("nbvr"),v=((f={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',f["not-registered"]="Firebase Installation is not registered.",f["installation-not-found"]="Firebase Installation not found.",f["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',f["app-offline"]="Could not process request. Application offline.",f["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",f),g=new d.b("installations","Installations",v);function m(e){return e instanceof d.c&&e.code.includes("request-failed")}function y(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function b(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function _(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),[2,g.create("request-failed",{requestName:e,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function w(e){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey})}function k(e,t){var n=t.refreshToken,r=w(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function C(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function I(e,t){var n=t.fid;return u(this,void 0,void 0,(function(){var t,r,i,o,a;return c(this,(function(l){switch(l.label){case 0:return t=y(e),r=w(e),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.30"})},[4,C((function(){return fetch(t,i)}))];case 1:return(o=l.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=l.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:b(a.authToken)}];case 3:return[4,_("Create Installation",o)];case 4:throw l.sent()}}))}))}function E(e){return new Promise((function(t){setTimeout(t,e)}))}var S=/^[cdef][\w-]{21}$/;function T(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return S.test(t)?t:""}catch(n){return""}}function A(e){return e.appName+"!"+e.appId}var O=new Map;function x(e,t){var n=A(e);P(n,t),function(e,t){var n=R();n&&n.postMessage({key:e,fid:t}),D()}(n,t)}function P(e,t){var n,r,i=O.get(e);if(i)try{for(var o=h(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var N=null;function R(){return!N&&"BroadcastChannel"in self&&((N=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){P(e.data.key,e.data.fid)}),N}function D(){0===O.size&&N&&(N.close(),N=null)}var M,j="firebase-installations-store",L=null;function B(){return L||(L=Object(p.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(j)}}))),L}function F(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o,a;return c(this,(function(l){switch(l.label){case 0:return n=A(e),[4,B()];case 1:return r=l.sent(),i=r.transaction(j,"readwrite"),[4,(o=i.objectStore(j)).get(n)];case 2:return a=l.sent(),[4,o.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),a&&a.fid===t.fid||x(e,t.fid),[2,t]}}))}))}function V(e){return u(this,void 0,void 0,(function(){var t,n,r;return c(this,(function(i){switch(i.label){case 0:return t=A(e),[4,B()];case 1:return n=i.sent(),[4,(r=n.transaction(j,"readwrite")).objectStore(j).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function U(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o,a,l;return c(this,(function(s){switch(s.label){case 0:return n=A(e),[4,B()];case 1:return r=s.sent(),i=r.transaction(j,"readwrite"),[4,(o=i.objectStore(j)).get(n)];case 2:return a=s.sent(),void 0!==(l=t(a))?[3,4]:[4,o.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,o.put(l,n)];case 5:s.sent(),s.label=6;case 6:return[4,i.complete];case 7:return s.sent(),!l||a&&a.fid===l.fid||x(e,l.fid),[2,l]}}))}))}function q(e){return u(this,void 0,void 0,(function(){var t,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,U(e,(function(n){var r=function(e){return G(e||{fid:T(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(g.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,I(e,t)];case 1:return n=i.sent(),[2,F(e,n)];case 2:return m(r=i.sent())&&409===r.customData.serverCode?[4,V(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,F(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:H(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function H(e){return u(this,void 0,void 0,(function(){var t,n,r,i;return c(this,(function(o){switch(o.label){case 0:return[4,z(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,E(100)];case 3:return o.sent(),[4,z(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,q(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function z(e){return U(e,(function(e){if(!e)throw g.create("installation-not-found");return G(e)}))}function G(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function W(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return u(this,void 0,void 0,(function(){var e,i,o,a,l;return c(this,(function(s){switch(s.label){case 0:return e=function(e,t){var n=t.fid;return y(e)+"/"+n+"/authTokens:generate"}(n,t),i=k(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.30"}})},[4,C((function(){return fetch(e,a)}))];case 1:return(l=s.sent()).ok?[4,l.json()]:[3,3];case 2:return[2,b(s.sent())];case 3:return[4,_("Generate Auth Token",l)];case 4:throw s.sent()}}))}))}function K(e,t){return void 0===t&&(t=!1),u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return[4,U(e.appConfig,(function(r){if(!Q(r))throw g.create("not-registered");var i,o=r.authToken;if(!t&&2===(i=o).requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i))return r;if(1===o.requestStatus)return n=function(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return[4,J(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,E(100)];case 3:return i.sent(),[4,J(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,K(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw g.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return s(s({},e),{authToken:t})}(r);return n=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,W(e,t)];case 1:return n=o.sent(),i=s(s({},t),{authToken:n}),[4,F(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!m(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,V(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=s(s({},t),{authToken:{requestStatus:0}}),[4,F(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function J(e){return U(e,(function(e){if(!Q(e))throw g.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?s(s({},e),{authToken:{requestStatus:0}}):e}))}function Q(e){return void 0!==e&&2===e.registrationStatus}function Y(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,q(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function $(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o;return c(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return y(e)+"/"+n}(e,t),r=k(e,t),i={method:"DELETE",headers:r},[4,C((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,_("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function X(e){return g.create("missing-app-config-values",{valueName:e})}(M=a.a).INTERNAL.registerComponent(new l.a("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw X("App Configuration");if(!e.name)throw X("App Name");try{for(var r=h(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw X(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return u(this,void 0,void 0,(function(){var t,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,q(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):K(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return[4,Y(e.appConfig)];case 1:return n.sent(),[4,K(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return[4,U(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw g.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw g.create("app-offline");case 3:return[4,$(t,n)];case 4:return r.sent(),[4,V(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return function(e,t){var n=e.appConfig;return function(e,t){R();var n=A(e),r=O.get(n);r||(r=new Set,O.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=A(e),r=O.get(n);r&&(r.delete(t),0===r.size&&O.delete(n),D())}(n,t)}}(n,e)}}}),"PUBLIC")),M.registerVersion("@firebase/installations","0.4.30");var Z,ee=n("q/0M"),te="https://www.googletagmanager.com/gtag/js",ne=function(e){return e.EVENT="event",e.SET="set",e.CONFIG="config",e}({}),re=function(e){return e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results",e}({}),ie=new ee.b("@firebase/analytics");function oe(e,t,n,r,a,l){return i(this,void 0,void 0,(function(){var i,s,u,c;return o(this,(function(o){switch(o.label){case 0:i=r[a],o.label=1;case 1:return o.trys.push([1,7,,8]),i?[4,t[i]]:[3,3];case 2:return o.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=o.sent(),(u=s.find((function(e){return e.measurementId===a})))?[4,t[u.appId]]:[3,6];case 5:o.sent(),o.label=6;case 6:return[3,8];case 7:return c=o.sent(),ie.error(c),[3,8];case 8:return e(ne.CONFIG,a,l),[2]}}))}))}function ae(e,t,n,r,a){return i(this,void 0,void 0,(function(){var i,l,s,u,c,h,f;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),i=[],a&&a.send_to?(l=a.send_to,Array.isArray(l)||(l=[l]),[4,Promise.all(n)]):[3,2];case 1:for(s=o.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return i=[],"break";i.push(r)},c=0,h=l;c<h.length&&"break"!==u(h[c]);c++);o.label=2;case 2:return 0===i.length&&(i=Object.values(t)),[4,Promise.all(i)];case 3:return o.sent(),e(ne.EVENT,r,a||{}),[3,5];case 4:return f=o.sent(),ie.error(f),[3,5];case 5:return[2]}}))}))}var le=((Z={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Z["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Z["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Z["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Z["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Z["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Z["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Z["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Z["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Z),se=new d.b("analytics","Analytics",le),ue=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function ce(e){var t;return i(this,void 0,void 0,(function(){var n,r,i,a,l,s;return o(this,(function(o){switch(o.label){case 0:return n=e.appId,r={method:"GET",headers:(u=e.apiKey,new Headers({Accept:"application/json","x-goog-api-key":u}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(a=o.sent()).status||304===a.status)return[3,6];l="",o.label=2;case 2:return o.trys.push([2,4,,5]),[4,a.json()];case 3:return s=o.sent(),(null===(t=s.error)||void 0===t?void 0:t.message)&&(l=s.error.message),[3,5];case 4:return o.sent(),[3,5];case 5:throw se.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}var u}))}))}function he(e,t,n,r){var a=t.throttleEndTimeMillis,l=t.backoffCount;return void 0===r&&(r=ue),i(this,void 0,void 0,(function(){var t,i,s,u,c,h,f;return o(this,(function(o){switch(o.label){case 0:t=e.appId,i=e.measurementId,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fe(n,a)];case 2:return o.sent(),[3,4];case 3:if(s=o.sent(),i)return ie.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+i+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:i}];throw s;case 4:return o.trys.push([4,6,,7]),[4,ce(e)];case 5:return u=o.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof d.c&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=o.sent())){if(r.deleteThrottleMetadata(t),i)return ie.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+i+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:i}];throw c}return h=503===Number(c.customData.httpStatus)?Object(d.j)(l,r.intervalMillis,30):Object(d.j)(l,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:l+1},r.setThrottleMetadata(t,f),ie.debug("Calling attemptFetch again in "+h+" millis"),[2,he(e,f,n,r)];case 7:return[2]}}))}))}function fe(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(se.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var de,pe,ve=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),ge={},me=[],ye={},be="dataLayer",_e="gtag",we=!1;function ke(e){if(we)throw se.create("already-initialized");e.dataLayerName&&(be=e.dataLayerName),e.gtagName&&(_e=e.gtagName)}function Ce(){return i(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:if(Object(d.u)())return[2,!1];if(!Object(d.e)())return[2,!1];if(!Object(d.y)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(d.Q)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new l.a("analytics",(function(e){return function(e,t){!function(){var e=[];if(Object(d.u)()&&e.push("This is a browser extension environment."),Object(d.e)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=se.create("invalid-analytics-context",{errorInfo:t});ie.warn(n.message)}}();var n,a,l=e.options.appId;if(!l)throw se.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw se.create("no-api-key");ie.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ge[l])throw se.create("already-exists",{id:l});if(!we){n=be,a=[],Array.isArray(window[n])?a=window[n]:window[n]=a;var s=function(e,t,n,r,a){var l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[a]&&"function"==typeof window[a]&&(l=window[a]),window[a]=function(e,t,n,r){return function(a,l,s){return i(this,void 0,void 0,(function(){var i;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,6,,7]),a!==ne.EVENT?[3,2]:[4,ae(e,t,n,l,s)];case 1:return o.sent(),[3,5];case 2:return a!==ne.CONFIG?[3,4]:[4,oe(e,t,n,r,l,s)];case 3:return o.sent(),[3,5];case 4:e(ne.SET,l),o.label=5;case 5:return[3,7];case 6:return i=o.sent(),ie.error(i),[3,7];case 7:return[2]}}))}))}}(l,e,t,n),{gtagCore:l,wrappedGtag:window[a]}}(ge,me,ye,be,_e);pe=s.wrappedGtag,de=s.gtagCore,we=!0}return ge[l]=function(e,t,n,r,a,l){return i(this,void 0,void 0,(function(){var s,u,c,h,f,p,v;return o(this,(function(g){switch(g.label){case 0:return(s=function(e,t,n){return void 0===t&&(t=ue),i(this,void 0,void 0,(function(){var n,r,a,l,s,u,c=this;return o(this,(function(h){if(a=(n=e.options).apiKey,l=n.measurementId,!(r=n.appId))throw se.create("no-app-id");if(!a){if(l)return[2,{measurementId:l,appId:r}];throw se.create("no-api-key")}return s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new ve,setTimeout((function(){return i(c,void 0,void 0,(function(){return o(this,(function(e){return u.abort(),[2]}))}))}),6e4),[2,he({appId:r,apiKey:a,measurementId:l},s,u,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ie.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return ie.error(e)})),t.push(s),u=function(){return i(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return Object(d.y)()?[3,1]:(ie.warn(se.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(d.Q)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),ie.warn(se.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([s,u])];case 1:return c=g.sent(),h=c[0],f=c[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(te))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=te+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(l,h.measurementId),a("js",new Date),(v={}).origin="firebase",v.update=!0,p=v,null!=f&&(p.firebase_id=f),a(ne.CONFIG,h.measurementId,p),[2,h.measurementId]}}))}))}(e,me,ye,t,de,be),{app:e,logEvent:function(e,t,n){(function(e,t,n,a,l){return i(this,void 0,void 0,(function(){var i,s;return o(this,(function(o){switch(o.label){case 0:return l&&l.global?(e(ne.EVENT,n,a),[2]):[3,1];case 1:return[4,t];case 2:i=o.sent(),s=r(r({},a),{send_to:i}),e(ne.EVENT,n,s),o.label=3;case 3:return[2]}}))}))})(pe,ge[l],e,t,n).catch((function(e){return ie.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return i(this,void 0,void 0,(function(){var i;return o(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(ne.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(ne.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(pe,ge[l],e,t).catch((function(e){return ie.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return i(this,void 0,void 0,(function(){var i;return o(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(ne.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(ne.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(pe,ge[l],e,t).catch((function(e){return ie.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return i(this,void 0,void 0,(function(){var i,a,l,s,u;return o(this,(function(o){switch(o.label){case 0:if(!r||!r.global)return[3,1];for(i={},a=0,l=Object.keys(n);a<l.length;a++)i["user_properties."+(s=l[a])]=n[s];return e(ne.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=o.sent(),e(ne.CONFIG,u,{update:!0,user_properties:n}),o.label=3;case 3:return[2]}}))}))})(pe,ge[l],e,t).catch((function(e){return ie.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(ge[l],e).catch((function(e){return ie.error(e)}))},INTERNAL:{delete:function(){return delete ge[l],Promise.resolve()}}}}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:ke,EventName:re,isSupported:Ce})),e.INTERNAL.registerComponent(new l.a("analytics-internal",(function(e){try{return{logEvent:e.getProvider("analytics").getImmediate().logEvent}}catch(t){throw se.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.15")}(a.a)},ALsQ:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var a=0;a<n;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=o}}),e}(),r.mode.CFB)},AOe3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={colores:[{key:"Sin color",value:"Sin color"},{key:"Verde Militar",value:"Verde Militar"},{key:"Verde Palido",value:"Verde P\xe1lido"},{key:"Verde Discontinuo",value:"Verde Discontinuo"},{key:"Blanco",value:"Blanco"},{key:"Naranja",value:"Naranja"},{key:"Gris",value:"Gris"},{key:"Negro",value:"Negro"},{key:"Azul",value:"Azul"},{key:"Amarillo",value:"Amarillo"},{key:"Rojo",value:"Rojo"},{key:"Marron",value:"Marron"},{key:"Plata",value:"Plata"},{key:"Violeta",value:"Violeta"},{key:"Bronce",value:"Bronce"},{key:"Otro",value:"Otro"}],formas:[{key:"Ovalada",value:"Ovalada",forma:"cilindro"},{key:"Rectangular/Cubica",value:"Rectangular/Cubica",forma:"cubo"},{key:"Cilindrica",value:"Cil\xedndrica",forma:"cilindro"},{key:"De granada",value:"De granada",forma:"cilindro"},{key:"De proyectil",value:"De proyectil",forma:"cilindro"},{key:"Esferica",value:"Esf\xe9rica",forma:"esfera"},{key:"Otra",value:"Otra",forma:"cubo"}],fabricadoEn:[{key:"Antigua URSS",value:"Antigua URSS"},{key:"Afganist\xe1n",value:"Afganist\xe1n"},{key:"Albania",value:"Albania"},{key:"Alemania",value:"Alemania"},{key:"Andorra",value:"Andorra"},{key:"Angola",value:"Angola"},{key:"Antigua y Barbuda",value:"Antigua y Barbuda"},{key:"Arabia Saudita",value:"Saudita"},{key:"Argelia",value:"Argelia"},{key:"Argentina",value:"Argentina"},{key:"Armenia",value:"Armenia"},{key:"Australia",value:"Australia"},{key:"Austria",value:"Austria"},{key:"Azerbaiy\xe1n",value:"Azerbaiy\xe1n"},{key:"Bahamas",value:"Bahamas"},{key:"Banglad\xe9s",value:"Banglad\xe9s"},{key:"Barbados",value:"Barbados"},{key:"Bar\xe9in",value:"Bar\xe9in"},{key:"B\xe9lgica",value:"B\xe9lgica"},{key:"Belice",value:"Belice"},{key:"Ben\xedn",value:"Ben\xedn"},{key:"Bielorrusia",value:"Bielorrusia"},{key:"Birmania",value:"Birmania"},{key:"Bolivia",value:"Bolivia"},{key:"Bosnia y Herzegovina",value:"Bosnia y Herzegovina"},{key:"Botsuana",value:"Botsuana"},{key:"Brasil",value:"Brasil"},{key:"Brun\xe9i",value:"Brun\xe9i"},{key:"Bulgaria",value:"Bulgaria"},{key:"Burkina Faso",value:"Burkina Faso"},{key:"Burundi",value:"Burundi"},{key:"But\xe1n",value:"But\xe1n"},{key:"Cabo Verde",value:"Cabo Verde"},{key:"Camboya",value:"Camboya"},{key:"Camer\xfan",value:"Camer\xfan"},{key:"Canad\xe1",value:"Canad\xe1"},{key:"Catar",value:"Catar"},{key:"Chad",value:"Chad"},{key:"Chile",value:"Chile"},{key:"China",value:"China"},{key:"Chipre",value:"Chipre"},{key:"Ciudad del Vaticano",value:"Ciudad del Vaticano"},{key:"Colombia",value:"Colombia"},{key:"Comoras",value:"Comoras"},{key:"Corea del Norte",value:"Corea del Norte"},{key:"Corea del Sur",value:"Corea del Sur"},{key:"Costa de Marfil",value:"Costa de Marfil"},{key:"Costa Rica",value:"Costa Rica"},{key:"Croacia",value:"Croacia"},{key:"Cuba",value:"Cuba"},{key:"Dinamarca",value:"Dinamarca"},{key:"Dominica",value:"Dominica"},{key:"Ecuador",value:"Ecuador"},{key:"Egipto",value:"Egipto"},{key:"El Salvador",value:"El Salvador"},{key:"Emiratos \xc1rabes Unidos",value:"Emiratos \xc1rabes Unidos"},{key:"Eritrea",value:"Eritrea"},{key:"Eslovaquia",value:"Eslovaquia"},{key:"Eslovenia",value:"Eslovenia"},{key:"Espa\xf1a",value:"Espa\xf1a"},{key:"Estados Unidos",value:"Estados Unidos"},{key:"Estonia",value:"Estonia"},{key:"Etiop\xeda",value:"Etiop\xeda"},{key:"Filipinas",value:"Filipinas"},{key:"Finlandia",value:"Finlandia"},{key:"Fiyi",value:"Fiyi"},{key:"Francia",value:"Francia"},{key:"Gab\xf3n",value:"Gab\xf3n"},{key:"Gambia",value:"Gambia"},{key:"Georgia",value:"Georgia"},{key:"Ghana",value:"Ghana"},{key:"Granada",value:"Granada"},{key:"Grecia",value:"Grecia"},{key:"Guatemala",value:"Guatemala"},{key:"Guyana",value:"Guyana"},{key:"Guinea",value:"Guinea"},{key:"Guinea ecuatorial",value:"Guinea ecuatorial"},{key:"Guinea-Bis\xe1u",value:"Guinea-Bis\xe1u"},{key:"Hait\xed",value:"Hait\xed"},{key:"Honduras",value:"Honduras"},{key:"Hungr\xeda",value:"Hungr\xeda"},{key:"India",value:"India"},{key:"Indonesia",value:"Indonesia"},{key:"Irak",value:"Irak"},{key:"Ir\xe1n",value:"Ir\xe1n"},{key:"Irlanda",value:"Irlanda"},{key:"Islandia",value:"Islandia"},{key:"Islas Marshall",value:"Islas Marshall"},{key:"Islas Salom\xf3n",value:"Islas Salom\xf3n"},{key:"Israel",value:"Israel"},{key:"Italia",value:"Italia"},{key:"Jamaica",value:"Jamaica"},{key:"Jap\xf3n",value:"Jap\xf3n"},{key:"Jordania",value:"Jordania"},{key:"Kazajist\xe1n",value:"Kazajist\xe1n"},{key:"Kenia",value:"Kenia"},{key:"Kirguist\xe1n",value:"Kirguist\xe1n"},{key:"Kiribati",value:"Kiribati"},{key:"Kuwait",value:"Kuwait"},{key:"Laos",value:"Laos"},{key:"Lesoto",value:"Lesoto"},{key:"Letonia",value:"Letonia"},{key:"L\xedbano",value:"L\xedbano"},{key:"Liberia",value:"Liberia"},{key:"Libia",value:"Libia"},{key:"Liechtenstein",value:"Liechtenstein"},{key:"Lituania",value:"Lituania"},{key:"Luxemburgo",value:"Luxemburgo"},{key:"Macedonia del Norte",value:"Macedonia del Norte"},{key:"Madagascar",value:"Madagascar"},{key:"Malasia",value:"Malasia"},{key:"Malaui",value:"Malaui"},{key:"Maldivas",value:"Maldivas"},{key:"Mal\xed",value:"Mal\xed"},{key:"Malta",value:"Malta"},{key:"Marruecos",value:"Marruecos"},{key:"Mauricio",value:"Mauricio"},{key:"Mauritania",value:"Mauritania"},{key:"M\xe9xico",value:"M\xe9xico"},{key:"Micronesia",value:"Micronesia"},{key:"Moldavia",value:"Moldavia"},{key:"M\xf3naco",value:"M\xf3naco"},{key:"Mongolia",value:"Mongolia"},{key:"Montenegro",value:"Montenegro"},{key:"Mozambique",value:"Mozambique"},{key:"Namibia",value:"Namibia"},{key:"Nauru",value:"Namibia"},{key:"Nepal",value:"Nepal"},{key:"Nicaragua",value:"Nicaragua"},{key:"N\xedger",value:"N\xedger"},{key:"Nigeria",value:"Nigeria"},{key:"Noruega",value:"Noruega"},{key:"Nueva Zelanda",value:"Nueva Zelanda"},{key:"Om\xe1n",value:"Om\xe1n"},{key:"Pa\xedses Bajos",value:"Pa\xedses Bajos"},{key:"Pakist\xe1n",value:"Pakist\xe1n"},{key:"Palaos",value:"Palaos"},{key:"Panam\xe1",value:"Panam\xe1"},{key:"Pap\xfaa Nueva Guinea",value:"Pap\xfaa Nueva Guinea"},{key:"Paraguay",value:"Paraguay"},{key:"Per\xfa",value:"Per\xfa"},{key:"Polonia",value:"Polonia"},{key:"Portugal",value:"Portugal"},{key:"Reino Unido",value:"Reino"},{key:"Rep\xfablica Centroafricana",value:"Rep\xfablica Centroafricana"},{key:"Rep\xfablica Checa",value:"Rep\xfablica Checa"},{key:"Rep\xfablica del Congo",value:"Rep\xfablica del Congo"},{key:"Rep\xfablica Democr\xe1tica del Congo",value:"Rep\xfablica Democr\xe1tica del Congo"},{key:"Rep\xfablica Dominicana",value:"Rep\xfablica Dominicana"},{key:"Ruanda",value:"Ruanda"},{key:"Ruman\xeda",value:"Ruman\xeda"},{key:"Rusia",value:"Rusia"},{key:"Samoa",value:"Samoa"},{key:"San Crist\xf3bal y Nieves",value:"San Crist\xf3bal y Nieves"},{key:"San Marino",value:"San Marino"},{key:"San Vicente y las Granadinas",value:"San Vicente y las Granadinas"},{key:"Santa Luc\xeda",value:"Santa Luc\xeda"},{key:"Santo Tom\xe9 y Pr\xedncipe",value:"Santo Tom\xe9 y Pr\xedncipe"},{key:"Senegal",value:"Senegal"},{key:"Serbia",value:"Serbia"},{key:"Seychelles",value:"Seychelles"},{key:"Sierra Leona",value:"Sierra Leona"},{key:"Singapur",value:"Singapur"},{key:"Siria",value:"Siria"},{key:"Somalia",value:"Somalia"},{key:"Sri Lanka",value:"Sri Lanka"},{key:"Suazilandia",value:"Suazilandia"},{key:"Sud\xe1frica",value:"Sud\xe1frica"},{key:"Sud\xe1n",value:"Sud\xe1n"},{key:"Sud\xe1n del Sur",value:"Sud\xe1n del Sur"},{key:"Suecia",value:"Suecia"},{key:"Suiza",value:"Suiza"},{key:"Surinam",value:"Surinam"},{key:"Tailandia",value:"Tailandia"},{key:"Tanzania",value:"Tanzania"},{key:"Tayikist\xe1n",value:"Tayikist\xe1n"},{key:"Timor Oriental",value:"Timor Oriental"},{key:"Togo",value:"Togo"},{key:"Tonga",value:"Tonga"},{key:"Trinidad y Tobago",value:"Trinidad y Tobago"},{key:"T\xfanez",value:"T\xfanez"},{key:"Turkmenist\xe1n",value:"Turkmenist\xe1n"},{key:"Turqu\xeda",value:"Turqu\xeda"},{key:"Tuvalu",value:"Tuvalu"},{key:"Ucrania",value:"Ucrania"},{key:"Uganda",value:"Uganda"},{key:"Uruguay",value:"Uruguay"},{key:"Uzbekist\xe1n",value:"Uzbekist\xe1n"},{key:"Vanuatu",value:"Vanuatu"},{key:"Venezuela",value:"Venezuela"},{key:"Vietnam",value:"Vietnam"},{key:"Yemen",value:"Yemen"},{key:"Yibuti",value:"Yibuti"},{key:"Zambia",value:"Zambia"},{key:"Zimbabue",value:"Zimbabue"}],tipoArtefacto:[{key:"artefactos",value:"Artefacto"},{key:"minas",value:"Mina"},{key:"municiones",value:"Munici\xf3n"},{key:"proyectiles",value:"Proyectil"},{key:"cohetes",value:"Cohete"},{key:"misiles",value:"Misil"},{key:"bombasAviacion",value:"Bomba"},{key:"granadas",value:"Granada"},{key:"espoletas",value:"Espoleta"}],propositoArtefacto:{minas:[{key:"Contra Personal",value:"Contra Personal"},{key:"Contra Carro",value:"Contra Carro"},{key:"Dispersable",value:"Dispersable"},{key:"Marina",value:"Marina"},{key:"Otros",value:"Otros"}],municiones:[{key:"Rompedor",value:"Rompedor"},{key:"Iluminante",value:"Iluminante"},{key:"Incendiario",value:"Incendiario"},{key:"Fumigeno",value:"Fumigeno"},{key:"Perforante",value:"Perforante"},{key:"Dispersable",value:"Dispersable"},{key:"Otro",value:"Otro"}],espoletas:[{key:"Percusion Instantanea",value:"Percusion Instantanea"},{key:"Retardo",value:"Retardo"},{key:"A tiempos",value:"A tiempos"},{key:"De proximidad",value:"De proximidad"},{key:"Otro",value:"Otro"}]},sistemaIniciacion:[{key:"Mecanico",value:"Mec\xe1nico"},{key:"Qu\xedmico",value:"Qu\xedmico"},{key:"Fricci\xf3n",value:"Fricci\xf3n"},{key:"Electronico",value:"Electr\xf3nico"},{key:"Otro",value:"Otro"}],materialEnvuelta:[{key:"Metal",value:"Metal"},{key:"Baquelita",value:"Baquelita"},{key:"Plastico",value:"Pl\xe1stico"},{key:"Madera",value:"Madera"},{key:"Cart\xf3n",value:"Cart\xf3n"},{key:"Otro",value:"Otro"}],situacionEspoleta:[{key:"arriba",value:"Arriba"},{key:"debajo",value:"Debajo"},{key:"Lateral",value:"Lateral"},{key:"Interna",value:"Interna"},{key:"Otro",value:"Otro"}],tipoCulote:[{key:"cilindro",value:"Cilindro base plana"},{key:"tronco conico",value:"Tronco c\xf3nico"},{key:"Hueco",value:"Hueco"},{key:"BaseBleed",value:"BaseBleed"},{key:"Con Motor",value:"Con Motor"},{key:"Otro",value:"Otro"}],sistemaGuia:[{key:"IrTermica",value:"IR-T\xe9rmica"},{key:"radar",value:"Radar"},{key:"Laser",value:"L\xe1ser"},{key:"Otro",value:"Otro"}],mediosLanzamiento:[{key:"mortero",value:"Mortero"},{key:"Lanza Granadas",value:"Lanza Granadas"},{key:"Fusil",value:"Fusil"},{key:"Mano",value:"Mano"},{key:"Otro",value:"Otro"}],tipoUsuario:[["1","ROLE_USER"],["2","ROLE_ADMIN"]]}},AiNZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("8Y7J"),i=n("xOdc"),o=n("sBFL"),a=n("iInd"),l=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.tokenService=t,this.loginService=n,this.router=r}return _createClass(e,[{key:"canActivate",value:function(e,t){return!(!this.tokenService.getToken()||!this.loginService.getIsLoggedFlagObs)||(this.router.navigate(["/"]),!1)}}]),e}();return e.ngInjectableDef=r.Nb({factory:function(){return new e(r.Ob(i.a),r.Ob(o.a),r.Ob(a.k))},token:e,providedIn:"root"}),e}()},AytR:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={production:!0,title:"Tizona del C.I.D.",urlAPI:"https://tizona-del-cid.herokuapp.com/api",urlBack:"https://tizona-del-cid.herokuapp.com",apiKey:"AIzaSyBkpp_m06uIxVoi4EnBa_3JNH4Kinb8_Uk",authDomain:"tizona-164cc.firebaseapp.com",projectId:"tizona-164cc",storageBucket:"tizona-164cc.appspot.com",messagingSenderId:"66375562516",appId:"1:66375562516:web:62e3aa1719753fa1d47e01",databaseURL:"https://tizona-164cc-default-rtdb.europe-west1.firebasedatabase.app",claveEncriptado:"pkSG58SsdGDsa32"}},BA2f:function(e,t,n){"use strict";var r=n("8Y7J"),i=n("SVse"),o=n("iInd"),a=function(){function e(t,n){_classCallCheck(this,e),this.fichaService=t,this.login=n,this.emisorFicha=new r.m}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.fichaService.getFicha(Number(this.fichavip.artefactoId)).subscribe((function(t){t.id=e.fichaService.getIdFicha(t),e.artefacto=t})),this.login.getIsLoggedFlagObs().subscribe((function(t){e.isLoggedUser=t})),this.login.getIsAdminFlagObs().subscribe((function(t){e.isLoggedAdmin=t}))}},{key:"eliminarFichaVIP",value:function(){this.emisorFicha.emit(this.fichavip.id),console.log("emitiendo "+this.fichavip.id)}}]),e}(),l=n("z58d"),s=n("sBFL"),u=r.nb({encapsulation:0,styles:[[".documento[_ngcontent-%COMP%]{background-color:#fff;padding:5px;box-shadow:6px 15px 10px gray;border:1px solid #000}.btn[_ngcontent-%COMP%]{font-size:small;font-weight:700}"]],data:{}});function c(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-danger float-end"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.eliminarFichaVIP()&&r),r}),null,null)),(e()(),r.Hb(-1,null,[" ELIMINAR DE DESTACADAS "]))],null,null)}function h(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,23,"div",[["class","documento row fluid m-1"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,2,"div",[["class","col-6 d-sm-none"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["ARTEFACTO"])),(e()(),r.pb(4,0,null,null,2,"div",[["class","col-6 d-sm-none"]],null,null,null,null,null)),(e()(),r.pb(5,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["ZO"])),(e()(),r.pb(7,0,null,null,1,"div",[["class","col-6 col-sm-2"]],null,null,null,null,null)),(e()(),r.Hb(8,null,["",""])),(e()(),r.pb(9,0,null,null,1,"div",[["class","col-6  col-sm-2"]],null,null,null,null,null)),(e()(),r.Hb(10,null,["",""])),(e()(),r.pb(11,0,null,null,2,"div",[["class","col-12 d-sm-none"]],null,null,null,null,null)),(e()(),r.pb(12,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["COMENTARIO"])),(e()(),r.pb(14,0,null,null,1,"div",[["class","col-12  col-sm-3"]],null,null,null,null,null)),(e()(),r.Hb(15,null,["",""])),(e()(),r.pb(16,0,null,null,2,"div",[["class","col-7 col-sm-3"]],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,c)),r.ob(18,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.pb(19,0,null,null,4,"div",[["class","col-5 col-sm-2"]],null,null,null,null,null)),(e()(),r.pb(20,0,null,null,3,"a",[["class","btn btn-success"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Bb(e,21).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ob(21,671744,null,0,o.m,[o.k,o.a,i.h],{routerLink:[0,"routerLink"]},null),r.Cb(22,4),(e()(),r.Hb(-1,null,["VER FICHA"]))],(function(e,t){var n=t.component;e(t,18,0,n.isLoggedAdmin);var r=e(t,22,0,"/","ficha","ficha-completa",n.artefacto.id);e(t,21,0,r)}),(function(e,t){var n=t.component;e(t,8,0,n.artefacto.nombre),e(t,10,0,n.fichavip.zonaOperaciones),e(t,15,0,n.fichavip.comentario),e(t,20,0,r.Bb(t,21).target,r.Bb(t,21).href)}))}function f(e){return r.Jb(0,[(e()(),r.eb(16777216,null,null,1,null,h)),r.ob(1,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.artefacto)}),null)}var d=n("3mVj"),p=n("cPMN");n.d(t,"a",(function(){return b}));var v=r.nb({encapsulation:2,styles:[],data:{}});function g(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"app-fichavip",[],null,[[null,"emisorFicha"]],(function(e,t,n){var r=!0;return"emisorFicha"===t&&(r=!1!==e.component.eliminarFichaVIP(n)&&r),r}),f,u)),r.ob(2,114688,null,0,a,[l.a,s.a],{fichavip:[0,"fichavip"]},{emisorFicha:"emisorFicha"})],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function m(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,g)),r.ob(2,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.fichasVIP)}),null)}function y(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,18,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Fichas destacadas"])),(e()(),r.pb(4,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["En esta secci\xf3n se muestran las fichas destacadas por su novedad o inter\xe9s t\xe9cnico."])),(e()(),r.pb(6,0,null,null,10,"div",[["class","row m-1"]],null,null,null,null,null)),(e()(),r.pb(7,0,null,null,2,"span",[["class","col-2 d-none d-md-block"]],null,null,null,null,null)),(e()(),r.pb(8,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["ARTEFACTO"])),(e()(),r.pb(10,0,null,null,2,"span",[["class","col-2 d-none d-md-block"]],null,null,null,null,null)),(e()(),r.pb(11,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["ZONA OPERACIONES"])),(e()(),r.pb(13,0,null,null,2,"span",[["class","col-2 d-none d-md-block"]],null,null,null,null,null)),(e()(),r.pb(14,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["COMENTARIO"])),(e()(),r.pb(16,0,null,null,0,"span",[["class","col"]],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,m)),r.ob(18,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,18,0,t.component.fichasVIP)}),null)}var b=r.lb("app-fichasvip",d.a,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-fichasvip",[],null,null,null,y,v)),r.ob(1,114688,null,0,d.a,[p.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[])},Bcau:function(e,t,n){"use strict";var r=n("8Y7J"),i=n("s7LF"),o=n("zVCn"),a=n("ej4/"),l=n("z58d"),s=n("HTik"),u=n("SVse"),c=n("fNgX"),h=n("Nv++"),f=n("cUpR"),d=n("WMih");n.d(t,"a",(function(){return A}));var p=r.nb({encapsulation:0,styles:[[".btn[_ngcontent-%COMP%]{position:fixed;bottom:5%;right:10%;width:80%;box-shadow:6px 15px 10px gray;border:1px solid #000}"]],data:{}});function v(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,3,0,t.context.$implicit.value)}))}function g(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,3,0,t.context.$implicit.value)}))}function m(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,3,0,t.context.$implicit.value)}))}function y(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,3,0,t.context.$implicit.value)}))}function b(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,3,0,t.context.$implicit.value)}))}function _(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,3,0,t.context.$implicit.value)}))}function w(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,3,0,t.context.$implicit.value)}))}function k(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,3,0,t.context.$implicit.value)}))}function C(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,3,0,t.context.$implicit.value)}))}function I(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,3,0,t.context.$implicit.value)}))}function E(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,3,0,t.context.$implicit.value)}))}function S(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-listadofichas",[],null,null,null,o.c,o.b)),r.ob(1,114688,null,0,a.a,[l.a,s.a],null,null)],(function(e,t){e(t,1,0)}),null)}function T(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,431,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Buscador de Artefactos"])),(e()(),r.pb(3,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["En esta secci\xf3n puede realizarse una b\xfasqueda de minas y municiones con filtros."])),(e()(),r.pb(5,0,null,null,424,"div",[["class","row fluid"]],null,null,null,null,null)),(e()(),r.pb(6,0,null,null,423,"div",[["class","my-4"]],null,null,null,null,null)),(e()(),r.pb(7,0,null,null,200,"div",[["class","shadow p-3 mb-5 bg-secondary bg-gradient rounded"]],null,null,null,null,null)),(e()(),r.pb(8,0,null,null,1,"h4",[["class","text-center rounded-pill bg-light mb-4 p-2"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,[" Par\xe1metros Comunes "])),(e()(),r.pb(10,0,null,null,82,"div",[["class","shadow p-3 mb-5 bg-body rounded"]],null,null,null,null,null)),(e()(),r.pb(11,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Par\xe1metros generales"])),(e()(),r.pb(13,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(14,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(15,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Tipo"])),(e()(),r.pb(17,0,null,null,11,"select",[["class","custom-select col"],["name","tipoArtefacto"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,18).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,18).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.tipoArtefacto=n)&&i),i}),null,null)),r.ob(18,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(20,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(22,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,v)),r.ob(24,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(25,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(26,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(27,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(e()(),r.pb(29,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(30,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(31,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Color"])),(e()(),r.pb(33,0,null,null,11,"select",[["class","custom-select col"],["name","color"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,34).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,34).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.color=n)&&i),i}),null,null)),r.ob(34,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(36,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(38,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,g)),r.ob(40,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(41,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(42,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(43,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(e()(),r.pb(45,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(46,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(47,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Fabricaci\xf3n"])),(e()(),r.pb(49,0,null,null,11,"select",[["class","custom-select col"],["name","fabricacion"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,50).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,50).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.fabricacion=n)&&i),i}),null,null)),r.ob(50,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(52,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(54,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,m)),r.ob(56,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(57,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(58,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(59,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(e()(),r.pb(61,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(62,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(63,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Proposito"])),(e()(),r.pb(65,0,null,null,11,"select",[["class","custom-select col"],["name","propositoArtefacto"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,66).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,66).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.propositoArtefacto=n)&&i),i}),null,null)),r.ob(66,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(68,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(70,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,y)),r.ob(72,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(73,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(74,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(75,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(e()(),r.pb(77,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(78,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(79,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Forma"])),(e()(),r.pb(81,0,null,null,11,"select",[["class","custom-select col"],["name","forma"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,82).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,82).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.forma=n)&&i),i}),null,null)),r.ob(82,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(84,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(86,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,b)),r.ob(88,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(89,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(90,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(91,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(e()(),r.pb(93,0,null,null,114,"div",[["class","shadow p-3 mb-5 bg-body rounded"]],null,null,null,null,null)),(e()(),r.pb(94,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Dimensiones"])),(e()(),r.pb(96,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(97,0,null,null,2,"div",[["class","input-group-prepend col"]],null,null,null,null,null)),(e()(),r.pb(98,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Calibre/Diametro en mm"])),(e()(),r.pb(100,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(101,0,null,null,22,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(102,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(e()(),r.pb(103,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(e()(),r.pb(104,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(105,573440,null,0,h.c,[f.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(e()(),r.pb(106,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","diametroCalibreMin"],["placeholder","min"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,107)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,107).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,107)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,107)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,108).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,108).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,108).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.diametroCalibreMin=n)&&i),i}),null,null)),r.ob(107,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(108,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(110,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(112,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(113,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(e()(),r.pb(114,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(e()(),r.pb(115,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(116,573440,null,0,h.c,[f.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(e()(),r.pb(117,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","diametroCalibreMax"],["placeholder","max"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,118)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,118).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,118)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,118)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,119).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,119).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,119).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.diametroCalibreMax=n)&&i),i}),null,null)),r.ob(118,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(119,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(121,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(123,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(124,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(125,0,null,null,2,"div",[["class","input-group-prepend col"]],null,null,null,null,null)),(e()(),r.pb(126,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Longitud en mm"])),(e()(),r.pb(128,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(129,0,null,null,22,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(130,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(e()(),r.pb(131,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(e()(),r.pb(132,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(133,573440,null,0,h.c,[f.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(e()(),r.pb(134,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","longitudMin"],["placeholder","min"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,135)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,135).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,135)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,135)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,136).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,136).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,136).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.longitudMin=n)&&i),i}),null,null)),r.ob(135,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(136,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(138,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(140,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(141,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(e()(),r.pb(142,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(e()(),r.pb(143,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(144,573440,null,0,h.c,[f.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(e()(),r.pb(145,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","longitudMax"],["placeholder","max"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,146)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,146).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,146)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,146)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,147).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,147).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,147).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.longitudMax=n)&&i),i}),null,null)),r.ob(146,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(147,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(149,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(151,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(152,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(153,0,null,null,2,"div",[["class","input-group-prepend col"]],null,null,null,null,null)),(e()(),r.pb(154,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Altura en mm"])),(e()(),r.pb(156,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(157,0,null,null,22,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(158,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(e()(),r.pb(159,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(e()(),r.pb(160,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(161,573440,null,0,h.c,[f.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(e()(),r.pb(162,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","alturaMin"],["placeholder","min"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,163)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,163).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,163)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,163)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,164).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,164).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,164).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.alturaMin=n)&&i),i}),null,null)),r.ob(163,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(164,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(166,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(168,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(169,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(e()(),r.pb(170,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(e()(),r.pb(171,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(172,573440,null,0,h.c,[f.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(e()(),r.pb(173,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","alturaMax"],["placeholder","max"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,174)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,174).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,174)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,174)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,175).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,175).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,175).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.alturaMax=n)&&i),i}),null,null)),r.ob(174,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(175,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(177,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(179,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(180,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(181,0,null,null,2,"div",[["class","input-group-prepend col"]],null,null,null,null,null)),(e()(),r.pb(182,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Fondo en mm"])),(e()(),r.pb(184,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(185,0,null,null,22,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(186,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(e()(),r.pb(187,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(e()(),r.pb(188,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(189,573440,null,0,h.c,[f.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(e()(),r.pb(190,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","fondoMin"],["placeholder","min"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,191)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,191).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,191)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,191)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,192).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,192).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,192).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.fondoMin=n)&&i),i}),null,null)),r.ob(191,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(192,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(194,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(196,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(197,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(e()(),r.pb(198,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(e()(),r.pb(199,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(200,573440,null,0,h.c,[f.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(e()(),r.pb(201,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","fondoMax"],["placeholder","max"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,202)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,202).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,202)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,202)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,203).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,203).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,203).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.fondoMax=n)&&i),i}),null,null)),r.ob(202,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(203,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(205,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(207,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(208,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.pb(209,0,null,null,217,"div",[["class","shadow p-3 mb-5 bg-secondary bg-gradient rounded"]],null,null,null,null,null)),(e()(),r.pb(210,0,null,null,37,"div",[],null,null,null,null,null)),(e()(),r.pb(211,0,null,null,1,"h4",[["class","text-center rounded-pill bg-light mb-4 p-2"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,[" Criterios espec\xedficos "])),(e()(),r.pb(213,0,null,null,34,"div",[["class","shadow p-3 mb-5 bg-body rounded"]],null,null,null,null,null)),(e()(),r.pb(214,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["De minas"])),(e()(),r.pb(216,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(217,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(218,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Material de la envuelta "])),(e()(),r.pb(220,0,null,null,11,"select",[["class","custom-select col"],["name","forma"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,221).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,221).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.materialEnvuelta=n)&&i),i}),null,null)),r.ob(221,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(223,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(225,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,_)),r.ob(227,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(228,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(229,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(230,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(e()(),r.pb(232,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(233,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(234,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Situacion de la espoleta "])),(e()(),r.pb(236,0,null,null,11,"select",[["class","custom-select col"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,237).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,237).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.situacionEspoleta=n)&&i),i}),null,null)),r.ob(237,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(239,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{model:[0,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(241,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,w)),r.ob(243,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(244,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(245,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(246,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(e()(),r.pb(248,0,null,null,159,"div",[["class","shadow p-3 mb-5 bg-body rounded"]],null,null,null,null,null)),(e()(),r.pb(249,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["De municiones"])),(e()(),r.pb(251,0,null,null,31,"div",[["class","border p-2"]],null,null,null,null,null)),(e()(),r.pb(252,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["De munici\xf3n"])),(e()(),r.pb(254,0,null,null,28,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(255,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(256,0,null,null,2,"div",[["class","input-group-prepend col"]],null,null,null,null,null)),(e()(),r.pb(257,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Longitud con espoleta en mm"])),(e()(),r.pb(259,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(260,0,null,null,22,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(261,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(e()(),r.pb(262,0,null,null,2,"label",[["class","\n                          col\n                          d-flex\n                          justify-content-end\n                          align-items-center\n                        "]],null,null,null,null,null)),(e()(),r.pb(263,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(264,573440,null,0,h.c,[f.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(e()(),r.pb(265,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","longitudEspoletadoMin"],["placeholder","min"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,266)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,266).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,266)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,266)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,267).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,267).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,267).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.longitudEspoletadoMin=n)&&i),i}),null,null)),r.ob(266,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(267,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(269,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(271,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(272,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(e()(),r.pb(273,0,null,null,2,"label",[["class","\n                          col\n                          d-flex\n                          justify-content-end\n                          align-items-center\n                        "]],null,null,null,null,null)),(e()(),r.pb(274,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(275,573440,null,0,h.c,[f.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(e()(),r.pb(276,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","longitudEspoletadoMax"],["placeholder","max"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,277)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,277).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,277)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,277)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,278).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,278).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,278).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.longitudEspoletadoMax=n)&&i),i}),null,null)),r.ob(277,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(278,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(280,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(282,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(283,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.pb(284,0,null,null,19,"div",[],null,null,null,null,null)),(e()(),r.pb(285,0,null,null,18,"div",[["class","border p-2"]],null,null,null,null,null)),(e()(),r.pb(286,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["De Cohetes"])),(e()(),r.pb(288,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(289,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(290,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Color de la banda de motor "])),(e()(),r.pb(292,0,null,null,11,"select",[["class","custom-select col"],["name","colorBandaMotor"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,293).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,293).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.colorBandaMotor=n)&&i),i}),null,null)),r.ob(293,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(295,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(297,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,k)),r.ob(299,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(300,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(301,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(302,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(e()(),r.pb(304,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.pb(305,0,null,null,19,"div",[],null,null,null,null,null)),(e()(),r.pb(306,0,null,null,18,"div",[["class","border p-2"]],null,null,null,null,null)),(e()(),r.pb(307,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["De Misiles"])),(e()(),r.pb(309,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(310,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(311,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Sistema de guia "])),(e()(),r.pb(313,0,null,null,11,"select",[["class","custom-select col"],["name","sistemaGuia"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,314).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,314).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.sistemaGuia=n)&&i),i}),null,null)),r.ob(314,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(316,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(318,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,C)),r.ob(320,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(321,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(322,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(323,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(e()(),r.pb(325,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.pb(326,0,null,null,19,"div",[],null,null,null,null,null)),(e()(),r.pb(327,0,null,null,18,"div",[["class","border p-2"]],null,null,null,null,null)),(e()(),r.pb(328,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["De granadas"])),(e()(),r.pb(330,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(331,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(332,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Medio de lanzamiento "])),(e()(),r.pb(334,0,null,null,11,"select",[["class","custom-select col"],["name","medio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,335).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,335).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.medioLanzamiento=n)&&i),i}),null,null)),r.ob(335,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(337,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(339,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,I)),r.ob(341,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(342,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(343,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(344,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(e()(),r.pb(346,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.pb(347,0,null,null,60,"div",[["class","border p-2"]],null,null,null,null,null)),(e()(),r.pb(348,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["De Bombas de Aviaci\xf3n"])),(e()(),r.pb(350,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(351,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(352,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Pintura de proteccion t\xe9rmica "])),(e()(),r.pb(354,0,null,null,5,"input",[["class","m-2"],["name","pinturaProteccionTermica"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,355).onChange(n.target.checked)&&i),"blur"===t&&(i=!1!==r.Bb(e,355).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.pinturaProteccionTermica=n)&&i),i}),null,null)),r.ob(355,16384,null,0,i.b,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.b]),r.ob(357,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(359,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(360,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(361,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(362,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Venterol en el estabilizador "])),(e()(),r.pb(364,0,null,null,5,"input",[["class","m-2"],["name","venterolEnEstabilizador"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,365).onChange(n.target.checked)&&i),"blur"===t&&(i=!1!==r.Bb(e,365).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.venterolEnEstabilizador=n)&&i),i}),null,null)),r.ob(365,16384,null,0,i.b,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.b]),r.ob(367,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(369,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(370,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(371,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(372,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Tipo de estabilizador"])),(e()(),r.pb(374,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),r.pb(375,0,null,null,5,"input",[["class","form-control"],["name","tipoEstabilizador"],["placeholder","estabilizador"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,376)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,376).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,376)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,376)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.tipoEstabilizador=n)&&i),i}),null,null)),r.ob(376,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.d]),r.ob(378,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(380,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(381,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(382,0,null,null,2,"div",[["class","input-group-prepend col"]],null,null,null,null,null)),(e()(),r.pb(383,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Distancia entre anillas en mm"])),(e()(),r.pb(385,0,null,null,22,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(386,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(e()(),r.pb(387,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(e()(),r.pb(388,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(389,573440,null,0,h.c,[f.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(e()(),r.pb(390,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","distanciaAnillasMin"],["placeholder","min"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,391)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,391).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,391)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,391)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,392).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,392).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,392).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.distanciaAnillasMin=n)&&i),i}),null,null)),r.ob(391,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(392,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(394,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(396,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(397,0,null,null,10,"div",[["class","col row"]],null,null,null,null,null)),(e()(),r.pb(398,0,null,null,2,"label",[["class","col d-flex justify-content-end align-items-center"]],null,null,null,null,null)),(e()(),r.pb(399,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,c.d,c.c)),r.ob(400,573440,null,0,h.c,[f.b,h.a,h.d,[2,h.i]],{icon:[0,"icon"]},null),(e()(),r.pb(401,0,null,null,6,"input",[["class","col m-3"],["data-conversion","1"],["data-decimal","0"],["max","30000"],["min","0"],["name","distanciaAnillasMax"],["placeholder","max"],["title","El campo debe tener un valor entre 0 y 30000"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,402)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,402).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,402)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,402)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Bb(e,403).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Bb(e,403).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,403).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.distanciaAnillasMax=n)&&i),i}),null,null)),r.ob(402,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.ob(403,16384,null,0,i.r,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e,t){return[e,t]}),[i.d,i.r]),r.ob(405,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(407,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(408,0,null,null,18,"div",[["class","shadow p-3 mb-5 bg-body rounded"]],null,null,null,null,null)),(e()(),r.pb(409,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["De Espoletas"])),(e()(),r.pb(411,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),r.pb(412,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),r.pb(413,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Sistema de iniciacion "])),(e()(),r.pb(415,0,null,null,11,"select",[["class","custom-select col"],["name","sistemaIniciacion"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,416).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,416).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.searchCriteria.sistemaIniciacion=n)&&i),i}),null,null)),r.ob(416,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(418,671744,null,0,i.p,[[8,null],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(420,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,E)),r.ob(422,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(423,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(424,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(425,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(-1,null,["-- Descartar Parametro --"])),(e()(),r.pb(427,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.pb(428,0,null,null,1,"div",[["class","d-flex justify-content-center"],["style","position:static;"]],null,null,null,null,null)),(e()(),r.pb(429,0,null,null,0,"input",[["class","btn btn-success"],["type","submit"],["value","BUSCAR"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.buscar()&&r),r}),null,null)),(e()(),r.eb(16777216,null,null,1,null,S)),r.ob(431,16384,null,0,u.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,20,0,"tipoArtefacto",n.searchCriteria.tipoArtefacto),e(t,24,0,n.tipoArtefactos),e(t,26,0,""),e(t,27,0,""),e(t,36,0,"color",n.searchCriteria.color),e(t,40,0,n.colores),e(t,42,0,""),e(t,43,0,""),e(t,52,0,"fabricacion",n.searchCriteria.fabricacion),e(t,56,0,n.fabricacion),e(t,58,0,""),e(t,59,0,""),e(t,68,0,"propositoArtefacto",n.searchCriteria.propositoArtefacto),e(t,72,0,n.propositoArtefacto),e(t,74,0,""),e(t,75,0,""),e(t,84,0,"forma",n.searchCriteria.forma),e(t,88,0,n.formas),e(t,90,0,""),e(t,91,0,""),e(t,105,0,n.topMin),e(t,110,0,"diametroCalibreMin",n.searchCriteria.diametroCalibreMin),e(t,116,0,n.topMax),e(t,121,0,"diametroCalibreMax",n.searchCriteria.diametroCalibreMax),e(t,133,0,n.topMin),e(t,138,0,"longitudMin",n.searchCriteria.longitudMin),e(t,144,0,n.topMax),e(t,149,0,"longitudMax",n.searchCriteria.longitudMax),e(t,161,0,n.topMin),e(t,166,0,"alturaMin",n.searchCriteria.alturaMin),e(t,172,0,n.topMax),e(t,177,0,"alturaMax",n.searchCriteria.alturaMax),e(t,189,0,n.topMin),e(t,194,0,"fondoMin",n.searchCriteria.fondoMin),e(t,200,0,n.topMax),e(t,205,0,"fondoMax",n.searchCriteria.fondoMax),e(t,223,0,"forma",n.searchCriteria.materialEnvuelta),e(t,227,0,n.materialEnvuelta),e(t,229,0,""),e(t,230,0,""),e(t,239,0,n.searchCriteria.situacionEspoleta),e(t,243,0,n.situacionEspoleta),e(t,245,0,""),e(t,246,0,""),e(t,264,0,n.topMin),e(t,269,0,"longitudEspoletadoMin",n.searchCriteria.longitudEspoletadoMin),e(t,275,0,n.topMax),e(t,280,0,"longitudEspoletadoMax",n.searchCriteria.longitudEspoletadoMax),e(t,295,0,"colorBandaMotor",n.searchCriteria.colorBandaMotor),e(t,299,0,n.colorBandaMotor),e(t,301,0,""),e(t,302,0,""),e(t,316,0,"sistemaGuia",n.searchCriteria.sistemaGuia),e(t,320,0,n.sistemaGuia),e(t,322,0,""),e(t,323,0,""),e(t,337,0,"medio",n.searchCriteria.medioLanzamiento),e(t,341,0,n.medioLanzamiento),e(t,343,0,""),e(t,344,0,""),e(t,357,0,"pinturaProteccionTermica",n.searchCriteria.pinturaProteccionTermica),e(t,367,0,"venterolEnEstabilizador",n.searchCriteria.venterolEnEstabilizador),e(t,378,0,"tipoEstabilizador",n.searchCriteria.tipoEstabilizador),e(t,389,0,n.topMin),e(t,394,0,"distanciaAnillasMin",n.searchCriteria.distanciaAnillasMin),e(t,400,0,n.topMax),e(t,405,0,"distanciaAnillasMax",n.searchCriteria.distanciaAnillasMax),e(t,418,0,"sistemaIniciacion",n.searchCriteria.sistemaIniciacion),e(t,422,0,n.sistemaIniciacion),e(t,424,0,""),e(t,425,0,""),e(t,431,0,n.mostrarResultado)}),(function(e,t){e(t,17,0,r.Bb(t,22).ngClassUntouched,r.Bb(t,22).ngClassTouched,r.Bb(t,22).ngClassPristine,r.Bb(t,22).ngClassDirty,r.Bb(t,22).ngClassValid,r.Bb(t,22).ngClassInvalid,r.Bb(t,22).ngClassPending),e(t,33,0,r.Bb(t,38).ngClassUntouched,r.Bb(t,38).ngClassTouched,r.Bb(t,38).ngClassPristine,r.Bb(t,38).ngClassDirty,r.Bb(t,38).ngClassValid,r.Bb(t,38).ngClassInvalid,r.Bb(t,38).ngClassPending),e(t,49,0,r.Bb(t,54).ngClassUntouched,r.Bb(t,54).ngClassTouched,r.Bb(t,54).ngClassPristine,r.Bb(t,54).ngClassDirty,r.Bb(t,54).ngClassValid,r.Bb(t,54).ngClassInvalid,r.Bb(t,54).ngClassPending),e(t,65,0,r.Bb(t,70).ngClassUntouched,r.Bb(t,70).ngClassTouched,r.Bb(t,70).ngClassPristine,r.Bb(t,70).ngClassDirty,r.Bb(t,70).ngClassValid,r.Bb(t,70).ngClassInvalid,r.Bb(t,70).ngClassPending),e(t,81,0,r.Bb(t,86).ngClassUntouched,r.Bb(t,86).ngClassTouched,r.Bb(t,86).ngClassPristine,r.Bb(t,86).ngClassDirty,r.Bb(t,86).ngClassValid,r.Bb(t,86).ngClassInvalid,r.Bb(t,86).ngClassPending),e(t,104,0,r.Bb(t,105).title,r.Bb(t,105).renderedIconHTML),e(t,106,0,r.Bb(t,112).ngClassUntouched,r.Bb(t,112).ngClassTouched,r.Bb(t,112).ngClassPristine,r.Bb(t,112).ngClassDirty,r.Bb(t,112).ngClassValid,r.Bb(t,112).ngClassInvalid,r.Bb(t,112).ngClassPending),e(t,115,0,r.Bb(t,116).title,r.Bb(t,116).renderedIconHTML),e(t,117,0,r.Bb(t,123).ngClassUntouched,r.Bb(t,123).ngClassTouched,r.Bb(t,123).ngClassPristine,r.Bb(t,123).ngClassDirty,r.Bb(t,123).ngClassValid,r.Bb(t,123).ngClassInvalid,r.Bb(t,123).ngClassPending),e(t,132,0,r.Bb(t,133).title,r.Bb(t,133).renderedIconHTML),e(t,134,0,r.Bb(t,140).ngClassUntouched,r.Bb(t,140).ngClassTouched,r.Bb(t,140).ngClassPristine,r.Bb(t,140).ngClassDirty,r.Bb(t,140).ngClassValid,r.Bb(t,140).ngClassInvalid,r.Bb(t,140).ngClassPending),e(t,143,0,r.Bb(t,144).title,r.Bb(t,144).renderedIconHTML),e(t,145,0,r.Bb(t,151).ngClassUntouched,r.Bb(t,151).ngClassTouched,r.Bb(t,151).ngClassPristine,r.Bb(t,151).ngClassDirty,r.Bb(t,151).ngClassValid,r.Bb(t,151).ngClassInvalid,r.Bb(t,151).ngClassPending),e(t,160,0,r.Bb(t,161).title,r.Bb(t,161).renderedIconHTML),e(t,162,0,r.Bb(t,168).ngClassUntouched,r.Bb(t,168).ngClassTouched,r.Bb(t,168).ngClassPristine,r.Bb(t,168).ngClassDirty,r.Bb(t,168).ngClassValid,r.Bb(t,168).ngClassInvalid,r.Bb(t,168).ngClassPending),e(t,171,0,r.Bb(t,172).title,r.Bb(t,172).renderedIconHTML),e(t,173,0,r.Bb(t,179).ngClassUntouched,r.Bb(t,179).ngClassTouched,r.Bb(t,179).ngClassPristine,r.Bb(t,179).ngClassDirty,r.Bb(t,179).ngClassValid,r.Bb(t,179).ngClassInvalid,r.Bb(t,179).ngClassPending),e(t,188,0,r.Bb(t,189).title,r.Bb(t,189).renderedIconHTML),e(t,190,0,r.Bb(t,196).ngClassUntouched,r.Bb(t,196).ngClassTouched,r.Bb(t,196).ngClassPristine,r.Bb(t,196).ngClassDirty,r.Bb(t,196).ngClassValid,r.Bb(t,196).ngClassInvalid,r.Bb(t,196).ngClassPending),e(t,199,0,r.Bb(t,200).title,r.Bb(t,200).renderedIconHTML),e(t,201,0,r.Bb(t,207).ngClassUntouched,r.Bb(t,207).ngClassTouched,r.Bb(t,207).ngClassPristine,r.Bb(t,207).ngClassDirty,r.Bb(t,207).ngClassValid,r.Bb(t,207).ngClassInvalid,r.Bb(t,207).ngClassPending),e(t,220,0,r.Bb(t,225).ngClassUntouched,r.Bb(t,225).ngClassTouched,r.Bb(t,225).ngClassPristine,r.Bb(t,225).ngClassDirty,r.Bb(t,225).ngClassValid,r.Bb(t,225).ngClassInvalid,r.Bb(t,225).ngClassPending),e(t,236,0,r.Bb(t,241).ngClassUntouched,r.Bb(t,241).ngClassTouched,r.Bb(t,241).ngClassPristine,r.Bb(t,241).ngClassDirty,r.Bb(t,241).ngClassValid,r.Bb(t,241).ngClassInvalid,r.Bb(t,241).ngClassPending),e(t,263,0,r.Bb(t,264).title,r.Bb(t,264).renderedIconHTML),e(t,265,0,r.Bb(t,271).ngClassUntouched,r.Bb(t,271).ngClassTouched,r.Bb(t,271).ngClassPristine,r.Bb(t,271).ngClassDirty,r.Bb(t,271).ngClassValid,r.Bb(t,271).ngClassInvalid,r.Bb(t,271).ngClassPending),e(t,274,0,r.Bb(t,275).title,r.Bb(t,275).renderedIconHTML),e(t,276,0,r.Bb(t,282).ngClassUntouched,r.Bb(t,282).ngClassTouched,r.Bb(t,282).ngClassPristine,r.Bb(t,282).ngClassDirty,r.Bb(t,282).ngClassValid,r.Bb(t,282).ngClassInvalid,r.Bb(t,282).ngClassPending),e(t,292,0,r.Bb(t,297).ngClassUntouched,r.Bb(t,297).ngClassTouched,r.Bb(t,297).ngClassPristine,r.Bb(t,297).ngClassDirty,r.Bb(t,297).ngClassValid,r.Bb(t,297).ngClassInvalid,r.Bb(t,297).ngClassPending),e(t,313,0,r.Bb(t,318).ngClassUntouched,r.Bb(t,318).ngClassTouched,r.Bb(t,318).ngClassPristine,r.Bb(t,318).ngClassDirty,r.Bb(t,318).ngClassValid,r.Bb(t,318).ngClassInvalid,r.Bb(t,318).ngClassPending),e(t,334,0,r.Bb(t,339).ngClassUntouched,r.Bb(t,339).ngClassTouched,r.Bb(t,339).ngClassPristine,r.Bb(t,339).ngClassDirty,r.Bb(t,339).ngClassValid,r.Bb(t,339).ngClassInvalid,r.Bb(t,339).ngClassPending),e(t,354,0,r.Bb(t,359).ngClassUntouched,r.Bb(t,359).ngClassTouched,r.Bb(t,359).ngClassPristine,r.Bb(t,359).ngClassDirty,r.Bb(t,359).ngClassValid,r.Bb(t,359).ngClassInvalid,r.Bb(t,359).ngClassPending),e(t,364,0,r.Bb(t,369).ngClassUntouched,r.Bb(t,369).ngClassTouched,r.Bb(t,369).ngClassPristine,r.Bb(t,369).ngClassDirty,r.Bb(t,369).ngClassValid,r.Bb(t,369).ngClassInvalid,r.Bb(t,369).ngClassPending),e(t,375,0,r.Bb(t,380).ngClassUntouched,r.Bb(t,380).ngClassTouched,r.Bb(t,380).ngClassPristine,r.Bb(t,380).ngClassDirty,r.Bb(t,380).ngClassValid,r.Bb(t,380).ngClassInvalid,r.Bb(t,380).ngClassPending),e(t,388,0,r.Bb(t,389).title,r.Bb(t,389).renderedIconHTML),e(t,390,0,r.Bb(t,396).ngClassUntouched,r.Bb(t,396).ngClassTouched,r.Bb(t,396).ngClassPristine,r.Bb(t,396).ngClassDirty,r.Bb(t,396).ngClassValid,r.Bb(t,396).ngClassInvalid,r.Bb(t,396).ngClassPending),e(t,399,0,r.Bb(t,400).title,r.Bb(t,400).renderedIconHTML),e(t,401,0,r.Bb(t,407).ngClassUntouched,r.Bb(t,407).ngClassTouched,r.Bb(t,407).ngClassPristine,r.Bb(t,407).ngClassDirty,r.Bb(t,407).ngClassValid,r.Bb(t,407).ngClassInvalid,r.Bb(t,407).ngClassPending),e(t,415,0,r.Bb(t,420).ngClassUntouched,r.Bb(t,420).ngClassTouched,r.Bb(t,420).ngClassPristine,r.Bb(t,420).ngClassDirty,r.Bb(t,420).ngClassValid,r.Bb(t,420).ngClassInvalid,r.Bb(t,420).ngClassPending)}))}var A=r.lb("app-buscador",d.a,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-buscador",[],null,null,null,T,p)),r.ob(1,114688,null,0,d.a,[s.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[])},CRDf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("kJWO"),i=function(e){return function(t){var n=e[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},Cfvw:function(e,t,n){"use strict";var r=n("HDdC"),i=n("c2HN"),o=n("I55L"),a=n("kJWO"),l=n("Lhse"),s=n("yCtX"),u=n("quSY"),c=n("a7t3"),h=n("pLzU"),f=n("CRDf"),d=n("SeVD");function p(e,t){if(!t)return e instanceof r.a?e:new r.a(Object(d.a)(e));if(null!=e){if(function(e){return e&&"function"==typeof e[a.a]}(e))return function(e,t){return new r.a(t?function(n){var r=new u.a;return r.add(t.schedule((function(){var i=e[a.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}:Object(f.a)(e))}(e,t);if(Object(i.a)(e))return function(e,t){return new r.a(t?function(n){var r=new u.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}:Object(c.a)(e))}(e,t);if(Object(o.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[l.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a(t?function(n){var r,i=new u.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[l.a](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}:Object(h.a)(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}n.d(t,"a",(function(){return p}))},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},DfyZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("mrSG"),i=n("Jgta"),o=(n("WI49"),n("AAub"),n("5x/H"),n("Zs65"),n("6nsN"),n("eJtT")),a=n("LRne"),l=n("Mhm5"),s=n("8Y7J"),u=function(){var e=function(){function e(){_classCallCheck(this,e),this.archivos=[]}return _createClass(e,[{key:"iniciarFirebase",value:function(){0===i.a.apps.length&&i.a.initializeApp(l.a.firebaseConfig)}},{key:"uploadFile",value:function(e,t){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=i.a.storage().ref().child("imagenes/".concat(t,"/archivos/").concat(e.name)),n.next=3,a.put(e).then((function(n){(r=i.a.database().ref().child("imagenesFB/".concat(t,"/archivos"))).remove();var l=e.name.split(".");r=i.a.database().ref().child("imagenesFB/".concat(t,"/archivos/").concat(l[0])),a.getDownloadURL().then((function(t){var n=new o.a;n.url=t,n.nombre=e.name,r.set({nombre:n.nombre,url:n.url})}))}));case 3:this.archivos=[];case 4:case"end":return n.stop()}}),n,this)})))}},{key:"getArchivos",value:function(e){var t=this;this.archivos=[];var n=i.a.database().ref().child("imagenesFB/".concat(e,"/archivos"));return this.archivos=[],n.on("value",(function(e){var n=e.val();for(var r in n){var i=new o.a;i.url=n[r].url,i.nombre=n[r].nombre,t.archivos.push(i)}})),Object(a.a)(this.archivos)}},{key:"deleteArchivo",value:function(e,t){var n=e.nombre.split(".")[0],r=i.a.database().ref().child("imagenesFB/".concat(t,"/archivos/").concat(n)),o=i.a.storage().ref().child("imagenes/".concat(t,"/archivos/").concat(e.nombre));r.remove(),o.delete(),this.archivos=[]}},{key:"deleteNode",value:function(e){i.a.database().ref().child("imagenesFB/".concat(e,"/")).remove(),this.deleteFolderContents("imagenes/".concat(e,"/"))}},{key:"deleteFolderContents",value:function(e){var t=this,n=i.a.storage().ref(e);n.listAll().then((function(e){e.items.forEach((function(e){t.deleteFile(n.fullPath,e.name)})),e.prefixes.forEach((function(e){t.deleteFolderContents(e.fullPath)}))})).catch((function(e){console.log(e)}))}},{key:"deleteFile",value:function(e,t){i.a.storage().ref(e).child(t).delete()}}]),e}();return e.ngInjectableDef=s.Nb({factory:function(){return new e},token:e,providedIn:"root"}),e}()},E4JC:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib.StreamCipher,n=[],i=[],o=[],a=e.algo.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),h=u>>>16|4294901760&c,f=c<<16|65535&u;for(i[0]^=u,i[1]^=h,i[2]^=c,i[3]^=f,i[4]^=u,i[5]^=h,i[6]^=c,i[7]^=f,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),e[t+i]^=n[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],a=65535&r,l=r>>>16;o[n]=((a*a>>>17)+a*l>>>15)+l*l^((4294901760&r)*r|0)+((65535&r)*r|0)}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.Rabbit=t._createHelper(a)}(),r.Rabbit)},E4JZ:function(e,t,n){"use strict";var r=n("8Y7J"),i=n("SVse"),o=n("iInd"),a=n("s7LF"),l=n("Kfvy"),s=n("pN5R"),u=n("z58d"),c=n("cPMN"),h=n("reDK"),f=n("ONxg"),d=n("DfyZ"),p=n("sBFL"),v=n("tOWS");n.d(t,"a",(function(){return O}));var g=r.nb({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{background-color:transparent;display:inline-block}img[_ngcontent-%COMP%]{border:solid gray;border-radius:1px;box-shadow:10px 10px 25px #999}#cuadroCroquis[_ngcontent-%COMP%], #cuadroFotografiaPrincipal[_ngcontent-%COMP%], #cuadroFotografiasSecundarias[_ngcontent-%COMP%]{font-weight:bolder}.modal-content[_ngcontent-%COMP%]{background-image:url(fondoCammo.2b0cfb5502d08b6345f1.png)}.modal-dialog[_ngcontent-%COMP%]{justify-content:center;display:flex}.imagenModal[_ngcontent-%COMP%]{justify-content:center;display:flex;width:100%}.bucleFotografias[_ngcontent-%COMP%]{display:inline-flex}.imagenCroquis[_ngcontent-%COMP%], .imagenSecundaria[_ngcontent-%COMP%]{width:180px}.imagenPrincipal[_ngcontent-%COMP%]{width:100%}.linkArchivo[_ngcontent-%COMP%]{display:inline-flex}"]],data:{}});function m(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[["class","row bucleFotografias"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"div",[["class","col-4 py-2"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.getImagenURL(n)&&r),r}),null,null)),(e()(),r.pb(2,0,null,null,0,"img",[["class","mx-2 imagenSecundaria"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,2,0,r.tb(1,"",t.context.$implicit.url,""))}))}function y(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[["class","row bucleFotografias"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"div",[["class","col-4 py-2"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.getImagenURL(n)&&r),r}),null,null)),(e()(),r.pb(2,0,null,null,0,"img",[["class","mx-2 imagenCroquis"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,2,0,r.tb(1,"",t.context.$implicit.url,""))}))}function b(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"div",[["class","carousel-item"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],[[8,"src",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.getImagenURL(n)&&r),r}),null,null))],null,(function(e,t){e(t,1,0,r.tb(1,"",t.context.$implicit.url,""))}))}function _(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"div",[["class","carousel-item"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,0,"img",[["alt","croquis"],["class","d-block w-100"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],[[8,"src",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.getImagenURL(n)&&r),r}),null,null))],null,(function(e,t){e(t,1,0,r.tb(1,"",t.context.$implicit.url,""))}))}function w(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r.Hb(2,null,["",""])),(e()(),r.pb(3,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Hb(4,null,["",""]))],null,(function(e,t){e(t,2,0,t.parent.context.$implicit[0]),e(t,4,0,t.parent.context.$implicit[1])}))}function k(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[["class","m-4"],["id","datosArtefacto"]],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,w)),r.ob(2,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,null!==t.context.$implicit[1])}),null)}function C(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"div",[["class","row bucleFotografias"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,2,"div",[["class","col-4 py-2"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.getImagenURL(n)&&r),r}),null,null)),(e()(),r.pb(2,0,null,null,1,"a",[["class","linkArchivo"],["target","blank"]],[[8,"href",4]],null,null,null,null)),(e()(),r.Hb(3,null,["",""]))],null,(function(e,t){e(t,2,0,r.tb(1,"",t.context.$implicit.url,"")),e(t,3,0,t.context.$implicit.nombre)}))}function I(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-info m-1"],["data-bs-target","#modalNuevaFichaVIP"],["data-bs-toggle","modal"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["AGREGAR A DESTACADAS"]))],null,null)}function E(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,I)),r.ob(2,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.pb(3,0,null,null,1,"button",[["class","btn btn-warning m-1"],["data-bs-target","#modalNuevoArtefactoInventario"],["data-bs-toggle","modal"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["AGREGAR AL INVENTARIO"]))],(function(e,t){e(t,2,0,t.component.fichaVipFlag)}),null)}function S(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,10,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"button",[["class","btn btn-danger m-1"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.eliminarFicha()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["ELIMINAR"])),(e()(),r.pb(3,0,null,null,3,"a",[["class","btn btn-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Bb(e,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ob(4,671744,null,0,o.m,[o.k,o.a,i.h],{routerLink:[0,"routerLink"]},null),r.Cb(5,5),(e()(),r.Hb(-1,null,["MODIFICAR"])),(e()(),r.pb(7,0,null,null,1,"button",[["class","btn btn-success m-1"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.validarFicha()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["VALIDAR"])),(e()(),r.eb(16777216,null,null,1,null,E)),r.ob(10,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,r=e(t,5,0,"/","ficha","validador","ficha",n.id);e(t,4,0,r),e(t,10,0,n.artefacto.validada)}),(function(e,t){e(t,3,0,r.Bb(t,4).target,r.Bb(t,4).href)}))}function T(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,a.q,[r.k,r.B,[2,a.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,a.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,["",""]))],(function(e,t){e(t,1,0,r.tb(1,"",t.context.$implicit._links.self.href,"")),e(t,2,0,r.tb(1,"",t.context.$implicit._links.self.href,""))}),(function(e,t){e(t,3,0,t.context.$implicit.nombreSala)}))}function A(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,87,"body",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,25,"div",[["class","container-fluid py-1"],["id","cuadroFotografias"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,8,"div",[["class","d-none d-lg-block"],["id","fotografiasGrande"]],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,7,"div",[["class","row py-2"]],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,1,"div",[["class","col-5 px-4 py-2"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.getImagenURL(n)&&r),r}),null,null)),(e()(),r.pb(5,0,null,null,0,"img",[["class","imagenPrincipal"]],[[8,"src",4]],null,null,null,null)),(e()(),r.pb(6,0,null,null,4,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,m)),r.ob(8,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.eb(16777216,null,null,1,null,y)),r.ob(10,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(11,0,null,null,15,"div",[["class","carousel slide d-lg-none my-2"],["data-bs-ride","carousel"],["id","fotografiasPeque\xf1o"]],null,null,null,null,null)),(e()(),r.pb(12,0,null,null,6,"div",[["class","carousel-inner"]],null,null,null,null,null)),(e()(),r.pb(13,0,null,null,1,"div",[["class","carousel-item active"]],null,null,null,null,null)),(e()(),r.pb(14,0,null,null,0,"img",[["alt","..."],["class","d-block w-100"],["data-bs-target","#modalImagen"],["data-bs-toggle","modal"]],[[8,"src",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.getImagenURL(n)&&r),r}),null,null)),(e()(),r.eb(16777216,null,null,1,null,b)),r.ob(16,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.eb(16777216,null,null,1,null,_)),r.ob(18,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(19,0,null,null,3,"button",[["class","carousel-control-prev"],["data-bs-slide","prev"],["data-bs-target","#fotografiasPeque\xf1o"],["type","button"]],null,null,null,null,null)),(e()(),r.pb(20,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-prev-icon"]],null,null,null,null,null)),(e()(),r.pb(21,0,null,null,1,"span",[["class","visually-hidden"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Previous"])),(e()(),r.pb(23,0,null,null,3,"button",[["class","carousel-control-next"],["data-bs-slide","next"],["data-bs-target","#fotografiasPeque\xf1o"],["type","button"]],null,null,null,null,null)),(e()(),r.pb(24,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-next-icon"]],null,null,null,null,null)),(e()(),r.pb(25,0,null,null,1,"span",[["class","visually-hidden"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Next"])),(e()(),r.pb(27,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,k)),r.ob(29,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(30,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.pb(31,0,null,null,4,"div",[["class","mx-4"]],null,null,null,null,null)),(e()(),r.pb(32,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["ARCHIVOS CARGADOS"])),(e()(),r.eb(16777216,null,null,1,null,C)),r.ob(35,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.eb(16777216,null,null,1,null,S)),r.ob(37,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.pb(38,0,null,null,1,"app-modal-ficha-vip",[],null,null,null,l.b,l.a)),r.ob(39,114688,null,0,s.a,[u.a,c.a],{id:[0,"id"]},null),(e()(),r.pb(40,0,null,null,7,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","modalImagen"],["tabindex","-1"]],null,null,null,null,null)),(e()(),r.pb(41,0,null,null,6,"div",[["class","modal-dialog"]],null,null,null,null,null)),(e()(),r.pb(42,0,null,null,5,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),r.pb(43,0,null,null,1,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),r.pb(44,0,null,null,0,"img",[["alt",""],["class","imagenModal"]],[[8,"src",4]],null,null,null,null)),(e()(),r.pb(45,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),r.pb(46,0,null,null,1,"button",[["class","btn btn-secondary"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,[" Cerrar "])),(e()(),r.pb(48,0,null,null,39,"div",[["aria-hidden","true"],["aria-labelledby","modalNuevoArtefactoInventarioLabel"],["class","modal fade"],["id","modalNuevoArtefactoInventario"],["tabindex","-1"]],null,null,null,null,null)),(e()(),r.pb(49,0,null,null,38,"div",[["class","modal-dialog"]],null,null,null,null,null)),(e()(),r.pb(50,0,null,null,37,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),r.pb(51,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),r.pb(52,0,null,null,1,"h5",[["class","modal-title"],["id","modalModificarArtefactoInventarioLabel"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["AGREGAR AL INVENTARIO"])),(e()(),r.pb(54,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.pb(55,0,null,null,32,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),r.pb(56,0,null,null,31,"form",[["action",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.Bb(e,58).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Bb(e,58).onReset()&&i),i}),null,null)),r.ob(57,16384,null,0,a.A,[],null,null),r.ob(58,4210688,null,0,a.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,a.c,null,[a.o]),r.ob(60,16384,null,0,a.n,[[4,a.c]],null,null),(e()(),r.pb(61,0,null,null,9,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(e()(),r.pb(62,0,null,null,2,"label",[["for","numeroInventario"]],null,null,null,null,null)),(e()(),r.pb(63,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["N\xaa INVENTARIO"])),(e()(),r.pb(65,0,null,null,5,"input",[["id","numeroInventario"],["name","numeroInventario"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,66)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,66).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,66)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,66)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.artefactoInventario.numeroInventario=n)&&i),i}),null,null)),r.ob(66,16384,null,0,a.d,[r.B,r.k,[2,a.a]],null,null),r.Eb(1024,null,a.k,(function(e){return[e]}),[a.d]),r.ob(68,671744,null,0,a.p,[[2,a.c],[8,null],[8,null],[6,a.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,a.l,null,[a.p]),r.ob(70,16384,null,0,a.m,[[4,a.l]],null,null),(e()(),r.pb(71,0,null,null,11,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(e()(),r.pb(72,0,null,null,2,"label",[["for","sala"]],null,null,null,null,null)),(e()(),r.pb(73,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["SALA"])),(e()(),r.pb(75,0,null,null,7,"select",[["id","sala"],["name","nuevaSala"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,76).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,76).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.artefactoInventario.sala=n)&&i),i}),null,null)),r.ob(76,16384,null,0,a.t,[r.B,r.k],null,null),r.Eb(1024,null,a.k,(function(e){return[e]}),[a.t]),r.ob(78,671744,null,0,a.p,[[2,a.c],[8,null],[8,null],[6,a.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,a.l,null,[a.p]),r.ob(80,16384,null,0,a.m,[[4,a.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,T)),r.ob(82,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(83,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),r.pb(84,0,null,null,1,"button",[["class","btn btn-danger m-1"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["CERRAR"])),(e()(),r.pb(86,0,null,null,1,"button",[["class","btn btn-success m-1"],["data-bs-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.agregarAInventario()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["GUARDAR"]))],(function(e,t){var n=t.component;e(t,8,0,n.imagenesSecundarias),e(t,10,0,n.imagenesCroquis),e(t,16,0,n.imagenesSecundarias),e(t,18,0,n.imagenesCroquis),e(t,29,0,n.atributos),e(t,35,0,n.archivos),e(t,37,0,n.isLoggedAdmin),e(t,39,0,n.id),e(t,68,0,"numeroInventario",n.artefactoInventario.numeroInventario),e(t,78,0,"nuevaSala",n.artefactoInventario.sala),e(t,82,0,n.salasDisponibles)}),(function(e,t){var n=t.component;e(t,5,0,r.tb(1,"",n.imagenPrincipal.url,"")),e(t,14,0,r.tb(1,"",n.imagenPrincipal.url,"")),e(t,44,0,r.tb(1,"",n.imagenModal,"")),e(t,56,0,r.Bb(t,60).ngClassUntouched,r.Bb(t,60).ngClassTouched,r.Bb(t,60).ngClassPristine,r.Bb(t,60).ngClassDirty,r.Bb(t,60).ngClassValid,r.Bb(t,60).ngClassInvalid,r.Bb(t,60).ngClassPending),e(t,65,0,r.Bb(t,70).ngClassUntouched,r.Bb(t,70).ngClassTouched,r.Bb(t,70).ngClassPristine,r.Bb(t,70).ngClassDirty,r.Bb(t,70).ngClassValid,r.Bb(t,70).ngClassInvalid,r.Bb(t,70).ngClassPending),e(t,75,0,r.Bb(t,80).ngClassUntouched,r.Bb(t,80).ngClassTouched,r.Bb(t,80).ngClassPristine,r.Bb(t,80).ngClassDirty,r.Bb(t,80).ngClassValid,r.Bb(t,80).ngClassInvalid,r.Bb(t,80).ngClassPending)}))}var O=r.lb("app-ficha-completa",h.a,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-ficha-completa",[],null,null,null,A,g)),r.ob(1,114688,null,0,h.a,[f.a,u.a,d.a,c.a,o.a,p.a,o.k,v.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[])},ELcG:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),f=i.create([1352829926,1548603684,1836072691,2053994217,0]),d=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,d,_,w,k,C,I,E,S,T,A=this._hash.words,O=h.words,x=f.words,P=l.words,N=s.words,R=u.words,D=c.words;for(k=o=A[0],C=a=A[1],I=d=A[2],E=_=A[3],S=w=A[4],n=0;n<80;n+=1)T=o+e[t+P[n]]|0,T+=n<16?p(a,d,_)+O[0]:n<32?v(a,d,_)+O[1]:n<48?g(a,d,_)+O[2]:n<64?m(a,d,_)+O[3]:y(a,d,_)+O[4],T=(T=b(T|=0,R[n]))+w|0,o=w,w=_,_=b(d,10),d=a,a=T,T=k+e[t+N[n]]|0,T+=n<16?y(C,I,E)+x[0]:n<32?m(C,I,E)+x[1]:n<48?g(C,I,E)+x[2]:n<64?v(C,I,E)+x[3]:p(C,I,E)+x[4],T=(T=b(T|=0,D[n]))+S|0,k=S,S=E,E=b(I,10),I=C,C=T;T=A[1]+d+E|0,A[1]=A[2]+_+S|0,A[2]=A[3]+w+k|0,A[3]=A[4]+o+C|0,A[4]=A[0]+a+I|0,A[0]=T},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var l=o[a];o[a]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function v(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function m(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function b(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(d),t.HmacRIPEMD160=o._createHmacHelper(d)}(Math),r.RIPEMD160)},ETIr:function(e,t,n){var r,i;e.exports=(i=n("Ib8C"),r=i.lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,l=0;l<4&&o+.75*l<n;l++)i.push(r.charAt(a>>>6*(3-l)&63));var s=r.charAt(64);if(s)for(;i.length%4;)i.push(s);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var l=e.indexOf(a);-1!==l&&(t=l)}return function(e,t,n){for(var i=[],o=0,a=0;a<t;a++)if(a%4){var l=n[e.charCodeAt(a-1)]<<a%4*2,s=n[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=(l|s)<<24-o%4*8,o++}return r.create(i,o)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},"F+F2":function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)},GRuw:function(e,t,n){var r,i,o,a,l,s;e.exports=(s=n("Ib8C"),n("lPiR"),i=(r=s).lib.WordArray,l=(o=r.algo).SHA224=(a=o.SHA256).extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l),s.SHA224)},HDdC:function(e,t,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),a=n("kJWO"),l=n("mCNh"),s=n("2fFW");n.d(t,"a",(function(){return c}));var u,c=((u=function(e){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(e,t,n){var a=this.operator,l=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(l.add(a?a.call(l,this.source):this.source||s.a.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),s.a.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){s.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=h(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:e,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(l.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),t}(a.a)).create=function(e){return new u(e)},u);function h(e){if(e||(e=s.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},HTik:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2Vo4"),i=n("TSe+"),o=n("8Y7J"),a=function(){var e=function e(){var t=this;_classCallCheck(this,e),this.criteriosObservados=new r.a(new i.a),this.onChangeCriteria=function(e){return t.criteriosObservados.next(e)}};return e.ngInjectableDef=o.Nb({factory:function(){return new e},token:e,providedIn:"root"}),e}()},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},Ib8C:function(e,t,n){var r;e.exports=r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!=typeof global&&global.crypto&&(r=global.crypto),!r)try{r=n(1)}catch(g){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},l=a.lib={},s=l.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=l.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++)t[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new u.init(t,e)}}),c=a.enc={},h=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},f=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++)r.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},d=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},p=l.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,l=o/(4*a),s=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*a,c=e.min(4*s,o);if(s){for(var h=0;h<s;h+=a)this._doProcessBlock(i,h);n=i.splice(0,s),r.sigBytes-=c}return new u.init(n,c)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(l.Hasher=p.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math)},IheW:function(e,t,n){"use strict";n.d(t,"l",(function(){return N})),n.d(t,"o",(function(){return L})),n.d(t,"p",(function(){return B})),n.d(t,"m",(function(){return D})),n.d(t,"n",(function(){return M})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return S})),n.d(t,"g",(function(){return f})),n.d(t,"a",(function(){return A})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return V})),n.d(t,"k",(function(){return F})),n.d(t,"h",(function(){return R})),n.d(t,"j",(function(){return P})),n.d(t,"i",(function(){return j}));var r=n("8Y7J"),i=n("LRne"),o=n("HDdC"),a=n("bOdf"),l=n("pLZG"),s=n("lJxs"),u=n("SVse"),c=function e(){_classCallCheck(this,e)},h=function e(){_classCallCheck(this,e)},f=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray2(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===i.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),d=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return p(e)}},{key:"encodeValue",value:function(e){return p(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function p(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var v=function(){function e(){var t,n,r,i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=o.encoder||new d,o.fromString){if(o.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=o.fromString,n=this.encoder,r=new Map,t.length>0&&t.split("&").forEach((function(e){var t=e.indexOf("="),i=_slicedToArray2(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),o=i[0],a=i[1],l=r.get(o)||[];l.push(a),r.set(o,l)})),r)}else o.fromObject?(this.map=new Map,Object.keys(o.fromObject).forEach((function(e){var t=o.fromObject[e];i.map.set(e,Array.isArray(t)?t:[t])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function g(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function m(e){return"undefined"!=typeof Blob&&e instanceof Blob}function y(e){return"undefined"!=typeof FormData&&e instanceof FormData}var b=function(){function e(t,n,r,i){var o;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new f),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var l=n.indexOf("?");this.urlWithParams=n+(-1===l?"?":l<n.length-1?"&":"")+a}}else this.params=new v,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:g(this.body)||m(this.body)||y(this.body)||"string"==typeof this.body?this.body:this.body instanceof v?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||y(this.body)?null:m(this.body)?this.body.type||null:g(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof v?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,s=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(s=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),s)),t.setParams&&(u=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),u)),new e(n,r,o,{params:u,headers:s,reportProgress:l,responseType:i,withCredentials:a})}}]),e}(),_=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),w=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new f,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},k=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=_.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(w),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=_.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(w),I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(w);function E(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var S=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof b)n=e;else{var u=void 0;u=o.headers instanceof f?o.headers:new f(o.headers);var c=void 0;o.params&&(c=o.params instanceof v?o.params:new v({fromObject:o.params})),n=new b(e,t,void 0!==o.body?o.body:null,{headers:u,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var h=Object(i.a)(n).pipe(Object(a.a)((function(e){return r.handler.handle(e)})));if(e instanceof b||"events"===o.observe)return h;var d=h.pipe(Object(l.a)((function(e){return e instanceof C})));switch(o.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return d.pipe(Object(s.a)((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return d.pipe(Object(s.a)((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return d.pipe(Object(s.a)((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return d.pipe(Object(s.a)((function(e){return e.body})))}case"response":return d;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new v).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,E(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,E(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,E(n,t))}}]),e}(),T=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),A=new r.o("HTTP_INTERCEPTORS"),O=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}(),x=/^\)\]\}',?\n/,P=function e(){_classCallCheck(this,e)},N=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}(),R=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new o.a((function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((function(e,t){return r.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),l=null,s=function(){if(null!==l)return l;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new f(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return l=new k({headers:i,status:t,statusText:n,url:o})},u=function(){var t=s(),i=t.headers,o=t.status,a=t.statusText,l=t.url,u=null;204!==o&&(u=void 0===r.response?r.responseText:r.response),0===o&&(o=u?200:0);var c=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof u){var h=u;u=u.replace(x,"");try{u=""!==u?JSON.parse(u):null}catch(f){u=h,c&&(c=!1,u={error:f,text:u})}}c?(n.next(new C({body:u,headers:i,status:o,statusText:a,url:l||void 0})),n.complete()):n.error(new I({error:u,headers:i,status:o,statusText:a,url:l||void 0}))},c=function(e){var t=s().url,i=new I({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,d=function(t){h||(n.next(s()),h=!0);var i={type:_.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(e){var t={type:_.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",u),r.addEventListener("error",c),e.reportProgress&&(r.addEventListener("progress",d),null!==a&&r.upload&&r.upload.addEventListener("progress",p)),r.send(a),n.next({type:_.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",u),e.reportProgress&&(r.removeEventListener("progress",d),null!==a&&r.upload&&r.upload.removeEventListener("progress",p)),r.abort()}}))}}]),e}(),D=new r.o("XSRF_COOKIE_NAME"),M=new r.o("XSRF_HEADER_NAME"),j=function e(){_classCallCheck(this,e)},L=function(){function e(t,n,r){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(u.u)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}(),B=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}(),F=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(A,[]);this.chain=t.reduceRight((function(e,t){return new T(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}(),V=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:B,useClass:O}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:D,useValue:t.cookieName}:[],t.headerName?{provide:M,useValue:t.headerName}:[]]}}}]),e}(),U=function e(){_classCallCheck(this,e)}},JIr8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj");function a(e){return function(t){var n=new l(e),r=t.lift(n);return n.caught=r}}var l=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.selector,this.caught))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(a){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var r=new i.a(this,void 0,void 0);this.add(r),Object(o.a)(this,t,void 0,void 0,r)}}}]),n}(r.a)},Jgta:function(e,t,n){"use strict";var r=n("zIRd");n.d(t,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.8.0","app"),r.a.SDK_VERSION="8.8.0"},Jopv:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("35Wc");var r=function e(){_classCallCheck(this,e)}},K3mO:function(e,t,n){var r,i,o,a,l,s,u;e.exports=(u=n("Ib8C"),n("3y9D"),n("WYAk"),a=(i=(r=u).lib).WordArray,s=(l=r.algo).EvpKDF=(o=i.Base).extend({cfg:o.extend({keySize:4,hasher:l.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,i=r.hasher.create(),o=a.create(),l=o.words,s=r.keySize,u=r.iterations;l.length<s;){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var c=1;c<u;c++)n=i.finalize(n),i.reset();o.concat(n)}return o.sigBytes=4*s,o}}),r.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)},u.EvpKDF)},Kfvy:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("8Y7J"),i=n("s7LF"),o=n("SVse"),a=(n("pN5R"),n("z58d"),n("cPMN"),r.nb({encapsulation:2,styles:[],data:{}}));function l(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,i.q,[r.k,r.B,[2,i.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,i.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit.value),e(t,2,0,t.context.$implicit.value)}),(function(e,t){e(t,3,0,t.context.$implicit.key)}))}function s(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,49,"div",[["aria-hidden","true"],["aria-labelledby","modalnuevaFichaVipLabel"],["class","modal fade"],["id","modalNuevaFichaVIP"],["tabindex","-1"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,48,"div",[["class","modal-dialog"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,47,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,1,"h5",[["class","modal-title"],["id","modalnuevaFichaVipLabel"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["AGREGAR ARTEFACTOS DESTACADOS"])),(e()(),r.pb(6,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.pb(7,0,null,null,42,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),r.pb(8,0,null,null,41,"form",[["action",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.Bb(e,10).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Bb(e,10).onReset()&&i),i}),null,null)),r.ob(9,16384,null,0,i.A,[],null,null),r.ob(10,4210688,null,0,i.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,i.c,null,[i.o]),r.ob(12,16384,null,0,i.n,[[4,i.c]],null,null),(e()(),r.pb(13,0,null,null,9,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(e()(),r.pb(14,0,null,null,2,"label",[["for","nombre"]],null,null,null,null,null)),(e()(),r.pb(15,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["ARTEFACTO"])),(e()(),r.pb(17,0,null,null,5,"input",[["disabled",""],["id","nombre"],["name","nombre"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,18)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,18).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,18)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,18)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.ficha.nombre=n)&&i),i}),null,null)),r.ob(18,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.d]),r.ob(20,671744,null,0,i.p,[[2,i.c],[8,null],[8,null],[6,i.k]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(22,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(23,0,null,null,9,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(e()(),r.pb(24,0,null,null,2,"label",[["for","asunto"]],null,null,null,null,null)),(e()(),r.pb(25,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["COMENTARIOS"])),(e()(),r.pb(27,0,null,null,5,"input",[["id","asunto"],["name","asunto"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,28)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,28).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,28)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,28)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.fichaVip.comentario=n)&&i),i}),null,null)),r.ob(28,16384,null,0,i.d,[r.B,r.k,[2,i.a]],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.d]),r.ob(30,671744,null,0,i.p,[[2,i.c],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(32,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.pb(33,0,null,null,11,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(e()(),r.pb(34,0,null,null,2,"label",[["for","zona"]],null,null,null,null,null)),(e()(),r.pb(35,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["ZONA DE OPERACIONES"])),(e()(),r.pb(37,0,null,null,7,"select",[["id","zona"],["name","zonaOperaciones"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,38).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,38).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.fichaVip.zonaOperaciones=n)&&i),i}),null,null)),r.ob(38,16384,null,0,i.t,[r.B,r.k],null,null),r.Eb(1024,null,i.k,(function(e){return[e]}),[i.t]),r.ob(40,671744,null,0,i.p,[[2,i.c],[8,null],[8,null],[6,i.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,i.l,null,[i.p]),r.ob(42,16384,null,0,i.m,[[4,i.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,l)),r.ob(44,278528,null,0,o.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(45,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),r.pb(46,0,null,null,1,"button",[["class","btn btn-danger m-1"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["CERRAR"])),(e()(),r.pb(48,0,null,null,1,"button",[["class","btn btn-success m-1"],["data-bs-dismiss","modal"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.agregarFichaVip()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["GUARDAR"]))],(function(e,t){var n=t.component;e(t,20,0,"nombre","",n.ficha.nombre),e(t,30,0,"asunto",n.fichaVip.comentario),e(t,40,0,"zonaOperaciones",n.fichaVip.zonaOperaciones),e(t,44,0,n.zos)}),(function(e,t){e(t,8,0,r.Bb(t,12).ngClassUntouched,r.Bb(t,12).ngClassTouched,r.Bb(t,12).ngClassPristine,r.Bb(t,12).ngClassDirty,r.Bb(t,12).ngClassValid,r.Bb(t,12).ngClassInvalid,r.Bb(t,12).ngClassPending),e(t,17,0,r.Bb(t,22).ngClassUntouched,r.Bb(t,22).ngClassTouched,r.Bb(t,22).ngClassPristine,r.Bb(t,22).ngClassDirty,r.Bb(t,22).ngClassValid,r.Bb(t,22).ngClassInvalid,r.Bb(t,22).ngClassPending),e(t,27,0,r.Bb(t,32).ngClassUntouched,r.Bb(t,32).ngClassTouched,r.Bb(t,32).ngClassPristine,r.Bb(t,32).ngClassDirty,r.Bb(t,32).ngClassValid,r.Bb(t,32).ngClassInvalid,r.Bb(t,32).ngClassPending),e(t,37,0,r.Bb(t,42).ngClassUntouched,r.Bb(t,42).ngClassTouched,r.Bb(t,42).ngClassPristine,r.Bb(t,42).ngClassDirty,r.Bb(t,42).ngClassValid,r.Bb(t,42).ngClassInvalid,r.Bb(t,42).ngClassPending)}))}},KmYQ:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},r.pad.ZeroPadding)},KqfI:function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},L2hg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("s7LF"),i=n("8Y7J"),o=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"crearFormulario",value:function(e){var t={};return e.forEach((function(e){t[e.key]=e.required?new r.f(e.value||"",r.v.required):new r.f(e.value||"")})),new r.h(t)}},{key:"crearElementoFormulario",value:function(){}}]),e}();return e.ngInjectableDef=i.Nb({factory:function(){return new e},token:e,providedIn:"root"}),e}()},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("z+Ro"),i=n("yCtX"),o=n("EY2u"),a=n("XUOw");function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var l=t[t.length-1];switch(Object(r.a)(l)?t.pop():l=void 0,t.length){case 0:return Object(o.b)(l);case 1:return l?Object(i.a)(t,l):Object(a.a)(t[0]);default:return Object(i.a)(t,l)}}},LYig:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.value=t.value,this.key=t.key||"",this.label=t.label||"",this.required=!!t.required,this.order=void 0===t.order?1:t.order,this.controlType=t.controlType||"",this.type=t.type||"",this.options=t.options||[]}},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},Mhm5:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("AytR"),i={firebaseConfig:{apiKey:r.a.apiKey,authDomain:r.a.authDomain,projectId:r.a.projectId,storageBucket:r.a.storageBucket,messagingSenderId:r.a.messagingSenderId,appId:r.a.appId,databaseURL:r.a.databaseURL}}},MlIO:function(e,t,n){var r,i,o,a,l;e.exports=(l=n("Ib8C"),i=(r=l.lib).Base,o=r.WordArray,(a=l.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}}),l)},NFKh:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("MlIO"),n("F+F2"),n("qM6L"),n("ETIr"),n("wbyO"),n("cv67"),n("3y9D"),n("lPiR"),n("GRuw"),n("1uat"),n("uGsb"),n("5hvy"),n("ELcG"),n("WYAk"),n("e7zE"),n("K3mO"),n("OLod"),n("ALsQ"),n("9OqN"),n("qu8F"),n("S6kV"),n("gb/T"),n("qBft"),n("oRuE"),n("jO9C"),n("KmYQ"),n("uGxW"),n("bQjk"),n("wZgz"),n("pA7S"),n("w7YG"),n("E4JC"),n("PVpz"),r)},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}))}n.d(t,"a",(function(){return r}))},NUWq:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("AiNZ"),n("Ul2T");var r=function e(){_classCallCheck(this,e)}},"Nv++":function(e,t,n){"use strict";var r=n("8Y7J");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u={},c={};try{"undefined"!=typeof window&&(u=window),"undefined"!=typeof document&&(c=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(Me){}var h=(u.navigator||{}).userAgent,f=void 0===h?"":h,d=u,p=c,v=!!p.documentElement&&!!p.head&&"function"==typeof p.addEventListener&&"function"==typeof p.createElement,g=~f.indexOf("MSIE")||~f.indexOf("Trident/"),m=[1,2,3,4,5,6,7,8,9,10],y=m.concat([11,12,13,14,15,16,17,18,19,20]),b={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},_=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",b.GROUP,b.SWAP_OPACITY,b.PRIMARY,b.SECONDARY].concat(m.map((function(e){return"".concat(e,"x")}))).concat(y.map((function(e){return"w-".concat(e)}))),d.FontAwesomeConfig||{});p&&"function"==typeof p.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=l(e,2),n=t[1],r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=p.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t[0]));null!=r&&(_[n]=r)}));var w=a({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},_);w.autoReplaceSvg||(w.observeMutations=!1);var k=a({},w);d.FontAwesomeConfig=k;var C=d||{};C.___FONT_AWESOME___||(C.___FONT_AWESOME___={}),C.___FONT_AWESOME___.styles||(C.___FONT_AWESOME___.styles={}),C.___FONT_AWESOME___.hooks||(C.___FONT_AWESOME___.hooks={}),C.___FONT_AWESOME___.shims||(C.___FONT_AWESOME___.shims=[]);var I=C.___FONT_AWESOME___,E=[];v&&((p.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(p.readyState)||p.addEventListener("DOMContentLoaded",(function e(){p.removeEventListener("DOMContentLoaded",e),E.map((function(e){return e()}))})));var S,T=function(){},A="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,O="undefined"==typeof setImmediate?setTimeout:setImmediate,x=[];function P(){for(var e=0;e<x.length;e++)x[e][0](x[e][1]);x=[],S=!1}function N(e,t){x.push([e,t]),S||(S=!0,O(P,0))}function R(e){var t=e.owner,n=t._state,r=t._data,i=e[n],o=e.then;if("function"==typeof i){n="fulfilled";try{r=i(r)}catch(Me){L(o,Me)}}D(o,r)||("fulfilled"===n&&M(o,r),"rejected"===n&&L(o,r))}function D(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===i(t))){var r=t.then;if("function"==typeof r)return r.call(t,(function(r){n||(n=!0,t===r?j(e,r):M(e,r))}),(function(t){n||(n=!0,L(e,t))})),!0}}catch(Me){return n||L(e,Me),!0}return!1}function M(e,t){e!==t&&D(e,t)||j(e,t)}function j(e,t){"pending"===e._state&&(e._state="settled",e._data=t,N(F,e))}function L(e,t){"pending"===e._state&&(e._state="settled",e._data=t,N(V,e))}function B(e){e._then=e._then.forEach(R)}function F(e){e._state="fulfilled",B(e)}function V(e){e._state="rejected",B(e),!e._handled&&A&&global.process.emit("unhandledRejection",e._data,e)}function U(e){global.process.emit("rejectionHandled",e)}function q(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof q==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){L(t,e)}try{e((function(e){M(t,e)}),n)}catch(Me){n(Me)}}(e,this)}q.prototype={constructor:q,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(T),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&A&&N(U,this)),"fulfilled"===this._state||"rejected"===this._state?N(R,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},q.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new q((function(t,n){var r=[],i=0;function o(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var a,l=0;l<e.length;l++)(a=e[l])&&"function"==typeof a.then?a.then(o(l),n):r[l]=a;i||t(r)}))},q.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new q((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"==typeof r.then?r.then(t,n):t(r)}))},q.resolve=function(e){return e&&"object"===i(e)&&e.constructor===q?e:new q((function(t){t(e)}))},q.reject=function(e){return new q((function(t,n){n(e)}))};var H=16,z={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function G(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function W(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function K(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function J(e){return e.size!==z.size||e.x!==z.x||e.y!==z.y||e.rotate!==z.rotate||e.flipX||e.flipY}function Q(e){var t=e.transform,n=e.iconWidth,r={transform:"translate(".concat(e.containerWidth/2," 256)")},i="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var Y={x:0,y:0,width:"100%",height:"100%"};function $(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function X(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,l=e.transform,s=e.symbol,u=e.title,c=e.maskId,h=e.titleId,f=e.extra,d=e.watchable,p=void 0!==d&&d,v=r.found?r:n,g=v.width,m=v.height,y="fak"===i,b=y?"":"fa-w-".concat(Math.ceil(g/m*16)),_=[k.replacementClass,o?"".concat(k.familyPrefix,"-").concat(o):"",b].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),w={children:[],attributes:a({},f.attributes,{"data-prefix":i,"data-icon":o,class:_,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},C=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};p&&(w.attributes["data-fa-i2svg"]=""),u&&w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(h||G())},children:[u]});var I=a({},w,{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:l,symbol:s,styles:a({},C,f.styles)}),E=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,l=e.maskId,s=i.icon,u=o.icon,c=Q({transform:e.transform,containerWidth:o.width,iconWidth:i.width}),h={tag:"rect",attributes:a({},Y,{fill:"white"})},f=s.children?{children:s.children.map($)}:{},d={tag:"g",attributes:a({},c.inner),children:[$(a({tag:s.tag,attributes:a({},s.attributes,c.path)},f))]},p={tag:"g",attributes:a({},c.outer),children:[d]},v="mask-".concat(l||G()),g="clip-".concat(l||G()),m={tag:"mask",attributes:a({},Y,{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,p]},y={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=u,"g"===t.tag?t.children:[t])},m]};return n.push(y,{tag:"rect",attributes:a({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(v,")")},Y)}),{children:n,attributes:r}}(I):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,o=K(e.styles);if(o.length>0&&(n.style=o),J(i)){var l=Q({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:a({},l.outer),children:[{tag:"g",attributes:a({},l.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:a({},r.icon.attributes,l.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(I),S=E.attributes;return I.children=E.children,I.attributes=S,s?function(e){var t=e.iconName,n=e.children,r=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:a({},e.attributes,{id:!0===r?"".concat(e.prefix,"-").concat(k.familyPrefix,"-").concat(t):r}),children:n}]}]}(I):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,l=e.transform;if(J(l)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=K(a({},o,{"transform-origin":"".concat(s.x+l.x/16,"em ").concat(s.y+l.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(I)}function Z(e){var t=e.content,n=e.width,r=e.height,i=e.transform,o=e.title,l=e.extra,s=e.watchable,u=void 0!==s&&s,c=a({},l.attributes,o?{title:o}:{},{class:l.classes.join(" ")});u&&(c["data-fa-i2svg"]="");var h=a({},l.styles);J(i)&&(h.transform=function(e){var t=e.transform,n=e.width,r=e.height,i=void 0===r?16:r,o=e.startCentered,a=void 0!==o&&o,l="";return l+=a&&g?"translate(".concat(t.x/H-(void 0===n?16:n)/2,"em, ").concat(t.y/H-i/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/H,"em), calc(-50% + ").concat(t.y/H,"em)) "):"translate(".concat(t.x/H,"em, ").concat(t.y/H,"em) "),(l+="scale(".concat(t.size/H*(t.flipX?-1:1),", ").concat(t.size/H*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),h["-webkit-transform"]=h.transform);var f=K(h);f.length>0&&(c.style=f);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}function ee(e){var t=e.content,n=e.title,r=e.extra,i=a({},r.attributes,n?{title:n}:{},{class:r.classes.join(" ")}),o=K(r.styles);o.length>0&&(i.style=o);var l=[];return l.push({tag:"span",attributes:i,children:[t]}),n&&l.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),l}var te=function(e,t,n,r){var i,o,a,l=Object.keys(e),s=l.length,u=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,a=e[l[0]]):(i=0,a=n);i<s;i++)a=u(a,e[o=l[i]],o,e);return a};function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(t).reduce((function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!=typeof I.hooks.addPack||i?I.styles[e]=a({},I.styles[e]||{},o):I.hooks.addPack(e,o),"fas"===e&&ne("fa",t)}var re=I.styles,ie=I.shims,oe=function(){var e=function(e){return te(re,(function(t,n,r){return t[r]=te(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in re;te(ie,(function(e,n){var r=n[1];return"far"!==r||t||(r="fas"),e[n[0]]={prefix:r,iconName:n[2]},e}),{})};function ae(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function le(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"==typeof e?W(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(W(e[n]),'" ')}),"").trim()}(r),">").concat(o.map(le).join(""),"</").concat(t,">")}function se(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}oe(),(se.prototype=Object.create(Error.prototype)).constructor=se;var ue={fill:"currentColor"},ce={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},he=(a({},ue,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),a({},ce,{attributeName:"opacity"}));function fe(e){var t=e[0],n=e[1],r=l(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(k.familyPrefix,"-").concat(b.GROUP)},children:[{tag:"path",attributes:{class:"".concat(k.familyPrefix,"-").concat(b.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(k.familyPrefix,"-").concat(b.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function de(){k.autoAddCss&&!ye&&(function(e){if(e&&v){var t=p.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=p.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}p.head.insertBefore(t,r)}}(function(){var e="svg-inline--fa",t=k.familyPrefix,n=k.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==t||n!==e){var i=new RegExp("\\.".concat("fa","\\-"),"g"),o=new RegExp("\\--".concat("fa","\\-"),"g"),a=new RegExp("\\.".concat(e),"g");r=r.replace(i,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(a,".".concat(n))}return r}()),ye=!0)}function pe(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return le(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(v){var t=p.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function ve(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return ae(me.definitions,n,r)||ae(I.styles,n,r)}a({},ue,{cx:"256",cy:"364",r:"28"}),a({},ce,{attributeName:"r",values:"28;14;28;28;14;28;"}),a({},he,{values:"1;0;1;1;0;1;"}),a({},ue,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),a({},he,{values:"1;0;0;0;0;1;"}),a({},ue,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),a({},he,{values:"0;0;1;1;0;0;"});var ge,me=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t;return(t=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=a({},e.definitions[t]||{},i[t]),ne(t,i[t]),oe()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,o=r.iconName,a=r.icon;e[i]||(e[i]={}),e[i][o]=a})),e}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()),ye=!1,be=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),t):t}(e)},_e=(ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?z:n,i=t.symbol,o=void 0!==i&&i,l=t.mask,s=void 0===l?null:l,u=t.maskId,c=void 0===u?null:u,h=t.title,f=void 0===h?null:h,d=t.titleId,p=void 0===d?null:d,v=t.classes,g=void 0===v?[]:v,m=t.attributes,y=void 0===m?{}:m,b=t.styles,_=void 0===b?{}:b;if(e){var w=e.prefix,C=e.iconName,I=e.icon;return pe(a({type:"icon"},e),(function(){return de(),k.autoA11y&&(f?y["aria-labelledby"]="".concat(k.replacementClass,"-title-").concat(p||G()):(y["aria-hidden"]="true",y.focusable="false")),X({icons:{main:fe(I),mask:s?fe(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:C,transform:a({},z,r),symbol:o,title:f,maskId:c,titleId:p,extra:{attributes:y,styles:_,classes:g}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:ve(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:ve(r||{})),ge(n,a({},t,{mask:r}))});n.d(t,"a",(function(){return Ce})),n.d(t,"b",(function(){return Ae})),n.d(t,"c",(function(){return Te})),n.d(t,"d",(function(){return Ie})),n.d(t,"e",(function(){return Oe})),n.d(t,"f",(function(){return Pe})),n.d(t,"g",(function(){return Ne})),n.d(t,"h",(function(){return Re})),n.d(t,"i",(function(){return Se})),n.d(t,"j",(function(){return De}));var we,ke,Ce=((ke=function e(){_classCallCheck(this,e),this.defaultPrefix="fas",this.globalLibrary="unset"}).ngInjectableDef=Object(r.Nb)({factory:function(){return new ke},token:ke,providedIn:"root"}),ke),Ie=((we=function(){function e(){_classCallCheck(this,e),this.definitions={}}return _createClass(e,[{key:"addIcons",value:function(){for(var e=0;e<arguments.length;e++){var t=e<0||arguments.length<=e?void 0:arguments[e];t.prefix in this.definitions||(this.definitions[t.prefix]={}),this.definitions[t.prefix][t.iconName]=t}}},{key:"addIconPacks",value:function(){for(var e=arguments,t=this,n=function(n){var r=n<0||e.length<=n?void 0:e[n],i=Object.keys(r).map((function(e){return r[e]}));t.addIcons.apply(t,_toConsumableArray2(i))},r=0;r<arguments.length;r++)n(r)}},{key:"getIconDefinition",value:function(e,t){return e in this.definitions&&t in this.definitions[e]?this.definitions[e][t]:null}}]),e}()).ngInjectableDef=Object(r.Nb)({factory:function(){return new we},token:we,providedIn:"root"}),we),Ee=function(e){var t,n=(_defineProperty2(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-layers-counter":e.counter,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip},"fa-"+e.size,null!==e.size),_defineProperty2(t,"fa-rotate-"+e.rotate,null!==e.rotate),_defineProperty2(t,"fa-pull-"+e.pull,null!==e.pull),_defineProperty2(t,"fa-stack-"+e.stackItemSize,null!=e.stackItemSize),t);return Object.keys(n).map((function(e){return n[e]?e:null})).filter((function(e){return e}))},Se=function(){function e(){_classCallCheck(this,e),this.stackItemSize="1x"}return _createClass(e,[{key:"ngOnChanges",value:function(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}]),e}(),Te=function(){function e(t,n,r,i){_classCallCheck(this,e),this.sanitizer=t,this.config=n,this.iconLibrary=r,this.stackItem=i,this.classes=[]}return _createClass(e,[{key:"iconProp",get:function(){return this.icon},set:function(e){this.icon=e}},{key:"ngOnChanges",value:function(e){if(null!=this.icon){if(e){var t=this.findIconDefinition(this.icon);if(null!=t){var n=this.buildParams();this.renderIcon(t,n)}}}else console.error("FontAwesome: Property `icon` is required for `fa-icon`/`fa-duotone-icon` components. This warning will become a hard error in 0.6.0.")}},{key:"render",value:function(){this.ngOnChanges({})}},{key:"findIconDefinition",value:function(e){var t=function(e,t){return void 0!==(n=e).prefix&&void 0!==n.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:t,iconName:e}:void 0;var n}(e,this.config.defaultPrefix);if("icon"in t)return t;var n=this.iconLibrary.getIconDefinition(t.prefix,t.iconName);if(null!=n)return n;var r,i=ve(t);if(null!=i){var o="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+o);else if(!this.config.globalLibrary)throw new Error(o);return i}return r=t,console.error("FontAwesome: Could not find icon with iconName=".concat(r.iconName," and prefix=").concat(r.prefix,". This warning will become a hard error in 0.6.0.")),null}},{key:"buildParams",value:function(){var e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,listItem:this.listItem,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:this.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},t="string"==typeof this.transform?be(this.transform):this.transform;return{title:this.title,transform:t,classes:[].concat(_toConsumableArray2(Ee(e)),_toConsumableArray2(this.classes)),mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}},{key:"renderIcon",value:function(e,t){var n=_e(e,t);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}]),e}(),Ae=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"findIconDefinition",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"findIconDefinition",this).call(this,e);if(null!=t&&"fad"!==t.prefix)throw new Error("The specified icon does not appear to be a Duotone icon. Check that you specified the correct style: <fa-duotone-icon [icon]=\"['fab', '".concat(t.iconName,'\']"></fa-duotone-icon> or use: <fa-icon icon="').concat(t.iconName,'"></fa-icon> instead.'));return t}},{key:"buildParams",value:function(){var e=_get(_getPrototypeOf(n.prototype),"buildParams",this).call(this);return!0!==this.swapOpacity&&"true"!==this.swapOpacity||e.classes.push("fa-swap-opacity"),null!=this.primaryOpacity&&(e.styles["--fa-primary-opacity"]=this.primaryOpacity.toString()),null!=this.secondaryOpacity&&(e.styles["--fa-secondary-opacity"]=this.secondaryOpacity.toString()),null!=this.primaryColor&&(e.styles["--fa-primary-color"]=this.primaryColor),null!=this.secondaryColor&&(e.styles["--fa-secondary-color"]=this.secondaryColor),e}}]),n}(Te),Oe=function(){function e(t,n){_classCallCheck(this,e),this.renderer=t,this.elementRef=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.renderer.addClass(this.elementRef.nativeElement,"fa-layers")}},{key:"ngOnChanges",value:function(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,"fa-"+e.size.currentValue),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,"fa-"+e.size.previousValue))}}]),e}(),xe=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.parent=t,this.sanitizer=n,this.classes=[],r.parent||console.error("FontAwesome: ".concat(r.constructor.name," should be used as child of FaLayersComponent only."))}return _createClass(e,[{key:"ngOnChanges",value:function(e){e&&(this.updateParams(),this.updateContent())}},{key:"updateContent",value:function(){this.renderedHTML=this.sanitizer.bypassSecurityTrustHtml(this.renderFontawesomeObject(this.content||"",this.params).html.join("\n"))}}]),e}(),Pe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"updateParams",value:function(){this.params={title:this.title,classes:this.classes,styles:this.styles}}},{key:"renderFontawesomeObject",value:function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,o=void 0===i?[]:i,a=t.attributes,l=void 0===a?{}:a,u=t.styles,c=void 0===u?{}:u;return pe({type:"counter",content:e},(function(){return de(),ee({content:e.toString(),title:r,extra:{attributes:l,styles:c,classes:["".concat(k.familyPrefix,"-layers-counter")].concat(s(o))}})}))}(e,t)}}]),n}(xe),Ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"updateParams",value:function(){var e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,listItem:this.listItem,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:this.fixedWidth},t="string"==typeof this.transform?be(this.transform):this.transform;this.params={transform:t,classes:[].concat(_toConsumableArray2(Ee(e)),_toConsumableArray2(this.classes)),title:this.title,styles:this.styles}}},{key:"renderFontawesomeObject",value:function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?z:n,i=t.title,o=void 0===i?null:i,l=t.classes,u=void 0===l?[]:l,c=t.attributes,h=void 0===c?{}:c,f=t.styles,d=void 0===f?{}:f;return pe({type:"text",content:e},(function(){return de(),Z({content:e,transform:a({},z,r),title:o,extra:{attributes:h,styles:d,classes:["".concat(k.familyPrefix,"-layers-text")].concat(s(u))}})}))}(e,t)}}]),n}(xe),Re=function(){function e(t,n){_classCallCheck(this,e),this.renderer=t,this.elementRef=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}},{key:"ngOnChanges",value:function(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,"fa-"+e.size.currentValue),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,"fa-"+e.size.previousValue))}}]),e}(),De=function e(){_classCallCheck(this,e)}},O1pP:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("reDK"),n("WMih"),n("hqm0"),n("ej4/"),n("UJ5t"),n("3mnW"),n("AiNZ"),n("hti6");var r=function e(){_classCallCheck(this,e)}},OLod:function(e,t,n){var r,i,o,a,l,s,u,c,h,f,d,p,v,g,m,y,b,_,w;e.exports=(r=n("Ib8C"),n("K3mO"),void(r.lib.Cipher||(i=r,o=i.lib,a=o.Base,l=o.WordArray,s=o.BufferedBlockAlgorithm,u=i.enc,c=u.Base64,h=i.algo.EvpKDF,f=o.Cipher=s.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:b}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),o.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d=i.mode={},p=o.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),v=d.CBC=function(){var e=p.extend();function t(e,t,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var o=0;o<n;o++)e[t+o]^=r[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=o}}),e}(),g=(i.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,o=[],a=0;a<r;a+=4)o.push(i);var s=l.create(o,r);e.concat(s)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},o.BlockCipher=f.extend({cfg:f.cfg.extend({mode:v,padding:g}),reset:function(){var e;f.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),m=o.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),y=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?l.create([1398893684,1701076831]).concat(n).concat(t):t).toString(c)},parse:function(e){var t,n=c.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=l.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},b=o.SerializableCipher=a.extend({cfg:a.extend({format:y}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),a=i.cfg;return m.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(i.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=l.random(8));var i=h.create({keySize:t+n}).compute(e,r),o=l.create(i.words.slice(t),4*n);return i.sigBytes=4*t,m.create({key:i,iv:o,salt:r})}},w=o.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:_}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=b.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,b.decrypt.call(this,e,t,i.key,r)}}))))},ONxg:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("mrSG"),i=n("Jgta"),o=(n("WI49"),n("AAub"),n("5x/H"),n("Zs65"),n("6nsN"),n("2+LC")),a=n("LRne"),l=n("Mhm5"),s=n("8Y7J"),u=n("jDPn"),c=function(){var e=function(){function e(t){_classCallCheck(this,e),this.cripto=t}return _createClass(e,[{key:"iniciarFirebase",value:function(){0===i.a.apps.length&&i.a.initializeApp(l.a.firebaseConfig)}},{key:"getFotografiaPrincipal",value:function(e){var t=new o.a;return i.a.database().ref().child("imagenesFB/".concat(e,"/principal")).on("value",(function(e){var n=e.val();if(console.log("Obteniendo fotografia de BD",n),n)for(var r in n)t.url=n[r].url,t.nombre=n[r].nombre,t.tipo=n[r].tipo;else t.url="../../../assets/sin_imagen.png",t.nombre="default",t.tipo="principal"})),Object(a.a)(t)}},{key:"getFotografiasSecundarias",value:function(e){var t=[];return i.a.database().ref().child("imagenesFB/".concat(e,"/secundaria")).on("value",(function(e){var n=e.val();for(var r in n){var i=new o.a;i.url=n[r].url,i.nombre=n[r].nombre,i.tipo=n[r].tipo,t.push(i)}})),Object(a.a)(t)}},{key:"getFotografiasCroquis",value:function(e){var t=[],n=i.a.database().ref().child("imagenesFB/".concat(e,"/croquis"));return t=[],n.on("value",(function(e){var n=e.val();for(var r in n){var i=new o.a;i.url=n[r].url,i.nombre=n[r].nombre,i.tipo=n[r].tipo,t.push(i)}})),Object(a.a)(t)}},{key:"uploadImage",value:function(e,t,n){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function r(){var a,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=i.a.storage().ref().child("imagenes/".concat(t,"/").concat(n,"/").concat(e.name)),r.next=3,l.put(this.cripto.encriptarArchivo(e)).then((function(r){if("principal"==n){(a=i.a.database().ref().child("imagenesFB/".concat(t,"/principal"))).remove();var s=e.name.split(".");a=i.a.database().ref().child("imagenesFB/".concat(t,"/principal/").concat(s[0]))}if("secundaria"==n){var u=e.name.split(".");a=i.a.database().ref().child("imagenesFB/".concat(t,"/secundaria/").concat(u[0]))}if("croquis"==n){var c=e.name.split(".");a=i.a.database().ref().child("imagenesFB/".concat(t,"/croquis/").concat(c[0]))}l.getDownloadURL().then((function(t){var r=new o.a;r.url=t,r.nombre=e.name,r.tipo=n,a.set({nombre:r.nombre,url:r.url,tipo:r.tipo})}))}));case 3:case"end":return r.stop()}}),r,this)})))}},{key:"deleteImage",value:function(e,t){var n=e.nombre.split(".")[0],r=i.a.database().ref().child("imagenesFB/".concat(t,"/").concat(e.tipo,"/").concat(n)),o=i.a.storage().ref().child("imagenes/".concat(t,"/").concat(e.tipo,"/").concat(e.nombre));r.remove(),o.delete()}},{key:"deleteNode",value:function(e){i.a.database().ref().child("imagenesFB/".concat(e,"/")).remove(),this.deleteFolderContents("imagenes/".concat(e,"/"))}},{key:"deleteFolderContents",value:function(e){var t=this,n=i.a.storage().ref(e);n.listAll().then((function(e){e.items.forEach((function(e){t.deleteFile(n.fullPath,e.name)})),e.prefixes.forEach((function(e){t.deleteFolderContents(e.fullPath)}))})).catch((function(e){console.log(e)}))}},{key:"deleteFile",value:function(e,t){i.a.storage().ref(e).child(t).delete()}}]),e}();return e.ngInjectableDef=s.Nb({factory:function(){return new e(s.Ob(u.a))},token:e,providedIn:"root"}),e}()},PIQr:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("8Y7J"),i=n("zVCn"),o=n("ej4/"),a=n("z58d"),l=n("HTik"),s=n("UJ5t"),u=r.nb({encapsulation:2,styles:[],data:{}});function c(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Validaci\xf3n de fichas propuestas"])),(e()(),r.pb(3,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,['En esta secci\xf3n, el administrador, puede validar las fichas propuestas por los usuarios. Al validarlas pasan a almacenarse "en claro" en el servidor.'])),(e()(),r.pb(5,0,null,null,1,"app-listadofichas",[],null,null,null,i.c,i.b)),r.ob(6,114688,null,0,o.a,[a.a,l.a],{fichas:[0,"fichas"]},null)],(function(e,t){e(t,6,0,t.component.fichasSinValidar)}),null)}var h=r.lb("app-validador",s.a,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-validador",[],null,null,null,c,u)),r.ob(1,114688,null,0,s.a,[a.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[])},PSD3:function(e,t,n){e.exports=function(){"use strict";var e=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),t=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n=function(e){return Array.prototype.slice.call(e)},r=function(e){console.warn("".concat("SweetAlert2:"," ").concat("object"==typeof e?e.join(" "):e))},i=function(e){console.error("".concat("SweetAlert2:"," ").concat(e))},o=[],a=function(e){return"function"==typeof e?e():e},l=function(e){return e&&"function"==typeof e.toPromise},s=function(e){return l(e)?e.toPromise():Promise.resolve(e)},u=function(e){return e&&Promise.resolve(e)===e},c=function(e){return e instanceof Element||function(e){return"object"==typeof e&&e.jquery}(e)},h=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},f=h(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),d=h(["success","warning","info","question","error"]),p=function(){return document.body.querySelector(".".concat(f.container))},v=function(e){var t=p();return t?t.querySelector(e):null},g=function(e){return v(".".concat(e))},m=function(){return g(f.popup)},y=function(){return g(f.icon)},b=function(){return g(f.title)},_=function(){return g(f["html-container"])},w=function(){return g(f.image)},k=function(){return g(f["progress-steps"])},C=function(){return g(f["validation-message"])},I=function(){return v(".".concat(f.actions," .").concat(f.confirm))},E=function(){return v(".".concat(f.actions," .").concat(f.deny))},S=function(){return v(".".concat(f.loader))},T=function(){return v(".".concat(f.actions," .").concat(f.cancel))},A=function(){return g(f.actions)},O=function(){return g(f.footer)},x=function(){return g(f["timer-progress-bar"])},P=function(){return g(f.close)},N=function(){var e=n(m().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(e,t){return(e=parseInt(e.getAttribute("tabindex")))>(t=parseInt(t.getAttribute("tabindex")))?1:e<t?-1:0})),t=n(m().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(e.concat(t)).filter((function(e){return Y(e)}))},R=function(){return!D()&&!document.body.classList.contains(f["no-backdrop"])},D=function(){return document.body.classList.contains(f["toast-shown"])},M={previousBodyPadding:null},j=function(e,t){if(e.textContent="",t){var r=(new DOMParser).parseFromString(t,"text/html");n(r.querySelector("head").childNodes).forEach((function(t){e.appendChild(t)})),n(r.querySelector("body").childNodes).forEach((function(t){e.appendChild(t)}))}},L=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},B=function(e,t,i){if(function(e,t){n(e.classList).forEach((function(n){Object.values(f).includes(n)||Object.values(d).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)}))}(e,t),t.customClass&&t.customClass[i]){if("string"!=typeof t.customClass[i]&&!t.customClass[i].forEach)return r("Invalid type of customClass.".concat(i,'! Expected string or iterable object, got "').concat(typeof t.customClass[i],'"'));q(e,t.customClass[i])}},F=function(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return z(e,f[t]);case"checkbox":return e.querySelector(".".concat(f.checkbox," input"));case"radio":return e.querySelector(".".concat(f.radio," input:checked"))||e.querySelector(".".concat(f.radio," input:first-child"));case"range":return e.querySelector(".".concat(f.range," input"));default:return z(e,f.input)}},V=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},U=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){e.forEach?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},q=function(e,t){U(e,t,!0)},H=function(e,t){U(e,t,!1)},z=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(L(e.childNodes[n],t))return e.childNodes[n]},G=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},K=function(e){e.style.display="none"},J=function(e,t,n,r){var i=e.querySelector(t);i&&(i.style[n]=r)},Q=function(e,t,n){t?W(e,n):K(e)},Y=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},$=function(e){return!!(e.scrollHeight>e.clientHeight)},X=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=x();Y(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},ee=function(){return"undefined"==typeof window||"undefined"==typeof document},te='\n <div aria-labelledby="'.concat(f.title,'" aria-describedby="').concat(f["html-container"],'" class="').concat(f.popup,'" tabindex="-1">\n   <button type="button" class="').concat(f.close,'"></button>\n   <ul class="').concat(f["progress-steps"],'"></ul>\n   <div class="').concat(f.icon,'"></div>\n   <img class="').concat(f.image,'" />\n   <h2 class="').concat(f.title,'" id="').concat(f.title,'"></h2>\n   <div class="').concat(f["html-container"],'" id="').concat(f["html-container"],'"></div>\n   <input class="').concat(f.input,'" />\n   <input type="file" class="').concat(f.file,'" />\n   <div class="').concat(f.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(f.select,'"></select>\n   <div class="').concat(f.radio,'"></div>\n   <label for="').concat(f.checkbox,'" class="').concat(f.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(f.label,'"></span>\n   </label>\n   <textarea class="').concat(f.textarea,'"></textarea>\n   <div class="').concat(f["validation-message"],'" id="').concat(f["validation-message"],'"></div>\n   <div class="').concat(f.actions,'">\n     <div class="').concat(f.loader,'"></div>\n     <button type="button" class="').concat(f.confirm,'"></button>\n     <button type="button" class="').concat(f.deny,'"></button>\n     <button type="button" class="').concat(f.cancel,'"></button>\n   </div>\n   <div class="').concat(f.footer,'"></div>\n   <div class="').concat(f["timer-progress-bar-container"],'">\n     <div class="').concat(f["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ne=function(){xt.isVisible()&&xt.resetValidationMessage()},re=function(e,t){e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?ie(e,t):e&&j(t,e)},ie=function(e,t){e.jquery?oe(t,e):j(t,e.toString())},oe=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},ae=function(){if(ee())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1}();function le(e,n,r){Q(e,r["show".concat(t(n),"Button")],"inline-block"),j(e,r["".concat(n,"ButtonText")]),e.setAttribute("aria-label",r["".concat(n,"ButtonAriaLabel")]),e.className=f[n],B(e,r,"".concat(n,"Button")),q(e,r["".concat(n,"ButtonClass")])}var se={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},ue=["input","file","range","select","radio","checkbox","textarea"],ce=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},he=function(e,t,n){if(n.inputLabel){e.id=f.input;var r=document.createElement("label"),i=f["input-label"];r.setAttribute("for",e.id),r.className=i,q(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},fe=function(e){var t=f[e]?f[e]:f.input;return z(m(),t)},de={};de.text=de.email=de.password=de.number=de.tel=de.url=function(e,t){return"string"==typeof t.inputValue||"number"==typeof t.inputValue?e.value=t.inputValue:u(t.inputValue)||r('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t.inputValue,'"')),he(e,e,t),ce(e,t),e.type=t.input,e},de.file=function(e,t){return he(e,e,t),ce(e,t),e},de.range=function(e,t){var n=e.querySelector("input"),r=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,r.value=t.inputValue,he(n,e,t),e},de.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");j(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return he(e,e,t),e},de.radio=function(e){return e.textContent="",e},de.checkbox=function(e,t){var n=F(m(),"checkbox");n.value=1,n.id=f.checkbox,n.checked=Boolean(t.inputValue);var r=e.querySelector("span");return j(r,t.inputPlaceholder),e},de.textarea=function(e,t){return e.value=t.inputValue,ce(e,t),he(e,e,t),setTimeout((function(){if("MutationObserver"in window){var t=parseInt(window.getComputedStyle(m()).width);new MutationObserver((function(){var n,r=e.offsetWidth+(n=e,parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight));m().style.width=r>t?"".concat(r,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};var pe=function(e,t){for(var n in d)t.icon!==n&&H(e,d[n]);q(e,d[t.icon]),me(e,t),ve(),B(e,t,"icon")},ve=function(){for(var e=m(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=t},ge=function(e,t){e.textContent="",j(e,t.iconHtml?ye(t.iconHtml):"success"===t.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===t.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':ye({question:"?",warning:"!",info:"i"}[t.icon]))},me=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++){J(e,r[n],"backgroundColor",t.iconColor)}J(e,".swal2-success-ring","borderColor",t.iconColor)}},ye=function(e){return'<div class="'.concat(f["icon-content"],'">').concat(e,"</div>")},be=function(e,t){(function(e,t){var n=p(),r=m();t.toast?(G(n,"width",t.width),r.style.width="100%",r.insertBefore(S(),y())):G(r,"width",t.width),G(r,"padding",t.padding),t.background&&(r.style.background=t.background),K(C()),function(e,t){e.className="".concat(f.popup," ").concat(Y(e)?t.showClass.popup:""),t.toast?(q([document.documentElement,document.body],f["toast-shown"]),q(e,f.toast)):q(e,f.modal),B(e,t,"popup"),"string"==typeof t.customClass&&q(e,t.customClass),t.icon&&q(e,f["icon-".concat(t.icon)])}(r,t)})(0,t),function(e,t){var n=p();n&&(function(e,t){"string"==typeof t?e.style.background=t:t||q([document.documentElement,document.body],f["no-backdrop"])}(n,t.backdrop),function(e,t){t in f?q(e,f[t]):(r('The "position" parameter is not valid, defaulting to "center"'),q(e,f.center))}(n,t.position),function(e,t){if(t&&"string"==typeof t){var n="grow-".concat(t);n in f&&q(e,f[n])}}(n,t.grow),B(n,t,"container"))}(0,t),function(e,t){var n=k();if(!t.progressSteps||0===t.progressSteps.length)return K(n);W(n),n.textContent="",t.currentProgressStep>=t.progressSteps.length&&r("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((function(e,r){var i=function(e){var t=document.createElement("li");return q(t,f["progress-step"]),j(t,e),t}(e);if(n.appendChild(i),r===t.currentProgressStep&&q(i,f["active-progress-step"]),r!==t.progressSteps.length-1){var o=function(e){var t=document.createElement("li");return q(t,f["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t}(t);n.appendChild(o)}}))}(0,t),function(e,t){var n=se.innerParams.get(e),r=y();n&&t.icon===n.icon?(ge(r,t),pe(r,t)):t.icon||t.iconHtml?t.icon&&-1===Object.keys(d).indexOf(t.icon)?(i('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),K(r)):(W(r),ge(r,t),pe(r,t),q(r,t.showClass.icon)):K(r)}(e,t),function(e,t){var n=w();if(!t.imageUrl)return K(n);W(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),G(n,"width",t.imageWidth),G(n,"height",t.imageHeight),n.className=f.image,B(n,t,"image")}(0,t),function(e,t){var n=b();Q(n,t.title||t.titleText,"block"),t.title&&re(t.title,n),t.titleText&&(n.innerText=t.titleText),B(n,t,"title")}(0,t),function(e,t){var n=P();j(n,t.closeButtonHtml),B(n,t,"closeButton"),Q(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)}(0,t),function(e,t){var n=_();B(n,t,"htmlContainer"),t.html?(re(t.html,n),W(n,"block")):t.text?(n.textContent=t.text,W(n,"block")):K(n),function(e,t){var n=m(),r=se.innerParams.get(e),o=!r||t.input!==r.input;ue.forEach((function(e){var r=f[e],i=z(n,r);(function(e,t){var n=F(m(),e);if(n)for(var r in function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}}(n),t)n.setAttribute(r,t[r])})(e,t.inputAttributes),i.className=r,o&&K(i)})),t.input&&(o&&function(e){if(!de[e.input])return i('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));var t=fe(e.input),n=de[e.input](t,e);W(n),setTimeout((function(){V(n)}))}(t),function(e){var t=fe(e.input);e.customClass&&q(t,e.customClass.input)}(t))}(e,t)}(e,t),function(e,t){var n=A(),r=S();t.showConfirmButton||t.showDenyButton||t.showCancelButton?W(n):K(n),B(n,t,"actions"),function(e,t,n){var r=I(),i=E(),o=T();le(r,"confirm",n),le(i,"deny",n),le(o,"cancel",n),function(e,t,n,r){if(!r.buttonsStyling)return H([e,t,n],f.styled);q([e,t,n],f.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,q(e,f["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,q(t,f["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,q(n,f["default-outline"]))}(r,i,o,n),n.reverseButtons&&(n.toast?(e.insertBefore(o,r),e.insertBefore(i,r)):(e.insertBefore(o,t),e.insertBefore(i,t),e.insertBefore(r,t)))}(n,r,t),j(r,t.loaderHtml),B(r,t,"loader")}(0,t),function(e,t){var n=O();Q(n,t.footer),t.footer&&re(t.footer,n),B(n,t,"footer")}(0,t),"function"==typeof t.didRender&&t.didRender(m())},_e=function(){return I()&&I().click()},we=function(e){var t=m();t||xt.fire(),t=m();var n=S();D()?K(y()):ke(t,e),W(n),t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},ke=function(e,t){var n=A(),r=S();!t&&Y(I())&&(t=I()),W(n),t&&(K(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),q([e,n],f.loading)},Ce={},Ie=function(){if(Ce.timeout)return function(){var e=x(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=parseInt(window.getComputedStyle(e).width),r=parseInt(t/n*100);e.style.removeProperty("transition"),e.style.width="".concat(r,"%")}(),Ce.timeout.stop()},Ee=function(){if(Ce.timeout){var e=Ce.timeout.start();return Z(e),e}},Se=!1,Te={},Ae=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in Te){var r=t.getAttribute(n);if(r)return void Te[n].fire({template:r})}},Oe={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},xe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Pe={},Ne=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Re=function(e){return Object.prototype.hasOwnProperty.call(Oe,e)},De=function(e){return Pe[e]},Me=function(e){Re(e)||r('Unknown parameter "'.concat(e,'"'))},je=function(e){Ne.includes(e)&&r('The parameter "'.concat(e,'" is incompatible with toasts'))},Le=function(e){var t,n,i;De(e)&&(t=e,n=De(e),i='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),o.includes(i)||(o.push(i),r(i)))},Be=function(e){for(var t in!e.backdrop&&e.allowOutsideClick&&r('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)Me(t),e.toast&&je(t),Le(t)},Fe=Object.freeze({isValidParameter:Re,isUpdatableParameter:function(e){return-1!==xe.indexOf(e)},isDeprecatedParameter:De,argsToParams:function(e){var t={};return"object"!=typeof e[0]||c(e[0])?["title","html","icon"].forEach((function(n,r){var o=e[r];"string"==typeof o||c(o)?t[n]=o:void 0!==o&&i("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof o))})):Object.assign(t,e[0]),t},isVisible:function(){return Y(m())},clickConfirm:_e,clickDeny:function(){return E()&&E().click()},clickCancel:function(){return T()&&T().click()},getContainer:p,getPopup:m,getTitle:b,getHtmlContainer:_,getImage:w,getIcon:y,getInputLabel:function(){return g(f["input-label"])},getCloseButton:P,getActions:A,getConfirmButton:I,getDenyButton:E,getCancelButton:T,getLoader:S,getFooter:O,getTimerProgressBar:x,getFocusableElements:N,getValidationMessage:C,isLoading:function(){return m().hasAttribute("data-loading")},fire:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _construct(e,n)},mixin:function(e){return function(t){_inherits(r,t);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.apply(this,arguments)}return _createClass(r,[{key:"_main",value:function(t,n){return _get(_getPrototypeOf(r.prototype),"_main",this).call(this,t,Object.assign({},e,n))}}]),r}(this)},showLoading:we,enableLoading:we,getTimerLeft:function(){return Ce.timeout&&Ce.timeout.getTimerLeft()},stopTimer:Ie,resumeTimer:Ee,toggleTimer:function(){var e=Ce.timeout;return e&&(e.running?Ie():Ee())},increaseTimer:function(e){if(Ce.timeout){var t=Ce.timeout.increase(e);return Z(t,!0),t}},isTimerRunning:function(){return Ce.timeout&&Ce.timeout.isRunning()},bindClickHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template";Te[e]=this,Se||(document.body.addEventListener("click",Ae),Se=!0)}});function Ve(){var e=se.innerParams.get(this);if(e){var t=se.domCache.get(this);K(t.loader),D()?e.icon&&W(y()):Ue(t),H([t.popup,t.actions],f.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var Ue=function(e){var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?W(t[0],"inline-block"):Y(I())||Y(E())||Y(T())||K(e.actions)},qe=function(){n(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},He={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function ze(e,t,n,r){D()?$e(e,r):(function(e){return new Promise((function(t){if(!e)return t();var n=window.scrollX,r=window.scrollY;Ce.restoreFocusTimeout=setTimeout((function(){Ce.previousActiveElement&&Ce.previousActiveElement.focus?(Ce.previousActiveElement.focus(),Ce.previousActiveElement=null):document.body&&document.body.focus(),t()}),100),window.scrollTo(n,r)}))}(n).then((function(){return $e(e,r)})),Ce.keydownTarget.removeEventListener("keydown",Ce.keydownHandler,{capture:Ce.keydownListenerCapture}),Ce.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),R()&&(null!==M.previousBodyPadding&&(document.body.style.paddingRight="".concat(M.previousBodyPadding,"px"),M.previousBodyPadding=null),function(){if(L(document.body,f.iosfix)){var e=parseInt(document.body.style.top,10);H(document.body,f.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}}(),qe()),H([document.documentElement,document.body],[f.shown,f["height-auto"],f["no-backdrop"],f["toast-shown"]])}function Ge(e){e=Je(e);var t=He.swalPromiseResolve.get(this),n=We(this);this.isAwaitingPromise()?e.isDismissed||(Ke(this),t(e)):n&&t(e)}var We=function(e){var t=m();if(!t)return!1;var n=se.innerParams.get(e);if(!n||L(t,n.hideClass.popup))return!1;H(t,n.showClass.popup),q(t,n.hideClass.popup);var r=p();return H(r,n.showClass.backdrop),q(r,n.hideClass.backdrop),Qe(e,t,n),!0},Ke=function(e){e.isAwaitingPromise()&&(se.awaitingPromise.delete(e),se.innerParams.get(e)||e._destroy())},Je=function(e){return void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},Qe=function(e,t,n){var r=p(),i=ae&&X(t);"function"==typeof n.willClose&&n.willClose(t),i?Ye(e,t,r,n.returnFocus,n.didClose):ze(e,r,n.returnFocus,n.didClose)},Ye=function(e,t,n,r,i){Ce.swalCloseEventFinishedCallback=ze.bind(null,e,n,r,i),t.addEventListener(ae,(function(e){e.target===t&&(Ce.swalCloseEventFinishedCallback(),delete Ce.swalCloseEventFinishedCallback)}))},$e=function(e,t){setTimeout((function(){"function"==typeof t&&t.bind(e.params)(),e._destroy()}))};function Xe(e,t,n){var r=se.domCache.get(e);t.forEach((function(e){r[e].disabled=n}))}function Ze(e,t){if(!e)return!1;if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=t;else e.disabled=t}var et=function(){function e(t,n){_classCallCheck(this,e),this.callback=t,this.remaining=n,this.running=!1,this.start()}return _createClass(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),tt={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function nt(e){!function(e){e.inputValidator||Object.keys(tt).forEach((function(t){e.input===t&&(e.inputValidator=tt[t])}))}(e),e.showLoaderOnConfirm&&!e.preConfirm&&r("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(r('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),function(e){var t,n=!!(t=p())&&(t.remove(),H([document.documentElement,document.body],[f["no-backdrop"],f["toast-shown"],f["has-column"]]),!0);if(ee())i("SweetAlert2 requires document to initialize");else{var r=document.createElement("div");r.className=f.container,n&&q(r,f["no-transition"]),j(r,te);var o,a,l,s,u,c,h,d,v,g="string"==typeof(o=e.target)?document.querySelector(o):o;g.appendChild(r),function(e){var t=m();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")}(e),function(e){"rtl"===window.getComputedStyle(e).direction&&q(p(),f.rtl)}(g),a=m(),l=z(a,f.input),s=z(a,f.file),u=a.querySelector(".".concat(f.range," input")),c=a.querySelector(".".concat(f.range," output")),h=z(a,f.select),d=a.querySelector(".".concat(f.checkbox," input")),v=z(a,f.textarea),l.oninput=ne,s.onchange=ne,h.onchange=ne,d.onchange=ne,v.oninput=ne,u.oninput=function(){ne(),c.value=u.value},u.onchange=function(){ne(),u.nextSibling.value=u.value}}}(e)}var rt,it=["swal-title","swal-html","swal-footer"],ot=function(e,t){n(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&r(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},at=function e(t){var n=m();if(t.target===n){var r=p();n.removeEventListener(ae,e),r.style.overflowY="auto"}},lt={select:function(e,t,n){var r=z(e,f.select),i=function(e,t,r){var i=document.createElement("option");i.value=r,j(i,t),i.selected=st(r,n.inputValue),e.appendChild(i)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var o=document.createElement("optgroup");o.label=t,o.disabled=!1,r.appendChild(o),n.forEach((function(e){return i(o,e[1],e[0])}))}else i(r,n,t)})),r.focus()},radio:function(e,t,n){var r=z(e,f.radio);t.forEach((function(e){var t=e[0],i=e[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=f.radio,o.value=t,st(t,n.inputValue)&&(o.checked=!0);var l=document.createElement("span");j(l,i),l.className=f.label,a.appendChild(o),a.appendChild(l),r.appendChild(a)}));var i=r.querySelectorAll("input");i.length&&i[0].focus()}},st=function(e,t){return t&&t.toString()===e.toString()},ut=function(e,t){var n=se.innerParams.get(e),r=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return function(e){return e.checked?1:0}(n);case"radio":return function(e){return e.checked?e.value:null}(n);case"file":return function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null}(n);default:return t.inputAutoTrim?n.value.trim():n.value}}(e,n);n.inputValidator?ct(e,r,t):e.getInput().checkValidity()?"deny"===t?ht(e,r):pt(e,r):(e.enableButtons(),e.showValidationMessage(n.validationMessage))},ct=function(e,t,n){var r=se.innerParams.get(e);e.disableInput(),Promise.resolve().then((function(){return s(r.inputValidator(t,r.validationMessage))})).then((function(r){e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?ht(e,t):pt(e,t)}))},ht=function(e,t){var n=se.innerParams.get(e||void 0);n.showLoaderOnDeny&&we(E()),n.preDeny?(se.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((function(){return s(n.preDeny(t,n.validationMessage))})).then((function(n){!1===n?e.hideLoading():e.closePopup({isDenied:!0,value:void 0===n?t:n})})).catch((function(t){return dt(e||void 0,t)}))):e.closePopup({isDenied:!0,value:t})},ft=function(e,t){e.closePopup({isConfirmed:!0,value:t})},dt=function(e,t){e.rejectPromise(t)},pt=function(e,t){var n=se.innerParams.get(e||void 0);n.showLoaderOnConfirm&&we(),n.preConfirm?(e.resetValidationMessage(),se.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((function(){return s(n.preConfirm(t,n.validationMessage))})).then((function(n){Y(C())||!1===n?e.hideLoading():ft(e,void 0===n?t:n)})).catch((function(t){return dt(e||void 0,t)}))):ft(e,t)},vt=function(e,t,n){var r=N();if(r.length)return(t+=n)===r.length?t=0:-1===t&&(t=r.length-1),r[t].focus();m().focus()},gt=["ArrowRight","ArrowDown"],mt=["ArrowLeft","ArrowUp"],yt=!1,bt=function(e,i){var o=function(e){var i="string"==typeof e.template?document.querySelector(e.template):e.template;if(!i)return{};var o=i.content;return function(e){var t=it.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);n(e.children).forEach((function(e){var n=e.tagName.toLowerCase();-1===t.indexOf(n)&&r("Unrecognized element <".concat(n,">"))}))}(o),Object.assign(function(e){var t={};return n(e.querySelectorAll("swal-param")).forEach((function(e){ot(e,["name","value"]);var n=e.getAttribute("name"),r=e.getAttribute("value");"boolean"==typeof Oe[n]&&"false"===r&&(r=!1),"object"==typeof Oe[n]&&(r=JSON.parse(r)),t[n]=r})),t}(o),function(e){var r={};return n(e.querySelectorAll("swal-button")).forEach((function(e){ot(e,["type","color","aria-label"]);var n=e.getAttribute("type");r["".concat(n,"ButtonText")]=e.innerHTML,r["show".concat(t(n),"Button")]=!0,e.hasAttribute("color")&&(r["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(r["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),r}(o),function(e){var t={},n=e.querySelector("swal-image");return n&&(ot(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t}(o),function(e){var t={},n=e.querySelector("swal-icon");return n&&(ot(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t}(o),function(e){var t={},r=e.querySelector("swal-input");r&&(ot(r,["type","label","placeholder","value"]),t.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(t.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(t.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(t.inputValue=r.getAttribute("value")));var i=e.querySelectorAll("swal-input-option");return i.length&&(t.inputOptions={},n(i).forEach((function(e){ot(e,["value"]);var n=e.getAttribute("value");t.inputOptions[n]=e.innerHTML}))),t}(o),function(e,t){var n={};for(var r in t){var i=t[r],o=e.querySelector(i);o&&(ot(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n}(o,it))}(e),a=Object.assign({},Oe,i,o,e);return a.showClass=Object.assign({},Oe.showClass,a.showClass),a.hideClass=Object.assign({},Oe.hideClass,a.hideClass),a},_t=function(t,r,o){return new Promise((function(c,h){var d=function(e){t.closePopup({isDismissed:!0,dismiss:e})};He.swalPromiseResolve.set(t,c),He.swalPromiseReject.set(t,h),r.confirmButton.onclick=function(){return function(e){var t=se.innerParams.get(e);e.disableButtons(),t.input?ut(e,"confirm"):pt(e,!0)}(t)},r.denyButton.onclick=function(){return function(e){var t=se.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?ut(e,"deny"):ht(e,!1)}(t)},r.cancelButton.onclick=function(){return function(t,n){t.disableButtons(),n(e.cancel)}(t,d)},r.closeButton.onclick=function(){return d(e.close)},function(t,n,r){se.innerParams.get(t).toast?function(t,n,r){n.popup.onclick=function(){var n=se.innerParams.get(t);n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton||n.timer||n.input||r(e.close)}}(t,n,r):(function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(yt=!0)}}}(n),function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(yt=!0)}}}(n),function(t,n,r){n.container.onclick=function(i){var o=se.innerParams.get(t);yt?yt=!1:i.target===n.container&&a(o.allowOutsideClick)&&r(e.backdrop)}}(t,n,r))}(t,r,d),function(t,n,r,i){n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1),r.toast||(n.keydownHandler=function(n){return function(t,n,r){var i=se.innerParams.get(t);i&&(i.stopKeydownPropagation&&n.stopPropagation(),"Enter"===n.key?function(e,t,n){if(!t.isComposing&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;_e(),t.preventDefault()}}(t,n,i):"Tab"===n.key?function(e,t){for(var n=e.target,r=N(),i=-1,o=0;o<r.length;o++)if(n===r[o]){i=o;break}vt(0,i,e.shiftKey?-1:1),e.stopPropagation(),e.preventDefault()}(n):[].concat(gt,mt).includes(n.key)?function(e){if([I(),E(),T()].includes(document.activeElement)){var t=gt.includes(e)?"nextElementSibling":"previousElementSibling",n=document.activeElement[t];n&&n.focus()}}(n.key):"Escape"===n.key&&function(t,n,r){a(n.allowEscapeKey)&&(t.preventDefault(),r(e.esc))}(n,i,r))}(t,n,i)},n.keydownTarget=r.keydownListenerCapture?window:m(),n.keydownListenerCapture=r.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)}(t,Ce,o,d),function(e,t){"select"===t.input||"radio"===t.input?function(e,t){var n=m(),r=function(e){return lt[t.input](n,function e(t){var n=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach((function(t,r){var i=t;"object"==typeof i&&(i=e(i)),n.push([r,i])})):Object.keys(t).forEach((function(r){var i=t[r];"object"==typeof i&&(i=e(i)),n.push([r,i])})),n}(e),t)};l(t.inputOptions)||u(t.inputOptions)?(we(I()),s(t.inputOptions).then((function(t){e.hideLoading(),r(t)}))):"object"==typeof t.inputOptions?r(t.inputOptions):i("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))}(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(l(t.inputValue)||u(t.inputValue))&&(we(I()),function(e,t){var n=e.getInput();K(n),s(t.inputValue).then((function(r){n.value="number"===t.input?parseFloat(r)||0:"".concat(r),W(n),n.focus(),e.hideLoading()})).catch((function(t){i("Error in inputValue promise: ".concat(t)),n.value="",W(n),n.focus(),e.hideLoading()}))}(e,t))}(t,o),function(e){var t=p(),r=m();"function"==typeof e.willOpen&&e.willOpen(r);var i=window.getComputedStyle(document.body).overflowY;(function(e,t,n){q(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),W(t,"grid"),setTimeout((function(){q(t,n.showClass.popup),t.style.removeProperty("opacity")}),10),q([document.documentElement,document.body],f.shown),n.heightAuto&&n.backdrop&&!n.toast&&q([document.documentElement,document.body],f["height-auto"])})(t,r,e),setTimeout((function(){!function(e,t){ae&&X(t)?(e.style.overflowY="hidden",t.addEventListener(ae,at)):e.style.overflowY="auto"}(t,r)}),10),R()&&(function(e,t,n){(function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!L(document.body,f.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),q(document.body,f.iosfix),function(){var e,t=p();t.ontouchstart=function(t){e=function(e){var t=e.target,n=p();return!(function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType}(e)||function(e){return e.touches&&e.touches.length>1}(e)||t!==n&&($(n)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||$(_())&&_().contains(t)))}(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}}(),function(){if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){m().scrollHeight>window.innerHeight-44&&(p().style.paddingBottom="".concat(44,"px"))}}()}})(),t&&"hidden"!==n&&null===M.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(M.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(M.previousBodyPadding+function(){var e=document.createElement("div");e.className=f["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t}(),"px")),setTimeout((function(){e.scrollTop=0}))}(t,e.scrollbarPadding,i),n(document.body.children).forEach((function(e){e===p()||e.contains(p())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))),D()||Ce.previousActiveElement||(Ce.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((function(){return e.didOpen(r)})),H(t,f["no-transition"])}(o),kt(Ce,o,d),Ct(r,o),setTimeout((function(){r.container.scrollTop=0}))}))},wt=function(e){var t={popup:m(),container:p(),actions:A(),confirmButton:I(),denyButton:E(),cancelButton:T(),loader:S(),closeButton:P(),validationMessage:C(),progressSteps:k()};return se.domCache.set(e,t),t},kt=function(e,t,n){var r=x();K(r),t.timer&&(e.timeout=new et((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(W(r),setTimeout((function(){e.timeout&&e.timeout.running&&Z(t.timer)}))))},Ct=function(e,t){if(!t.toast)return a(t.allowEnterKey)?void(It(e,t)||vt(0,-1,1)):Et()},It=function(e,t){return t.focusDeny&&Y(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&Y(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!Y(e.confirmButton)||(e.confirmButton.focus(),0))},Et=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},St=function(e){e.isAwaitingPromise()?(Tt(se,e),se.awaitingPromise.set(e,!0)):(Tt(He,e),Tt(se,e))},Tt=function(e,t){for(var n in e)e[n].delete(t)},At=Object.freeze({hideLoading:Ve,disableLoading:Ve,getInput:function(e){var t=se.innerParams.get(e||this),n=se.domCache.get(e||this);return n?F(n.popup,t.input):null},close:Ge,isAwaitingPromise:function(){return!!se.awaitingPromise.get(this)},rejectPromise:function(e){var t=He.swalPromiseReject.get(this);Ke(this),t&&t(e)},closePopup:Ge,closeModal:Ge,closeToast:Ge,enableButtons:function(){Xe(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){Xe(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return Ze(this.getInput(),!1)},disableInput:function(){return Ze(this.getInput(),!0)},showValidationMessage:function(e){var t=se.domCache.get(this),n=se.innerParams.get(this);j(t.validationMessage,e),t.validationMessage.className=f["validation-message"],n.customClass&&n.customClass.validationMessage&&q(t.validationMessage,n.customClass.validationMessage),W(t.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",f["validation-message"]),V(r),q(r,f.inputerror))},resetValidationMessage:function(){var e=se.domCache.get(this);e.validationMessage&&K(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),H(t,f.inputerror))},getProgressSteps:function(){return se.domCache.get(this).progressSteps},_main:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Be(Object.assign({},t,e)),Ce.currentInstance&&(Ce.currentInstance._destroy(),R()&&qe()),Ce.currentInstance=this;var n=bt(e,t);nt(n),Object.freeze(n),Ce.timeout&&(Ce.timeout.stop(),delete Ce.timeout),clearTimeout(Ce.restoreFocusTimeout);var r=wt(this);return be(this,n),se.innerParams.set(this,n),_t(this,r,n)},update:function(e){var t=m(),n=se.innerParams.get(this);if(!t||L(t,n.hideClass.popup))return r("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var i={};Object.keys(e).forEach((function(t){xt.isUpdatableParameter(t)?i[t]=e[t]:r('Invalid parameter to update: "'.concat(t,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}));var o=Object.assign({},n,i);be(this,o),se.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){var e=se.domCache.get(this),t=se.innerParams.get(this);t?(e.popup&&Ce.swalCloseEventFinishedCallback&&(Ce.swalCloseEventFinishedCallback(),delete Ce.swalCloseEventFinishedCallback),Ce.deferDisposalTimer&&(clearTimeout(Ce.deferDisposalTimer),delete Ce.deferDisposalTimer),"function"==typeof t.didDestroy&&t.didDestroy(),St(this),delete this.params,delete Ce.keydownHandler,delete Ce.keydownTarget,delete Ce.currentInstance):St(this)}}),Ot=function(){function e(){if(_classCallCheck(this,e),"undefined"!=typeof window){rt=this;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Object.freeze(this.constructor.argsToParams(n));Object.defineProperties(this,{params:{value:i,writable:!1,enumerable:!0,configurable:!0}});var o=this._main(this.params);se.promise.set(this,o)}}return _createClass(e,[{key:"then",value:function(e){return se.promise.get(this).then(e)}},{key:"finally",value:function(e){return se.promise.get(this).finally(e)}}]),e}();Object.assign(Ot.prototype,At),Object.assign(Ot,Fe),Object.keys(At).forEach((function(e){Ot[e]=function(){var t;if(rt)return(t=rt)[e].apply(t,arguments)}})),Ot.DismissReason=e,Ot.version="11.2.0";var xt=Ot;return xt.default=xt,xt}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},PVpz:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib.StreamCipher,n=[],i=[],o=[],a=e.algo.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),h=u>>>16|4294901760&c,f=c<<16|65535&u;for(r[0]^=u,r[1]^=h,r[2]^=c,r[3]^=f,r[4]^=u,r[5]^=h,r[6]^=c,r[7]^=f,i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),e[t+i]^=n[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],a=65535&r,l=r>>>16;o[n]=((a*a>>>17)+a*l>>>15)+l*l^((4294901760&r)*r|0)+((65535&r)*r|0)}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.RabbitLegacy=t._createHelper(a)}(),r.RabbitLegacy)},QxgN:function(e,t,n){"use strict";var r=n("8Y7J"),i=function(){function e(t,n){_classCallCheck(this,e),this.fotografiasService=t,this.sanitizer=n,this.deleteImageEvent=new r.m}return _createClass(e,[{key:"ngOnInit",value:function(){this.urlTrusted=this.sanitizer.bypassSecurityTrustUrl(this.fotografia.url)}},{key:"eliminarFotografia",value:function(){this.deleteImageEvent.emit(this.fotografia)}}]),e}(),o=n("ONxg"),a=n("cUpR"),l=r.nb({encapsulation:2,styles:[],data:{}});function s(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,5,"div",[["class","container-fluid"],["style","border: 1px; display: inline;"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,0,"img",[["alt",""],["class","e2e-trusted-url"],["style","width: 200px;"]],[[8,"src",4]],null,null,null,null)),(e()(),r.pb(2,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,2,"button",[["style","position:relative; top:-50px; left: -30px; background-color: red;"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.eliminarFotografia()&&r),r}),null,null)),(e()(),r.pb(4,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["X"]))],null,(function(e,t){e(t,1,0,t.component.urlTrusted)}))}var u=n("SVse"),c=n("lEC+");n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return g}));var h=r.nb({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{background-color:transparent}.bucleFotografias[_ngcontent-%COMP%]{display:inline}"]],data:{}});function f(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[["class","col-2 mx-1 my-1 bucleFotografias"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"app-fotografia",[],null,[[null,"deleteImageEvent"]],(function(e,t,n){var r=!0;return"deleteImageEvent"===t&&(r=!1!==e.component.deseleccionarImagen(n)&&r),r}),s,l)),r.ob(2,114688,null,0,i,[o.a,a.b],{fotografia:[0,"fotografia"],id:[1,"id"]},{deleteImageEvent:"deleteImageEvent"})],(function(e,t){e(t,2,0,t.context.$implicit,t.component.id)}),null)}function d(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[["class","col-2 mx-1 my-1 bucleFotografias"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"app-fotografia",[],null,[[null,"deleteImageEvent"]],(function(e,t,n){var r=!0;return"deleteImageEvent"===t&&(r=!1!==e.component.deseleccionarImagen(n)&&r),r}),s,l)),r.ob(2,114688,null,0,i,[o.a,a.b],{fotografia:[0,"fotografia"],id:[1,"id"]},{deleteImageEvent:"deleteImageEvent"})],(function(e,t){e(t,2,0,t.context.$implicit,t.component.id)}),null)}function p(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[["class","col-2 mx-1 my-1 bucleFotografias"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"app-fotografia",[],null,[[null,"deleteImageEvent"]],(function(e,t,n){var r=!0;return"deleteImageEvent"===t&&(r=!1!==e.component.deseleccionarImagen(n)&&r),r}),s,l)),r.ob(2,114688,null,0,i,[o.a,a.b],{fotografia:[0,"fotografia"],id:[1,"id"]},{deleteImageEvent:"deleteImageEvent"})],(function(e,t){e(t,2,0,t.context.$implicit,t.component.id)}),null)}function v(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,27,"body",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,26,"div",[["id","cargarImagen"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Imagen principal"])),(e()(),r.pb(5,0,null,null,1,"form",[["action",""],["class","my-2"],["id","uploader"]],null,null,null,null,null)),(e()(),r.pb(6,0,null,null,0,"input",[["id","file"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.seleccionarImagenes(n,"principal")&&r),r}),null,null)),(e()(),r.pb(7,0,null,null,2,"div",[["class","container-fluid"],["id","fotoPrincipal"]],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,f)),r.ob(9,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(10,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.pb(11,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r.pb(12,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Imagenes"])),(e()(),r.pb(14,0,null,null,1,"form",[["action",""],["class","my-2"],["id","uploader"]],null,null,null,null,null)),(e()(),r.pb(15,0,null,null,0,"input",[["id","file"],["multiple","true"],["name","archivos[]"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.seleccionarImagenes(n,"secundaria")&&r),r}),null,null)),(e()(),r.pb(16,0,null,null,2,"div",[["class","container-fluid"],["id","fotosSecundarias"]],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,d)),r.ob(18,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(19,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.pb(20,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r.pb(21,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Croquis"])),(e()(),r.pb(23,0,null,null,1,"form",[["action",""],["class","my-2"],["id","uploader"]],null,null,null,null,null)),(e()(),r.pb(24,0,null,null,0,"input",[["id","file"],["multiple","true"],["name","archivos[]"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.seleccionarImagenes(n,"croquis")&&r),r}),null,null)),(e()(),r.pb(25,0,null,null,2,"div",[["class","container-fluid"],["id","fotosCroquis"]],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,p)),r.ob(27,278528,null,0,u.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,9,0,n.fotografiaPrincipal),e(t,18,0,n.previewSecundarias),e(t,27,0,n.previewCroquis)}),null)}var g=r.lb("app-fotografias",c.a,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-fotografias",[],null,null,null,v,h)),r.ob(1,114688,null,0,c.a,[o.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{id:"ngModel"},{},[])},RGw2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("hti6"),n("3mVj");var r=function e(){_classCallCheck(this,e)}},S6kV:function(e,t,n){var r,i,o;e.exports=(o=n("Ib8C"),n("OLod"),o.mode.OFB=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)e[t+a]^=o[a]}}),r.Decryptor=i,r),o.mode.OFB)},SHVS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("lov/"),i=function e(){_classCallCheck(this,e),this.roles=[];var t=new r.a;t.rolNombre="sin_rol",this.roles.push(t)}},SVse:function(e,t,n){"use strict";n.d(t,"t",(function(){return p})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"u",(function(){return m})),n.d(t,"c",(function(){return P})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return w})),n.d(t,"m",(function(){return E})),n.d(t,"n",(function(){return S})),n.d(t,"d",(function(){return N})),n.d(t,"b",(function(){return x})),n.d(t,"s",(function(){return R})),n.d(t,"r",(function(){return D})),n.d(t,"q",(function(){return M})),n.d(t,"p",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"o",(function(){return h})),n.d(t,"g",(function(){return s}));var r=n("8Y7J"),i=function e(){_classCallCheck(this,e)},o=new r.o("Location Initialized"),a=function e(){_classCallCheck(this,e)},l=new r.o("appBaseHref"),s=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new r.m,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(u(o)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+e.normalizeQueryParams(n))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,u(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"replaceState",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}],[{key:"normalizeQueryParams",value:function(e){return e&&"?"!==e[0]?"?"+e:e}},{key:"joinWithSlash",value:function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}},{key:"stripTrailingSlash",value:function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}]),e}();function u(e){return e.replace(/\/index.html$/,"")}var c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=s.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+s.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+s.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(a),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return s.joinWithSlash(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+s.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+s.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+s.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(a),f=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),d=r.rb,p=new r.o("UseV4Plurals"),v=function e(){_classCallCheck(this,e)},g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).locale=e,i.deprecatedPluralFn=r,i}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):d(t||this.locale)(e)){case f.Zero:return"zero";case f.One:return"one";case f.Two:return"two";case f.Few:return"few";case f.Many:return"many";default:return"other"}}}]),n}(v);function m(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray2(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),l=a[0],s=a[1];if(l.trim()===t)return decodeURIComponent(s)}}catch(u){r.e(u)}finally{r.f()}return null}var y=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),b=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){Object(r.T)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.")),this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new y(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new _(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var l=t._viewContainer.get(r);t._viewContainer.move(l,i);var s=new _(e,l);n.push(s)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}(),_=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},w=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new k,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){C("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){C("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}]),e}(),k=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function C(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(r.Gb)(t),"'."))}var I=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),E=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}]),e}(),S=function(){function e(t,n,r){_classCallCheck(this,e),this.ngSwitch=r,r._addCase(),this._view=new I(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}(),T=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),A=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),O=new T,x=function(){function e(t){_classCallCheck(this,e),this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Object(r.xb)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.O.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(Object(r.wb)(t))return A;if(Object(r.vb)(t))return O;throw n=e,Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(r.Gb)(n),"'"));var n}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}(),P=function e(){_classCallCheck(this,e)},N=new r.o("DocumentToken"),R="browser";function D(e){return"server"===e}var M=function(){var e=function e(){_classCallCheck(this,e)};return e.ngInjectableDef=Object(r.Nb)({token:e,providedIn:"root",factory:function(){return new j(Object(r.Ob)(N),window,Object(r.Ob)(r.l))}}),e}(),j=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}()},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("HDdC"),i=n("ngJS"),o=n("a7t3"),a=n("pLzU"),l=n("CRDf"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),h=n("Lhse"),f=n("kJWO"),d=function(e){if(e instanceof r.a)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[f.a])return Object(l.a)(e);if(Object(s.a)(e))return Object(i.a)(e);if(Object(u.a)(e))return Object(o.a)(e);if(e&&"function"==typeof e[h.a])return Object(a.a)(e);var t=Object(c.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(t," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SiV8:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("8Y7J"),i=n("7GFr"),o=n("aoek"),a=n("L2hg"),l=n("SVse"),s=n("Kfvy"),u=n("pN5R"),c=n("z58d"),h=n("cPMN"),f=n("3mnW"),d=n("iInd"),p=r.nb({encapsulation:2,styles:[],data:{}});function v(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"app-formulario-dinamico",[],null,[[null,"payLoad"]],(function(e,t,n){var r=!0;return"payLoad"===t&&(r=!1!==e.component.asignarArtefacto(n)&&r),r}),i.b,i.a)),r.ob(1,114688,null,0,o.a,[a.a],{elementosForm:[0,"elementosForm"]},{payLoad:"payLoad"}),r.Db(131072,l.b,[r.h])],(function(e,t){var n=t.component;e(t,1,0,r.Ib(t,1,0,r.Bb(t,2).transform(n.elementosForm$)))}),null)}function g(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-info"],["data-bs-target","#modalNuevaFichaVIP"],["data-bs-toggle","modal"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["AGREGAR A FICHAS DESTACADAS"]))],null,null)}function m(e){return r.Jb(0,[(e()(),r.eb(16777216,null,null,1,null,v)),r.ob(1,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.pb(2,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.validarFicha()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["VALIDAR"])),(e()(),r.eb(16777216,null,null,1,null,g)),r.ob(6,16384,null,0,l.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.pb(7,0,null,null,1,"app-modal-ficha-vip",[],null,null,null,s.b,s.a)),r.ob(8,114688,null,0,u.a,[c.a,h.a],{id:[0,"id"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.elementosForm$),e(t,6,0,!n.fichaVipFlag),e(t,8,0,n.id)}),null)}var y=r.lb("app-valida-ficha",f.a,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-valida-ficha",[],null,null,null,m,p)),r.ob(1,114688,null,0,f.a,[c.a,d.a,h.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[])},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},"TSe+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e)}},UJ5t:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(t){_classCallCheck(this,e),this.fichaService=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.fichasSinValidar=[],this.fichaService.getFichasSinValidar().subscribe((function(t){e.fichasSinValidar=e.fichaService.extraerFichas(t)}))}}]),e}()},Ul2T:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("pauE"),i=n("ZT/D"),o=function(){function e(t,n){_classCallCheck(this,e),this.inventarioService=t,this.login=n,this.artefactosInventario=[],this.artefactoInventario=new r.a,this.salasDisponibles=[],this.salaNueva=new i.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.getArtefactosInventario(),this.getSalasDisponibles(),this.login.getIsLoggedFlagObs().subscribe((function(t){e.isLoggedUser=t})),this.login.getIsAdminFlagObs().subscribe((function(t){e.isLoggedAdmin=t}))}},{key:"getArtefactosInventario",value:function(){var e=this;this.inventarioService.getArtefactosInventario().subscribe((function(t){e.artefactosInventario=e.inventarioService.mapearArtefactosInventario(t),e.artefactosInventario.forEach((function(t){console.log(t),e.inventarioService.getSala(t).subscribe((function(e){t.sala=e})),e.inventarioService.getArtefactoImpl(t).subscribe((function(n){console.log(n),n.id=Number(e.inventarioService.getId(n)),t.artefactoImpl=n}))})),console.log(e.artefactosInventario)}))}},{key:"abrirModalModificacionArtefactoInventario",value:function(e){console.log(e),this.artefactoInventario=e,$("#modalModificarArtefactoInventario").modal("show")}},{key:"moverDeSala",value:function(){this.inventarioService.updateArtefactoInventario(this.artefactoInventario).subscribe(),this.ngOnInit()}},{key:"getSalasDisponibles",value:function(){var e=this;this.inventarioService.getSalas().subscribe((function(t){console.log("salas disponibles res"),console.log(t),e.salasDisponibles=e.inventarioService.mapearSalas(t),console.log("salas disponibles mapeadas"),console.log(e.salasDisponibles)}))}},{key:"agregarSala",value:function(){var e=this;this.inventarioService.postSala(this.salaNueva).subscribe((function(t){e.ngOnInit()}))}},{key:"abrirModalAgregarSala",value:function(){$("#modalNuevaSala").modal("show")}}]),e}()},"Uu/X":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("8Y7J"),i=n("lAvF"),o=r.nb({encapsulation:2,styles:[],data:{}});function a(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["contacto works!"]))],null,null)}var l=r.lb("app-contacto",i.a,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-contacto",[],null,null,null,a,o)),r.ob(1,114688,null,0,i.a,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[])},VwbT:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e)}},W1sL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e)}},WI49:function(e,t,n){"use strict";var r=n("zIRd"),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function l(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var u=n("qOnz"),c=n("/6Yf"),h=function(e){function t(n,r){var i=e.call(this,f(n),"Firebase Storage: "+r+" ("+f(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._codeEquals=function(e){return f(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),t}(u.c);function f(e){return"storage/"+e}function d(){return new h("unknown","An unknown error occurred, please check the error payload for server response.")}function p(){return new h("canceled","User canceled the upload/download.")}function v(){return new h("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function g(e){return new h("invalid-argument",e)}function m(){return new h("app-deleted","The Firebase app was deleted.")}function y(e){return new h("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function b(e,t){return new h("invalid-format","String does not match format '"+e+"': "+t)}function _(e){throw new h("internal-error","Internal error: "+e)}var w={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},k=function(e,t){this.data=e,this.contentType=t||null};function C(e,t){switch(e){case w.RAW:return new k(I(t));case w.BASE64:case w.BASE64URL:return new k(E(e,t));case w.DATA_URL:return new k((n=new S(t)).base64?E(w.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw b(w.DATA_URL,"Malformed data URL.")}return I(t)}(n.rest),new S(t).contentType)}var n;throw d()}function I(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var i=r,o=e.charCodeAt(++n);t.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function E(e,t){switch(e){case w.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw b(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case w.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw b(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(u){throw b(e,"Invalid character found")}for(var l=new Uint8Array(a.length),s=0;s<a.length;s++)l[s]=a.charCodeAt(s);return l}var S=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw b(w.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},T={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function A(e){switch(e){case"running":case"pausing":case"canceling":return T.RUNNING;case"paused":return T.PAUSED;case"success":return T.SUCCESS;case"canceled":return T.CANCELED;case"error":default:return T.ERROR}}var O=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({}),x=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=O.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=O.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=O.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw _("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw _("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw _("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw _("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),P=function(){function e(){}return e.prototype.createConnection=function(){return new x},e}(),N=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new h("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=n.replace(/[.]/g,"\\."),l=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],s=0;s<l.length;s++){var u=l[s],c=u.regex.exec(t);if(c){var f=c[u.indices.path];f||(f=""),r=new e(c[u.indices.bucket],f),u.postModify(r);break}}if(null==r)throw function(e){return new h("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),R=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function D(e){return"string"==typeof e||e instanceof String}function M(e){return j()&&e instanceof Blob}function j(){return"undefined"!=typeof Blob}function L(e,t,n,r){if(r<t)throw g("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw g("Invalid value for '"+e+"'. Expected "+n+" or less.")}function B(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function F(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var V=function(){function e(e,t,n,r,i,o,a,l,s,u,c){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=l,this.progressCallback_=u,this.timeout_=s,this.pool_=c,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var l=e.callback_(a,a.getResponseText());void 0!==l?i(l):i()}catch(s){o(s)}else null!==a?((r=d()).serverResponse=a.getResponseText(),o(e.errorCallback_?e.errorCallback_(a,r):r)):o(r=n.canceled?e.appDelete_?m():p():new h("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new U(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,l=0;function u(){return 2===l}var c=!1;function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c||(c=!0,n.apply(null,e))}function f(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new U(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===O.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new U(a,r))}else{var l=r.getErrorCode()===O.ABORT;t(!1,new U(!1,null,l))}}))}function i(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}}(d,u())}),t)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)h.call.apply(h,s([null,e],t));else{var r,o=u()||a;o?h.call.apply(h,s([null,e],t)):(i<64&&(i*=2),1===l?(l=2,r=0):r=1e3*(i+Math.random()),f(r))}}var p=!1;function v(e){p||(p=!0,c||(null!==o?(e||(l=2),clearTimeout(o),f(0)):e||(l=1)))}return f(0),setTimeout((function(){a=!0,v(!0)}),r),v}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),U=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function q(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function H(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=q();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(j())return new Blob(e);throw new h("unsupported-environment","This browser doesn't seem to support creating Blobs")}var z=function(){function e(e,t){var n=0,r="";M(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(M(this.data_)){var r=(o=t,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(j()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(H.apply(null,r))}var i=t.map((function(e){return D(e)?C(w.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),l=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[l++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function G(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}function W(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function K(e,t){return t}var J=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||K},Q=null;function Y(){if(Q)return Q;var e=[];e.push(new J("bucket")),e.push(new J("generation")),e.push(new J("metageneration")),e.push(new J("name","fullPath",!0));var t=new J("name");t.xform=function(e,t){return function(e){return!D(e)||e.length<2?e:W(e)}(t)},e.push(t);var n=new J("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new J("timeCreated")),e.push(new J("updated")),e.push(new J("md5Hash",null,!0)),e.push(new J("cacheControl",null,!0)),e.push(new J("contentDisposition",null,!0)),e.push(new J("contentEncoding",null,!0)),e.push(new J("contentLanguage",null,!0)),e.push(new J("contentType",null,!0)),e.push(new J("metadata","customMetadata",!0)),Q=e}function $(e,t,n){var r=G(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=new N(e.bucket,e.fullPath);return t._makeStorageReference(n)}})}(r,e),r}(e,r,n)}function X(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Z=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ee(e){if(!e)throw d()}function te(e,t){return function(n,r){var i=$(e,r,t);return ee(null!==i),i}}function ne(e){return function(t,n){var r;return(r=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new h("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new h("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new h("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new h("unauthorized","User does not have permission to access '"+e.path+"'."):n).serverResponse=n.serverResponse,r}}function re(e){var t=ne(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=new h("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function ie(e,t,n){var r=B(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Z(r,"GET",te(e,n),i);return o.errorHandler=re(t),o}function oe(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var ae=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function le(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){ee(!1)}return ee(!!n&&-1!==(t||["active"]).indexOf(n)),n}var se=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function ue(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var ce=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Y(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=oe(t,r,i),l={name:a.fullPath},s=B(o,e.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=X(a,n),h=new Z(s,"POST",(function(e){var t;le(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){ee(!1)}return ee(D(t)),t}),e.maxUploadRetryTime);return h.urlParams=l,h.headers=u,h.body=c,h.errorHandler=ne(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=new Z(n,"POST",(function(e){var t=le(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){ee(!1)}n||ee(!1);var i=Number(n);return ee(!isNaN(i)),new ae(i,r.size(),"final"===t)}),e.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=ne(t),i}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new ae(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=function(e,t,n,r,i,o,a,l){var s=new ae(0,0);if(a?(s.current=a.current,s.total=a.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new h("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=s.total-s.current,c=u;i>0&&(c=Math.min(c,i));var f=s.current,d={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":""+s.current},p=r.slice(f,f+c);if(null===p)throw v();var g=new Z(n,"POST",(function(e,n){var i,a=le(e,["active","final"]),l=s.current+c,u=r.size();return i="final"===a?te(t,o)(e,n):null,new ae(l,u,"final"===a,i)}),t.maxUploadRetryTime);return g.headers=d,g.body=p.uploadData(),g.progressCallback=l||null,g.errorHandler=ne(e),g}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var l=e._ref.storage._makeRequest(a,i,o);e._request=l,l.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=ie(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},l=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+l;var s=oe(t,r,i),u=X(s,n),c=z.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===c)throw v();var h={name:s.fullPath},f=B(o,e.host),d=e.maxUploadRetryTime,p=new Z(f,"POST",te(e,n),d);return p.urlParams=h,p.headers=a,p.body=c.uploadData(),p.errorHandler=ne(t),p}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=p(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=A(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new se(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(A(this._state)){case T.SUCCESS:ue(this._resolve.bind(null,this.snapshot))();break;case T.CANCELED:case T.ERROR:ue(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(A(this._state)){case T.RUNNING:case T.PAUSED:e.next&&ue(e.next.bind(e,this.snapshot))();break;case T.SUCCESS:e.complete&&ue(e.complete.bind(e))();break;case T.CANCELED:case T.ERROR:e.error&&ue(e.error.bind(e,this._error))();break;default:e.error&&ue(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),he=function(){function e(e,t){this._service=e,this._location=t instanceof N?t:N.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new N(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return W(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new N(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw y(e)},e}();function fe(e,t){return a(this,void 0,void 0,(function(){var n,r;return l(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&L("options.maxResults",1,1e3,t.maxResults),r=function(e,t,n,r,i){var o={};o.prefix=t.isRoot?"":t.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=B(t.bucketOnlyServerUrl(),e.host),l=e.maxOperationRetryTime,s=new Z(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=G(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),l=e._makeStorageReference(new N(t,a));r.prefixes.push(l)}if(n.items)for(var s=0,u=n.items;s<u.length;s++)l=e._makeStorageReference(new N(t,u[s].name)),r.items.push(l);return r}(e,t,r)}(e,t,r);return ee(null!==i),i}}(e,t.bucket),l);return s.urlParams=o,s.errorHandler=ne(t),s}(e.storage,e._location,0,(n=t||{}).pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function de(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new N(e._location.bucket,n);return new he(e.storage,r)}function pe(e){return/^[A-Za-z]+:\/\//.test(e)}function ve(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:N.makeFromBucketSpec(n,e)}var ge=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?N.makeFromBucketSpec(i,this._host):ve(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?N.makeFromBucketSpec(this._url,e):ve(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){L("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){L("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return a(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return a(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new he(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new R(m());var i=function(e,t,n,r,i,o){var a=F(e.urlParams),l=e.url+a,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(s,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new V(l,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return a(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=n.sent(),[2,this._makeRequest(e,t[0],t[1])]}}))}))},e}();function me(e,t){return function(e,t){if(t&&pe(t)){if(e instanceof ge)return new he(e,t);throw g("To use ref(service, url), the first argument must be a Storage instance.")}return function e(t,n){if(t instanceof ge){var r=t;if(null==r._bucket)throw new h("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new he(r,r._bucket);return null!=n?e(i,n):i}if(void 0!==n){if(n.includes(".."))throw g('`path` param cannot contain ".."');return de(t,n)}return t}(e,t)}(e=Object(u.q)(e),t)}var ye,be,_e=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),we=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new _e(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new _e(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new _e(e,i,i._ref))}:{next:t.next?function(e){return t.next(new _e(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),ke=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Ce(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Ce(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Ce=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return de(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new we(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ce(e,new z(t),n)}(e=Object(u.q)(e),t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=w.RAW),this._throwIfRoot("putString");var r=C(t,e),i=o({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new we(new ce(this._delegate,new z(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,function(e){var t={prefixes:[],items:[]};return function e(t,n,r){return a(this,void 0,void 0,(function(){var i,o,a;return l(this,(function(l){switch(l.label){case 0:return[4,fe(t,{pageToken:r})];case 1:return i=l.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(a=n.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,e(t,n,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}}))}))}(e,t).then((function(){return t}))}(e=Object(u.q)(e))).then((function(e){return new ke(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return fe(e=Object(u.q)(e),t)}(this._delegate,e||void 0).then((function(e){return new ke(e,t.storage)}))},e.prototype.getMetadata=function(){return e=this._delegate,function(e){return a(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=ie(e.storage,e._location,Y()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Object(u.q)(e));var e},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return a(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=B(t.fullServerUrl(),e.host),o=X(n,r),a=e.maxOperationRetryTime,l=new Z(i,"PATCH",te(e,r),a);return l.headers={"Content-Type":"application/json; charset=utf-8"},l.body=o,l.errorHandler=re(t),l}(e.storage,e._location,t,Y()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(e=Object(u.q)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,function(e){return a(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=B(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Z(r,"GET",function(e,t){return function(n,r){var i=$(e,r,t);return ee(null!==i),function(e,t,n){var r=G(t);if(null===r)return null;if(!D(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.fullPath;return B("/b/"+o(e.bucket)+"/o/"+o(r),n)+F({alt:"media",token:t})}))[0]}(i,r,e.host)}}(e,n),i);return o.errorHandler=re(t),o}(e.storage,e._location,Y()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new h("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}(e=Object(u.q)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,function(e){return a(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=B(t.fullServerUrl(),e.host),r=new Z(n,"DELETE",(function(e,t){}),e.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=re(t),r}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Object(u.q)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw y(e)},e}(),Ie=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(pe(e))throw g("ref() expected a child path but got a URL, use refFromURL instead.");return new Ce(me(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!pe(e))throw g("refFromURL() expected a full URL but got a child path, use ref() instead.");try{N.makeFromUrl(e,this._delegate.host)}catch(t){throw g("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ce(me(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();be={TaskState:T,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:w,Storage:ge,Reference:Ce},(ye=r.a).INTERNAL.registerComponent(new c.a("storage",(function(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Ie(i,new ge(i,o,a,new P,n,r.a.SDK_VERSION))}),"PUBLIC").setServiceProps(be).setMultipleInstances(!0)),ye.registerVersion("@firebase/storage","0.6.0")},WMih:function(e,t,n){"use strict";var r=n("AOe3"),i=n("TSe+"),o={prefix:"fas",iconName:"arrow-down",icon:[448,512,[],"f063","M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"]},a={prefix:"fas",iconName:"arrow-up",icon:[448,512,[],"f062","M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"]};n.d(t,"a",(function(){return l}));var l=function(){function e(t){_classCallCheck(this,e),this.criteriosService=t,this.searchCriteria=new i.a,this.searchCriteriaCache=this.searchCriteria,this.tipoArtefactos=r.a.tipoArtefacto,this.formas=r.a.formas,this.topMin=o,this.topMax=a,this.colores=r.a.colores,this.fabricacion=r.a.fabricadoEn,this.propositoArtefacto=r.a.propositoArtefacto.municiones.concat(r.a.propositoArtefacto.espoletas).concat(r.a.propositoArtefacto.minas),this.materialEnvuelta=r.a.materialEnvuelta,this.situacionEspoleta=r.a.situacionEspoleta,this.tipoCulote=r.a.tipoCulote,this.colorBandaMotor=r.a.colores,this.sistemaGuia=r.a.sistemaGuia,this.medioLanzamiento=r.a.mediosLanzamiento,this.sistemaIniciacion=r.a.sistemaIniciacion,this.mostrarResultado=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"buscar",value:function(){var e=this;this.searchCriteriaCache=new i.a,Object.keys(this.searchCriteria).map((function(t){""!=e.searchCriteria[t]&&Object.defineProperty(e.searchCriteriaCache,t,{value:e.searchCriteria[t],writable:!0,enumerable:!0,configurable:!0})})),this.mostrarResultado=!0,this.criteriosService.onChangeCriteria(this.searchCriteriaCache)}}]),e}()},WYAk:function(e,t,n){var r,i;e.exports=(r=n("Ib8C"),i=r.enc.Utf8,void(r.algo.HMAC=r.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),l=o.words,s=a.words,u=0;u<n;u++)l[u]^=1549556828,s[u]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},XNiG:function(e,t,n){"use strict";var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(o.a),s=n("2QA8");n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return h}));var u,c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(i.a),h=((u=function(e,t){_inherits(i,e);var n=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=n.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(i,[{key:t,value:function(){return new c(this)}},{key:"lift",value:function(e){var t=new f(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new a.a;return _get(_getPrototypeOf(i.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new l(this,e))}},{key:"asObservable",value:function(){var e=new r.a;return e.source=this,e}}]),i}(r.a,s.a)).create=function(e,t){return new f(e,t)},u),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.a.EMPTY}}]),n}(h)},XUOw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HDdC");function i(e){var t=new r.a((function(t){t.next(e),t.complete()}));return t._isScalar=!0,t.value=e,t}},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},ZC8B:function(e,t,n){"use strict";var r,i=n("8Y7J"),o=function(){function e(t){_classCallCheck(this,e),this.usuariosService=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"eliminarUsuario",value:function(){this.usuariosService.eliminarUsuario(this.usuario.id)}}]),e}(),a=n("IheW"),l=n("AytR"),s=n("SHVS"),u=n("sBFL"),c={headers:new a.g({"Content-Type":"application/json"})},h=((r=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.loginService=n,this.endPoint=l.a.urlAPI+"/usuarios"}return _createClass(e,[{key:"getUsuarios",value:function(){return this.http.get(this.endPoint,c)}},{key:"mapearUsuarios",value:function(e){var t=this,n=[];return e._embedded.usuarios.forEach((function(e){var r=t.getIdUsuario(e._links.self.href),i=new s.a;i.email=e.email,i.roles[0]=e.rol,i.id=r,n.push(i)})),console.log(n),n}},{key:"getIdUsuario",value:function(e){var t=e.split("/");return t[t.length-1]}},{key:"eliminarUsuario",value:function(e){this.loginService.eliminarUsuario(e)}}]),e}()).ngInjectableDef=i.Nb({factory:function(){return new r(i.Ob(a.c),i.Ob(u.a))},token:r,providedIn:"root"}),r),f=i.nb({encapsulation:0,styles:[[".row[_ngcontent-%COMP%]{font-size:medium}.btn[_ngcontent-%COMP%]{font-size:small;font-weight:700}"]],data:{}});function d(e){return i.Jb(0,[(e()(),i.pb(0,0,null,null,7,"div",[["class","row mt-1"]],null,null,null,null,null)),(e()(),i.pb(1,0,null,null,1,"div",[["class","col-5"]],null,null,null,null,null)),(e()(),i.Hb(2,null,["",""])),(e()(),i.pb(3,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),i.Hb(4,null,["",""])),(e()(),i.pb(5,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),i.pb(6,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.eliminarUsuario()&&r),r}),null,null)),(e()(),i.Hb(-1,null,["ELIMINAR"]))],null,(function(e,t){var n=t.component;e(t,2,0,n.usuario.email),e(t,4,0,n.usuario.roles[0].rolNombre)}))}var p=n("s7LF"),v=n("SVse"),g=n("35Wc"),m=n("iInd");n.d(t,"a",(function(){return k}));var y=i.nb({encapsulation:0,styles:[[".btn[_ngcontent-%COMP%]{font-size:small;font-weight:700}"]],data:{}});function b(e){return i.Jb(0,[(e()(),i.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),i.pb(1,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(e()(),i.pb(2,0,null,null,1,"app-usuario",[],null,null,null,d,f)),i.ob(3,114688,null,0,o,[h],{usuario:[0,"usuario"]},null)],(function(e,t){e(t,3,0,t.context.$implicit)}),null)}function _(e){return i.Jb(0,[(e()(),i.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),i.ob(1,147456,null,0,p.q,[i.k,i.B,[2,p.t]],{value:[0,"value"]},null),i.ob(2,147456,null,0,p.z,[i.k,i.B,[8,null]],{value:[0,"value"]},null),(e()(),i.Hb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit[1]),e(t,2,0,t.context.$implicit[1])}),(function(e,t){e(t,3,0,t.context.$implicit[1])}))}function w(e){return i.Jb(0,[(e()(),i.pb(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(e()(),i.pb(1,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(e()(),i.Hb(-1,null,["Gesti\xf3n de usuarios"])),(e()(),i.pb(3,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(e()(),i.Hb(-1,null,["En esta secci\xf3n pueden agregarse o eliminar usuarios de la aplicaci\xf3n."])),(e()(),i.pb(5,0,null,null,6,"div",[["class","row mt-2"]],null,null,null,null,null)),(e()(),i.pb(6,0,null,null,2,"div",[["class","col-5"]],null,null,null,null,null)),(e()(),i.pb(7,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),i.Hb(-1,null,["USUARIO"])),(e()(),i.pb(9,0,null,null,2,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),i.pb(10,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),i.Hb(-1,null,["ROL"])),(e()(),i.eb(16777216,null,null,1,null,b)),i.ob(13,278528,null,0,v.i,[i.M,i.J,i.q],{ngForOf:[0,"ngForOf"]},null),(e()(),i.pb(14,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),i.pb(15,0,null,null,1,"button",[["class","btn btn-primary mx-2 my-1"],["data-bs-target","#modalRegistrase"],["data-bs-toggle","modal"],["href","#"]],null,null,null,null,null)),(e()(),i.Hb(-1,null,["A\xf1adir usuario nuevo"])),(e()(),i.pb(17,0,null,null,41,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","modalRegistrase"],["tabindex","-1"]],null,null,null,null,null)),(e()(),i.pb(18,0,null,null,40,"div",[["class","modal-dialog"]],null,null,null,null,null)),(e()(),i.pb(19,0,null,null,39,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),i.pb(20,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),i.pb(21,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalLabel"]],null,null,null,null,null)),(e()(),i.Hb(-1,null,["Nuevo usuario"])),(e()(),i.pb(23,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),i.pb(24,0,null,null,34,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),i.pb(25,0,null,null,33,"form",[["action",""],["id","registrarse"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==i.Bb(e,27).onSubmit(n)&&r),"reset"===t&&(r=!1!==i.Bb(e,27).onReset()&&r),r}),null,null)),i.ob(26,16384,null,0,p.A,[],null,null),i.ob(27,4210688,null,0,p.o,[[8,null],[8,null]],null,null),i.Eb(2048,null,p.c,null,[p.o]),i.ob(29,16384,null,0,p.n,[[4,p.c]],null,null),(e()(),i.pb(30,0,null,null,4,"fieldset",[["class","my-2"]],null,null,null,null,null)),(e()(),i.pb(31,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),i.Hb(-1,null,["email"])),(e()(),i.pb(33,0,null,null,0,"input",[["class","mx-2"],["id","email-registro"],["type","email"]],null,null,null,null,null)),(e()(),i.pb(34,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),i.pb(35,0,null,null,4,"fieldset",[["class","my-2"]],null,null,null,null,null)),(e()(),i.pb(36,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),i.Hb(-1,null,["Password"])),(e()(),i.pb(38,0,null,null,0,"input",[["class","mx-2"],["id","password-registro"],["type","password"]],null,null,null,null,null)),(e()(),i.pb(39,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),i.pb(40,0,null,null,3,"fieldset",[["class","my-2"]],null,null,null,null,null)),(e()(),i.pb(41,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),i.Hb(-1,null,["Repite el password"])),(e()(),i.pb(43,0,null,null,0,"input",[["class","mx-2"],["id","password-registro2"],["type","password"]],null,null,null,null,null)),(e()(),i.pb(44,0,null,null,10,"fieldset",[["class","my-2"]],null,null,null,null,null)),(e()(),i.pb(45,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),i.Hb(-1,null,["Selecciona un rol"])),(e()(),i.pb(47,0,null,null,7,"select",[["class","custom-select col"],["id","rol-registro"],["name","roles"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,o=e.component;return"change"===t&&(r=!1!==i.Bb(e,48).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==i.Bb(e,48).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(o.usuario.roles=n)&&r),r}),null,null)),i.ob(48,16384,null,0,p.t,[i.B,i.k],null,null),i.Eb(1024,null,p.k,(function(e){return[e]}),[p.t]),i.ob(50,671744,null,0,p.p,[[2,p.c],[8,null],[8,null],[6,p.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i.Eb(2048,null,p.l,null,[p.p]),i.ob(52,16384,null,0,p.m,[[4,p.l]],null,null),(e()(),i.eb(16777216,null,null,1,null,_)),i.ob(54,278528,null,0,v.i,[i.M,i.J,i.q],{ngForOf:[0,"ngForOf"]},null),(e()(),i.pb(55,0,null,null,1,"button",[["class","btn btn-secondary"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),i.Hb(-1,null,["Cerrar"])),(e()(),i.pb(57,0,null,null,1,"button",[["class","btn btn-primary mx-2"],["data-bs-dismiss","modal"],["type","submit"]],null,null,null,null,null)),(e()(),i.Hb(-1,null,["Continuar"]))],(function(e,t){var n=t.component;e(t,13,0,n.usuarios),e(t,50,0,"roles",n.usuario.roles),e(t,54,0,n.roles)}),(function(e,t){e(t,25,0,i.Bb(t,29).ngClassUntouched,i.Bb(t,29).ngClassTouched,i.Bb(t,29).ngClassPristine,i.Bb(t,29).ngClassDirty,i.Bb(t,29).ngClassValid,i.Bb(t,29).ngClassInvalid,i.Bb(t,29).ngClassPending),e(t,47,0,i.Bb(t,52).ngClassUntouched,i.Bb(t,52).ngClassTouched,i.Bb(t,52).ngClassPristine,i.Bb(t,52).ngClassDirty,i.Bb(t,52).ngClassValid,i.Bb(t,52).ngClassInvalid,i.Bb(t,52).ngClassPending)}))}var k=i.lb("app-usuarios",g.a,(function(e){return i.Jb(0,[(e()(),i.pb(0,0,null,null,1,"app-usuarios",[],null,null,null,w,y)),i.ob(1,114688,null,0,g.a,[h,u.a,m.k],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[])},"ZT/D":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e),this.nombreSala="",this.idSala=""}},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD");function o(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,o);if(!a.closed)return Object(i.a)(t)(a)}},Zdl6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("eJtT"),i=function(){function e(t){_classCallCheck(this,e),this.archivosService=t,this.archivosSeleccionados=[],this.previewArchivosSeleccionados=[]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"seleccionarArchivos",value:function(e){for(var t=0;t<e.target.files.length;t++){var n=new r.a;n.nombre=e.target.files[t].name,n.url=URL.createObjectURL(e.target.files[t]),this.archivosSeleccionados.push(e.target.files[t])}this.previewArchivos(e)}},{key:"previewArchivos",value:function(e){for(var t=0;t<e.target.files.length;t++){var n=new r.a;n.nombre=e.target.files[t].name,n.url=URL.createObjectURL(e.target.files[t]),this.previewArchivosSeleccionados.push(n),console.log("ARCHIVO CREADO",n)}}},{key:"subirArchivos",value:function(e){var t=this;this.archivosSeleccionados.forEach((function(n){t.archivosService.uploadFile(n,e)}))}},{key:"deseleccionarArchivo",value:function(e){var t=[];this.archivosSeleccionados.forEach((function(n){console.log(n),n.name!==e.nombre&&t.push(n)})),this.archivosSeleccionados=t,console.log("Nuevo array de seleccionados",this.archivosSeleccionados),t=[],this.previewArchivosSeleccionados.forEach((function(n){n.nombre!==e.nombre&&t.push(n)})),this.previewArchivosSeleccionados=t,console.log("Nuevo array de previe",this.previewArchivosSeleccionados)}}]),e}()},Zs65:function(e,t,n){"use strict";n("6Uf2")},a7t3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("NJ4a"),i=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.a),t}}},aoek:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("8Y7J"),i=function(){function e(t){_classCallCheck(this,e),this.creadorForm=t,this.elementosForm=[],this.payLoad=new r.m}return _createClass(e,[{key:"ngOnInit",value:function(){this.form=this.creadorForm.crearFormulario(this.elementosForm)}},{key:"emitirPayload",value:function(){this.payLoad.emit(this.form.getRawValue())}}]),e}()},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},bOdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("5+tZ");function i(e,t){return Object(r.a)(e,t,1)}},bQjk:function(e,t,n){var r,i,o;e.exports=(o=n("Ib8C"),n("OLod"),r=o.lib.CipherParams,i=o.enc.Hex,o.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return r.create({ciphertext:t})}},o.format.Hex)},bdaQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},cPMN:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("IheW"),i=n("z6cu"),o=n("lJxs"),a=n("JIr8"),l=n("AytR"),s=n("VwbT"),u=n("PSD3"),c=n.n(u),h=n("8Y7J"),f=n("z58d"),d={headers:new r.g({"Content-Type":"application/json"})},p=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.fichaService=n,this.endpoint=l.a.urlAPI+"/fichavips"}return _createClass(e,[{key:"getFichasVIP",value:function(){return this.http.get(this.endpoint,d)}},{key:"extraerFichasVIP",value:function(e){var t=this,n=[];return e._embedded.fichavips.forEach((function(e){var r=t.mapearFichaVip(e,t.getIdFichaVIP(e));t.fichaService.estaValidada(r.artefactoId).subscribe((function(e){e&&n.push(r)}))})),n}},{key:"mapearFichaVip",value:function(e,t){var n=Object.create(s.a);return Object.assign(n,e),Object.defineProperty(n,"id",{value:null,writable:!0,enumerable:!0,configurable:!0}),n.id=t,n}},{key:"deleteFichaVIP",value:function(e){return console.log("id="+e),this.http.delete(this.endpoint+"/"+e,d).pipe(Object(o.a)((function(e){e&&(console.log("ok: ",e),c.a.fire({title:"Ficha destacada eliminada",icon:"success"}))})),Object(a.a)((function(e){return c.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido eliminar la ficha de destacadas. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",e),400===e.status||e.error.mensaje&&console.error(e.error.mensaje),Object(i.a)(e)})))}},{key:"getIdFichaVIP",value:function(e){var t=e._links.self.href.split("/");return t[t.length-1]}},{key:"updateFichaVIP",value:function(e){return this.http.patch(this.endpoint+"/"+e.id,e,d).pipe(Object(o.a)((function(e){e&&(console.log("ok: ",e),c.a.fire({title:"Ficha actualizada",icon:"success"}))})),Object(a.a)((function(e){return c.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido almacenar la ficha. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",e),400===e.status||e.error.mensaje&&console.error(e.error.mensaje),Object(i.a)(e)})))}},{key:"postFichaVIP",value:function(e){return this.http.post(this.endpoint,e,d).pipe(Object(o.a)((function(e){e&&(console.log("ok: ",e),c.a.fire({title:"Ficha agregada a destacadas",icon:"success"}))})),Object(a.a)((function(e){return c.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido agregar la ficha a destacadas. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",e),400===e.status||e.error.mensaje&&console.error(e.error.mensaje),Object(i.a)(e)})))}},{key:"esVip",value:function(e){return this.http.get(this.endpoint+"/exist?artefactoId="+e)}}]),e}();return e.ngInjectableDef=h.Nb({factory:function(){return new e(h.Ob(r.c),h.Ob(f.a))},token:e,providedIn:"root"}),e}()},cUpR:function(e,t,n){"use strict";n.d(t,"p",(function(){return ce})),n.d(t,"q",(function(){return w})),n.d(t,"a",(function(){return he})),n.d(t,"h",(function(){return ue})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return K})),n.d(t,"f",(function(){return J})),n.d(t,"g",(function(){return Q})),n.d(t,"b",(function(){return ee})),n.d(t,"r",(function(){return a})),n.d(t,"j",(function(){return P})),n.d(t,"i",(function(){return G})),n.d(t,"m",(function(){return Y})),n.d(t,"n",(function(){return Z})),n.d(t,"l",(function(){return S})),n.d(t,"o",(function(){return E})),n.d(t,"k",(function(){return te}));var r=n("SVse"),i=n("8Y7J"),o=null;function a(){return o}var l,s={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},u={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},c={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},h=function(){if(i.sb.Node)return i.sb.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}}(),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(e){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(e,t){return t in e}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"getProperty",value:function(e,t){return e[t]}},{key:"invoke",value:function(e,t,n){e[t].apply(e,_toConsumableArray2(n))}},{key:"logError",value:function(e){window.console&&(console.error?console.error(e):console.log(e))}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"attrToPropMap",get:function(){return s}},{key:"contains",value:function(e,t){return h.call(e,t)}},{key:"querySelector",value:function(e,t){return e.querySelector(t)}},{key:"querySelectorAll",value:function(e,t){return e.querySelectorAll(t)}},{key:"on",value:function(e,t,n){e.addEventListener(t,n,!1)}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"createMouseEvent",value:function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}},{key:"createEvent",value:function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}},{key:"preventDefault",value:function(e){e.preventDefault(),e.returnValue=!1}},{key:"isPrevented",value:function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}},{key:"getInnerHTML",value:function(e){return e.innerHTML}},{key:"getTemplateContent",value:function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}},{key:"getOuterHTML",value:function(e){return e.outerHTML}},{key:"nodeName",value:function(e){return e.nodeName}},{key:"nodeValue",value:function(e){return e.nodeValue}},{key:"type",value:function(e){return e.type}},{key:"content",value:function(e){return this.hasProperty(e,"content")?e.content:e}},{key:"firstChild",value:function(e){return e.firstChild}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"parentElement",value:function(e){return e.parentNode}},{key:"childNodes",value:function(e){return e.childNodes}},{key:"childNodesAsList",value:function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n}},{key:"clearNodes",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"removeChild",value:function(e,t){e.removeChild(t)}},{key:"replaceChild",value:function(e,t,n){e.replaceChild(t,n)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"insertBefore",value:function(e,t,n){e.insertBefore(n,t)}},{key:"insertAllBefore",value:function(e,t,n){n.forEach((function(n){return e.insertBefore(n,t)}))}},{key:"insertAfter",value:function(e,t,n){e.insertBefore(n,t.nextSibling)}},{key:"setInnerHTML",value:function(e,t){e.innerHTML=t}},{key:"getText",value:function(e){return e.textContent}},{key:"setText",value:function(e,t){e.textContent=t}},{key:"getValue",value:function(e){return e.value}},{key:"setValue",value:function(e,t){e.value=t}},{key:"getChecked",value:function(e){return e.checked}},{key:"setChecked",value:function(e,t){e.checked=t}},{key:"createComment",value:function(e){return this.getDefaultDocument().createComment(e)}},{key:"createTemplate",value:function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createElementNS",value:function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}},{key:"createTextNode",value:function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}},{key:"createScriptTag",value:function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}},{key:"createStyleElement",value:function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}},{key:"createShadowRoot",value:function(e){return e.createShadowRoot()}},{key:"getShadowRoot",value:function(e){return e.shadowRoot}},{key:"getHost",value:function(e){return e.host}},{key:"clone",value:function(e){return e.cloneNode(!0)}},{key:"getElementsByClassName",value:function(e,t){return e.getElementsByClassName(t)}},{key:"getElementsByTagName",value:function(e,t){return e.getElementsByTagName(t)}},{key:"classList",value:function(e){return Array.prototype.slice.call(e.classList,0)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"setStyle",value:function(e,t,n){e.style[t]=n}},{key:"removeStyle",value:function(e,t){e.style[t]=""}},{key:"getStyle",value:function(e,t){return e.style[t]}},{key:"hasStyle",value:function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(e){return e.tagName}},{key:"attributeMap",value:function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var i=n.item(r);t.set(i.name,i.value)}return t}},{key:"hasAttribute",value:function(e,t){return e.hasAttribute(t)}},{key:"hasAttributeNS",value:function(e,t,n){return e.hasAttributeNS(t,n)}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}},{key:"getAttributeNS",value:function(e,t,n){return e.getAttributeNS(t,n)}},{key:"setAttribute",value:function(e,t,n){e.setAttribute(t,n)}},{key:"setAttributeNS",value:function(e,t,n,r){e.setAttributeNS(t,n,r)}},{key:"removeAttribute",value:function(e,t){e.removeAttribute(t)}},{key:"removeAttributeNS",value:function(e,t,n){e.removeAttributeNS(t,n)}},{key:"templateAwareRoot",value:function(e){return this.isTemplateElement(e)?this.content(e):e}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(e){return e.title}},{key:"setTitle",value:function(e,t){e.title=t||""}},{key:"elementMatches",value:function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}},{key:"isTemplateElement",value:function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}},{key:"isTextNode",value:function(e){return e.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(e){return e.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(e){return null!=e.shadowRoot&&e instanceof HTMLElement}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"importIntoDoc",value:function(e){return document.importNode(this.templateAwareRoot(e),!0)}},{key:"adoptNode",value:function(e){return document.adoptNode(e)}},{key:"getHref",value:function(e){return e.getAttribute("href")}},{key:"getEventKey",value:function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&c.hasOwnProperty(t)&&(t=c[t]))}return u[t]||t}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=d||(d=document.querySelector("base"))?d.getAttribute("href"):null;return null==n?null:(t=n,l||(l=document.createElement("a")),l.setAttribute("href",t),"/"===l.pathname.charAt(0)?l.pathname:"/"+l.pathname)}},{key:"resetBaseElement",value:function(){d=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(e,t,n){this.setAttribute(e,"data-"+t,n)}},{key:"getData",value:function(e,t){return this.getAttribute(e,"data-"+t)}},{key:"getComputedStyle",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return getComputedStyle(e)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Object(r.u)(document.cookie,e)}},{key:"setCookie",value:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}],[{key:"makeCurrent",value:function(){var e;e=new n,o||(o=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n),(e=t.call(this))._animationPrefix=null,e._transitionEnd=null;try{var r=e.createElement("div",document);if(null!=e.getStyle(r,"animationName"))e._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],o=0;o<i.length;o++)if(null!=e.getStyle(r,i[o]+"AnimationName")){e._animationPrefix="-"+i[o].toLowerCase()+"-";break}var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(a).forEach((function(t){null!=e.getStyle(r,t)&&(e._transitionEnd=a[t])}))}catch(l){e._animationPrefix=null,e._transitionEnd=null}return e}return _createClass(n,[{key:"getDistributedNodes",value:function(e){return e.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(e,t,n){e.href=null==n?t:t+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),n}(function(){function e(){_classCallCheck(this,e),this.resourceLoaderType=null}return _createClass(e,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e}}]),e}())),d=null;function p(){return!!window.history.pushState}var v=new i.o("TRANSITION_ID"),g=[{provide:i.d,useFactory:function(e,t,n){return function(){n.get(i.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter((function(t){return n.getAttribute(t,"ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[v,r.d,i.p],multi:!0}],m=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){i.sb.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.sb.getAllAngularTestabilities=function(){return e.getAllTestabilities()},i.sb.getAllAngularRootElements=function(){return e.getAllRootElements()},i.sb.frameworkStabilizers||(i.sb.frameworkStabilizers=[]),i.sb.frameworkStabilizers.push((function(e){var t=i.sb.getAllAngularTestabilities(),n=t.length,r=!1,o=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?a().isShadowRoot(t)?this.findTestabilityInTree(e,a().getHost(t),!0):this.findTestabilityInTree(e,a().parentElement(t),!0):null}}],[{key:"init",value:function(){Object(i.V)(new e)}}]),e}();function y(e,t){"undefined"!=typeof COMPILED&&COMPILED||((i.sb.ng=i.sb.ng||{})[e]=t)}var b={ApplicationRef:i.g,NgZone:i.x};function _(e){return Object(i.S)(e)}function w(e){return y("probe",_),y("coreTokens",Object.assign({},b,(e||[]).reduce((function(e,t){return e[t.name]=t.token,e}),{}))),function(){return _}}var k=new i.o("EventManagerPlugins"),C=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}(),I=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=a().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),E=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}(),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return a().remove(e)}))}}]),n}(E),T={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},A=/%COMP%/g;function O(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?O(e,i,n):(i=i.replace(A,e),n.push(i))}return n}function x(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var P=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new N(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.N.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new M(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case i.N.Native:case i.N.ShadowDom:return new j(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=O(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}(),N=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(T[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=T[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=T[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&i.D.DashCase?e.style.setProperty(t,n,r&i.D.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&i.D.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){D(t,"property"),e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return D(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,x(n)):this.eventManager.addEventListener(e,t,x(n))}}]),e}(),R="@".charCodeAt(0);function D(e,t){if(e.charCodeAt(0)===R)throw new Error("Found the synthetic ".concat(t," ").concat(e,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var M=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=i;var l,s=O(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(A,o+"-"+i.id),a.hostAttr=(l=o+"-"+i.id,"_nghost-%COMP%".replace(A,l)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(N),j=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o,a){var l;_classCallCheck(this,n),(l=t.call(this,e)).sharedStylesHost=r,l.hostEl=o,l.component=a,l.shadowRoot=a.encapsulation===i.N.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),l.sharedStylesHost.addHost(l.shadowRoot);for(var s=O(a.id,a.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],l.shadowRoot.appendChild(c)}return l}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(N),L="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},B=L("addEventListener"),F=L("removeEventListener"),V={},U="__zone_symbol__propagationStopped",q=function(){var e="undefined"!=typeof Zone&&Zone[L("BLACK_LISTED_EVENTS")];if(e){var t={};return e.forEach((function(e){t[e]=e})),t}}(),H=function(e){return!!q&&q.hasOwnProperty(e)},z=function(e){var t=V[e.type];if(t){var n=this[t];if(n){var r=[e];if(1===n.length){var i=n[0];return i.zone!==Zone.current?i.zone.run(i.handler,this,r):i.handler.apply(this,r)}for(var o=n.slice(),a=0;a<o.length&&!0!==e[U];a++){var l=o[a];l.zone!==Zone.current?l.zone.run(l.handler,this,r):l.handler.apply(this,r)}}}},G=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).ngZone=i,o&&Object(r.r)(o)||a.patchEvent(),a}return _createClass(n,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[U]=!0),e&&e.apply(this,arguments)}}}},{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this,o=n;if(!e[B]||i.x.isInAngularZone()&&!H(t))e.addEventListener(t,o,!1);else{var a=V[t];a||(a=V[t]=L("ANGULAR"+t+"FALSE"));var l=e[a],s=l&&l.length>0;l||(l=e[a]=[]);var u=H(t)?Zone.root:Zone.current;if(0===l.length)l.push({zone:u,handler:o});else{for(var c=!1,h=0;h<l.length;h++)if(l[h].handler===o){c=!0;break}c||l.push({zone:u,handler:o})}s||e[B](t,z,!1)}return function(){return r.removeEventListener(e,t,o)}}},{key:"removeEventListener",value:function(e,t,n){var r=e[F];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);var i=V[t],o=i&&e[i];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);for(var a=!1,l=0;l<o.length;l++)if(o[l].handler===n){a=!0,o.splice(l,1);break}a?0===o.length&&r.apply(e,[t,z,!1]):e.removeEventListener.apply(e,[t,n,!1])}}]),n}(I),W={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},K=new i.o("HammerGestureConfig"),J=new i.o("HammerLoader"),Q=function(){function e(){_classCallCheck(this,e),this.events=[],this.overrides={}}return _createClass(e,[{key:"buildHammer",value:function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t}}]),e}(),Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e))._config=r,a.console=i,a.loader=o,a}return _createClass(n,[{key:"supports",value:function(e){return!(!W.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(e,'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.')),1))}},{key:"addEventListener",value:function(e,t,n){var r=this,i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(e,t,n))})).catch((function(){r.console.warn('The "'.concat(t,'" event cannot be bound because the custom Hammer.JS loader failed.')),a=function(){}})),function(){a()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(e),a=function(e){i.runGuarded((function(){n(e)}))};return o.on(t,a),function(){o.off(t,a),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(e){return this._config.events.indexOf(e)>-1}}]),n}(I),$=["alt","control","meta","shift"],X={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if($.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=a().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),$.forEach((function(r){r!=n&&(0,X[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(I),ee=function e(){_classCallCheck(this,e)},te=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case i.F.NONE:return t;case i.F.HTML:return t instanceof re?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),Object(i.bb)(this._doc,String(t)));case i.F.STYLE:return t instanceof ie?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Object(i.cb)(t));case i.F.SCRIPT:if(t instanceof oe)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case i.F.URL:return t instanceof le||t instanceof ae?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Object(i.db)(String(t)));case i.F.RESOURCE_URL:if(t instanceof le)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(e,t){if(e instanceof ne)throw new Error("Required a safe ".concat(t,", got a ").concat(e.getTypeName()," (see http://g.co/ng/security#xss)"))}},{key:"bypassSecurityTrustHtml",value:function(e){return new re(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new ie(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new oe(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new ae(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new le(e)}}]),n}(ee),ne=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),re=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(ne),ie=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(ne),oe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(ne),ae=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(ne),le=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(ne),se=[{provide:i.z,useValue:r.s},{provide:i.A,useValue:function(){f.makeCurrent(),m.init()},multi:!0},{provide:r.p,useClass:function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){p()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){p()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(r.p),deps:[r.d]},{provide:r.d,useFactory:function(){return document},deps:[]}],ue=Object(i.P)(i.U,"browser",se);function ce(){return new i.l}var he=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:i.c,useValue:t.appId},{provide:v,useExisting:i.c},g]}}}]),e}();"undefined"!=typeof window&&window},cv67:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,l=[];!function(){for(var t=0;t<64;t++)l[t]=4294967296*e.abs(e.sin(t+1))|0}();var s=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],s=e[t+1],d=e[t+2],p=e[t+3],v=e[t+4],g=e[t+5],m=e[t+6],y=e[t+7],b=e[t+8],_=e[t+9],w=e[t+10],k=e[t+11],C=e[t+12],I=e[t+13],E=e[t+14],S=e[t+15],T=o[0],A=o[1],O=o[2],x=o[3];T=u(T,A,O,x,a,7,l[0]),x=u(x,T,A,O,s,12,l[1]),O=u(O,x,T,A,d,17,l[2]),A=u(A,O,x,T,p,22,l[3]),T=u(T,A,O,x,v,7,l[4]),x=u(x,T,A,O,g,12,l[5]),O=u(O,x,T,A,m,17,l[6]),A=u(A,O,x,T,y,22,l[7]),T=u(T,A,O,x,b,7,l[8]),x=u(x,T,A,O,_,12,l[9]),O=u(O,x,T,A,w,17,l[10]),A=u(A,O,x,T,k,22,l[11]),T=u(T,A,O,x,C,7,l[12]),x=u(x,T,A,O,I,12,l[13]),O=u(O,x,T,A,E,17,l[14]),T=c(T,A=u(A,O,x,T,S,22,l[15]),O,x,s,5,l[16]),x=c(x,T,A,O,m,9,l[17]),O=c(O,x,T,A,k,14,l[18]),A=c(A,O,x,T,a,20,l[19]),T=c(T,A,O,x,g,5,l[20]),x=c(x,T,A,O,w,9,l[21]),O=c(O,x,T,A,S,14,l[22]),A=c(A,O,x,T,v,20,l[23]),T=c(T,A,O,x,_,5,l[24]),x=c(x,T,A,O,E,9,l[25]),O=c(O,x,T,A,p,14,l[26]),A=c(A,O,x,T,b,20,l[27]),T=c(T,A,O,x,I,5,l[28]),x=c(x,T,A,O,d,9,l[29]),O=c(O,x,T,A,y,14,l[30]),T=h(T,A=c(A,O,x,T,C,20,l[31]),O,x,g,4,l[32]),x=h(x,T,A,O,b,11,l[33]),O=h(O,x,T,A,k,16,l[34]),A=h(A,O,x,T,E,23,l[35]),T=h(T,A,O,x,s,4,l[36]),x=h(x,T,A,O,v,11,l[37]),O=h(O,x,T,A,y,16,l[38]),A=h(A,O,x,T,w,23,l[39]),T=h(T,A,O,x,I,4,l[40]),x=h(x,T,A,O,a,11,l[41]),O=h(O,x,T,A,p,16,l[42]),A=h(A,O,x,T,m,23,l[43]),T=h(T,A,O,x,_,4,l[44]),x=h(x,T,A,O,C,11,l[45]),O=h(O,x,T,A,S,16,l[46]),T=f(T,A=h(A,O,x,T,d,23,l[47]),O,x,a,6,l[48]),x=f(x,T,A,O,y,10,l[49]),O=f(O,x,T,A,E,15,l[50]),A=f(A,O,x,T,g,21,l[51]),T=f(T,A,O,x,C,6,l[52]),x=f(x,T,A,O,p,10,l[53]),O=f(O,x,T,A,w,15,l[54]),A=f(A,O,x,T,s,21,l[55]),T=f(T,A,O,x,b,6,l[56]),x=f(x,T,A,O,S,10,l[57]),O=f(O,x,T,A,m,15,l[58]),A=f(A,O,x,T,I,21,l[59]),T=f(T,A,O,x,v,6,l[60]),x=f(x,T,A,O,k,10,l[61]),O=f(O,x,T,A,d,15,l[62]),A=f(A,O,x,T,_,21,l[63]),o[0]=o[0]+T|0,o[1]=o[1]+A|0,o[2]=o[2]+O|0,o[3]=o[3]+x|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var l=this._hash,s=l.words,u=0;u<4;u++){var c=s[u];s[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return l},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,o,a){var l=e+(t&n|~t&r)+i+a;return(l<<o|l>>>32-o)+t}function c(e,t,n,r,i,o,a){var l=e+(t&r|n&~r)+i+a;return(l<<o|l>>>32-o)+t}function h(e,t,n,r,i,o,a){var l=e+(t^n^r)+i+a;return(l<<o|l>>>32-o)+t}function f(e,t,n,r,i,o,a){var l=e+(n^(t|~r))+i+a;return(l<<o|l>>>32-o)+t}t.MD5=o._createHelper(s),t.HmacMD5=o._createHmacHelper(s)}(Math),r.MD5)},e7zE:function(e,t,n){var r,i,o,a,l,s,u,c;e.exports=(c=n("Ib8C"),n("3y9D"),n("WYAk"),a=(i=(r=c).lib).WordArray,s=(l=r.algo).HMAC,u=l.PBKDF2=(o=i.Base).extend({cfg:o.extend({keySize:4,hasher:l.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=s.create(n.hasher,e),i=a.create(),o=a.create([1]),l=i.words,u=o.words,c=n.keySize,h=n.iterations;l.length<c;){var f=r.update(t).finalize(o);r.reset();for(var d=f.words,p=d.length,v=f,g=1;g<h;g++){v=r.finalize(v),r.reset();for(var m=v.words,y=0;y<p;y++)d[y]^=m[y]}i.concat(f),u[0]++}return i.sigBytes=4*c,i}}),r.PBKDF2=function(e,t,n){return u.create(n).compute(e,t)},c.PBKDF2)},eJtT:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e),this.nombre="",this.url=""}},"ej4/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(t,n){_classCallCheck(this,e),this.fichaService=t,this.criteriosService=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.fichas||this.criteriosService.criteriosObservados.subscribe((function(t){console.log(t),e.mostrarArtefactosFiltrados(t)}))}},{key:"mostrarArtefactosFiltrados",value:function(e){var t=this;console.log("nuevos criterios"+JSON.stringify(e)),this.observable$=this.fichaService.getFichasFiltradas(e).subscribe((function(e){t.fichas=t.fichaService.extraerFichas(e)})),this.fichas=Array.from(this.observable$)}}]),e}()},eqlp:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()},fNgX:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return h}));var r=n("8Y7J"),i=n("Nv++"),o=n("cUpR"),a=r.nb({encapsulation:2,styles:[],data:{}});function l(e){return r.Jb(0,[],null,null)}var s=r.lb("fa-icon",i.c,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"title",0],[8,"innerHTML",1]],null,null,l,a)),r.ob(1,573440,null,0,i.c,[o.b,i.a,i.d,[2,i.i]],null,null)],null,(function(e,t){e(t,0,0,r.Bb(t,1).title,r.Bb(t,1).renderedIconHTML)}))}),{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",listItem:"listItem",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},{},[]),u=r.nb({encapsulation:2,styles:[],data:{}});function c(e){return r.Jb(0,[],null,null)}var h=r.lb("fa-duotone-icon",i.b,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"fa-duotone-icon",[],[[8,"innerHTML",1]],null,null,c,u)),r.ob(1,573440,null,0,i.b,[o.b,i.a,i.d,[2,i.i]],null,null)],null,(function(e,t){e(t,0,0,r.Bb(t,1).renderedIconHTML)}))}),{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",listItem:"listItem",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole",swapOpacity:"swapOpacity",primaryOpacity:"primaryOpacity",secondaryOpacity:"secondaryOpacity",primaryColor:"primaryColor",secondaryColor:"secondaryColor"},{},[])},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},"gb/T":function(e,t,n){var r,i;e.exports=(i=n("Ib8C"),n("OLod"),i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),i.mode.ECB)},hqm0:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("LRne"),i=n("AOe3"),o=(n("Zdl6"),n("lEC+"),n("PSD3")),a=n.n(o),l=function(){function e(t,n,i){_classCallCheck(this,e),this.fichaService=t,this.plantillaFicha=n,this.activatedRoute=i,this.id=this.activatedRoute.snapshot.params.id,this.flagForma={cilindro:!1,esfera:!1,cubo:!1},this.flagTipo={espoleta:!1,mina:!1,municion:!1,proyectil:!1,cohete:!1,misil:!1,bomba:!1,granada:!1},this.elementosArtefacto$=Object(r.a)(this.plantillaFicha.getArrayArtefacto()),this.elementosFormaCilindro$=Object(r.a)(this.plantillaFicha.getArrayForma("cilindro")),this.elementosFormaEsfera$=Object(r.a)(this.plantillaFicha.getArrayForma("esfera")),this.elementosFormaCubo$=Object(r.a)(this.plantillaFicha.getArrayForma("")),this.elementosFormaEspoleta$=Object(r.a)(this.plantillaFicha.getArrayEspoleta()),this.elementosFormaMina$=Object(r.a)(this.plantillaFicha.getArrayMina()),this.elementosFormaMunicion$=Object(r.a)(this.plantillaFicha.getArrayMunicion()),this.elementosFormaProyectil$=Object(r.a)(this.plantillaFicha.getArrayProyectil()),this.elementosFormaCohete$=Object(r.a)(this.plantillaFicha.getArrayCohete()),this.elementosFormaMisil$=Object(r.a)(this.plantillaFicha.getArrayMisil()),this.elementosFormaBomba$=Object(r.a)(this.plantillaFicha.getArrayBomba()),this.elementosFormaGranada$=Object(r.a)(this.plantillaFicha.getArrayGranada())}return _createClass(e,[{key:"ngOnInit",value:function(){a.a.fire({title:"\xa1Informaci\xf3n Importante!",text:"Recuerde que en esta aplicaci\xf3n NO ESTA PERMITIDO cargar informaci\xf3n clasificada o susceptible de serlo. Para m\xe1s informaci\xf3n consulte la pesta\xf1a 'Normas de uso'.",icon:"warning"})}},{key:"seleccionTipo",value:function(){this.flagTipo.espoleta=!1,this.flagTipo.mina=!1,this.flagTipo.municion=!1,this.flagTipo.proyectil=!1,this.flagTipo.cohete=!1,this.flagTipo.misil=!1,this.flagTipo.bomba=!1,this.flagTipo.granada=!1,"artefactos"==this.artefacto.tipoArtefacto&&this.marcarPropositoLibre(),"minas"==this.artefacto.tipoArtefacto&&(this.flagTipo.mina=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.minas)),"municiones"==this.artefacto.tipoArtefacto&&(this.flagTipo.municion=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones)),"proyectiles"==this.artefacto.tipoArtefacto&&(this.flagTipo.municion=!0,this.flagTipo.proyectil=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones)),"cohetes"==this.artefacto.tipoArtefacto&&(this.flagTipo.municion=!0,this.flagTipo.cohete=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones)),"misiles"==this.artefacto.tipoArtefacto&&(this.flagTipo.municion=!0,this.flagTipo.cohete=!0,this.flagTipo.misil=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones)),"bombasAviacion"==this.artefacto.tipoArtefacto&&(this.flagTipo.bomba=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones)),"granadas"==this.artefacto.tipoArtefacto&&(this.flagTipo.granada=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones)),"espoletas"==this.artefacto.tipoArtefacto&&(this.flagTipo.espoleta=!0,this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.espoletas))}},{key:"cargarOpcionesPropositoArtefacto",value:function(e){var t=document.getElementById("propositoArtefacto");e.forEach((function(e){var n=document.createElement("option");n.value=e.key,n.innerText=e.value,t.appendChild(n)}))}},{key:"marcarPropositoLibre",value:function(){this.cargarOpcionesPropositoArtefacto(i.a.propositoArtefacto.municiones.concat(i.a.propositoArtefacto.minas).concat(i.a.propositoArtefacto.espoletas))}},{key:"seleccionForma",value:function(){var e=this;this.flagForma.cilindro=!1,this.flagForma.cubo=!1,this.flagForma.esfera=!1,i.a.formas.forEach((function(t){e.artefacto.forma==t.key&&("cilindro"==t.forma?(e.artefacto.longitud=0,e.artefacto.fondo=0,e.flagForma.cilindro=!0):"esfera"==t.forma?(e.artefacto.longitud=0,e.artefacto.altura=0,e.artefacto.fondo=0,e.flagForma.esfera=!0):(e.artefacto.diametroCalibre=0,e.flagForma.cubo=!0))}))}},{key:"asignarArtefacto",value:function(e){this.artefacto=Object.assign({},this.artefacto,e),this.seleccionForma(),this.seleccionTipo(),console.log("artefacto"),console.log(this.artefacto)}},{key:"salvarArtefacto",value:function(){var e=this;this.id=void 0,this.artefacto||a.a.fire({title:"Error",text:"Debe introducir los campos",icon:"error"}),this.fichaService.postArtefacto(this.artefacto).subscribe((function(t){console.log("RESPUESTA",t);for(var n=t._links.self.href,r=n.length-1;r>0&&"/"!==n[r];r--)e.id=null==e.id?n[r]:n[r]+e.id;e.hijo.subirImagenes(e.id),e.hijoArchivo.subirArchivos(e.id)}))}}]),e}()},hti6:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("8Y7J"),i=n("xOdc"),o=n("sBFL"),a=n("iInd"),l=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.tokenService=t,this.loginService=n,this.router=r}return _createClass(e,[{key:"canActivate",value:function(e,t){return!(!this.tokenService.getToken()||!this.loginService.getIsAdminFlagObs)||(this.router.navigate(["/"]),!1)}}]),e}();return e.ngInjectableDef=r.Nb({factory:function(){return new e(r.Ob(i.a),r.Ob(o.a),r.Ob(a.k))},token:e,providedIn:"root"}),e}()},iInd:function(e,t,n){"use strict";var r=n("SVse"),i=n("8Y7J"),o=n("LRne"),a=n("Cfvw"),l=n("2Vo4"),s=n("HDdC");function u(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}u.prototype=Object.create(Error.prototype);var c=u,h=n("z+Ro"),f=n("DH7j"),d=n("l7GE"),p=n("ZUHj"),v=n("yCtX"),g={},m=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new y(e,this.resultSelector))}}]),e}(),y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(g),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(p.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===g?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(d.a),b=n("EY2u");function _(e){return new s.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(a.a)(n):Object(b.b)()).subscribe(t)}))}var w=n("XNiG"),k=n("lJxs"),C=n("bHdf");function I(){return Object(C.a)(1)}var E=n("pLZG"),S=n("7o/Q");function T(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}T.prototype=Object.create(Error.prototype);var A=T;function O(e){return function(t){return 0===e?Object(b.b)():t.lift(new x(e))}}var x=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new A}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new P(e,this.total))}}]),e}(),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(S.a),N=n("KqfI"),R=n("n6bG");function D(e,t,n){return function(r){return r.lift(new M(e,t,n))}}var M=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new j(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),j=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e))._tapNext=N.a,a._tapError=N.a,a._tapComplete=N.a,a._tapError=i||N.a,a._tapComplete=o||N.a,Object(R.a)(r)?(a._context=_assertThisInitialized(a),a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||N.a,a._tapError=r.error||N.a,a._tapComplete=r.complete||N.a),a}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(S.a),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return D({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function B(){return new c}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new V(e))}}var V=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new U(e,this.defaultValue))}}]),e}(),U=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(S.a),q=n("SpAZ");function H(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(E.a)((function(t,n){return e(t,n,r)})):q.a,O(1),n?F(t):L((function(){return new c})))}}var z=n("JIr8");function G(e){return function(t){return 0===e?Object(b.b)():t.lift(new W(e))}}var W=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new A}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new K(e,this.total))}}]),e}(),K=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(S.a);function J(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(E.a)((function(t,n){return e(t,n,r)})):q.a,G(1),n?F(t):L((function(){return new c})))}}var Q=n("5+tZ"),Y=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new $(e,this.predicate,this.thisArg,this.source))}}]),e}(),$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(S.a),X=n("51Dv");function Z(e,t){return"function"==typeof t?function(n){return n.pipe(Z((function(n,r){return Object(a.a)(e(n,r)).pipe(Object(k.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new ee(e))}}var ee=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new te(e,this.project))}}]),e}(),te=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new X.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(p.a)(this,e,t,n,i)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(d.a),ne=n("XUOw");function re(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ie(e,t,n))}}var ie=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new oe(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),oe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(S.a),ae=n("bOdf"),le=n("mCNh"),se=n("quSY"),ue=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ce(e,this.callback))}}]),e}(),ce=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new se.a(r)),i}return n}(S.a),he=n("cUpR");n.d(t,"C",(function(){return Oe})),n.d(t,"s",(function(){return qn})),n.d(t,"z",(function(){return Xn})),n.d(t,"u",(function(){return Wn})),n.d(t,"A",(function(){return Zn})),n.d(t,"B",(function(){return er})),n.d(t,"w",(function(){return Jn})),n.d(t,"v",(function(){return Kn})),n.d(t,"y",(function(){return $n})),n.d(t,"t",(function(){return zn})),n.d(t,"x",(function(){return Yn})),n.d(t,"D",(function(){return Vn})),n.d(t,"l",(function(){return On})),n.d(t,"m",(function(){return xn})),n.d(t,"o",(function(){return Dn})),n.d(t,"j",(function(){return bn})),n.d(t,"k",(function(){return An})),n.d(t,"i",(function(){return wn})),n.d(t,"g",(function(){return Un})),n.d(t,"h",(function(){return tr})),n.d(t,"n",(function(){return Gn})),n.d(t,"b",(function(){return Rn})),n.d(t,"d",(function(){return Bn})),n.d(t,"e",(function(){return Ln})),n.d(t,"f",(function(){return jn})),n.d(t,"p",(function(){return Fn})),n.d(t,"a",(function(){return yt})),n.d(t,"q",(function(){return Cn})),n.d(t,"c",(function(){return $e})),n.d(t,"r",(function(){return Ye}));var fe=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},de=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(fe),pe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(fe),ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(fe),ge=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(fe),me=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(fe),ye=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(fe),be=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var l;return _classCallCheck(this,n),(l=t.call(this,e,r)).urlAfterRedirects=i,l.state=o,l.shouldActivate=a,l}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(fe),_e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(fe),we=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(fe),ke=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Ce=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Ie=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Ee=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Se=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Te=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Ae=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Oe=function e(){_classCallCheck(this,e)},xe=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Pe(e){return new xe(e)}function Ne(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Re(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],l=e[o];if(a.startsWith(":"))i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var De=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function Me(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];je(r,Le(t,r))}}function je(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&Me(e.children,t)}function Le(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Be(e){var t=e.children&&e.children.map(Be),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Oe),n}function Fe(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(e[n=r[o]]!==t[n])return!1;return!0}function Ve(e){return Array.prototype.concat.apply([],e)}function Ue(e){return e.length>0?e[e.length-1]:null}function qe(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function He(e){return Object(i.vb)(e)?e:Object(i.wb)(e)?Object(a.a)(Promise.resolve(e)):Object(o.a)(e)}function ze(e,t,n){return n?function(e,t){return Fe(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Je(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return t[n]===e[n]}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Je(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Je(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),l=i.slice(n.segments.length);return!!Je(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,l)}(t,n,n.segments)}(e.root,t.root)}var Ge=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Pe(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Xe.serialize(this)}}]),e}(),We=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,qe(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Ze(this)}}]),e}(),Ke=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Pe(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return ot(this)}}]),e}();function Je(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Qe(e,t){var n=[];return qe(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),qe(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var Ye=function e(){_classCallCheck(this,e)},$e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new ct(e);return new Ge(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return Ze(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return qe(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Qe(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Ze(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(tt(e),"=").concat(tt(t))})).join("&"):"".concat(tt(e),"=").concat(tt(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),Xe=new $e;function Ze(e){return e.segments.map((function(e){return ot(e)})).join("/")}function et(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tt(e){return et(e).replace(/%3B/gi,";")}function nt(e){return et(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rt(e){return decodeURIComponent(e)}function it(e){return rt(e.replace(/\+/g,"%20"))}function ot(e){return"".concat(nt(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(nt(e),"=").concat(nt(t[e]))})).join("")));var t}var at=/^[^\/()?;=#]+/;function lt(e){var t=e.match(at);return t?t[0]:""}var st=/^[^=?&#]+/,ut=/^[^?&#]+/,ct=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new We(e,t)),n}},{key:"parseSegment",value:function(){var e=lt(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Ke(rt(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=lt(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=lt(this.remaining);r&&(n=r,this.capture(n))}e[rt(t)]=rt(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(st);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(ut);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=it(t),o=it(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=lt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new We([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),ht=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=ft(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=ft(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=dt(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return dt(e,this._root).map((function(e){return e.value}))}}]),e}();function ft(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=ft(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function dt(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=dt(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var pt=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function vt(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var gt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,kt(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(ht);function mt(e,t){var n=function(e,t){var n=new _t([],{},{},"",{},"primary",t,null,e.root,-1,{});return new wt("",new pt(n,[]))}(e,t),r=new l.a([new Ke("",{})]),i=new l.a({}),o=new l.a({}),a=new l.a({}),s=new l.a(""),u=new yt(r,i,a,s,o,"primary",t,n.root);return u.snapshot=n.root,new gt(new pt(u,[]),n)}var yt=function(){function e(t,n,r,i,o,a,l,s){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=l,this._futureSnapshot=s}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(k.a)((function(e){return Pe(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(k.a)((function(e){return Pe(e)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var _t=function(){function e(t,n,r,i,o,a,l,s,u,c,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=l,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Pe(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Pe(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),wt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,kt(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return Ct(this._root)}}]),n}(ht);function kt(e,t){t.value._routerState=e,t.children.forEach((function(t){return kt(e,t)}))}function Ct(e){var t=e.children.length>0?" { ".concat(e.children.map(Ct).join(", ")," } "):"";return"".concat(e.value).concat(t)}function It(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Fe(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Fe(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Fe(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Fe(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Et(e,t){var n,r;return Fe(e.params,t.params)&&Je(n=e.url,r=t.url)&&n.every((function(e,t){return Fe(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||Et(e.parent,t.parent))}function St(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Tt(e,t,n,r,i){var o={};return r&&qe(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new Ge(n.root===e?t:function e(t,n,r){var i={};return qe(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new We(t.segments,i)}(n.root,e,t),o,i)}var At=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&St(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Ue(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Ot=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function xt(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Pt(e,t,n){if(e||(e=new We([],{})),0===e.segments.length&&e.hasChildren())return Nt(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],l=xt(n[r]),s=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&s&&"object"==typeof s&&void 0===s.outlets){if(!jt(l,s,a))return o;r+=2}else{if(!jt(l,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new We(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new We(e.segments.slice(r.pathIndex),e.children),Nt(o,0,i)}return r.match&&0===i.length?new We(e.segments,{}):r.match&&!e.hasChildren()?Rt(e,t,n):r.match?Nt(e,0,i):Rt(e,t,n)}function Nt(e,t,n){if(0===n.length)return new We(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return qe(r,(function(n,r){null!==n&&(i[r]=Pt(e.children[r],t,n))})),qe(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new We(e.segments,i)}function Rt(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Dt(n[i].outlets);return new We(r,o)}if(0===i&&St(n[0]))r.push(new Ke(e.segments[t].path,n[0])),i++;else{var a=xt(n[i]),l=i<n.length-1?n[i+1]:null;a&&l&&St(l)?(r.push(new Ke(a,Mt(l))),i+=2):(r.push(new Ke(a,{})),i++)}}return new We(r,{})}function Dt(e){var t={};return qe(e,(function(e,n){null!==e&&(t[n]=Rt(new We([],{}),0,e))})),t}function Mt(e){var t={};return qe(e,(function(e,n){return t[n]=""+e})),t}function jt(e,t,n){return e==n.path&&Fe(t,n.parameters)}var Lt=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),It(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=vt(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),qe(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=vt(e),o=e.value.component?r.children:t;qe(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=vt(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Te(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Ee(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(It(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),Bt(l.route)}else{var s=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),u=s?s.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=u,a.outlet&&a.outlet.activateWith(r,u),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Bt(e){It(e.value),e.children.forEach(Bt)}function Ft(e){return"function"==typeof e}function Vt(e){return e instanceof Ge}var Ut=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},qt=function e(t){_classCallCheck(this,e),this.urlTree=t};function Ht(e){return new s.a((function(t){return t.error(new Ut(e))}))}function zt(e){return new s.a((function(t){return t.error(new qt(e))}))}function Gt(e){return new s.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Wt=function(){function e(t,n,r,o,a){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(i.v)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(k.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Object(z.a)((function(t){if(t instanceof qt)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Ut)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(k.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Object(z.a)((function(e){if(e instanceof Ut)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new We([],{primary:e}):e;return new Ge(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(k.a)((function(e){return new We([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(o.a)({});var a=[],l=[],s={};return qe(n,(function(n,i){var o,u,c=(o=i,u=n,r.expandSegmentGroup(e,t,u,o)).pipe(Object(k.a)((function(e){return s[i]=e})));"primary"===i?a.push(c):l.push(c)})),o.a.apply(null,a.concat(l)).pipe(I(),H(),Object(k.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,a){var l=this;return Object(o.a).apply(void 0,_toConsumableArray2(n)).pipe(Object(k.a)((function(s){return l.expandSegmentAgainstRoute(e,t,n,s,r,i,a).pipe(Object(z.a)((function(e){if(e instanceof Ut)return Object(o.a)(null);throw e})))})),I(),J((function(e){return!!e})),Object(z.a)((function(e,n){if(e instanceof c||"EmptyError"===e.name){if(l.noLeftoversInUrl(t,r,i))return Object(o.a)(new We([],{}));throw new Ut(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return Yt(r)!==o?Ht(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Ht(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?zt(o):this.lineralizeSegments(n,o).pipe(Object(Q.a)((function(n){var o=new We(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,l=Kt(t,r,i),s=l.matched,u=l.consumedSegments,c=l.lastChild,h=l.positionalParamSegments;if(!s)return Ht(t);var f=this.applyRedirectCommands(u,r.redirectTo,h);return r.redirectTo.startsWith("/")?zt(f):this.lineralizeSegments(r,f).pipe(Object(Q.a)((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(k.a)((function(e){return n._loadedConfig=e,new We(r,{})}))):Object(o.a)(new We(r,{}));var a=Kt(t,n,r),l=a.matched,s=a.consumedSegments,u=a.lastChild;if(!l)return Ht(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(Object(Q.a)((function(e){var n=e.module,r=e.routes,a=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Qt(e,t,n)&&"primary"!==Yt(n)}))}(e,n,r)?{segmentGroup:Jt(new We(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Yt(o)&&(n[Yt(o)]=new We([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new We(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Qt(e,t,n)}))}(e,n,r)?{segmentGroup:Jt(new We(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var l=i.value;Qt(e,t,l)&&!r[Yt(l)]&&(o[Yt(l)]=new We([],{}))}}catch(s){a.e(s)}finally{a.f()}return Object.assign({},r,o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,c,r),l=a.segmentGroup,u=a.slicedSegments;return 0===u.length&&l.hasChildren()?i.expandChildren(n,r,l).pipe(Object(k.a)((function(e){return new We(s,e)}))):0===r.length&&0===u.length?Object(o.a)(new We(s,{})):i.expandSegment(n,l,r,u,"primary",!0).pipe(Object(k.a)((function(e){return new We(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Object(o.a)(new De(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(o.a)(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Object(a.a)(i).pipe(Object(k.a)((function(r){var i,o=e.get(r);if(function(e){return e&&Ft(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!Ft(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return He(i)}))).pipe(I(),(r=function(e){return!0===e},function(e){return e.lift(new Y(r,void 0,e))})):Object(o.a)(!0)}(e.injector,t,n).pipe(Object(Q.a)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(k.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new s.a((function(t){return t.error(Ne("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(o.a)(new De([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Gt(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Ge(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return qe(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return qe(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new We(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function Kt(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Re)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Jt(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new We(e.segments.concat(t.segments),t.children)}return e}function Qt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Yt(e){return e.outlet||"primary"}var $t=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Xt=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function Zt(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function en(e,t,n){var r=vt(e),i=e.value;qe(r,(function(e,r){en(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Xt(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var tn=Symbol("INITIAL_VALUE");function nn(){return Z((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return Object(h.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(f.a)(t[0])&&(t=t[0]),Object(v.a)(t,i).lift(new m(r))}).apply(void 0,_toConsumableArray2(e.map((function(e){return e.pipe(G(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=t[t.length-1];Object(h.a)(n)?t.pop():n=null;var r=t.length;return function(){return I()(Object(o.a).apply(void 0,arguments))}(1!==r||n?r>0?Object(v.a)(t,n):Object(b.b)(n):Object(ne.a)(t[0]),e)}}(tn))})))).pipe(re((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==tn)return e;if(r===tn&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Vt(r))return r}return e}),e)}),tn),Object(E.a)((function(e){return e!==tn})),Object(k.a)((function(e){return Vt(e)?e:!0===e})),G(1))}))}function rn(e,t){return null!==e&&t&&t(new Se(e)),Object(o.a)(!0)}function on(e,t){return null!==e&&t&&t(new Ie(e)),Object(o.a)(!0)}function an(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);var i=r.map((function(r){return _((function(){var i,o=Zt(r,t,n);if(function(e){return e&&Ft(e.canActivate)}(o))i=He(o.canActivate(t,e));else{if(!Ft(o))throw new Error("Invalid CanActivate guard");i=He(o(t,e))}return i.pipe(J())}))}));return Object(o.a)(i).pipe(nn())}function ln(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return _((function(){var i=t.guards.map((function(i){var o,a=Zt(i,t.node,n);if(function(e){return e&&Ft(e.canActivateChild)}(a))o=He(a.canActivateChild(r,e));else{if(!Ft(a))throw new Error("Invalid CanActivateChild guard");o=He(a(r,e))}return o.pipe(J())}));return Object(o.a)(i).pipe(nn())}))}));return Object(o.a)(i).pipe(nn())}var sn=function e(){_classCallCheck(this,e)},un=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=fn(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new _t([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new pt(n,t),i=new wt(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(a){return new s.a((function(e){return e.error(a)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=bt(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Qe(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(l){if(!(l instanceof sn))throw l}}}catch(s){o.e(s)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new sn}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new sn;if((e.outlet||"primary")!==r)throw new sn;var i,o=[],a=[];if("**"===e.path){var l=n.length>0?Ue(n).parameters:{};i=new _t(n,l,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vn(e),r,e.component,e,cn(t),hn(t)+n.length,gn(e))}else{var s=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new sn;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Re)(n,e,t);if(!r)throw new sn;var i={};qe(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=s.consumedSegments,a=n.slice(s.lastChild),i=new _t(o,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vn(e),r,e.component,e,cn(t),hn(t)+o.length,gn(e))}var u=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=fn(t,o,a,u,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(u,h);return[new pt(i,d)]}if(0===u.length&&0===f.length)return[new pt(i,[])];var p=this.processSegment(u,h,f,"primary");return[new pt(i,p)]}}]),e}();function cn(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function hn(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function fn(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return dn(e,t,n)&&"primary"!==pn(n)}))}(e,n,r)){var o=new We(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var l=o.value;if(""===l.path&&"primary"!==pn(l)){var s=new We([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,i[pn(l)]=s}}}catch(u){a.e(u)}finally{a.f()}return i}(e,t,r,new We(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return dn(e,t,n)}))}(e,n,r)){var a=new We(e.segments,function(e,t,n,r,i,o){var a,l={},s=_createForOfIteratorHelper(r);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(dn(e,n,u)&&!i[pn(u)]){var c=new We([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===o?e.segments.length:t.length,l[pn(u)]=c}}}catch(h){s.e(h)}finally{s.f()}return Object.assign({},i,l)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var l=new We(e.segments,e.children);return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}function dn(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function pn(e){return e.outlet||"primary"}function vn(e){return e.data||{}}function gn(e){return e.resolve||{}}function mn(e,t,n,r){var i=Zt(e,t,r);return He(i.resolve?i.resolve(t,n):i(t,n))}function yn(e){return function(t){return t.pipe(Z((function(t){var n=e(t);return n?Object(a.a)(n).pipe(Object(k.a)((function(){return t}))):Object(a.a)([t])})))}}var bn=function e(){_classCallCheck(this,e)},_n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),wn=new i.o("ROUTES"),kn=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(k.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new De(Ve(i.injector.get(wn)).map(Be),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(a.a)(this.loader.load(e)):He(e()).pipe(Object(Q.a)((function(e){return e instanceof i.t?Object(o.a)(e):Object(a.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),Cn=function e(){_classCallCheck(this,e)},In=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function En(e){throw e}function Sn(e,t,n){return t.parse("/")}function Tn(e,t){return Object(o.a)(null)}var An=function(){function e(t,n,r,o,a,s,u,c){var h=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new w.a,this.errorHandler=En,this.malformedUriErrorHandler=Sn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Tn,afterPreactivation:Tn},this.urlHandlingStrategy=new In,this.routeReuseStrategy=new _n,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(i.v),this.console=a.get(i.Y);var f=a.get(i.x);this.isNgZoneEnabled=f instanceof i.x,this.resetConfig(c),this.currentUrlTree=new Ge(new We([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new kn(s,u,(function(e){return h.triggerEvent(new ke(e))}),(function(e){return h.triggerEvent(new Ce(e))})),this.routerState=mt(this.currentUrlTree,this.rootComponentType),this.transitions=new l.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Object(E.a)((function(e){return 0!==e.id})),Object(k.a)((function(e){return Object.assign({},e,{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Z((function(e){var r,i,s,u,c=!1,h=!1;return Object(o.a)(e).pipe(D((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign({},t.lastSuccessfulNavigation,{previousNavigation:null}):null}})),Z((function(e){var r,i,a,l,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(o.a)(e).pipe(Z((function(e){var r=t.transitions.getValue();return n.next(new de(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?b.a:[e]})),Z((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,a=t.urlSerializer,l=t.config,function(e){return e.pipe(Z((function(e){return function(e,t,n,r,i){return new Wt(e,t,n,r,i).apply()}(r,i,a,e.extractedUrl,l).pipe(Object(k.a)((function(t){return Object.assign({},e,{urlAfterRedirects:t})})))})))}),D((function(e){t.currentNavigation=Object.assign({},t.currentNavigation,{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Object(Q.a)((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new un(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(Object(k.a)((function(e){return Object.assign({},r,{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),D((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),D((function(e){var r=new me(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,c=e.extractedUrl,h=e.source,f=e.restoredState,d=e.extras,p=new de(u,t.serializeUrl(c),h,f);n.next(p);var v=mt(c,t.rootComponentType).snapshot;return Object(o.a)(Object.assign({},e,{targetSnapshot:v,urlAfterRedirects:c,extras:Object.assign({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),b.a})),yn((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,l=a.skipLocationChange,s=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!l,replaceUrl:!!s})})),D((function(e){var n=new ye(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(k.a)((function(e){return Object.assign({},e,{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=vt(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,l=n?n.value:null,s=r?r.getContext(t.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Je(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Je(e.url,t.url)||!Fe(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Et(e,t)||!Fe(e.queryParams,t.queryParams);case"paramsChange":default:return!Et(e,t)}}(l,a,a.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new $t(i)):(a.data=l.data,a._resolvedData=l._resolvedData),e(t,n,a.component?s?s.children:null:r,i,o),u&&o.canDeactivateChecks.push(new Xt(s&&s.outlet&&s.outlet.component||null,l))}else l&&en(n,s,o),o.canActivateChecks.push(new $t(i)),e(t,null,a.component?s?s.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),qe(a,(function(e,t){return en(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Object(Q.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,l=n.guards,s=l.canActivateChecks,u=l.canDeactivateChecks;return 0===u.length&&0===s.length?Object(o.a)(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return Object(a.a)(e).pipe(Object(Q.a)((function(e){return function(e,t,n,r,i){var a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(o.a)(!0);var l=a.map((function(o){var a,l=Zt(o,t,i);if(function(e){return e&&Ft(e.canDeactivate)}(l))a=He(l.canDeactivate(e,t,n,r));else{if(!Ft(l))throw new Error("Invalid CanDeactivate guard");a=He(l(e,t,n,r))}return a.pipe(J())}));return Object(o.a)(l).pipe(nn())}(e.component,e.route,n,t,r)})),J((function(e){return!0!==e}),!0))}(u,r,i,e).pipe(Object(Q.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(a.a)(t).pipe(Object(ae.a)((function(t){return Object(a.a)([on(t.route.parent,r),rn(t.route,r),ln(e,t.path,n),an(e,t.route,n)]).pipe(I(),J((function(e){return!0!==e}),!0))})),J((function(e){return!0!==e}),!0))}(r,s,e,t):Object(o.a)(n)})),Object(k.a)((function(e){return Object.assign({},n,{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),D((function(e){if(Vt(e.guardsResult)){var n=Ne('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),D((function(e){var n=new be(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Object(E.a)((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new ve(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),yn((function(e){if(e.guards.canActivateChecks.length)return Object(o.a)(e).pipe(D((function(e){var n=new _e(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Object(Q.a)((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?Object(a.a)(i).pipe(Object(ae.a)((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(o.a)({});if(1===i.length){var l=i[0];return mn(e[l],t,n,r).pipe(Object(k.a)((function(e){return _defineProperty2({},l,e)})))}var s={};return Object(a.a)(i).pipe(Object(Q.a)((function(i){return mn(e[i],t,n,r).pipe(Object(k.a)((function(e){return s[i]=e,e})))}))).pipe(H(),Object(k.a)((function(){return s})))}(e._resolve,e,t,r).pipe(Object(k.a)((function(t){return e._resolvedData=t,e.data=Object.assign({},e.data,bt(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return Object(le.a)(re(e,t),O(1),F(t))(n)}:function(t){return Object(le.a)(re((function(t,n,r){return e(t,n,r+1)})),O(1))(t)}}((function(e,t){return e})),Object(k.a)((function(t){return e}))):Object(o.a)(e)})))}),D((function(e){var n=new we(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),yn((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,l=a.skipLocationChange,s=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!l,replaceUrl:!!s})})),Object(k.a)((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(l){o.e(l)}finally{o.f()}return e(t,n)}))}(t,n,r);return new pt(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var u,c=new yt(new l.a((u=n.value).url),new l.a(u.params),new l.a(u.queryParams),new l.a(u.fragment),new l.a(u.data),u.outlet,u.component,u),h=n.children.map((function(n){return e(t,n)}));return new pt(c,h)}(e,t._root,n?n._root:void 0);return new gt(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:n})})),D((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,s=t.routeReuseStrategy,u=function(e){return t.triggerEvent(e)},Object(k.a)((function(e){return new Lt(s,e.targetRouterState,e.currentRouterState,u).activate(i),e}))),D({next:function(){c=!0},complete:function(){c=!0}}),(r=function(){if(!c&&!h){t.resetUrlToCurrentUrlTree();var r=new ve(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new ue(r))}),Object(z.a)((function(r){if(h=!0,(l=r)&&l.ngNavigationCancelingError){var i=Vt(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new ve(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),e.resolve(!1),i&&t.navigateByUrl(r.url)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new ge(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(s){e.reject(s)}}var l;return b.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign({},this.getTransition(),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Me(e),this.config=e.map(Be),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,o=t.fragment,a=t.preserveQueryParams,l=t.queryParamsHandling,s=t.preserveFragment;Object(i.T)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:o,h=null;if(l)switch(l){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=a?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return Tt(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new At(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return qe(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray2(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray2(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray2(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray2(e),[r])}),[]);return new At(n,t,r)}(n);if(o.toRoot())return Tt(t.root,new We([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new Ot(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Ot(n.snapshot._urlSegment,!0,0);var r=St(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Ot(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),l=a.processChildren?Nt(a.segmentGroup,a.index,o.commands):Pt(a.segmentGroup,a.index,o.commands);return Tt(a.segmentGroup,l,t,r,i)}(u,this.currentUrlTree,e,h,c)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(i.T)()&&this.isNgZoneEnabled&&!i.x.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Vt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Vt(e))return ze(this.currentUrlTree,e,t);var n=this.parseUrl(e);return ze(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new pe(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r){var i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);var o=null,a=null,l=new Promise((function(e,t){o=e,a=t})),s=++this.navigationId;return this.setTransition({id:s,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}(),On=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(i.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"onClick",value:function(){var e={skipLocationChange:Pn(this.skipLocationChange),replaceUrl:Pn(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Pn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Pn(this.preserveFragment)})}}]),e}(),xn=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof pe&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(i.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Pn(this.skipLocationChange),replaceUrl:Pn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Pn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Pn(this.preserveFragment)})}}]),e}();function Pn(e){return""===e||!!e}var Nn=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Rn,this.attachRef=null},Rn=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Nn,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Dn=function(){function e(t,n,r,o,a){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.m,this.deactivateEvents=new i.m,this.name=o||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Mn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}(),Mn=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===yt?this.route:e===Rn?this.childContexts:this.parent.get(e,t)}}]),e}(),jn=function e(){_classCallCheck(this,e)},Ln=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Object(z.a)((function(){return Object(o.a)(null)})))}}]),e}(),Bn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Object(o.a)(null)}}]),e}(),Fn=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new kn(n,r,(function(e){return t.triggerEvent(new ke(e))}),(function(e){return t.triggerEvent(new Ce(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Object(E.a)((function(e){return e instanceof pe})),Object(ae.a)((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(i.v);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var l=o._loadedConfig;r.push(this.processRoutes(l.module,l.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(a.a)(r).pipe(Object(C.a)(),Object(k.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(Q.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}(),Vn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof de?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pe&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Ae&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Ae(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}(),Un=new i.o("ROUTER_CONFIGURATION"),qn=new i.o("ROUTER_FORROOT_GUARD"),Hn=[r.g,{provide:Ye,useClass:$e},{provide:An,useFactory:Yn,deps:[i.g,Ye,Rn,r.g,i.p,i.u,i.i,wn,Un,[Cn,new i.y],[bn,new i.y]]},Rn,{provide:yt,useFactory:$n,deps:[An]},{provide:i.u,useClass:i.H},Fn,Bn,Ln,{provide:Un,useValue:{enableTracing:!1}}];function zn(){return new i.w("Router",An)}var Gn=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Hn,Qn(t),{provide:qn,useFactory:Jn,deps:[[An,new i.y,new i.G]]},{provide:Un,useValue:n||{}},{provide:r.h,useFactory:Kn,deps:[r.p,[new i.n(r.a),new i.y],Un]},{provide:Vn,useFactory:Wn,deps:[An,r.q,Un]},{provide:jn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Bn},{provide:i.w,multi:!0,useFactory:zn},[Xn,{provide:i.d,multi:!0,useFactory:Zn,deps:[Xn]},{provide:tr,useFactory:er,deps:[Xn]},{provide:i.b,multi:!0,useExisting:tr}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Qn(t)]}}}]),e}();function Wn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Vn(e,t,n)}function Kn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new r.e(e,t):new r.o(e,t)}function Jn(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Qn(e){return[{provide:i.a,multi:!0,useValue:e},{provide:wn,multi:!0,useValue:e}]}function Yn(e,t,n,r,i,o,a,l){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,h=new An(null,t,n,r,i,o,a,Ve(l));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),s.errorHandler&&(h.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(h.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var f=Object(he.r)();h.events.subscribe((function(e){f.logGroup("Router Event: "+e.constructor.name),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return s.onSameUrlNavigation&&(h.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(h.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(h.relativeLinkResolution=s.relativeLinkResolution),h}function $n(e){return e.routerState.root}var Xn=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new w.a}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(r.f,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(An),i=e.injector.get(Un);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Object(o.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Un),n=this.injector.get(Fn),r=this.injector.get(Vn),o=this.injector.get(An),a=this.injector.get(i.g);e===a.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();function Zn(e){return e.appInitializer.bind(e)}function er(e){return e.bootstrapListener.bind(e)}var tr=new i.o("Router Initializer")},iSss:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e)}},jDPn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("NFKh"),i=n("AytR"),o=n("8Y7J"),a=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encriptarFicha",value:function(e){return e.nombre=r.AES.encrypt(e.nombre.trim(),i.a.claveEncriptado.trim()).toString(),e.descripcion=r.AES.encrypt(e.descripcion.trim(),i.a.claveEncriptado.trim()).toString(),e.funcionamiento=r.AES.encrypt(e.funcionamiento.trim(),i.a.claveEncriptado.trim()).toString(),e.fabricacion=r.AES.encrypt(e.fabricacion.trim(),i.a.claveEncriptado.trim()).toString(),e}},{key:"desencriptarFicha",value:function(e){return e.nombre=r.AES.decrypt(e.nombre.trim(),i.a.claveEncriptado.trim()).toString(r.enc.Utf8),e.descripcion=r.AES.decrypt(e.descripcion.trim(),i.a.claveEncriptado.trim()).toString(r.enc.Utf8),e.funcionamiento=r.AES.decrypt(e.funcionamiento.trim(),i.a.claveEncriptado.trim()).toString(r.enc.Utf8),e.fabricacion=r.AES.decrypt(e.fabricacion.trim(),i.a.claveEncriptado.trim()).toString(r.enc.Utf8),e}},{key:"encriptarArchivo",value:function(e){return e}},{key:"desencriptarArchivo",value:function(e){return r.AES.decrypt(e,i.a.claveEncriptado)}}]),e}();return e.ngInjectableDef=o.Nb({factory:function(){return new e},token:e,providedIn:"root"}),e}()},jO9C:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lAvF:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()},"lEC+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("2+LC"),i=function(){function e(t){_classCallCheck(this,e),this.fotografiasService=t,this.id=void 0,this.fotografiaPrincipal=[],this.fotografiasSecundarias=[],this.fotografiasCroquis=[],this.fotografiasSecundariasASubir=[],this.fotografiasCroquisASubir=[],this.previewSecundarias=[],this.previewCroquis=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.fotografiasService.iniciarFirebase()}},{key:"seleccionarImagenes",value:function(e,t){for(var n=0;n<e.target.files.length;n++){var i=new r.a;i.nombre=e.target.files[n].name,i.url=URL.createObjectURL(e.target.files[n]),i.tipo=t,"secundaria"==t&&this.fotografiasSecundariasASubir.push(e.target.files[n]),"croquis"==t&&this.fotografiasCroquisASubir.push(e.target.files[n]),"principal"==t&&(this.fotografiaPrincipal=[],this.fotografiaPrincipalASubir=e.target.files[n])}this.previewImagenes(e,t)}},{key:"previewImagenes",value:function(e,t){for(var n=0;n<e.target.files.length;n++){var i=new r.a;i.nombre=e.target.files[n].name,i.url=URL.createObjectURL(e.target.files[n]),i.tipo=t,"secundaria"==t&&this.previewSecundarias.push(i),"croquis"==t&&this.previewCroquis.push(i),"principal"==t&&(this.fotografiaPrincipal=[],this.fotografiaPrincipal.push(i))}}},{key:"subirImagenes",value:function(e){var t=this;this.fotografiasService.uploadImage(this.fotografiaPrincipalASubir,e,"principal"),this.fotografiasSecundariasASubir.forEach((function(n){t.fotografiasService.uploadImage(n,e,"secundaria")})),this.fotografiasCroquisASubir.forEach((function(n){t.fotografiasService.uploadImage(n,e,"croquis")}))}},{key:"mostrarImagenesSubidas",value:function(){var e=this;this.fotografiaPrincipal=[],this.fotografiasSecundarias=[],this.fotografiasCroquis=[],this.fotografiasService.getFotografiaPrincipal(this.id).subscribe((function(t){console.log(t),e.fotografiaPrincipal.push(t)})),this.fotografiasService.getFotografiasSecundarias(this.id).subscribe((function(t){e.fotografiasSecundarias=[],e.fotografiasSecundarias=t})),this.fotografiasService.getFotografiasCroquis(this.id).subscribe((function(t){e.fotografiasCroquis=[],e.fotografiasCroquis=t}))}},{key:"deseleccionarImagen",value:function(e){if("principal"==e.tipo&&(this.fotografiaPrincipal=[],this.fotografiaPrincipalASubir=null),"secundaria"==e.tipo){var t=[];this.previewSecundarias.forEach((function(n){n.nombre!==e.nombre&&t.push(n)})),this.previewSecundarias=t,t=[],this.fotografiasSecundariasASubir.forEach((function(n){n.name!==e.nombre&&t.push(n)})),this.fotografiasSecundariasASubir=t}if("croquis"==e.tipo){var n=[];this.previewCroquis.forEach((function(t){t.nombre!==e.nombre&&n.push(t)})),this.previewCroquis=n,n=[],this.fotografiasCroquisASubir.forEach((function(t){t.name!==e.nombre&&n.push(t)})),this.fotografiasCroquisASubir=n}}}]),e}()},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},lPiR:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,l=[],s=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(l[i]=n(e.pow(r,.5))),s[i]=n(e.pow(r,1/3)),i++),r++}();var u=[],c=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(l.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],l=n[4],c=n[5],h=n[6],f=n[7],d=0;d<64;d++){if(d<16)u[d]=0|e[t+d];else{var p=u[d-15],v=u[d-2];u[d]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+u[d-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+u[d-16]}var g=r&i^r&o^i&o,m=f+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&c^~l&h)+s[d]+u[d];f=h,h=c,c=l,l=a+m|0,a=o,o=i,i=r,r=m+(((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+g)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0,n[5]=n[5]+c|0,n[6]=n[6]+h|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(c),t.HmacSHA256=o._createHmacHelper(c)}(Math),r.SHA256)},"lov/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e),this.rolNombre="sin_rol"}},mAIw:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return c}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function l(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("KqfI");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r.a}},mrSG:function(e,t,n){"use strict";function r(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function l(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))}n.d(t,"a",(function(){return r}))},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},nbvr:function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new c(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function l(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}o(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),s(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),a(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new c(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),s(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),l(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),l(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),l(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),l(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,u].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}}},oRuE:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.Iso10126={pad:function(e,t){var n=4*t,i=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},r.pad.Iso10126)},pA7S:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib,n=t.WordArray,i=t.BlockCipher,o=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],s=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=a[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],c=s[o];for(n=0;n<24;n++)u[n/6|0]|=t[(l[n]-1+c)%28]<<31-n%6,u[4+(n/6|0)]|=t[28+(l[n+24]-1+c)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var h=this._invSubKeys=[];for(n=0;n<16;n++)h[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),f.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,l=0,s=0;s<8;s++)l|=u[s][((a^i[s])&c[s])>>>0];this._lBlock=a,this._rBlock=o^l}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,f.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function d(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=i._createHelper(h);var p=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=h.createEncryptor(n.create(t)),this._des2=h.createEncryptor(n.create(r)),this._des3=h.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(p)}(),r.TripleDES)},pLZG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(r.a)},pLzU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Lhse"),i=function(e){return function(t){for(var n=e[r.a]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},pMnS:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("8Y7J"),i=n("iInd"),o=r.nb({encapsulation:2,styles:[],data:{}});function a(e){return r.Jb(0,[(e()(),r.pb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(1,212992,null,0,i.o,[i.b,r.M,r.j,[8,null],r.h],null,null)],(function(e,t){e(t,1,0)}),null)}var l=r.lb("ng-component",i.C,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"ng-component",[],null,null,null,a,o)),r.ob(1,49152,null,0,i.C,[],null,null)],null,null)}),{},{},[])},pN5R:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("9vzP"),i=n("AOe3"),o=n("VwbT"),a=function(){function e(t,n){_classCallCheck(this,e),this.fichaService=t,this.fichaVipService=n,this.ficha=new r.a,this.fichaVip=new o.a,this.zos=i.a.fabricadoEn}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.id&&this.fichaService.getFicha(this.id).subscribe((function(t){e.ficha=e.fichaService.mapearFicha(t,e.id),e.fichaVip.artefactoId=e.id}))}},{key:"agregarFichaVip",value:function(){this.fichaVipService.postFichaVIP(this.fichaVip).subscribe()}}]),e}()},pauE:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9vzP"),i=n("ZT/D"),o=function e(){_classCallCheck(this,e),this.id="",this.artefactoImpl=new r.a,this.numeroInventario="",this.sala=new i.a}},pcTr:function(e,t,n){"use strict";var r=n("8Y7J"),i=n("SVse"),o=function(){function e(t,n,i){_classCallCheck(this,e),this.inventarioService=t,this.router=n,this.login=i,this.cambiarSalaEvent=new r.m,this.recargar=new r.m}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.login.getIsLoggedFlagObs().subscribe((function(t){e.isLoggedUser=t})),this.login.getIsAdminFlagObs().subscribe((function(t){e.isLoggedAdmin=t}))}},{key:"eliminarArtefactoInventario",value:function(){var e=this;this.inventarioService.eliminarArtefactoInventario(this.artefactoInventario.id).subscribe((function(t){e.recargar.emit()}))}},{key:"cambiarSala",value:function(){this.cambiarSalaEvent.emit(this.artefactoInventario)}},{key:"verFicha",value:function(){console.log(this.artefactoInventario),this.router.navigate(["./ficha/ficha-completa/"+this.artefactoInventario.artefactoImpl.id])}}]),e}(),a=n("tOWS"),l=n("iInd"),s=n("sBFL"),u=r.nb({encapsulation:0,styles:[[".row[_ngcontent-%COMP%]{background-color:#fff;box-shadow:6px 15px 10px gray;border:1px solid #000}.btn[_ngcontent-%COMP%]{font-size:small;font-weight:700}"]],data:{}});function c(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"div",[["class","col-4  col-md-2"]],null,null,null,null,null)),(e()(),r.Hb(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.artefactoInventario.sala.nombreSala)}))}function h(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-warning col-3 col-md-2 m-2"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.cambiarSala()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["CAMBIAR DE SALA"]))],null,null)}function f(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-danger col-3 col-md-1 m-2"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.eliminarArtefactoInventario()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["BORRAR"]))],null,null)}function d(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,21,"div",[["class","row p-1 m-1 "]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,2,"div",[["class","col-4  d-md-none"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["N\xba INVENT."])),(e()(),r.pb(4,0,null,null,2,"div",[["class","col-4  d-md-none"]],null,null,null,null,null)),(e()(),r.pb(5,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["ARTEFACTO"])),(e()(),r.pb(7,0,null,null,2,"div",[["class","col-4  d-md-none"]],null,null,null,null,null)),(e()(),r.pb(8,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["SALA"])),(e()(),r.pb(10,0,null,null,1,"div",[["class","col-4  col-md-2"]],null,null,null,null,null)),(e()(),r.Hb(11,null,["",""])),(e()(),r.pb(12,0,null,null,1,"div",[["class","col-4  col-md-2"]],null,null,null,null,null)),(e()(),r.Hb(13,null,["",""])),(e()(),r.eb(16777216,null,null,1,null,c)),r.ob(15,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.pb(16,0,null,null,1,"button",[["class","btn btn-success col-3 col-md-1 m-2"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.verFicha()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["VER FICHA"])),(e()(),r.eb(16777216,null,null,1,null,h)),r.ob(19,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,f)),r.ob(21,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,15,0,n.artefactoInventario.sala),e(t,19,0,n.isLoggedAdmin),e(t,21,0,n.isLoggedAdmin)}),(function(e,t){var n=t.component;e(t,11,0,n.artefactoInventario.numeroInventario),e(t,13,0,n.artefactoInventario.artefactoImpl.nombre)}))}function p(e){return r.Jb(0,[(e()(),r.eb(16777216,null,null,1,null,d)),r.ob(1,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.artefactoInventario.artefactoImpl)}),null)}var v=n("s7LF"),g=n("Ul2T");n.d(t,"a",(function(){return k}));var m=r.nb({encapsulation:2,styles:[],data:{}});function y(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"app-artefactoinventario",[],null,[[null,"cambiarSalaEvent"],[null,"recargar"]],(function(e,t,n){var r=!0,i=e.component;return"cambiarSalaEvent"===t&&(r=!1!==i.abrirModalModificacionArtefactoInventario(n)&&r),"recargar"===t&&(r=!1!==i.ngOnInit()&&r),r}),p,u)),r.ob(2,114688,null,0,o,[a.a,l.k,s.a],{artefactoInventario:[0,"artefactoInventario"]},{cambiarSalaEvent:"cambiarSalaEvent",recargar:"recargar"})],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function b(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.abrirModalAgregarSala()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["AGREGAR SALA NUEVA"]))],null,null)}function _(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,v.q,[r.k,r.B,[2,v.t]],{value:[0,"value"]},null),r.ob(2,147456,null,0,v.z,[r.k,r.B,[8,null]],{value:[0,"value"]},null),(e()(),r.Hb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit.idSala),e(t,2,0,t.context.$implicit.idSala)}),(function(e,t){e(t,3,0,t.context.$implicit.nombreSala)}))}function w(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Inventario de minas y municiones del CID"])),(e()(),r.pb(3,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["En esta secci\xf3n puede consultarse o gestionar el inventario del CID."])),(e()(),r.pb(5,0,null,null,9,"div",[["class","row m-1"]],null,null,null,null,null)),(e()(),r.pb(6,0,null,null,2,"div",[["class","d-none d-md-block col-md-2"]],null,null,null,null,null)),(e()(),r.pb(7,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["N\xba INVENTARIO"])),(e()(),r.pb(9,0,null,null,2,"div",[["class","d-none d-md-block col-md-2"]],null,null,null,null,null)),(e()(),r.pb(10,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["ARTEFACTO"])),(e()(),r.pb(12,0,null,null,2,"div",[["class","d-none d-md-block col-md-2"]],null,null,null,null,null)),(e()(),r.pb(13,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["SALA"])),(e()(),r.eb(16777216,null,null,1,null,y)),r.ob(16,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(17,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,b)),r.ob(19,16384,null,0,i.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.pb(20,0,null,null,34,"div",[["aria-hidden","true"],["aria-labelledby","modalModificarArtefactoInventarioLabel"],["class","modal fade"],["id","modalModificarArtefactoInventario"],["tabindex","-1"]],null,null,null,null,null)),(e()(),r.pb(21,0,null,null,33,"div",[["class","modal-dialog"]],null,null,null,null,null)),(e()(),r.pb(22,0,null,null,32,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),r.pb(23,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),r.pb(24,0,null,null,1,"h5",[["class","modal-title"],["id","modalModificarArtefactoInventarioLabel"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["MOVER ARTEFACTO DE SALA"])),(e()(),r.pb(26,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.pb(27,0,null,null,27,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),r.pb(28,0,null,null,26,"form",[["action",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.Bb(e,30).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Bb(e,30).onReset()&&i),i}),null,null)),r.ob(29,16384,null,0,v.A,[],null,null),r.ob(30,4210688,null,0,v.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,v.c,null,[v.o]),r.ob(32,16384,null,0,v.n,[[4,v.c]],null,null),(e()(),r.pb(33,0,null,null,16,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(e()(),r.pb(34,0,null,null,2,"label",[["for","sala"]],null,null,null,null,null)),(e()(),r.pb(35,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["SALA ACTUAL"])),(e()(),r.pb(37,0,null,null,1,"p",[["id","sala"],["name","sala"],["type","text"]],null,null,null,null,null)),(e()(),r.Hb(38,null,["",""])),(e()(),r.pb(39,0,null,null,2,"label",[["for","sala"]],null,null,null,null,null)),(e()(),r.pb(40,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["SELECCIONE SALA NUEVA"])),(e()(),r.pb(42,0,null,null,7,"select",[["id","salaNueva"],["name","salaNueva"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Bb(e,43).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,43).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.artefactoInventario.sala=n)&&i),i}),null,null)),r.ob(43,16384,null,0,v.t,[r.B,r.k],null,null),r.Eb(1024,null,v.k,(function(e){return[e]}),[v.t]),r.ob(45,671744,null,0,v.p,[[2,v.c],[8,null],[8,null],[6,v.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,v.l,null,[v.p]),r.ob(47,16384,null,0,v.m,[[4,v.l]],null,null),(e()(),r.eb(16777216,null,null,1,null,_)),r.ob(49,278528,null,0,i.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(50,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),r.pb(51,0,null,null,1,"button",[["class","btn btn-danger m-1"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["CERRAR"])),(e()(),r.pb(53,0,null,null,1,"button",[["class","btn btn-success m-1"],["data-bs-dismiss","modal"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.moverDeSala()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["GUARDAR"])),(e()(),r.pb(55,0,null,null,27,"div",[["aria-hidden","true"],["aria-labelledby","modalNuevaSalaLabel"],["class","modal fade"],["id","modalNuevaSala"],["tabindex","-1"]],null,null,null,null,null)),(e()(),r.pb(56,0,null,null,26,"div",[["class","modal-dialog"]],null,null,null,null,null)),(e()(),r.pb(57,0,null,null,25,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),r.pb(58,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),r.pb(59,0,null,null,1,"h5",[["class","modal-title"],["id","modalNuevaSalaLabel"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["AGREGAR UN NUEVO DOCUMENTO"])),(e()(),r.pb(61,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.pb(62,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),r.pb(63,0,null,null,19,"form",[["action",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.Bb(e,65).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Bb(e,65).onReset()&&i),i}),null,null)),r.ob(64,16384,null,0,v.A,[],null,null),r.ob(65,4210688,null,0,v.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,v.c,null,[v.o]),r.ob(67,16384,null,0,v.n,[[4,v.c]],null,null),(e()(),r.pb(68,0,null,null,9,"div",[["class","form-group row m-1"]],null,null,null,null,null)),(e()(),r.pb(69,0,null,null,2,"label",[["for","sala"]],null,null,null,null,null)),(e()(),r.pb(70,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Nombre de la nueva sala"])),(e()(),r.pb(72,0,null,null,5,"input",[["id","nombreSala"],["name","fecha"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,73)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,73).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,73)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,73)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.salaNueva.nombreSala=n)&&i),i}),null,null)),r.ob(73,16384,null,0,v.d,[r.B,r.k,[2,v.a]],null,null),r.Eb(1024,null,v.k,(function(e){return[e]}),[v.d]),r.ob(75,671744,null,0,v.p,[[2,v.c],[8,null],[8,null],[6,v.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,v.l,null,[v.p]),r.ob(77,16384,null,0,v.m,[[4,v.l]],null,null),(e()(),r.pb(78,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),r.pb(79,0,null,null,1,"button",[["class","btn btn-danger m-1"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["CERRAR"])),(e()(),r.pb(81,0,null,null,1,"button",[["class","btn btn-success m-1"],["data-bs-dismiss","modal"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.agregarSala()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["GUARDAR"]))],(function(e,t){var n=t.component;e(t,16,0,n.artefactosInventario),e(t,19,0,n.isLoggedAdmin),e(t,45,0,"salaNueva",n.artefactoInventario.sala),e(t,49,0,n.salasDisponibles),e(t,75,0,"fecha",n.salaNueva.nombreSala)}),(function(e,t){var n=t.component;e(t,28,0,r.Bb(t,32).ngClassUntouched,r.Bb(t,32).ngClassTouched,r.Bb(t,32).ngClassPristine,r.Bb(t,32).ngClassDirty,r.Bb(t,32).ngClassValid,r.Bb(t,32).ngClassInvalid,r.Bb(t,32).ngClassPending),e(t,38,0,n.artefactoInventario.sala.nombreSala),e(t,42,0,r.Bb(t,47).ngClassUntouched,r.Bb(t,47).ngClassTouched,r.Bb(t,47).ngClassPristine,r.Bb(t,47).ngClassDirty,r.Bb(t,47).ngClassValid,r.Bb(t,47).ngClassInvalid,r.Bb(t,47).ngClassPending),e(t,63,0,r.Bb(t,67).ngClassUntouched,r.Bb(t,67).ngClassTouched,r.Bb(t,67).ngClassPristine,r.Bb(t,67).ngClassDirty,r.Bb(t,67).ngClassValid,r.Bb(t,67).ngClassInvalid,r.Bb(t,67).ngClassPending),e(t,72,0,r.Bb(t,77).ngClassUntouched,r.Bb(t,77).ngClassTouched,r.Bb(t,77).ngClassPristine,r.Bb(t,77).ngClassDirty,r.Bb(t,77).ngClassValid,r.Bb(t,77).ngClassInvalid,r.Bb(t,77).ngClassPending)}))}var k=r.lb("app-artefactosinventario",g.a,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-artefactosinventario",[],null,null,null,w,m)),r.ob(1,114688,null,0,g.a,[a.a,s.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[])},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}var i;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d}));var o=[],a=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),l={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},s=a.INFO,u=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=u[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?l[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function f(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=l[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var l=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:l,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qBft:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},r.pad.Ansix923)},qM6L:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(){var e=r.lib.WordArray,t=r.enc;function n(e){return e<<8&4278255360|e>>>8&16711935}t.Utf16=t.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2)r.push(String.fromCharCode(t[i>>>2]>>>16-i%4*8&65535));return r.join("")},parse:function(t){for(var n=t.length,r=[],i=0;i<n;i++)r[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return e.create(r,2*n)}},t.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=[],o=0;o<r;o+=2){var a=n(t[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(t){for(var r=t.length,i=[],o=0;o<r;o++)i[o>>>1]|=n(t.charCodeAt(o)<<16-o%2*16);return e.create(i,2*r)}}}(),r.enc.Utf16)},qMvo:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e)}},qOnz:function(e,t,n){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return H})),n.d(t,"e",(function(){return A})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return Z})),n.d(t,"k",(function(){return B})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return z})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return f})),n.d(t,"p",(function(){return J})),n.d(t,"q",(function(){return ee})),n.d(t,"r",(function(){return v})),n.d(t,"s",(function(){return L})),n.d(t,"t",(function(){return y})),n.d(t,"u",(function(){return b})),n.d(t,"v",(function(){return w})),n.d(t,"w",(function(){return V})),n.d(t,"x",(function(){return k})),n.d(t,"y",(function(){return S})),n.d(t,"z",(function(){return g})),n.d(t,"A",(function(){return m})),n.d(t,"B",(function(){return I})),n.d(t,"C",(function(){return _})),n.d(t,"D",(function(){return E})),n.d(t,"E",(function(){return C})),n.d(t,"F",(function(){return j})),n.d(t,"G",(function(){return R})),n.d(t,"H",(function(){return U})),n.d(t,"I",(function(){return q})),n.d(t,"J",(function(){return F})),n.d(t,"K",(function(){return X})),n.d(t,"L",(function(){return $})),n.d(t,"M",(function(){return D})),n.d(t,"N",(function(){return K})),n.d(t,"O",(function(){return Q})),n.d(t,"P",(function(){return Y})),n.d(t,"Q",(function(){return T}));var o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},l=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,l=a?e[i+1]:0,s=i+2<e.length,u=s?e[i+2]:0,c=(15&l)<<2|u>>6,h=63&u;s||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|l>>4],n[c],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(l(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(l=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var l=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&l)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,l=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==s)throw Error();r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==s&&r.push(l<<6&192|s))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=l(e);return s.encodeByteArray(t,!0)},c=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function h(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=f(e[n],t[n]));return e}var d=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),s.encodeString(JSON.stringify(a),!1),""].join(".")}function v(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function m(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function y(){return"object"==typeof self&&self.self===self}function b(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return v().indexOf("Electron/")>=0}function k(){var e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C(){return v().indexOf("MSAppHost/")>=0}function I(){return!1}function E(){return!m()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"indexedDB"in self&&null!=indexedDB}function T(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function A(){return!(!navigator||!navigator.cookieEnabled)}var O=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,x.prototype.create),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),x=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?P(o,r):"Error",l=this.serviceName+": "+a+" ("+i+").",s=new O(i,l,r);return s},e}();function P(e,t){return e.replace(N,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var N=/\{\$([^}]+)}/g;function R(e){return JSON.parse(e)}function D(e){return JSON.stringify(e)}var M=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=R(c(o[0])||""),n=R(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},j=function(e){var t=M(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},L=function(e){var t=M(e).claims;return"object"==typeof t&&!0===t.admin};function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function V(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function U(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function q(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var H=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],l=this.chain_[1],s=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^l&(s^u),o=1518500249):(i=l^s^u,o=1859775393):r<60?(i=l&s|u&(l|s),o=2400959708):(i=l^s^u,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=u,u=s,s=4294967295&(l<<30|l>>>2),l=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function z(e,t){var n=new G(e,t);return n.subscribe.bind(n)}var G=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=W),void 0===r.error&&(r.error=W),void 0===r.complete&&(r.complete=W);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function W(){}var K=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function J(e,t){return e+" failed: "+t+" argument "}function Q(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(J(e,t)+"must be a valid function.")}function Y(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(J(e,t)+"must be a valid context object.")}var $=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},X=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Z(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function ee(e){return e&&e._delegate?e._delegate:e}},qVqD:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("8Y7J"),i=n("eqlp"),o=r.nb({encapsulation:2,styles:[],data:{}});function a(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["info works!"]))],null,null)}var l=r.lb("app-info",i.a,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-info",[],null,null,null,a,o)),r.ob(1,114688,null,0,i.a,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[])},qu8F:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(a);var l=a.slice(0);r.encryptBlock(l,0);for(var s=0;s<i;s++)e[n+s]^=l[s]}});return e.Decryptor=n,e}(),r.mode.CTRGladman)},quSY:function(e,t,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");function a(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}a.prototype=Object.create(Error.prototype);var l=a;n.d(t,"a",(function(){return c}));var s,u,c=((u=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var e,t=!1;if(!this.closed){var n=this._parent,a=this._parents,s=this._unsubscribe,u=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var c=-1,f=a?a.length:0;n;)n.remove(this),n=++c<f&&a[c]||null;if(Object(o.a)(s))try{s.call(this)}catch(p){t=!0,e=p instanceof l?h(p.errors):[p]}if(Object(r.a)(u))for(c=-1,f=u.length;++c<f;){var d=u[c];if(Object(i.a)(d))try{d.unsubscribe()}catch(p){t=!0,e=e||[],p instanceof l?e=e.concat(h(p.errors)):e.push(p)}}if(t)throw new l(e)}}},{key:"add",value:function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},{key:"_addParent",value:function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}]),e}()).EMPTY=((s=new u).closed=!0,s),u);function h(e){return e.reduce((function(e,t){return e.concat(t instanceof l?t.errors:t)}),[])}},reDK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("pauE"),i=n("PSD3"),o=n.n(i),a=function(){function e(t,n,i,o,a,l,s,u){_classCallCheck(this,e),this.fotografiasService=t,this.fichaService=n,this.archivosService=i,this.fichasVipService=o,this.activatedRoute=a,this.login=l,this.router=s,this.inventarioService=u,this.id=this.activatedRoute.snapshot.params.id,this.imagenesSecundarias=[],this.imagenesCroquis=[],this.archivos=[],this.atributos=[],this.atributo=[],this.fichaVipFlag=!1,this.artefactoInventario=new r.a,this.salasDisponibles=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.fotografiasService.iniciarFirebase(),this.getArtefacto(),this.login.getIsLoggedFlagObs().subscribe((function(t){e.isLoggedUser=t})),this.login.getIsAdminFlagObs().subscribe((function(t){e.isLoggedAdmin=t})),this.fichaVipFlag=Boolean(this.fichasVipService.esVip(this.id).subscribe()),this.getSalasDisponibles()}},{key:"getImagenURL",value:function(e){console.log(e.target.src),this.imagenModal=e.target.src}},{key:"getArtefacto",value:function(){var e=this;this.fichaService.getFicha(this.id).subscribe((function(t){var n=e.fichaService.getIdFicha(t);e.artefacto=e.fichaService.mapearFicha(t,n),e.pintarDatosArtefacto(e.artefacto)})),this.fotografiasService.getFotografiaPrincipal(this.id).subscribe((function(t){e.imagenPrincipal=t})),this.fotografiasService.getFotografiasSecundarias(this.id).subscribe((function(t){e.imagenesSecundarias=t})),this.fotografiasService.getFotografiasCroquis(this.id).subscribe((function(t){e.imagenesCroquis=t})),this.archivosService.getArchivos(this.id).subscribe((function(t){console.log(t),e.archivos=t}))}},{key:"pintarDatosArtefacto",value:function(e){var t=this;console.log(e),Object.keys(this.artefacto).map((function(e){t.atributo="MARCASPINTURA"==e.toUpperCase()?["MARCAS DE PINTURA",t.artefacto[e]]:"MARCASFRIO"==e.toUpperCase()?["MARCAS EN FRIO",t.artefacto[e]]:"DIAMETROCALIBRE"==e.toUpperCase()?["DIAMETRO / CALIBRE",t.artefacto[e]]:"TIPOARTEFACTO"==e.toUpperCase()?["TIPO DE ARTEFACTO",t.artefacto[e]]:"PROPOSITOARTEFACTO"==e.toUpperCase()?["PROPOSITO DEL ARTEFACTO",t.artefacto[e]]:"MATERIALENVUELTA"==e.toUpperCase()?["MATERIAL DE LA ENVUELTA",t.artefacto[e]]:"SITUACIONESPOLETA"==e.toUpperCase()?["SITUACI\xd3N DE LA ESPOLETA",t.artefacto[e]]:"ID"==e.toUpperCase()||"_LINKS"==e.toUpperCase()?[null,null]:[e.toUpperCase(),t.artefacto[e]],0==t.artefacto[e]&&(t.atributo=[null,null]),t.atributos.push(t.atributo)}))}},{key:"eliminarFicha",value:function(){var e=this;o.a.fire({title:"Atenci\xf3n",text:"\xbfEsta seguro de que quiere eliminar esta ficha?",icon:"info",showDenyButton:!0,confirmButtonText:"Si, Eliminar",denyButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&e.fichaService.deleteFicha(e.id).subscribe()}))}},{key:"validarFicha",value:function(){this.artefacto.validada=!0,this.fichaService.updateFicha(this.artefacto,this.id).subscribe()}},{key:"getSalasDisponibles",value:function(){var e=this;this.inventarioService.getSalas().subscribe((function(t){e.salasDisponibles=e.inventarioService.mapearSalas(t),console.log("salas disponibles",e.salasDisponibles)}))}},{key:"agregarAInventario",value:function(){console.log("en agregar a inventario"),this.artefactoInventario.artefactoImpl=this.artefacto._links.self.href,this.inventarioService.postArtefactoInventario(this.artefactoInventario).subscribe()}}]),e}()},s7LF:function(e,t,n){"use strict";var r=n("8Y7J"),i=n("cUpR"),o=n("HDdC"),a=n("DH7j"),l=n("EY2u"),s=n("ZUHj"),u=n("l7GE"),c=n("lJxs"),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this,e)).sources=r,i.completed=0,i.haveValues=0;var o=r.length;i.values=new Array(o);for(var a=0;a<o;a++){var l=r[a],u=Object(s.a)(_assertThisInitialized(i),l,null,a);u&&i.add(u)}return i}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(e){var t=this.destination,n=this.haveValues,r=this.values,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()}}]),n}(u.a),f=n("Cfvw");n.d(t,"w",(function(){return Se})),n.d(t,"A",(function(){return ye})),n.d(t,"x",(function(){return R})),n.d(t,"y",(function(){return be})),n.d(t,"z",(function(){return H})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return y})),n.d(t,"k",(function(){return d})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return g})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return k})),n.d(t,"n",(function(){return C})),n.d(t,"o",(function(){return he})),n.d(t,"p",(function(){return me})),n.d(t,"r",(function(){return N})),n.d(t,"g",(function(){return Ee})),n.d(t,"i",(function(){return _e})),n.d(t,"q",(function(){return V})),n.d(t,"t",(function(){return F})),n.d(t,"u",(function(){return q})),n.d(t,"e",(function(){return Te})),n.d(t,"f",(function(){return le})),n.d(t,"h",(function(){return se})),n.d(t,"v",(function(){return S})),n.d(t,"j",(function(){return Ae})),n.d(t,"s",(function(){return Oe}));var d=new r.o("NgValueAccessor"),p=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),v=new r.o("CompositionEventMode"),g=function(){function e(t,n,r){var o;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(o=Object(i.r)()?Object(i.r)().getUserAgent():"",!/android (\d+)/.test(o.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}(),m=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}(),y=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(m);function b(){throw new Error("unimplemented")}var _=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return b()}},{key:"asyncValidator",get:function(){return b()}}]),n}(m),w=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(w),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(w);function I(e){return null==e||0===e.length}var E=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,S=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(I(t.value)||I(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(I(t.value)||I(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return I(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return I(e.value)||E.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(I(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(I(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(T);return 0==t.length?null:function(e){return O(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(T);return 0==t.length?null:function(e){return function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i;return"function"==typeof n[n.length-1]&&(i=n.pop()),1===n.length&&Object(a.a)(n[0])&&(n=n[0]),0===n.length?l.a:i?e(n).pipe(Object(c.a)((function(e){return i.apply(void 0,_toConsumableArray2(e))}))):new o.a((function(e){return new h(e,n)}))}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(A)).pipe(Object(c.a)(O))}}}]),e}();function T(e){return null!=e}function A(e){var t=Object(r.wb)(e)?Object(f.a)(e):e;if(!Object(r.vb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function O(e){var t=e.reduce((function(e,t){return null!=t?Object.assign({},e,t):e}),{});return 0===Object.keys(t).length?null:t}function x(e){return e.validate?function(t){return e.validate(t)}:e}function P(e){return e.validate?function(t){return e.validate(t)}:e}var N=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),R=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}(),D='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',M='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',j='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',L=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+D)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(M,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(j))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+D)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+M)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}();function B(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var F=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.xb}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=B(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),e}(),V=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(B(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}();function U(e,t){return null==e?""+t:("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var q=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.xb}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),l=t._getOptionValue(a.value);r.push(l)}else for(var s=n.options,u=0;u<s.length;u++){var c=s.item(u);if(c.selected){var h=t._getOptionValue(c.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),e}(),H=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(U(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(U(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}();function z(e,t){return[].concat(_toConsumableArray2(t.path),[e])}function G(e,t){e||Q(t,"Cannot find control with"),t.valueAccessor||Q(t,"No value accessor for form control with"),e.validator=S.compose([e.validator,t.validator]),e.asyncValidator=S.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&W(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&W(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function W(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function K(e,t){null==e&&Q(t,"Cannot find control with"),e.validator=S.compose([e.validator,t.validator]),e.asyncValidator=S.composeAsync([e.asyncValidator,t.asyncValidator])}function J(e){return Q(e,"There is no FormControl instance attached to form control element with")}function Q(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Y(e){return null!=e?S.compose(e.map(x)):null}function $(e){return null!=e?S.composeAsync(e.map(P)):null}function X(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(r.xb)(t,n.currentValue)}var Z=[p,function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),N,F,q,function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(_),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()];function ee(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function te(e,t){if(!t)return null;Array.isArray(t)||Q(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===g?n=t:(o=t,Z.some((function(e){return o.constructor===e}))?(r&&Q(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Q(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(Q(e,"No valid value accessor for form control with"),null)}function ne(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function re(e){var t=oe(e)?e.validators:e;return Array.isArray(t)?Y(t):t||null}function ie(e,t){var n=oe(t)?t.asyncValidators:e;return Array.isArray(n)?$(n):n||null}function oe(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var ae=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this.validator=re(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=ie(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign({},e,{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign({},e,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=A(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((function(e,t){return e instanceof se?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof ue&&e.at(t)||null}),e))}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new r.m,this.statusChanges=new r.m}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){oe(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}]),e}(),le=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,re(i),ie(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(ae),se=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,re(r),ie(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof le?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(ae),ue=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,re(r),ie(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof le?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(ae),ce=Promise.resolve(null),he=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.m,o.form=new se({},Y(e),$(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;ce.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),G(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;ce.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),ne(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;ce.then((function(){var n=t._findContainer(e.path),r=new se({});K(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;ce.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;ce.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,ee(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(y),fe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(D,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(M,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(j))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(M,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(j))}},{key:"ngFormWarning",value:function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}]),e}(),de=new r.o("NgFormSelectorWarning"),pe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return z(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Y(this._validators)}},{key:"asyncValidator",get:function(){return $(this._asyncValidators)}},{key:"_checkParentType",value:function(){}}]),n}(y),ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof he||fe.modelGroupParentException()}}]),n}(pe),ge=Promise.resolve(null),me=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var l;return _classCallCheck(this,n),(l=t.call(this)).control=new le,l._registered=!1,l.update=new r.m,l._parent=e,l._rawValidators=i||[],l._rawAsyncValidators=o||[],l.valueAccessor=te(_assertThisInitialized(l),a),l}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),X(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?z(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Y(this._rawValidators)}},{key:"asyncValidator",get:function(){return $(this._rawAsyncValidators)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){G(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof ve)&&this._parent instanceof pe?fe.formGroupNameException():this._parent instanceof ve||this._parent instanceof he||fe.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||fe.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;ge.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;ge.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}}]),n}(_),ye=function e(){_classCallCheck(this,e)},be=new r.o("NgModelWithFormControlWarning"),_e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._validators=e,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.m,o}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return G(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){ne(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);K(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);K(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,ee(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return J(t)})),t.valueAccessor.registerOnTouched((function(){return J(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&G(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=Y(this._validators);this.form.validator=S.compose([this.form.validator,e]);var t=$(this._asyncValidators);this.form.asyncValidator=S.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||L.missingFormException()}}]),n}(y),we=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){Ce(this._parent)&&L.groupParentException()}}]),n}(pe),ke=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return z(this.name,this._parent)}},{key:"validator",get:function(){return Y(this._validators)}},{key:"asyncValidator",get:function(){return $(this._asyncValidators)}},{key:"_checkParentType",value:function(){Ce(this._parent)&&L.arrayParentException()}}]),n}(y);function Ce(e){return!(e instanceof we||e instanceof _e||e instanceof ke)}var Ie,Ee=((Ie=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a,l){var s;return _classCallCheck(this,n),(s=t.call(this))._ngModelWarningConfig=l,s._added=!1,s.update=new r.m,s._ngModelWarningSent=!1,s._parent=e,s._rawValidators=i||[],s._rawAsyncValidators=o||[],s.valueAccessor=te(_assertThisInitialized(s),a),s}return _createClass(n,[{key:"isDisabled",set:function(e){L.disabledAttrWarning()}},{key:"ngOnChanges",value:function(e){var t,i;this._added||this._setUpControl(),X(e,this.viewModel)&&(t=n,i=this._ngModelWarningConfig,Object(r.T)()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(L.ngModelWarning("formControlName"),t._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"path",get:function(){return z(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Y(this._rawValidators)}},{key:"asyncValidator",get:function(){return $(this._rawAsyncValidators)}},{key:"_checkParentType",value:function(){!(this._parent instanceof we)&&this._parent instanceof pe?L.ngModelGroupException():this._parent instanceof we||this._parent instanceof _e||this._parent instanceof ke||L.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(_))._ngModelWarningSentOnce=!1,Ie),Se=function e(){_classCallCheck(this,e)},Te=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new se(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(e,t,n){return new le(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new ue(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof le||e instanceof se||e instanceof ue?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}(),Ae=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:de,useValue:t.warnOnDeprecatedNgFormSelector}]}}}]),e}(),Oe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:be,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()},sBFL:function(e,t,n){"use strict";var r=n("mrSG"),i=n("IheW"),o=n("JIr8"),a=n("2Vo4"),l=n("z6cu"),s=n("LRne"),u=n("Jgta"),c=(n("6nsN"),n("5x/H"),n("Zs65"),n("WI49"),n("Mhm5")),h=n("SHVS"),f=function e(t){_classCallCheck(this,e),this.value=t},d=n("lov/"),p=n("AytR"),v=n("PSD3"),g=n.n(v),m=n("8Y7J"),y=n("xOdc");n.d(t,"a",(function(){return w}));var b,_={headers:new i.g({"Content-Type":"application/json"})},w=((b=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.tokenService=n,this.usuario=new h.a,this.endPoint=p.a.urlBack,this.isLoggedFlag$=new a.a(!1),this.isAdminFlag$=new a.a(!1)}return _createClass(e,[{key:"getIsLoggedFlagObs",value:function(){return this.tokenService.getToken()&&this.setIsLoggedFlagObs(!0),this.isLoggedFlag$.asObservable()}},{key:"setIsLoggedFlagObs",value:function(e){this.isLoggedFlag$.next(e)}},{key:"getIsAdminFlagObs",value:function(){return"ROLE_ADMIN"==this.getRol()&&this.setIAdminFlagObs(!0),this.isAdminFlag$.asObservable()}},{key:"setIAdminFlagObs",value:function(e){this.isAdminFlag$.next(e)}},{key:"iniciarFirebase",value:function(){0===u.a.apps.length&&u.a.initializeApp(c.a.firebaseConfig)}},{key:"registrarUsuario",value:function(e,t,n){var r=this;console.log("Guardando usuario");var i=new h.a;console.log("registrando"),u.a.auth().createUserWithEmailAndPassword(e,t).then((function(t){t&&(console.log(t),i.email=e,i.roles[0]=new d.a,i.roles[0].rolNombre=n,console.log(i),r.http.post(r.endPoint+"/usuarios/nuevousuario",i,_).subscribe((function(e){e?(console.log("ok: ",e),g.a.fire({title:"Usuario creado",icon:"success"})):Object(o.a)((function(e){return g.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido Crear el usuario. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",e),400===e.status||e.error.mensaje&&console.error(e.error.mensaje),Object(l.a)(e)}))})))})).catch((function(e){g.a.fire({title:"Error",text:e.message,icon:"error"}),console.log("error:",e)}))}},{key:"eliminarUsuario",value:function(e){console.log("eliminando usuario"),this.http.delete(this.endPoint+"/api/usuarios/"+e,_).subscribe((function(e){e?(console.log("ok: ",e),g.a.fire({title:"Usuario Eliminado",icon:"success"})):Object(o.a)((function(e){return g.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido eliminar el usuario. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",e),400===e.status||e.error.mensaje&&console.error(e.error.mensaje),Object(l.a)(e)}))}))}},{key:"loginUsuario",value:function(e,t){var n=this;return u.a.auth().signInWithEmailAndPassword(e,t).then((function(e){console.log("Credendciales de usuario",e),e&&(n.usuario.email=e.user.email,e.user.getIdToken().then((function(t){n.token=new f(t),n.tokenService.setToken(t),n.setIsLoggedFlagObs(!0),n.http.post(n.endPoint+"/oauth/google",n.token,_).subscribe((function(t){n.token=t,n.tokenService.setToken(t.value),n.http.get(n.endPoint+"/api/usuarios/search/findByEmail?email="+e.user.email,_).subscribe((function(e){return r.a(n,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),this.usuario=this.mapearUsuario(e),e&&(console.log("ok: ",e),g.a.fire({title:"Bienvenido a Tizona",icon:"success"}));case 1:case"end":return t.stop()}}),t,this)})))}))}))})))})).catch((function(e){g.a.fire({title:"Error",text:"Usuario o contrase\xf1a erroneas",icon:"error"}),console.log("error:",e)})),Object(s.a)(this.usuario)}},{key:"saliLogin",value:function(){var e=this;u.a.auth().signOut().then((function(t){console.log("saliendo",t),e.usuario=new h.a,e.tokenService.logOut(),sessionStorage.clear(),e.setIAdminFlagObs(!1),e.setIsLoggedFlagObs(!1)}))}},{key:"mapearUsuario",value:function(e){var t=this;return this.usuario=new h.a,this.usuario.email=e.email,this.http.get(e._links.roles.href,_).subscribe((function(e){console.log(e),t.usuario.roles=t.mapearRol(e),console.log(t.usuario),sessionStorage.setItem("EMAIL",t.usuario.email),sessionStorage.setItem("ROL",t.usuario.roles[0].rolNombre),"ROLE_ADMIN"==t.usuario.roles[0].rolNombre&&t.setIAdminFlagObs(!0)})),this.usuario}},{key:"mapearRol",value:function(e){return e._embedded.roles}},{key:"getRol",value:function(){return sessionStorage.getItem("ROL")}},{key:"enviarSolicitudConToken",value:function(e){return this.http.post(this.endPoint+"/oauth/google",e,_)}},{key:"getUserLogged",value:function(){return sessionStorage.getItem("EMAIL")}}]),e}()).ngInjectableDef=m.Nb({factory:function(){return new b(m.Ob(i.c),m.Ob(y.a))},token:b,providedIn:"root"}),b)},tOWS:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("IheW"),i=n("z6cu"),o=n("lJxs"),a=n("JIr8"),l=n("AytR"),s=n("PSD3"),u=n.n(s),c=n("ZT/D"),h=n("8Y7J"),f={headers:new r.g({"Content-Type":"application/json"})},d=function(){var e=function(){function e(t){_classCallCheck(this,e),this.http=t,this.urlEndPoint=l.a.urlAPI+"/artefactosInventario",this.urlEndPointSalas=l.a.urlAPI+"/salas"}return _createClass(e,[{key:"getArtefactosInventario",value:function(){return this.http.get(this.urlEndPoint,f)}},{key:"mapearArtefactosInventario",value:function(e){var t=this;return console.log(e),e._embedded.artefactosInventario.forEach((function(e){e.id=t.getId(e)})),e._embedded.artefactosInventario}},{key:"getId",value:function(e){var t=e._links.self.href.split("/");return t[t.length-1]}},{key:"getIdSalaUrl",value:function(e){return e._links.self.href}},{key:"eliminarArtefactoInventario",value:function(e){return this.http.delete(this.urlEndPoint+"/"+e,f).pipe(Object(o.a)((function(e){console.log("Eliminando: ok"),u.a.fire({title:"Artefacto Eliminado del inventario",icon:"success"})})),Object(a.a)((function(e){return u.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido eliminar del inventario. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",e),400===e.status||e.error.mensaje&&console.error(e.error.mensaje),Object(i.a)(e)})))}},{key:"updateArtefactoInventario",value:function(e){return e.artefactoImpl=e.artefactoImpl._links.self.href,this.http.patch(this.urlEndPoint+"/"+e.id,e,f).pipe(Object(o.a)((function(e){e&&(console.log("ok: ",e),u.a.fire({title:"Cambiado de sala",icon:"success"}))})),Object(a.a)((function(e){return u.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido agregar al inventario. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",e),400===e.status||e.error.mensaje&&console.error(e.error.mensaje),Object(i.a)(e)})))}},{key:"postArtefactoInventario",value:function(e){return this.http.post(this.urlEndPoint,e,f).pipe(Object(o.a)((function(e){e&&(console.log("ok: ",e),u.a.fire({title:"Artefacto agregado al inventario",icon:"success"}))})),Object(a.a)((function(e){return u.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido agregar al inventario. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",e),400===e.status||e.error.mensaje&&console.error(e.error.mensaje),Object(i.a)(e)})))}},{key:"getArtefactoImpl",value:function(e){return this.http.get(e._links.artefactoImpl.href,f)}},{key:"mapearArtefactoImpl",value:function(e){return e._embedded.artefactoImpl}},{key:"getSala",value:function(e){return this.http.get(e._links.sala.href,f)}},{key:"getSalas",value:function(){return this.http.get(this.urlEndPointSalas)}},{key:"postSala",value:function(e){return this.http.post(this.urlEndPointSalas,e,f).pipe(Object(o.a)((function(e){e&&(console.log("ok: ",e),u.a.fire({title:"Sala creada",icon:"success"}))})),Object(a.a)((function(e){return u.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido crear la sala. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",e),400===e.status||e.error.mensaje&&console.error(e.error.mensaje),Object(i.a)(e)})))}},{key:"mapearSalas",value:function(e){var t=this,n=[];return e._embedded.salas.forEach((function(e){n.push(t.mapearSala(e))})),n}},{key:"mapearSala",value:function(e){var t=this.getId(e),n=Object.create(c.a);return Object.assign(n,e),Object.defineProperty(n,"id",{value:null,writable:!0,enumerable:!0,configurable:!0}),n.id=t,Object.defineProperty(n,"idSala",{value:null,writable:!0,enumerable:!0,configurable:!0}),n.idSala=this.getIdSalaUrl(e),n}}]),e}();return e.ngInjectableDef=h.Nb({factory:function(){return new e(h.Ob(r.c))},token:e,providedIn:"root"}),e}()},uGsb:function(e,t,n){var r,i,o,a,l,s,u,c;e.exports=(c=n("Ib8C"),n("MlIO"),n("1uat"),o=(i=(r=c).x64).Word,a=i.WordArray,u=(l=r.algo).SHA384=(s=l.SHA512).extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=s._createHelper(u),r.HmacSHA384=s._createHmacHelper(u),c.SHA384)},uGxW:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},vIhI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e)}},"vLv+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e)}},w7YG:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,l=r[i];r[i]=r[o=(o+r[i]+(t[a>>>2]>>>24-a%4*8&255))%256],r[o]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){var o=e[t=(t+1)%256];e[t]=e[n=(n+e[t])%256],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=t._createHelper(i);var a=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=t._createHelper(a)}(),r.RC4)},wZgz:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,i=[],o=[],a=[],l=[],s=[],u=[],c=[],h=[],f=[],d=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;i[n]=p=p>>>8^255&p^99,o[p]=n;var v,g=e[n],m=e[g],y=e[m];a[n]=(v=257*e[p]^16843008*p)<<24|v>>>8,l[n]=v<<16|v>>>16,s[n]=v<<8|v>>>24,u[n]=v,c[p]=(v=16843009*y^65537*m^257*g^16843008*n)<<24|v>>>8,h[p]=v<<16|v>>>16,f[p]=v<<8|v>>>24,d[p]=v,n?(n=g^e[e[e[y^g]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],v=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)a<n?o[a]=t[a]:(u=o[a-1],a%n?n>6&&a%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=p[a/n|0]<<24),o[a]=o[a-n]^u);for(var l=this._invKeySchedule=[],s=0;s<r;s++){if(a=r-s,s%4)var u=o[a];else u=o[a-4];l[s]=s<4||a<=4?u:c[i[u>>>24]]^h[i[u>>>16&255]]^f[i[u>>>8&255]]^d[i[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,l,s,u,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,h,f,d,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,l){for(var s=this._nRounds,u=e[t]^n[0],c=e[t+1]^n[1],h=e[t+2]^n[2],f=e[t+3]^n[3],d=4,p=1;p<s;p++){var v=r[u>>>24]^i[c>>>16&255]^o[h>>>8&255]^a[255&f]^n[d++],g=r[c>>>24]^i[h>>>16&255]^o[f>>>8&255]^a[255&u]^n[d++],m=r[h>>>24]^i[f>>>16&255]^o[u>>>8&255]^a[255&c]^n[d++],y=r[f>>>24]^i[u>>>16&255]^o[c>>>8&255]^a[255&h]^n[d++];u=v,c=g,h=m,f=y}v=(l[u>>>24]<<24|l[c>>>16&255]<<16|l[h>>>8&255]<<8|l[255&f])^n[d++],g=(l[c>>>24]<<24|l[h>>>16&255]<<16|l[f>>>8&255]<<8|l[255&u])^n[d++],m=(l[h>>>24]<<24|l[f>>>16&255]<<16|l[u>>>8&255]<<8|l[255&c])^n[d++],y=(l[f>>>24]<<24|l[u>>>16&255]<<16|l[c>>>8&255]<<8|l[255&h])^n[d++],e[t]=v,e[t+1]=g,e[t+2]=m,e[t+3]=y},keySize:8});e.AES=t._createHelper(v)}(),r.AES)},wbyO:function(e,t,n){var r,i;e.exports=(i=n("Ib8C"),r=i.lib.WordArray,i.enc.Base64url={stringify:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],a=0;a<r;a+=3)for(var l=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<r;s++)o.push(i.charAt(l>>>6*(3-s)&63));var u=i.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.length,i=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var l=i.charAt(64);if(l){var s=e.indexOf(l);-1!==s&&(n=s)}return function(e,t,n){for(var i=[],o=0,a=0;a<t;a++)if(a%4){var l=n[e.charCodeAt(a-1)]<<a%4*2,s=n[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=(l|s)<<24-o%4*8,o++}return r.create(i,o)}(e,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},i.enc.Base64url)},xOdc:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("8Y7J"),i=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getToken",value:function(){return sessionStorage.getItem("AuthToken")}},{key:"setToken",value:function(e){sessionStorage.removeItem("AuthToken"),sessionStorage.setItem("AuthToken",e)}},{key:"logOut",value:function(){sessionStorage.clear()}}]),e}();return e.ngInjectableDef=r.Nb({factory:function(){return new e},token:e,providedIn:"root"}),e}()},xSpW:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(){_classCallCheck(this,e)}},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("quSY"),o=n("ngJS");function a(e,t){return new r.a(t?function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:Object(o.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},z58d:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("IheW"),i=n("z6cu"),o=n("lJxs"),a=n("JIr8"),l=n("AytR"),s=n("9vzP"),u=n("PSD3"),c=n.n(u),h=n("8Y7J"),f=n("jDPn"),d={headers:new r.g({"Content-Type":"application/json"})},p=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.cripto=n,this.urlEndPoint=l.a.urlAPI+"/artefactos",this.urlPostEndpoint=l.a.urlAPI}return _createClass(e,[{key:"postArtefacto",value:function(e){e=this.cripto.encriptarFicha(e);var t=this.http.post("".concat(this.urlPostEndpoint,"/").concat(e.tipoArtefacto),e,d);return c.a.fire(t?{title:"Ficha Almacenada",icon:"success"}:{title:"Error",text:"\xa1Vaya! No se ha podido almacenar la ficha. Si el problema persiste contacte al administrador",icon:"error"}),t}},{key:"deleteFicha",value:function(e){return this.http.delete(this.urlEndPoint+"/"+e,d).pipe(Object(o.a)((function(e){console.log("Eliminando: ok"),c.a.fire({title:"Ficha Eliminada",icon:"success"})})),Object(a.a)((function(e){return c.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido eliminar la ficha. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",e),400===e.status||e.error.mensaje&&console.error(e.error.mensaje),Object(i.a)(e)})))}},{key:"updateFicha",value:function(e,t){return this.http.patch("".concat(this.urlPostEndpoint,"/").concat(e.tipoArtefacto,"/").concat(t),e,d).pipe(Object(o.a)((function(e){e&&(console.log("ok: ",e),c.a.fire({title:"Ficha Almacenada",text:"A patir de ahora la ficha estar\xe1 disponible para su busqueda por los usuarios",icon:"success"}))})),Object(a.a)((function(e){return c.a.fire({title:"Error",text:"\xa1Vaya! No se ha podido almacenar la ficha. Si el problema persiste contacte al administrador",icon:"error"}),console.log("error",e),400===e.status||e.error.mensaje&&console.error(e.error.mensaje),Object(i.a)(e)})))}},{key:"getFichas",value:function(){return this.http.get(this.urlEndPoint,d)}},{key:"getFichasSinValidar",value:function(){var e=this.http.get(this.urlEndPoint+"/search/findAllByValidada?validada=false",d);return console.log(e),e}},{key:"extraerFichas",value:function(e){var t=[];return this.recorrerElementos(e._embedded.artefactos,t),this.recorrerElementos(e._embedded.minas,t),this.recorrerElementos(e._embedded.municiones,t),this.recorrerElementos(e._embedded.proyectiles,t),this.recorrerElementos(e._embedded.bombasAviacion,t),this.recorrerElementos(e._embedded.cohetes,t),this.recorrerElementos(e._embedded.misiles,t),this.recorrerElementos(e._embedded.granadas,t),this.recorrerElementos(e._embedded.espoletas,t),t}},{key:"recorrerElementos",value:function(e,t){var n=this;e&&e.forEach((function(e){var r=n.getIdFicha(e);t.push(n.mapearFicha(e,r))}))}},{key:"mapearFicha",value:function(e,t){var n=Object.create(s.a);return Object.assign(n,e),Object.defineProperty(n,"id",{value:null,writable:!0,enumerable:!0,configurable:!0}),n.id=t,0==n.validada&&(n=this.cripto.desencriptarFicha(n)),n}},{key:"getIdFicha",value:function(e){var t=e._links.self.href.split("/");return t[t.length-1]}},{key:"getFichasFiltradas",value:function(e){return this.http.get(this.urlEndPoint+"/search/filtrar?"+this.construirParametros(e),d)}},{key:"construirParametros",value:function(e){var t="";return Object.keys(e).map((function(n){t+=n+"="+e[n]+"&"})),t.slice(0,t.length-1)}},{key:"getFicha",value:function(e){return this.http.get(this.urlEndPoint+"/"+e,d)}},{key:"estaValidada",value:function(e){return this.http.get(this.urlEndPoint+"/search/validada?validada=true&id="+e)}}]),e}();return e.ngInjectableDef=h.Nb({factory:function(){return new e(h.Ob(r.c),h.Ob(f.a))},token:e,providedIn:"root"}),e}()},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HDdC");function i(e,t){return new r.a(t?function(n){return t.schedule(o,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function o(e){var t=e.error;e.subscriber.error(t)}},zIRd:function(e,t,n){"use strict";var r,i,o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=n("qOnz"),l=n("/6Yf"),s=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new a.b("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new s.b("@firebase/app"),d=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.n)(e),this.container=new l.b(t.name),this._addComponent(new l.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var l=o.name;if("string"!=typeof l||!l)throw c.create("bad-app-name",{appName:String(l)});if(Object(a.k)(t,l))throw c.create("duplicate-app",{appName:l});var s=new e(n,o,r);return t[l]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}o(new l.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:s.c,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw c.create("invalid-log-argument");Object(s.d)(e,t)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||"[DEFAULT]",!Object(a.k)(t,e))throw c.create("no-app",{appName:e});return t[e]}function o(o){var l=o.name;if(n.has(l))return f.debug("There were multiple attempts to register component "+l+"."),"PUBLIC"===o.type?r[l]:null;if(n.set(l,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[l])throw c.create("invalid-app-argument",{appName:l});return e[l]()};void 0!==o.serviceProps&&Object(a.o)(s,o.serviceProps),r[l]=s,e.prototype[l]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,l);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,h=Object.keys(t);u<h.length;u++)t[h[u]]._addComponent(o);return"PUBLIC"===o.type?r[l]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(d);return t.INTERNAL=o(o({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.o)(t,e)},createSubscribe:a.m,ErrorFactory:a.b,deepExtend:a.o}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(a.t)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.A)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,e)};var y,b=p;(y=b).INTERNAL.registerComponent(new l.a("platform-logger",(function(e){return new v(e)}),"PRIVATE")),y.registerVersion("@firebase/app","0.6.28",void 0),y.registerVersion("fire-js",""),t.a=b},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("8Y7J"),i=n("AytR"),o=function e(){_classCallCheck(this,e)},a=function e(){_classCallCheck(this,e),this.title=i.a.title},l=n("pMnS"),s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),u=r.nb({encapsulation:0,styles:[["@media (max-width:767px){.formulario[_ngcontent-%COMP%]{position:relative;top:-280px;left:0;background-color:#e9e9e9;width:90%;border-style:solid}}@media (min-width:768px){.formulario[_ngcontent-%COMP%]{position:relative;top:-350px;left:50%;background-color:#e9e9e9;width:40%;border-style:solid}}"]],data:{}});function c(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"div",[["class","row d-none d-md-block col-md-12"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,0,"img",[["alt",""],["src","../../../../assets/ImagenEOD9.png"]],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,1,"div",[["class","row d-md-none col-12"]],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,0,"img",[["alt",""],["src","../../../../assets/ImagenEOD9movil.png"]],null,null,null,null,null))],null,null)}var h=r.lb("app-home",s,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-home",[],null,null,null,c,u)),r.ob(1,114688,null,0,s,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),f=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),d=r.nb({encapsulation:2,styles:[],data:{}});function p(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["no-encontrado works!"]))],null,null)}var v=r.lb("app-no-encontrado",f,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-no-encontrado",[],null,null,null,p,d)),r.ob(1,114688,null,0,f,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),g=n("fNgX"),m=n("ZC8B"),y=n("qVqD"),b=n("Uu/X"),_=n("QxgN"),w=n("3IDC"),k=n("zVCn"),C=n("Bcau"),I=n("E4JZ"),E=n("PIQr"),S=n("SiV8"),T=n("BA2f"),A=n("pcTr"),O=n("iInd"),x=n("SVse"),P=function(){function e(t){_classCallCheck(this,e),this.login=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.login.getIsLoggedFlagObs().subscribe((function(t){e.isLoggedUser=t})),this.login.getIsAdminFlagObs().subscribe((function(t){e.isLoggedAdmin=t}))}},{key:"cerrarNavBar",value:function(){$(".navbar-collapse").collapse("hide")}}]),e}(),N=n("sBFL"),R=r.nb({encapsulation:0,styles:[[".nav-item[_ngcontent-%COMP%]{display:inline-flex}"]],data:{}});function D(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"li",[["class","nav-item mx-1"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,2,"a",[["class","nav-link"],["href","#"],["routerLink","ficha/buscador"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Bb(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(2,671744,null,0,O.m,[O.k,O.a,x.h],{routerLink:[0,"routerLink"]},null),(e()(),r.Hb(-1,null,["Buscador"]))],(function(e,t){e(t,2,0,"ficha/buscador")}),(function(e,t){e(t,1,0,r.Bb(t,2).target,r.Bb(t,2).href)}))}function M(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"li",[["class","nav-item mx-1"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,2,"a",[["class","nav-link"],["href","#"],["routerLink","ficha/formulario"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Bb(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(2,671744,null,0,O.m,[O.k,O.a,x.h],{routerLink:[0,"routerLink"]},null),(e()(),r.Hb(-1,null,["Proponer ficha"]))],(function(e,t){e(t,2,0,"ficha/formulario")}),(function(e,t){e(t,1,0,r.Bb(t,2).target,r.Bb(t,2).href)}))}function j(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"li",[["class","nav-item mx-1"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,2,"a",[["class","nav-link"],["href","#"],["routerLink","fichas-vip"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Bb(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(2,671744,null,0,O.m,[O.k,O.a,x.h],{routerLink:[0,"routerLink"]},null),(e()(),r.Hb(-1,null,["Fichas destacadas"]))],(function(e,t){e(t,2,0,"fichas-vip")}),(function(e,t){e(t,1,0,r.Bb(t,2).target,r.Bb(t,2).href)}))}function L(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"li",[["class","nav-item mx-1"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,2,"a",[["class","nav-link"],["href","#"],["routerLink","documentos"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Bb(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(2,671744,null,0,O.m,[O.k,O.a,x.h],{routerLink:[0,"routerLink"]},null),(e()(),r.Hb(-1,null,["Cat\xe1logo documentos"]))],(function(e,t){e(t,2,0,"documentos")}),(function(e,t){e(t,1,0,r.Bb(t,2).target,r.Bb(t,2).href)}))}function B(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,12,"li",[["class","nav-item dropdown mx-1"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"a",[["aria-expanded","false"],["class","nav-link dropdown-toggle"],["data-bs-toggle","dropdown"],["href","#"],["id","navbarDropdownMenuLink"],["role","button"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,[" Administraci\xf3n "])),(e()(),r.pb(3,0,null,null,9,"div",[["aria-labelledby","navbarDropdownMenuLink"],["class","dropdown-menu"]],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,2,"a",[["class","dropdown-item"],["routerLink","inventario"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Bb(e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(5,671744,null,0,O.m,[O.k,O.a,x.h],{routerLink:[0,"routerLink"]},null),(e()(),r.Hb(-1,null,["Inventario"])),(e()(),r.pb(7,0,null,null,2,"a",[["class","dropdown-item"],["routerLink","seguridad/usuarios"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Bb(e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(8,671744,null,0,O.m,[O.k,O.a,x.h],{routerLink:[0,"routerLink"]},null),(e()(),r.Hb(-1,null,["Usuarios"])),(e()(),r.pb(10,0,null,null,2,"a",[["class","dropdown-item"],["routerLink","ficha/validador"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Bb(e,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(11,671744,null,0,O.m,[O.k,O.a,x.h],{routerLink:[0,"routerLink"]},null),(e()(),r.Hb(-1,null,["Validar Fichas"]))],(function(e,t){e(t,5,0,"inventario"),e(t,8,0,"seguridad/usuarios"),e(t,11,0,"ficha/validador")}),(function(e,t){e(t,4,0,r.Bb(t,5).target,r.Bb(t,5).href),e(t,7,0,r.Bb(t,8).target,r.Bb(t,8).href),e(t,10,0,r.Bb(t,11).target,r.Bb(t,11).href)}))}function F(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,18,"div",[["class","container-fluid text-center"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"button",[["aria-controls","navbarSupportedContent"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-bs-target","#navbarSupportedContent"],["data-bs-toggle","collapse"],["type","button"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,15,"div",[["class","collapse navbar-collapse"],["id","navbarSupportedContent"]],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,14,"ul",[["class","navbar-nav m-auto mb-2 mb-lg-0 text-center"],["style","margin: 0 auto"]],null,null,null,null,null)),(e()(),r.pb(5,0,null,null,3,"li",[["class","nav-item mx-1"]],null,null,null,null,null)),(e()(),r.pb(6,0,null,null,2,"a",[["aria-current","page"],["class","nav-link active"],["href","#"],["routerLink",""]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Bb(e,7).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==o.cerrarNavBar()&&i),i}),null,null)),r.ob(7,671744,null,0,O.m,[O.k,O.a,x.h],{routerLink:[0,"routerLink"]},null),(e()(),r.Hb(-1,null,["Inicio"])),(e()(),r.eb(16777216,null,null,1,null,D)),r.ob(10,16384,null,0,x.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,M)),r.ob(12,16384,null,0,x.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,j)),r.ob(14,16384,null,0,x.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,L)),r.ob(16,16384,null,0,x.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.eb(16777216,null,null,1,null,B)),r.ob(18,16384,null,0,x.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,7,0,""),e(t,10,0,n.isLoggedUser),e(t,12,0,n.isLoggedUser),e(t,14,0,n.isLoggedUser),e(t,16,0,n.isLoggedUser),e(t,18,0,n.isLoggedAdmin)}),(function(e,t){e(t,6,0,r.Bb(t,7).target,r.Bb(t,7).href)}))}var V=n("s7LF"),U=n("AOe3"),q=n("lov/"),H=n("SHVS"),z=function(){function e(t){_classCallCheck(this,e),this.loginService=t,this.usuario=new H.a,this.roles=U.a.tipoUsuario}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loginService.iniciarFirebase(),console.log(this.usuario.email),console.log(this.usuario.roles),document.querySelector("#login").addEventListener("submit",(function(t){t.preventDefault(),console.log();var n=document.querySelector("#email-login").value,r=document.querySelector("#password-login").value;e.loginService.loginUsuario(n,r).subscribe((function(t){console.log(t),e.usuario=t,setTimeout((function(){e.usuario.roles[0].rolNombre=sessionStorage.getItem("ROL")}),1500)}))})),document.querySelector("#salir").addEventListener("click",(function(t){t.preventDefault(),e.loginService.saliLogin(),e.usuario=new H.a})),this.cargarUsuarioLogeado()}},{key:"cargarUsuarioLogeado",value:function(){if(null!=sessionStorage.getItem("EMAIL")){this.usuario.email=sessionStorage.getItem("EMAIL");var e=new q.a;e.rolNombre=sessionStorage.getItem("ROL"),this.usuario.roles=[],this.usuario.roles.push(e),console.log(this.usuario)}}},{key:"salirLogin",value:function(){this.loginService.saliLogin(),this.usuario=new H.a,sessionStorage.clear(),document.location.reload()}}]),e}(),G=r.nb({encapsulation:0,styles:[[".botones-login[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content;margin:auto}.btn[_ngcontent-%COMP%]{border:#000}.usuario-logeado[_ngcontent-%COMP%]{font-size:large}"]],data:{}});function W(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,4,"div",[["class","usuario-logeado"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"p",[["style","display: inline-flex;"]],null,null,null,null,null)),(e()(),r.Hb(2,null,["User: ","/"])),(e()(),r.pb(3,0,null,null,1,"p",[["style","display: inline-flex;"]],null,null,null,null,null)),(e()(),r.Hb(4,null,["Rol: ",""]))],null,(function(e,t){var n=t.component;e(t,2,0,n.usuario.email),e(t,4,0,n.usuario.roles[0].rolNombre)}))}function K(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"p",[["class","usuario-logeado"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Sin logear"]))],null,null)}function J(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-success mx-2 my-1"],["data-bs-target","#modalLogin"],["data-bs-toggle","modal"],["href","#"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Login"]))],null,null)}function Q(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,8,"div",[["class","login text-center"]],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,W)),r.ob(2,16384,null,0,x.j,[r.M,r.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),r.eb(0,[["noUsuario",2]],null,0,null,K)),(e()(),r.pb(4,0,null,null,4,"div",[["class","botones-login"]],null,null,null,null,null)),(e()(),r.eb(16777216,null,null,1,null,J)),r.ob(6,16384,null,0,x.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.pb(7,0,null,null,1,"button",[["class","btn btn-danger mx-2 my-1"],["data-bs-target","#modalSalir"],["data-bs-toggle","modal"],["href","#"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Exit"])),(e()(),r.pb(9,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.pb(10,0,null,null,26,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","modalLogin"],["tabindex","-1"]],null,null,null,null,null)),(e()(),r.pb(11,0,null,null,25,"div",[["class","modal-dialog"]],null,null,null,null,null)),(e()(),r.pb(12,0,null,null,24,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),r.pb(13,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),r.pb(14,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalLabel"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Login"])),(e()(),r.pb(16,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.pb(17,0,null,null,19,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),r.pb(18,0,null,null,18,"form",[["action",""],["id","login"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.Bb(e,20).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Bb(e,20).onReset()&&i),i}),null,null)),r.ob(19,16384,null,0,V.A,[],null,null),r.ob(20,4210688,null,0,V.o,[[8,null],[8,null]],null,null),r.Eb(2048,null,V.c,null,[V.o]),r.ob(22,16384,null,0,V.n,[[4,V.c]],null,null),(e()(),r.pb(23,0,null,null,4,"fieldset",[["class","my-2"]],null,null,null,null,null)),(e()(),r.pb(24,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["email"])),(e()(),r.pb(26,0,null,null,0,"input",[["class","mx-2"],["id","email-login"],["type","email"]],null,null,null,null,null)),(e()(),r.pb(27,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.pb(28,0,null,null,4,"fieldset",[["class","my-2"]],null,null,null,null,null)),(e()(),r.pb(29,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Password"])),(e()(),r.pb(31,0,null,null,0,"input",[["class","mx-2"],["id","password-login"],["type","password"]],null,null,null,null,null)),(e()(),r.pb(32,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.pb(33,0,null,null,1,"button",[["class","btn btn-secondary"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Cerrar"])),(e()(),r.pb(35,0,null,null,1,"button",[["class","btn btn-primary mx-2"],["data-bs-dismiss","modal"],["type","submit"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Login"])),(e()(),r.pb(37,0,null,null,13,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","modalSalir"],["tabindex","-1"]],null,null,null,null,null)),(e()(),r.pb(38,0,null,null,12,"div",[["class","modal-dialog"]],null,null,null,null,null)),(e()(),r.pb(39,0,null,null,11,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),r.pb(40,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),r.pb(41,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalLabel"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Salir del login"])),(e()(),r.pb(43,0,null,null,0,"button",[["aria-label","Close"],["class","btn-close"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.pb(44,0,null,null,6,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),r.pb(45,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["\xbfEstas seguro de que quieres salir?"])),(e()(),r.pb(47,0,null,null,1,"button",[["class","btn btn-secondary mx-1"],["data-bs-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["No"])),(e()(),r.pb(49,0,null,null,1,"button",[["class","btn btn-primary mx-1"],["data-bs-dismiss","modal"],["id","salir"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.salirLogin()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["Si"]))],(function(e,t){var n=t.component;e(t,2,0,void 0!==n.usuario.email,r.Bb(t,3)),e(t,6,0,"sin_rol"==n.usuario.roles[0].rolNombre)}),(function(e,t){e(t,18,0,r.Bb(t,22).ngClassUntouched,r.Bb(t,22).ngClassTouched,r.Bb(t,22).ngClassPristine,r.Bb(t,22).ngClassDirty,r.Bb(t,22).ngClassValid,r.Bb(t,22).ngClassInvalid,r.Bb(t,22).ngClassPending)}))}var Y=function(){function e(){_classCallCheck(this,e),this.titulo=i.a.title}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),X=r.nb({encapsulation:0,styles:[[".escudoPantallaGrande[_ngcontent-%COMP%]{width:80px;margin-right:40px;position:absolute;right:0;top:15%}.escudoPantallaPequena[_ngcontent-%COMP%]{width:40px;margin-right:40px}.tituloPantallaGrande[_ngcontent-%COMP%]{width:350px}.tituloPantallaPequena[_ngcontent-%COMP%]{width:210px}#navbarSupportedContent[_ngcontent-%COMP%]{margin-right:250px;font-size:medium}.nav-item[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content;display:inline-flex}.login[_ngcontent-%COMP%]{position:relative;margin:auto}.navegacion[_ngcontent-%COMP%]{margin-left:50%}"]],data:{}});function Z(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,21,"header",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,13,"nav",[["class","navbar navbar-expand-lg navbar-dark bg-dark"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,2,"div",[["class","d-none d-md-block col-md-3 m-2"]],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,1,"a",[["class","navbar-brand"],["href","#"]],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,0,"img",[["alt",""],["class","tituloPantallaGrande"],["src","../../../assets/titulo.png"]],null,null,null,null,null)),(e()(),r.pb(5,0,null,null,2,"div",[["class","d-block d-md-none"]],null,null,null,null,null)),(e()(),r.pb(6,0,null,null,1,"a",[["class","navbar-brand"],["href","#"]],null,null,null,null,null)),(e()(),r.pb(7,0,null,null,0,"img",[["alt",""],["class","tituloPantallaPequena"],["src","../../../assets/titulo.png"]],null,null,null,null,null)),(e()(),r.pb(8,0,null,null,1,"div",[["class","d-block d-md-none col-md-4"]],null,null,null,null,null)),(e()(),r.pb(9,0,null,null,0,"img",[["alt",""],["class","escudoPantallaPequena"],["src","./assets/ESCUDO-CID1.jpg"]],null,null,null,null,null)),(e()(),r.pb(10,0,null,null,2,"div",[["class","d-none d-lg-block col-lg-6 text-center"]],null,null,null,null,null)),(e()(),r.pb(11,0,null,null,1,"app-navbar-seguro",[],null,null,null,F,R)),r.ob(12,114688,null,0,P,[N.a],null,null),(e()(),r.pb(13,0,null,null,1,"div",[["class","d-none d-md-block col-md-1 m-1"]],null,null,null,null,null)),(e()(),r.pb(14,0,null,null,0,"img",[["alt","Escudo del CID"],["class","escudoPantallaGrande"],["src","./assets/ESCUDO-CID1.jpg"]],null,null,null,null,null)),(e()(),r.pb(15,0,null,null,4,"nav",[["class","navbar navbar-expand-lg navbar-dark bg-dark"]],null,null,null,null,null)),(e()(),r.pb(16,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.pb(17,0,null,null,2,"div",[["class","col-1 d-lg-none"]],null,null,null,null,null)),(e()(),r.pb(18,0,null,null,1,"app-navbar-seguro",[],null,null,null,F,R)),r.ob(19,114688,null,0,P,[N.a],null,null),(e()(),r.pb(20,0,null,null,1,"app-login",[["class","text-center"],["id","login"]],null,null,null,Q,G)),r.ob(21,114688,null,0,z,[N.a],null,null)],(function(e,t){e(t,12,0),e(t,19,0),e(t,21,0)}),null)}var ee=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),te=r.nb({encapsulation:2,styles:[],data:{}});function ne(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"div",[["class","container m-auto p-3"]],null,null,null,null,null)),(e()(),r.pb(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(2,212992,null,0,O.o,[O.b,r.M,r.j,[8,null],r.h],null,null)],(function(e,t){e(t,2,0)}),null)}var re=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),ie=r.nb({encapsulation:2,styles:[],data:{}});function oe(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"footer",[["class","bottom bg-dark p-2"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"a",[["class","d-flex justify-content-center font-weight-bolder text-white"],["href","mailto:acingcid@mail.false"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,[" Contacta con el C.I.D. "]))],null,null)}var ae=function(){function e(t){_classCallCheck(this,e),this.http=t,this.urlEndPoint=i.a.urlAPI}return _createClass(e,[{key:"ngOnInit",value:function(){console.log("Iniciando api"),this.http.get(this.urlEndPoint).subscribe()}}]),e}(),le=n("IheW"),se=r.nb({encapsulation:2,styles:[],data:{}});function ue(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-encabezado",[],null,null,null,Z,X)),r.ob(1,114688,null,0,Y,[],null,null),(e()(),r.pb(2,0,null,null,1,"app-cuerpo",[],null,null,null,ne,te)),r.ob(3,114688,null,0,ee,[],null,null),(e()(),r.pb(4,0,null,null,1,"app-pie",[],null,null,null,oe,ie)),r.ob(5,114688,null,0,re,[],null,null)],(function(e,t){e(t,1,0),e(t,3,0),e(t,5,0)}),null)}var ce=r.nb({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{background-repeat:repeat-y;background-image:url(fondoCammo.2b0cfb5502d08b6345f1.png)}"]],data:{}});function he(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,2,"body",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"app-esqueleto",[],null,null,null,ue,se)),r.ob(2,114688,null,0,ae,[le.c],null,null)],(function(e,t){e(t,2,0)}),null)}var fe=r.lb("app-root",a,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-root",[],null,null,null,he,ce)),r.ob(1,49152,null,0,a,[],null,null)],null,null)}),{},{},[]),de=n("cUpR"),pe=function(){function e(t){_classCallCheck(this,e),this.tokenService=t}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e,r=this.tokenService.getToken();return null!=r&&(n=n.clone({headers:e.headers.set("Authorization","Bearer "+r)})),t.handle(n)}}]),e}(),ve=n("xOdc"),ge=n("hti6"),me=n("AiNZ"),ye=function(){return n.e(5).then(n.bind(null,"+Plz")).then((function(e){return e.AcercaModuleNgFactory}))},be=function(){return n.e(8).then(n.bind(null,"JHdK")).then((function(e){return e.FichasModuleNgFactory}))},_e=function(){return n.e(9).then(n.bind(null,"gFaP")).then((function(e){return e.FotografiasModuleNgFactory}))},we=function(){return n.e(11).then(n.bind(null,"ECkn")).then((function(e){return e.SeguridadModuleNgFactory}))},ke=function(){return n.e(6).then(n.bind(null,"M707")).then((function(e){return e.DocumentosModuleNgFactory}))},Ce=function(){return n.e(7).then(n.bind(null,"vMoZ")).then((function(e){return e.FichasvipModuleNgFactory}))},Ie=function(){return n.e(10).then(n.bind(null,"cxbb")).then((function(e){return e.InventarioModuleNgFactory}))},Ee=function e(){_classCallCheck(this,e)},Se=n("35Wc"),Te=n("eqlp"),Ae=n("lAvF"),Oe=n("lEC+"),xe=n("hqm0"),Pe=n("ej4/"),Ne=n("WMih"),Re=n("reDK"),De=n("UJ5t"),Me=n("3mnW"),je=n("3mVj"),Le=n("Ul2T"),Be=n("Nv++"),Fe=n("Jopv"),Ve=n("bdaQ"),Ue=function e(){_classCallCheck(this,e)},qe=function e(){_classCallCheck(this,e)},He=n("24uk"),ze=n("vIhI"),Ge=n("+i+Z"),We=n("2zau"),Ke=n("O1pP"),Je=n("iSss"),Qe=n("qMvo"),Ye=n("RGw2"),$e=n("vLv+"),Xe=n("W1sL"),Ze=n("NUWq"),et=n("xSpW"),tt=r.mb(o,[a],(function(e){return r.yb([r.zb(512,r.j,r.X,[[8,[l.a,h,v,g.b,g.a,m.a,y.a,b.a,_.a,w.a,k.a,C.a,I.a,E.a,S.a,T.a,A.a,fe]],[3,r.j],r.v]),r.zb(5120,r.s,r.jb,[[3,r.s]]),r.zb(4608,x.l,x.k,[r.s,[2,x.t]]),r.zb(5120,r.fb,r.kb,[r.x]),r.zb(5120,r.c,r.gb,[]),r.zb(5120,r.q,r.hb,[]),r.zb(5120,r.r,r.ib,[]),r.zb(4608,de.b,de.k,[x.d]),r.zb(6144,r.E,null,[de.b]),r.zb(4608,de.e,de.g,[]),r.zb(5120,de.c,(function(e,t,n,r,i,o,a,l){return[new de.i(e,t,n),new de.n(r),new de.m(i,o,a,l)]}),[x.d,r.x,r.z,x.d,x.d,de.e,r.Y,[2,de.f]]),r.zb(4608,de.d,de.d,[de.c,r.x]),r.zb(135680,de.l,de.l,[x.d]),r.zb(4608,de.j,de.j,[de.d,de.l,r.c]),r.zb(6144,r.C,null,[de.j]),r.zb(6144,de.o,null,[de.l]),r.zb(4608,r.K,r.K,[r.x]),r.zb(5120,O.a,O.y,[O.k]),r.zb(4608,O.d,O.d,[]),r.zb(6144,O.f,null,[O.d]),r.zb(135680,O.p,O.p,[O.k,r.u,r.i,r.p,O.f]),r.zb(4608,O.e,O.e,[]),r.zb(5120,O.D,O.u,[O.k,x.q,O.g]),r.zb(5120,O.h,O.B,[O.z]),r.zb(5120,r.b,(function(e){return[e]}),[O.h]),r.zb(4608,le.i,le.o,[x.d,r.z,le.m]),r.zb(4608,le.p,le.p,[le.i,le.n]),r.zb(5120,le.a,(function(e,t){return[e,new pe(t)]}),[le.p,ve.a]),r.zb(4608,le.l,le.l,[]),r.zb(6144,le.j,null,[le.l]),r.zb(4608,le.h,le.h,[le.j]),r.zb(6144,le.b,null,[le.h]),r.zb(4608,le.f,le.k,[le.b,r.p]),r.zb(4608,le.c,le.c,[le.f]),r.zb(4608,V.x,V.x,[]),r.zb(4608,V.e,V.e,[]),r.zb(1073742336,x.c,x.c,[]),r.zb(1024,r.l,de.p,[]),r.zb(1024,r.w,(function(){return[O.t()]}),[]),r.zb(512,O.z,O.z,[r.p]),r.zb(1024,r.d,(function(e,t){return[de.q(e),O.A(t)]}),[[2,r.w],O.z]),r.zb(512,r.e,r.e,[[2,r.d]]),r.zb(131584,r.g,r.g,[r.x,r.Y,r.p,r.l,r.j,r.e]),r.zb(1073742336,r.f,r.f,[r.g]),r.zb(1073742336,de.a,de.a,[[3,de.a]]),r.zb(1024,O.s,O.w,[[3,O.k]]),r.zb(512,O.r,O.c,[]),r.zb(512,O.b,O.b,[]),r.zb(256,O.g,{},[]),r.zb(1024,x.h,O.v,[x.p,[2,x.a],O.g]),r.zb(512,x.g,x.g,[x.h,x.p]),r.zb(512,r.i,r.i,[]),r.zb(512,r.u,r.H,[r.i,[2,r.I]]),r.zb(1024,O.i,(function(){return[[{path:"",component:s},{path:"acerca",loadChildren:ye},{path:"ficha",loadChildren:be,canActivate:[me.a]},{path:"fotografias",loadChildren:_e,canActivate:[me.a]},{path:"seguridad",loadChildren:we,canActivate:[ge.a]},{path:"documentos",loadChildren:ke,canActivate:[me.a]},{path:"fichas-vip",loadChildren:Ce,canActivate:[me.a]},{path:"inventario",loadChildren:Ie,canActivate:[me.a]},{path:"**",redirectTo:"not-found"},{path:"not-found",component:f}],[{path:"",children:[{path:"usuarios",component:Se.a}]}],[{path:"",children:[{path:"info",component:Te.a},{path:"contacto",component:Ae.a}]}],[{path:"",component:Oe.a}],[{path:"",children:[{path:"formulario",component:xe.a,canActivate:[me.a]},{path:"fichas",component:Pe.a,canActivate:[me.a]},{path:"buscador",component:Ne.a,canActivate:[me.a]},{path:"ficha-completa",component:Re.a,canActivate:[me.a]},{path:"ficha-completa/:id",component:Re.a,canActivate:[me.a]},{path:"validador",component:De.a,canActivate:[ge.a]},{path:"validador/ficha/:id",component:Me.a,canActivate:[ge.a]}]}],[{path:"",component:Oe.a}],[{path:"",component:je.a,canActivate:[ge.a]}],[{path:"",children:[{path:"",component:Le.a,canActivate:[me.a]}]}]]}),[]),r.zb(1024,O.k,O.x,[r.g,O.r,O.b,x.g,r.p,r.u,r.i,O.i,O.g,[2,O.q],[2,O.j]]),r.zb(1073742336,O.n,O.n,[[2,O.s],[2,O.k]]),r.zb(1073742336,Ee,Ee,[]),r.zb(1073742336,le.e,le.e,[]),r.zb(1073742336,le.d,le.d,[]),r.zb(1073742336,Be.j,Be.j,[]),r.zb(1073742336,Fe.a,Fe.a,[]),r.zb(1073742336,V.w,V.w,[]),r.zb(1073742336,V.j,V.j,[]),r.zb(1073742336,Ve.a,Ve.a,[]),r.zb(1073742336,Ue,Ue,[]),r.zb(1073742336,qe,qe,[]),r.zb(1073742336,He.a,He.a,[]),r.zb(1073742336,ze.a,ze.a,[]),r.zb(1073742336,Ge.a,Ge.a,[]),r.zb(1073742336,We.a,We.a,[]),r.zb(1073742336,Ke.a,Ke.a,[]),r.zb(1073742336,Je.a,Je.a,[]),r.zb(1073742336,V.s,V.s,[]),r.zb(1073742336,Qe.a,Qe.a,[]),r.zb(1073742336,Ye.a,Ye.a,[]),r.zb(1073742336,$e.a,$e.a,[]),r.zb(1073742336,Xe.a,Xe.a,[]),r.zb(1073742336,Ze.a,Ze.a,[]),r.zb(1073742336,et.a,et.a,[]),r.zb(1073742336,o,o,[]),r.zb(256,r.W,!0,[]),r.zb(256,le.m,"XSRF-TOKEN",[]),r.zb(256,le.n,"X-XSRF-TOKEN",[])])}));i.a.production&&Object(r.Q)(),de.h().bootstrapModuleFactory(tt).catch((function(e){return console.error(e)}))},zVCn:function(e,t,n){"use strict";var r=n("8Y7J"),i=n("iInd"),o=n("SVse"),a=n("2+LC"),l=function(){function e(t){_classCallCheck(this,e),this.fotografiasService=t,this.imagenPrincipal=new a.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.fotografiasService.iniciarFirebase(),this.cargarFotografia()}},{key:"cargarFotografia",value:function(){var e=this;this.imagenPrincipal=new a.a,this.fotografiasService.getFotografiaPrincipal(this.ficha.id).subscribe((function(t){console.log("ID",e.ficha.id),console.log("FOTOGRAFIA",t),console.log("FICHA",e.ficha),e.imagenPrincipal=t}))}}]),e}(),s=n("ONxg"),u=r.nb({encapsulation:0,styles:[[".carta[_ngcontent-%COMP%]{width:40vh;height:60vh;box-shadow:10px 10px 25px #999}"]],data:{}});function c(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,10,"div",[["class","col-12 col-md-3 mx-1 my-2"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,9,"div",[["class","card carta"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,1,"div",[["class","card-img"]],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,0,"img",[["alt","..."],["class","card-img-top text-center"],["style","object-fit:contain; height: 45vh;"]],[[8,"src",4]],null,null,null,null)),(e()(),r.pb(4,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),r.pb(5,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(e()(),r.Hb(6,null,["",""])),(e()(),r.pb(7,0,null,null,3,"a",[["class","btn btn-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Bb(e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.ob(8,671744,null,0,i.m,[i.k,i.a,o.h],{routerLink:[0,"routerLink"]},null),r.Cb(9,4),(e()(),r.Hb(-1,null,["Ver Ficha"]))],(function(e,t){var n=e(t,9,0,"/","ficha","ficha-completa",t.component.ficha.id);e(t,8,0,n)}),(function(e,t){var n=t.component;e(t,3,0,r.tb(1,"",n.imagenPrincipal.url,"")),e(t,6,0,n.ficha.nombre),e(t,7,0,r.Bb(t,8).target,r.Bb(t,8).href)}))}var h=n("ej4/"),f=n("z58d"),d=n("HTik");n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return m}));var p=r.nb({encapsulation:2,styles:[],data:{}});function v(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,3,"div",[["style","display: inline-flex;"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,1,"app-ficha-card",[],null,null,null,c,u)),r.ob(3,114688,null,0,l,[s.a],{ficha:[0,"ficha"]},null)],(function(e,t){e(t,3,0,t.context.$implicit)}),null)}function g(e){return r.Jb(0,[(e()(),r.eb(16777216,null,null,1,null,v)),r.ob(1,278528,null,0,o.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,1,0,t.component.fichas)}),null)}var m=r.lb("app-listadofichas",h.a,(function(e){return r.Jb(0,[(e()(),r.pb(0,0,null,null,1,"app-listadofichas",[],null,null,null,g,p)),r.ob(1,114688,null,0,h.a,[f.a,d.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{fichas:"fichas"},{},[])},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);